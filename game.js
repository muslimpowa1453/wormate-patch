( () => {
    var I5 = Object.defineProperty
      , G5 = Object.defineProperties
      , B5 = Object.getOwnPropertyDescriptors
      , Ll = Object.getOwnPropertySymbols
      , F5 = Object.prototype.hasOwnProperty
      , D5 = Object.prototype.propertyIsEnumerable
      , Nl = (a, e, t) => e in a ? I5(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , jl = (a, e) => {
        for (var t in e || (e = {}))
            F5.call(e, t) && Nl(a, t, e[t]);
        if (Ll)
            for (var t of Ll(e))
                D5.call(e, t) && Nl(a, t, e[t]);
        return a
    }
      , k5 = (a, e) => G5(a, B5(e))
      , B = (a => (a.Application = "application",
    a.WebGLPipes = "webgl-pipes",
    a.WebGLPipesAdaptor = "webgl-pipes-adaptor",
    a.WebGLSystem = "webgl-system",
    a.WebGPUPipes = "webgpu-pipes",
    a.WebGPUPipesAdaptor = "webgpu-pipes-adaptor",
    a.WebGPUSystem = "webgpu-system",
    a.CanvasSystem = "canvas-system",
    a.CanvasPipesAdaptor = "canvas-pipes-adaptor",
    a.CanvasPipes = "canvas-pipes",
    a.Asset = "asset",
    a.LoadParser = "load-parser",
    a.ResolveParser = "resolve-parser",
    a.CacheParser = "cache-parser",
    a.DetectionParser = "detection-parser",
    a.MaskEffect = "mask-effect",
    a.BlendMode = "blend-mode",
    a.TextureSource = "texture-source",
    a.Environment = "environment",
    a.ShapeBuilder = "shape-builder",
    a.Batcher = "batcher",
    a))(B || {})
      , Rd = a => {
        if (typeof a == "function" || typeof a == "object" && a.extension) {
            let e = typeof a.extension != "object" ? {
                type: a.extension
            } : a.extension;
            a = k5(jl({}, e), {
                ref: a
            })
        }
        if (typeof a == "object")
            a = jl({}, a);
        else
            throw new Error("Invalid extension type");
        return typeof a.type == "string" && (a.type = [a.type]),
        a
    }
      , br = (a, e) => {
        var t;
        return (t = Rd(a).priority) != null ? t : e
    }
      , pe = {
        _addHandlers: {},
        _removeHandlers: {},
        _queue: {},
        remove(...a) {
            return a.map(Rd).forEach(e => {
                e.type.forEach(t => {
                    var i, s;
                    return (s = (i = this._removeHandlers)[t]) == null ? void 0 : s.call(i, e)
                }
                )
            }
            ),
            this
        },
        add(...a) {
            return a.map(Rd).forEach(e => {
                e.type.forEach(t => {
                    var i, s;
                    let r = this._addHandlers
                      , o = this._queue;
                    r[t] ? (s = r[t]) == null || s.call(r, e) : (o[t] = o[t] || [],
                    (i = o[t]) == null || i.push(e))
                }
                )
            }
            ),
            this
        },
        handle(a, e, t) {
            var i;
            let s = this._addHandlers
              , r = this._removeHandlers;
            s[a] = e,
            r[a] = t;
            let o = this._queue;
            return o[a] && ((i = o[a]) == null || i.forEach(d => e(d)),
            delete o[a]),
            this
        },
        handleByMap(a, e) {
            return this.handle(a, t => {
                t.name && (e[t.name] = t.ref)
            }
            , t => {
                t.name && delete e[t.name]
            }
            )
        },
        handleByNamedList(a, e, t=-1) {
            return this.handle(a, i => {
                e.findIndex(s => s.name === i.name) >= 0 || (e.push({
                    name: i.name,
                    value: i.ref
                }),
                e.sort( (s, r) => br(r.value, t) - br(s.value, t)))
            }
            , i => {
                let s = e.findIndex(r => r.name === i.name);
                s !== -1 && e.splice(s, 1)
            }
            )
        },
        handleByList(a, e, t=-1) {
            return this.handle(a, i => {
                e.includes(i.ref) || (e.push(i.ref),
                e.sort( (s, r) => br(r, t) - br(s, t)))
            }
            , i => {
                let s = e.indexOf(i.ref);
                s !== -1 && e.splice(s, 1)
            }
            )
        }
    };
    function _h(a) {
        return a && a.__esModule && Object.prototype.hasOwnProperty.call(a, "default") ? a.default : a
    }
    var xh = {
        exports: {}
    }
      , oS = xh.exports;
    (function(a) {
        "use strict";
        var e = Object.prototype.hasOwnProperty
          , t = "~";
        function i() {}
        Object.create && (i.prototype = Object.create(null),
        new i().__proto__ || (t = !1));
        function s(f, h, u) {
            this.fn = f,
            this.context = h,
            this.once = u || !1
        }
        function r(f, h, u, p, x) {
            if (typeof u != "function")
                throw new TypeError("The listener must be a function");
            var _ = new s(u,p || f,x)
              , T = t ? t + h : h;
            return f._events[T] ? f._events[T].fn ? f._events[T] = [f._events[T], _] : f._events[T].push(_) : (f._events[T] = _,
            f._eventsCount++),
            f
        }
        function o(f, h) {
            --f._eventsCount === 0 ? f._events = new i : delete f._events[h]
        }
        function d() {
            this._events = new i,
            this._eventsCount = 0
        }
        d.prototype.eventNames = function() {
            var f = [], h, u;
            if (this._eventsCount === 0)
                return f;
            for (u in h = this._events)
                e.call(h, u) && f.push(t ? u.slice(1) : u);
            return Object.getOwnPropertySymbols ? f.concat(Object.getOwnPropertySymbols(h)) : f
        }
        ,
        d.prototype.listeners = function(f) {
            var h = t ? t + f : f
              , u = this._events[h];
            if (!u)
                return [];
            if (u.fn)
                return [u.fn];
            for (var p = 0, x = u.length, _ = new Array(x); p < x; p++)
                _[p] = u[p].fn;
            return _
        }
        ,
        d.prototype.listenerCount = function(f) {
            var h = t ? t + f : f
              , u = this._events[h];
            return u ? u.fn ? 1 : u.length : 0
        }
        ,
        d.prototype.emit = function(f, h, u, p, x, _) {
            var T = t ? t + f : f;
            if (!this._events[T])
                return !1;
            var S = this._events[T], A = arguments.length, P, O;
            if (S.fn) {
                switch (S.once && this.removeListener(f, S.fn, void 0, !0),
                A) {
                case 1:
                    return S.fn.call(S.context),
                    !0;
                case 2:
                    return S.fn.call(S.context, h),
                    !0;
                case 3:
                    return S.fn.call(S.context, h, u),
                    !0;
                case 4:
                    return S.fn.call(S.context, h, u, p),
                    !0;
                case 5:
                    return S.fn.call(S.context, h, u, p, x),
                    !0;
                case 6:
                    return S.fn.call(S.context, h, u, p, x, _),
                    !0
                }
                for (O = 1,
                P = new Array(A - 1); O < A; O++)
                    P[O - 1] = arguments[O];
                S.fn.apply(S.context, P)
            } else {
                var F = S.length, k;
                for (O = 0; O < F; O++)
                    switch (S[O].once && this.removeListener(f, S[O].fn, void 0, !0),
                    A) {
                    case 1:
                        S[O].fn.call(S[O].context);
                        break;
                    case 2:
                        S[O].fn.call(S[O].context, h);
                        break;
                    case 3:
                        S[O].fn.call(S[O].context, h, u);
                        break;
                    case 4:
                        S[O].fn.call(S[O].context, h, u, p);
                        break;
                    default:
                        if (!P)
                            for (k = 1,
                            P = new Array(A - 1); k < A; k++)
                                P[k - 1] = arguments[k];
                        S[O].fn.apply(S[O].context, P)
                    }
            }
            return !0
        }
        ,
        d.prototype.on = function(f, h, u) {
            return r(this, f, h, u, !1)
        }
        ,
        d.prototype.once = function(f, h, u) {
            return r(this, f, h, u, !0)
        }
        ,
        d.prototype.removeListener = function(f, h, u, p) {
            var x = t ? t + f : f;
            if (!this._events[x])
                return this;
            if (!h)
                return o(this, x),
                this;
            var _ = this._events[x];
            if (_.fn)
                _.fn === h && (!p || _.once) && (!u || _.context === u) && o(this, x);
            else {
                for (var T = 0, S = [], A = _.length; T < A; T++)
                    (_[T].fn !== h || p && !_[T].once || u && _[T].context !== u) && S.push(_[T]);
                S.length ? this._events[x] = S.length === 1 ? S[0] : S : o(this, x)
            }
            return this
        }
        ,
        d.prototype.removeAllListeners = function(f) {
            var h;
            return f ? (h = t ? t + f : f,
            this._events[h] && o(this, h)) : (this._events = new i,
            this._eventsCount = 0),
            this
        }
        ,
        d.prototype.off = d.prototype.removeListener,
        d.prototype.addListener = d.prototype.on,
        d.prefixed = t,
        d.EventEmitter = d,
        a.exports = d
    }
    )(xh);
    var U5 = xh.exports
      , yt = _h(U5)
      , L5 = {
        grad: .9,
        turn: 360,
        rad: 360 / (2 * Math.PI)
    }
      , oa = function(a) {
        return typeof a == "string" ? a.length > 0 : typeof a == "number"
    }
      , Ke = function(a, e, t) {
        return e === void 0 && (e = 0),
        t === void 0 && (t = Math.pow(10, e)),
        Math.round(t * a) / t + 0
    }
      , At = function(a, e, t) {
        return e === void 0 && (e = 0),
        t === void 0 && (t = 1),
        a > t ? t : a > e ? a : e
    }
      , l2 = function(a) {
        return (a = isFinite(a) ? a % 360 : 0) > 0 ? a : a + 360
    }
      , Xl = function(a) {
        return {
            r: At(a.r, 0, 255),
            g: At(a.g, 0, 255),
            b: At(a.b, 0, 255),
            a: At(a.a)
        }
    }
      , Rc = function(a) {
        return {
            r: Ke(a.r),
            g: Ke(a.g),
            b: Ke(a.b),
            a: Ke(a.a, 3)
        }
    }
      , N5 = /^#([0-9a-f]{3,8})$/i
      , pr = function(a) {
        var e = a.toString(16);
        return e.length < 2 ? "0" + e : e
    }
      , u2 = function(a) {
        var e = a.r
          , t = a.g
          , i = a.b
          , s = a.a
          , r = Math.max(e, t, i)
          , o = r - Math.min(e, t, i)
          , d = o ? r === e ? (t - i) / o : r === t ? 2 + (i - e) / o : 4 + (e - t) / o : 0;
        return {
            h: 60 * (d < 0 ? d + 6 : d),
            s: r ? o / r * 100 : 0,
            v: r / 255 * 100,
            a: s
        }
    }
      , b2 = function(a) {
        var e = a.h
          , t = a.s
          , i = a.v
          , s = a.a;
        e = e / 360 * 6,
        t /= 100,
        i /= 100;
        var r = Math.floor(e)
          , o = i * (1 - t)
          , d = i * (1 - (e - r) * t)
          , f = i * (1 - (1 - e + r) * t)
          , h = r % 6;
        return {
            r: 255 * [i, d, o, o, f, i][h],
            g: 255 * [f, i, i, d, o, o][h],
            b: 255 * [o, o, f, i, i, d][h],
            a: s
        }
    }
      , Hl = function(a) {
        return {
            h: l2(a.h),
            s: At(a.s, 0, 100),
            l: At(a.l, 0, 100),
            a: At(a.a)
        }
    }
      , zl = function(a) {
        return {
            h: Ke(a.h),
            s: Ke(a.s),
            l: Ke(a.l),
            a: Ke(a.a, 3)
        }
    }
      , Vl = function(a) {
        return b2((t = (e = a).s,
        {
            h: e.h,
            s: (t *= ((i = e.l) < 50 ? i : 100 - i) / 100) > 0 ? 2 * t / (i + t) * 100 : 0,
            v: i + t,
            a: e.a
        }));
        var e, t, i
    }
      , Ts = function(a) {
        return {
            h: (e = u2(a)).h,
            s: (s = (200 - (t = e.s)) * (i = e.v) / 100) > 0 && s < 200 ? t * i / 100 / (s <= 100 ? s : 200 - s) * 100 : 0,
            l: s / 2,
            a: e.a
        };
        var e, t, i, s
    }
      , j5 = /^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i
      , X5 = /^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i
      , H5 = /^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i
      , z5 = /^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i
      , Md = {
        string: [[function(a) {
            var e = N5.exec(a);
            return e ? (a = e[1]).length <= 4 ? {
                r: parseInt(a[0] + a[0], 16),
                g: parseInt(a[1] + a[1], 16),
                b: parseInt(a[2] + a[2], 16),
                a: a.length === 4 ? Ke(parseInt(a[3] + a[3], 16) / 255, 2) : 1
            } : a.length === 6 || a.length === 8 ? {
                r: parseInt(a.substr(0, 2), 16),
                g: parseInt(a.substr(2, 2), 16),
                b: parseInt(a.substr(4, 2), 16),
                a: a.length === 8 ? Ke(parseInt(a.substr(6, 2), 16) / 255, 2) : 1
            } : null : null
        }
        , "hex"], [function(a) {
            var e = H5.exec(a) || z5.exec(a);
            return e ? e[2] !== e[4] || e[4] !== e[6] ? null : Xl({
                r: Number(e[1]) / (e[2] ? 100 / 255 : 1),
                g: Number(e[3]) / (e[4] ? 100 / 255 : 1),
                b: Number(e[5]) / (e[6] ? 100 / 255 : 1),
                a: e[7] === void 0 ? 1 : Number(e[7]) / (e[8] ? 100 : 1)
            }) : null
        }
        , "rgb"], [function(a) {
            var e = j5.exec(a) || X5.exec(a);
            if (!e)
                return null;
            var t, i, s = Hl({
                h: (t = e[1],
                i = e[2],
                i === void 0 && (i = "deg"),
                Number(t) * (L5[i] || 1)),
                s: Number(e[3]),
                l: Number(e[4]),
                a: e[5] === void 0 ? 1 : Number(e[5]) / (e[6] ? 100 : 1)
            });
            return Vl(s)
        }
        , "hsl"]],
        object: [[function(a) {
            var e = a.r
              , t = a.g
              , i = a.b
              , s = a.a
              , r = s === void 0 ? 1 : s;
            return oa(e) && oa(t) && oa(i) ? Xl({
                r: Number(e),
                g: Number(t),
                b: Number(i),
                a: Number(r)
            }) : null
        }
        , "rgb"], [function(a) {
            var e = a.h
              , t = a.s
              , i = a.l
              , s = a.a
              , r = s === void 0 ? 1 : s;
            if (!oa(e) || !oa(t) || !oa(i))
                return null;
            var o = Hl({
                h: Number(e),
                s: Number(t),
                l: Number(i),
                a: Number(r)
            });
            return Vl(o)
        }
        , "hsl"], [function(a) {
            var e = a.h
              , t = a.s
              , i = a.v
              , s = a.a
              , r = s === void 0 ? 1 : s;
            if (!oa(e) || !oa(t) || !oa(i))
                return null;
            var o = function(d) {
                return {
                    h: l2(d.h),
                    s: At(d.s, 0, 100),
                    v: At(d.v, 0, 100),
                    a: At(d.a)
                }
            }({
                h: Number(e),
                s: Number(t),
                v: Number(i),
                a: Number(r)
            });
            return b2(o)
        }
        , "hsv"]]
    }
      , Wl = function(a, e) {
        for (var t = 0; t < e.length; t++) {
            var i = e[t][0](a);
            if (i)
                return [i, e[t][1]]
        }
        return [null, void 0]
    }
      , V5 = function(a) {
        return typeof a == "string" ? Wl(a.trim(), Md.string) : typeof a == "object" && a !== null ? Wl(a, Md.object) : [null, void 0]
    };
    var Mc = function(a, e) {
        var t = Ts(a);
        return {
            h: t.h,
            s: At(t.s + 100 * e, 0, 100),
            l: t.l,
            a: t.a
        }
    }
      , Cc = function(a) {
        return (299 * a.r + 587 * a.g + 114 * a.b) / 1e3 / 255
    }
      , Yl = function(a, e) {
        var t = Ts(a);
        return {
            h: t.h,
            s: t.s,
            l: At(t.l + 100 * e, 0, 100),
            a: t.a
        }
    }
      , Cd = function() {
        function a(e) {
            this.parsed = V5(e)[0],
            this.rgba = this.parsed || {
                r: 0,
                g: 0,
                b: 0,
                a: 1
            }
        }
        return a.prototype.isValid = function() {
            return this.parsed !== null
        }
        ,
        a.prototype.brightness = function() {
            return Ke(Cc(this.rgba), 2)
        }
        ,
        a.prototype.isDark = function() {
            return Cc(this.rgba) < .5
        }
        ,
        a.prototype.isLight = function() {
            return Cc(this.rgba) >= .5
        }
        ,
        a.prototype.toHex = function() {
            return e = Rc(this.rgba),
            t = e.r,
            i = e.g,
            s = e.b,
            o = (r = e.a) < 1 ? pr(Ke(255 * r)) : "",
            "#" + pr(t) + pr(i) + pr(s) + o;
            var e, t, i, s, r, o
        }
        ,
        a.prototype.toRgb = function() {
            return Rc(this.rgba)
        }
        ,
        a.prototype.toRgbString = function() {
            return e = Rc(this.rgba),
            t = e.r,
            i = e.g,
            s = e.b,
            (r = e.a) < 1 ? "rgba(" + t + ", " + i + ", " + s + ", " + r + ")" : "rgb(" + t + ", " + i + ", " + s + ")";
            var e, t, i, s, r
        }
        ,
        a.prototype.toHsl = function() {
            return zl(Ts(this.rgba))
        }
        ,
        a.prototype.toHslString = function() {
            return e = zl(Ts(this.rgba)),
            t = e.h,
            i = e.s,
            s = e.l,
            (r = e.a) < 1 ? "hsla(" + t + ", " + i + "%, " + s + "%, " + r + ")" : "hsl(" + t + ", " + i + "%, " + s + "%)";
            var e, t, i, s, r
        }
        ,
        a.prototype.toHsv = function() {
            return e = u2(this.rgba),
            {
                h: Ke(e.h),
                s: Ke(e.s),
                v: Ke(e.v),
                a: Ke(e.a, 3)
            };
            var e
        }
        ,
        a.prototype.invert = function() {
            return qt({
                r: 255 - (e = this.rgba).r,
                g: 255 - e.g,
                b: 255 - e.b,
                a: e.a
            });
            var e
        }
        ,
        a.prototype.saturate = function(e) {
            return e === void 0 && (e = .1),
            qt(Mc(this.rgba, e))
        }
        ,
        a.prototype.desaturate = function(e) {
            return e === void 0 && (e = .1),
            qt(Mc(this.rgba, -e))
        }
        ,
        a.prototype.grayscale = function() {
            return qt(Mc(this.rgba, -1))
        }
        ,
        a.prototype.lighten = function(e) {
            return e === void 0 && (e = .1),
            qt(Yl(this.rgba, e))
        }
        ,
        a.prototype.darken = function(e) {
            return e === void 0 && (e = .1),
            qt(Yl(this.rgba, -e))
        }
        ,
        a.prototype.rotate = function(e) {
            return e === void 0 && (e = 15),
            this.hue(this.hue() + e)
        }
        ,
        a.prototype.alpha = function(e) {
            return typeof e == "number" ? qt({
                r: (t = this.rgba).r,
                g: t.g,
                b: t.b,
                a: e
            }) : Ke(this.rgba.a, 3);
            var t
        }
        ,
        a.prototype.hue = function(e) {
            var t = Ts(this.rgba);
            return typeof e == "number" ? qt({
                h: e,
                s: t.s,
                l: t.l,
                a: t.a
            }) : Ke(t.h)
        }
        ,
        a.prototype.isEqual = function(e) {
            return this.toHex() === qt(e).toHex()
        }
        ,
        a
    }()
      , qt = function(a) {
        return a instanceof Cd ? a : new Cd(a)
    }
      , $l = []
      , W5 = function(a) {
        a.forEach(function(e) {
            $l.indexOf(e) < 0 && (e(Cd, Md),
            $l.push(e))
        })
    };
    function Y5(a, e) {
        var t = {
            white: "#ffffff",
            bisque: "#ffe4c4",
            blue: "#0000ff",
            cadetblue: "#5f9ea0",
            chartreuse: "#7fff00",
            chocolate: "#d2691e",
            coral: "#ff7f50",
            antiquewhite: "#faebd7",
            aqua: "#00ffff",
            azure: "#f0ffff",
            whitesmoke: "#f5f5f5",
            papayawhip: "#ffefd5",
            plum: "#dda0dd",
            blanchedalmond: "#ffebcd",
            black: "#000000",
            gold: "#ffd700",
            goldenrod: "#daa520",
            gainsboro: "#dcdcdc",
            cornsilk: "#fff8dc",
            cornflowerblue: "#6495ed",
            burlywood: "#deb887",
            aquamarine: "#7fffd4",
            beige: "#f5f5dc",
            crimson: "#dc143c",
            cyan: "#00ffff",
            darkblue: "#00008b",
            darkcyan: "#008b8b",
            darkgoldenrod: "#b8860b",
            darkkhaki: "#bdb76b",
            darkgray: "#a9a9a9",
            darkgreen: "#006400",
            darkgrey: "#a9a9a9",
            peachpuff: "#ffdab9",
            darkmagenta: "#8b008b",
            darkred: "#8b0000",
            darkorchid: "#9932cc",
            darkorange: "#ff8c00",
            darkslateblue: "#483d8b",
            gray: "#808080",
            darkslategray: "#2f4f4f",
            darkslategrey: "#2f4f4f",
            deeppink: "#ff1493",
            deepskyblue: "#00bfff",
            wheat: "#f5deb3",
            firebrick: "#b22222",
            floralwhite: "#fffaf0",
            ghostwhite: "#f8f8ff",
            darkviolet: "#9400d3",
            magenta: "#ff00ff",
            green: "#008000",
            dodgerblue: "#1e90ff",
            grey: "#808080",
            honeydew: "#f0fff0",
            hotpink: "#ff69b4",
            blueviolet: "#8a2be2",
            forestgreen: "#228b22",
            lawngreen: "#7cfc00",
            indianred: "#cd5c5c",
            indigo: "#4b0082",
            fuchsia: "#ff00ff",
            brown: "#a52a2a",
            maroon: "#800000",
            mediumblue: "#0000cd",
            lightcoral: "#f08080",
            darkturquoise: "#00ced1",
            lightcyan: "#e0ffff",
            ivory: "#fffff0",
            lightyellow: "#ffffe0",
            lightsalmon: "#ffa07a",
            lightseagreen: "#20b2aa",
            linen: "#faf0e6",
            mediumaquamarine: "#66cdaa",
            lemonchiffon: "#fffacd",
            lime: "#00ff00",
            khaki: "#f0e68c",
            mediumseagreen: "#3cb371",
            limegreen: "#32cd32",
            mediumspringgreen: "#00fa9a",
            lightskyblue: "#87cefa",
            lightblue: "#add8e6",
            midnightblue: "#191970",
            lightpink: "#ffb6c1",
            mistyrose: "#ffe4e1",
            moccasin: "#ffe4b5",
            mintcream: "#f5fffa",
            lightslategray: "#778899",
            lightslategrey: "#778899",
            navajowhite: "#ffdead",
            navy: "#000080",
            mediumvioletred: "#c71585",
            powderblue: "#b0e0e6",
            palegoldenrod: "#eee8aa",
            oldlace: "#fdf5e6",
            paleturquoise: "#afeeee",
            mediumturquoise: "#48d1cc",
            mediumorchid: "#ba55d3",
            rebeccapurple: "#663399",
            lightsteelblue: "#b0c4de",
            mediumslateblue: "#7b68ee",
            thistle: "#d8bfd8",
            tan: "#d2b48c",
            orchid: "#da70d6",
            mediumpurple: "#9370db",
            purple: "#800080",
            pink: "#ffc0cb",
            skyblue: "#87ceeb",
            springgreen: "#00ff7f",
            palegreen: "#98fb98",
            red: "#ff0000",
            yellow: "#ffff00",
            slateblue: "#6a5acd",
            lavenderblush: "#fff0f5",
            peru: "#cd853f",
            palevioletred: "#db7093",
            violet: "#ee82ee",
            teal: "#008080",
            slategray: "#708090",
            slategrey: "#708090",
            aliceblue: "#f0f8ff",
            darkseagreen: "#8fbc8f",
            darkolivegreen: "#556b2f",
            greenyellow: "#adff2f",
            seagreen: "#2e8b57",
            seashell: "#fff5ee",
            tomato: "#ff6347",
            silver: "#c0c0c0",
            sienna: "#a0522d",
            lavender: "#e6e6fa",
            lightgreen: "#90ee90",
            orange: "#ffa500",
            orangered: "#ff4500",
            steelblue: "#4682b4",
            royalblue: "#4169e1",
            turquoise: "#40e0d0",
            yellowgreen: "#9acd32",
            salmon: "#fa8072",
            saddlebrown: "#8b4513",
            sandybrown: "#f4a460",
            rosybrown: "#bc8f8f",
            darksalmon: "#e9967a",
            lightgoldenrodyellow: "#fafad2",
            snow: "#fffafa",
            lightgrey: "#d3d3d3",
            lightgray: "#d3d3d3",
            dimgray: "#696969",
            dimgrey: "#696969",
            olivedrab: "#6b8e23",
            olive: "#808000"
        }
          , i = {};
        for (var s in t)
            i[t[s]] = s;
        var r = {};
        a.prototype.toName = function(o) {
            if (!(this.rgba.a || this.rgba.r || this.rgba.g || this.rgba.b))
                return "transparent";
            var d, f, h = i[this.toHex()];
            if (h)
                return h;
            if (o != null && o.closest) {
                var u = this.toRgb()
                  , p = 1 / 0
                  , x = "black";
                if (!r.length)
                    for (var _ in t)
                        r[_] = new a(t[_]).toRgb();
                for (var T in t) {
                    var S = (d = u,
                    f = r[T],
                    Math.pow(d.r - f.r, 2) + Math.pow(d.g - f.g, 2) + Math.pow(d.b - f.b, 2));
                    S < p && (p = S,
                    x = T)
                }
                return x
            }
        }
        ,
        e.string.push([function(o) {
            var d = o.toLowerCase()
              , f = d === "transparent" ? "#0000" : t[d];
            return f ? new a(f).toRgb() : null
        }
        , "name"])
    }
    var $5 = Object.defineProperty
      , Kl = Object.getOwnPropertySymbols
      , K5 = Object.prototype.hasOwnProperty
      , q5 = Object.prototype.propertyIsEnumerable
      , ql = (a, e, t) => e in a ? $5(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , Z5 = (a, e) => {
        for (var t in e || (e = {}))
            K5.call(e, t) && ql(a, t, e[t]);
        if (Kl)
            for (var t of Kl(e))
                q5.call(e, t) && ql(a, t, e[t]);
        return a
    }
    ;
    W5([Y5]);
    var Si = class xs {
        constructor(e=16777215) {
            this._value = null,
            this._components = new Float32Array(4),
            this._components.fill(1),
            this._int = 16777215,
            this.value = e
        }
        get red() {
            return this._components[0]
        }
        get green() {
            return this._components[1]
        }
        get blue() {
            return this._components[2]
        }
        get alpha() {
            return this._components[3]
        }
        setValue(e) {
            return this.value = e,
            this
        }
        set value(e) {
            if (e instanceof xs)
                this._value = this._cloneSource(e._value),
                this._int = e._int,
                this._components.set(e._components);
            else {
                if (e === null)
                    throw new Error("Cannot set Color#value to null");
                (this._value === null || !this._isSourceEqual(this._value, e)) && (this._value = this._cloneSource(e),
                this._normalize(this._value))
            }
        }
        get value() {
            return this._value
        }
        _cloneSource(e) {
            return typeof e == "string" || typeof e == "number" || e instanceof Number || e === null ? e : Array.isArray(e) || ArrayBuffer.isView(e) ? e.slice(0) : typeof e == "object" && e !== null ? Z5({}, e) : e
        }
        _isSourceEqual(e, t) {
            let i = typeof e;
            if (i !== typeof t)
                return !1;
            if (i === "number" || i === "string" || e instanceof Number)
                return e === t;
            if (Array.isArray(e) && Array.isArray(t) || ArrayBuffer.isView(e) && ArrayBuffer.isView(t))
                return e.length !== t.length ? !1 : e.every( (s, r) => s === t[r]);
            if (e !== null && t !== null) {
                let s = Object.keys(e)
                  , r = Object.keys(t);
                return s.length !== r.length ? !1 : s.every(o => e[o] === t[o])
            }
            return e === t
        }
        toRgba() {
            let[e,t,i,s] = this._components;
            return {
                r: e,
                g: t,
                b: i,
                a: s
            }
        }
        toRgb() {
            let[e,t,i] = this._components;
            return {
                r: e,
                g: t,
                b: i
            }
        }
        toRgbaString() {
            let[e,t,i] = this.toUint8RgbArray();
            return `rgba(${e},${t},${i},${this.alpha})`
        }
        toUint8RgbArray(e) {
            let[t,i,s] = this._components;
            return this._arrayRgb || (this._arrayRgb = []),
            e || (e = this._arrayRgb),
            e[0] = Math.round(t * 255),
            e[1] = Math.round(i * 255),
            e[2] = Math.round(s * 255),
            e
        }
        toArray(e) {
            this._arrayRgba || (this._arrayRgba = []),
            e || (e = this._arrayRgba);
            let[t,i,s,r] = this._components;
            return e[0] = t,
            e[1] = i,
            e[2] = s,
            e[3] = r,
            e
        }
        toRgbArray(e) {
            this._arrayRgb || (this._arrayRgb = []),
            e || (e = this._arrayRgb);
            let[t,i,s] = this._components;
            return e[0] = t,
            e[1] = i,
            e[2] = s,
            e
        }
        toNumber() {
            return this._int
        }
        toBgrNumber() {
            let[e,t,i] = this.toUint8RgbArray();
            return (i << 16) + (t << 8) + e
        }
        toLittleEndianNumber() {
            let e = this._int;
            return (e >> 16) + (e & 65280) + ((e & 255) << 16)
        }
        multiply(e) {
            let[t,i,s,r] = xs._temp.setValue(e)._components;
            return this._components[0] *= t,
            this._components[1] *= i,
            this._components[2] *= s,
            this._components[3] *= r,
            this._refreshInt(),
            this._value = null,
            this
        }
        premultiply(e, t=!0) {
            return t && (this._components[0] *= e,
            this._components[1] *= e,
            this._components[2] *= e),
            this._components[3] = e,
            this._refreshInt(),
            this._value = null,
            this
        }
        toPremultiplied(e, t=!0) {
            if (e === 1)
                return (255 << 24) + this._int;
            if (e === 0)
                return t ? 0 : this._int;
            let i = this._int >> 16 & 255
              , s = this._int >> 8 & 255
              , r = this._int & 255;
            return t && (i = i * e + .5 | 0,
            s = s * e + .5 | 0,
            r = r * e + .5 | 0),
            (e * 255 << 24) + (i << 16) + (s << 8) + r
        }
        toHex() {
            let e = this._int.toString(16);
            return `#${"000000".substring(0, 6 - e.length) + e}`
        }
        toHexa() {
            let e = Math.round(this._components[3] * 255).toString(16);
            return this.toHex() + "00".substring(0, 2 - e.length) + e
        }
        setAlpha(e) {
            return this._components[3] = this._clamp(e),
            this
        }
        _normalize(e) {
            let t, i, s, r;
            if ((typeof e == "number" || e instanceof Number) && e >= 0 && e <= 16777215) {
                let o = e;
                t = (o >> 16 & 255) / 255,
                i = (o >> 8 & 255) / 255,
                s = (o & 255) / 255,
                r = 1
            } else if ((Array.isArray(e) || e instanceof Float32Array) && e.length >= 3 && e.length <= 4)
                e = this._clamp(e),
                [t,i,s,r=1] = e;
            else if ((e instanceof Uint8Array || e instanceof Uint8ClampedArray) && e.length >= 3 && e.length <= 4)
                e = this._clamp(e, 0, 255),
                [t,i,s,r=255] = e,
                t /= 255,
                i /= 255,
                s /= 255,
                r /= 255;
            else if (typeof e == "string" || typeof e == "object") {
                if (typeof e == "string") {
                    let d = xs.HEX_PATTERN.exec(e);
                    d && (e = `#${d[2]}`)
                }
                let o = qt(e);
                o.isValid() && ({r: t, g: i, b: s, a: r} = o.rgba,
                t /= 255,
                i /= 255,
                s /= 255)
            }
            if (t !== void 0)
                this._components[0] = t,
                this._components[1] = i,
                this._components[2] = s,
                this._components[3] = r,
                this._refreshInt();
            else
                throw new Error(`Unable to convert color ${e}`)
        }
        _refreshInt() {
            this._clamp(this._components);
            let[e,t,i] = this._components;
            this._int = (e * 255 << 16) + (t * 255 << 8) + (i * 255 | 0)
        }
        _clamp(e, t=0, i=1) {
            return typeof e == "number" ? Math.min(Math.max(e, t), i) : (e.forEach( (s, r) => {
                e[r] = Math.min(Math.max(s, t), i)
            }
            ),
            e)
        }
        static isColorLike(e) {
            return typeof e == "number" || typeof e == "string" || e instanceof Number || e instanceof xs || Array.isArray(e) || e instanceof Uint8Array || e instanceof Uint8ClampedArray || e instanceof Float32Array || e.r !== void 0 && e.g !== void 0 && e.b !== void 0 || e.r !== void 0 && e.g !== void 0 && e.b !== void 0 && e.a !== void 0 || e.h !== void 0 && e.s !== void 0 && e.l !== void 0 || e.h !== void 0 && e.s !== void 0 && e.l !== void 0 && e.a !== void 0 || e.h !== void 0 && e.s !== void 0 && e.v !== void 0 || e.h !== void 0 && e.s !== void 0 && e.v !== void 0 && e.a !== void 0
        }
    }
    ;
    Si.shared = new Si,
    Si._temp = new Si,
    Si.HEX_PATTERN = /^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;
    var Ee = Si
      , Q5 = {
        cullArea: null,
        cullable: !1,
        cullableChildren: !0
    }
      , J5 = Math.PI * 2
      , e4 = 180 / Math.PI
      , t4 = Math.PI / 180
      , Ce = class a {
        constructor(e=0, t=0) {
            this.x = 0,
            this.y = 0,
            this.x = e,
            this.y = t
        }
        clone() {
            return new a(this.x,this.y)
        }
        copyFrom(e) {
            return this.set(e.x, e.y),
            this
        }
        copyTo(e) {
            return e.set(this.x, this.y),
            e
        }
        equals(e) {
            return e.x === this.x && e.y === this.y
        }
        set(e=0, t=e) {
            return this.x = e,
            this.y = t,
            this
        }
        static get shared() {
            return Oc.x = 0,
            Oc.y = 0,
            Oc
        }
    }
      , Oc = new Ce
      , ie = class a {
        constructor(e=1, t=0, i=0, s=1, r=0, o=0) {
            this.array = null,
            this.a = e,
            this.b = t,
            this.c = i,
            this.d = s,
            this.tx = r,
            this.ty = o
        }
        fromArray(e) {
            this.a = e[0],
            this.b = e[1],
            this.c = e[3],
            this.d = e[4],
            this.tx = e[2],
            this.ty = e[5]
        }
        set(e, t, i, s, r, o) {
            return this.a = e,
            this.b = t,
            this.c = i,
            this.d = s,
            this.tx = r,
            this.ty = o,
            this
        }
        toArray(e, t) {
            this.array || (this.array = new Float32Array(9));
            let i = t || this.array;
            return e ? (i[0] = this.a,
            i[1] = this.b,
            i[2] = 0,
            i[3] = this.c,
            i[4] = this.d,
            i[5] = 0,
            i[6] = this.tx,
            i[7] = this.ty,
            i[8] = 1) : (i[0] = this.a,
            i[1] = this.c,
            i[2] = this.tx,
            i[3] = this.b,
            i[4] = this.d,
            i[5] = this.ty,
            i[6] = 0,
            i[7] = 0,
            i[8] = 1),
            i
        }
        apply(e, t) {
            t = t || new Ce;
            let i = e.x
              , s = e.y;
            return t.x = this.a * i + this.c * s + this.tx,
            t.y = this.b * i + this.d * s + this.ty,
            t
        }
        applyInverse(e, t) {
            t = t || new Ce;
            let i = this.a
              , s = this.b
              , r = this.c
              , o = this.d
              , d = this.tx
              , f = this.ty
              , h = 1 / (i * o + r * -s)
              , u = e.x
              , p = e.y;
            return t.x = o * h * u + -r * h * p + (f * r - d * o) * h,
            t.y = i * h * p + -s * h * u + (-f * i + d * s) * h,
            t
        }
        translate(e, t) {
            return this.tx += e,
            this.ty += t,
            this
        }
        scale(e, t) {
            return this.a *= e,
            this.d *= t,
            this.c *= e,
            this.b *= t,
            this.tx *= e,
            this.ty *= t,
            this
        }
        rotate(e) {
            let t = Math.cos(e)
              , i = Math.sin(e)
              , s = this.a
              , r = this.c
              , o = this.tx;
            return this.a = s * t - this.b * i,
            this.b = s * i + this.b * t,
            this.c = r * t - this.d * i,
            this.d = r * i + this.d * t,
            this.tx = o * t - this.ty * i,
            this.ty = o * i + this.ty * t,
            this
        }
        append(e) {
            let t = this.a
              , i = this.b
              , s = this.c
              , r = this.d;
            return this.a = e.a * t + e.b * s,
            this.b = e.a * i + e.b * r,
            this.c = e.c * t + e.d * s,
            this.d = e.c * i + e.d * r,
            this.tx = e.tx * t + e.ty * s + this.tx,
            this.ty = e.tx * i + e.ty * r + this.ty,
            this
        }
        appendFrom(e, t) {
            let i = e.a
              , s = e.b
              , r = e.c
              , o = e.d
              , d = e.tx
              , f = e.ty
              , h = t.a
              , u = t.b
              , p = t.c
              , x = t.d;
            return this.a = i * h + s * p,
            this.b = i * u + s * x,
            this.c = r * h + o * p,
            this.d = r * u + o * x,
            this.tx = d * h + f * p + t.tx,
            this.ty = d * u + f * x + t.ty,
            this
        }
        setTransform(e, t, i, s, r, o, d, f, h) {
            return this.a = Math.cos(d + h) * r,
            this.b = Math.sin(d + h) * r,
            this.c = -Math.sin(d - f) * o,
            this.d = Math.cos(d - f) * o,
            this.tx = e - (i * this.a + s * this.c),
            this.ty = t - (i * this.b + s * this.d),
            this
        }
        prepend(e) {
            let t = this.tx;
            if (e.a !== 1 || e.b !== 0 || e.c !== 0 || e.d !== 1) {
                let i = this.a
                  , s = this.c;
                this.a = i * e.a + this.b * e.c,
                this.b = i * e.b + this.b * e.d,
                this.c = s * e.a + this.d * e.c,
                this.d = s * e.b + this.d * e.d
            }
            return this.tx = t * e.a + this.ty * e.c + e.tx,
            this.ty = t * e.b + this.ty * e.d + e.ty,
            this
        }
        decompose(e) {
            let t = this.a
              , i = this.b
              , s = this.c
              , r = this.d
              , o = e.pivot
              , d = -Math.atan2(-s, r)
              , f = Math.atan2(i, t)
              , h = Math.abs(d + f);
            return h < 1e-5 || Math.abs(J5 - h) < 1e-5 ? (e.rotation = f,
            e.skew.x = e.skew.y = 0) : (e.rotation = 0,
            e.skew.x = d,
            e.skew.y = f),
            e.scale.x = Math.sqrt(t * t + i * i),
            e.scale.y = Math.sqrt(s * s + r * r),
            e.position.x = this.tx + (o.x * t + o.y * s),
            e.position.y = this.ty + (o.x * i + o.y * r),
            e
        }
        invert() {
            let e = this.a
              , t = this.b
              , i = this.c
              , s = this.d
              , r = this.tx
              , o = e * s - t * i;
            return this.a = s / o,
            this.b = -t / o,
            this.c = -i / o,
            this.d = e / o,
            this.tx = (i * this.ty - s * r) / o,
            this.ty = -(e * this.ty - t * r) / o,
            this
        }
        isIdentity() {
            return this.a === 1 && this.b === 0 && this.c === 0 && this.d === 1 && this.tx === 0 && this.ty === 0
        }
        identity() {
            return this.a = 1,
            this.b = 0,
            this.c = 0,
            this.d = 1,
            this.tx = 0,
            this.ty = 0,
            this
        }
        clone() {
            let e = new a;
            return e.a = this.a,
            e.b = this.b,
            e.c = this.c,
            e.d = this.d,
            e.tx = this.tx,
            e.ty = this.ty,
            e
        }
        copyTo(e) {
            return e.a = this.a,
            e.b = this.b,
            e.c = this.c,
            e.d = this.d,
            e.tx = this.tx,
            e.ty = this.ty,
            e
        }
        copyFrom(e) {
            return this.a = e.a,
            this.b = e.b,
            this.c = e.c,
            this.d = e.d,
            this.tx = e.tx,
            this.ty = e.ty,
            this
        }
        equals(e) {
            return e.a === this.a && e.b === this.b && e.c === this.c && e.d === this.d && e.tx === this.tx && e.ty === this.ty
        }
        static get IDENTITY() {
            return i4.identity()
        }
        static get shared() {
            return a4.identity()
        }
    }
      , a4 = new ie
      , i4 = new ie
      , We = class a {
        constructor(e, t, i) {
            this._x = t || 0,
            this._y = i || 0,
            this._observer = e
        }
        clone(e) {
            return new a(e ?? this._observer,this._x,this._y)
        }
        set(e=0, t=e) {
            return (this._x !== e || this._y !== t) && (this._x = e,
            this._y = t,
            this._observer._onUpdate(this)),
            this
        }
        copyFrom(e) {
            return (this._x !== e.x || this._y !== e.y) && (this._x = e.x,
            this._y = e.y,
            this._observer._onUpdate(this)),
            this
        }
        copyTo(e) {
            return e.set(this._x, this._y),
            e
        }
        equals(e) {
            return e.x === this._x && e.y === this._y
        }
        get x() {
            return this._x
        }
        set x(e) {
            this._x !== e && (this._x = e,
            this._observer._onUpdate(this))
        }
        get y() {
            return this._y
        }
        set y(e) {
            this._y !== e && (this._y = e,
            this._observer._onUpdate(this))
        }
    }
      , Ic = {
        default: -1
    };
    function Fe(a="default") {
        return Ic[a] === void 0 && (Ic[a] = -1),
        ++Ic[a]
    }
    var Os = class {
        constructor(e, t) {
            this._pool = [],
            this._count = 0,
            this._index = 0,
            this._classType = e,
            t && this.prepopulate(t)
        }
        prepopulate(e) {
            for (let t = 0; t < e; t++)
                this._pool[this._index++] = new this._classType;
            this._count += e
        }
        get(e) {
            var t;
            let i;
            return this._index > 0 ? i = this._pool[--this._index] : i = new this._classType,
            (t = i.init) == null || t.call(i, e),
            i
        }
        return(e) {
            var t;
            (t = e.reset) == null || t.call(e),
            this._pool[this._index++] = e
        }
        get totalSize() {
            return this._count
        }
        get totalFree() {
            return this._index
        }
        get totalUsed() {
            return this._count - this._index
        }
        clear() {
            this._pool.length = 0,
            this._index = 0
        }
    }
      , Od = class {
        constructor() {
            this._poolsByClass = new Map
        }
        prepopulate(e, t) {
            this.getPool(e).prepopulate(t)
        }
        get(e, t) {
            return this.getPool(e).get(t)
        }
        return(e) {
            this.getPool(e.constructor).return(e)
        }
        getPool(e) {
            return this._poolsByClass.has(e) || this._poolsByClass.set(e, new Os(e)),
            this._poolsByClass.get(e)
        }
        stats() {
            let e = {};
            return this._poolsByClass.forEach(t => {
                let i = e[t._classType.name] ? t._classType.name + t._classType.ID : t._classType.name;
                e[i] = {
                    free: t.totalFree,
                    used: t.totalUsed,
                    size: t.totalSize
                }
            }
            ),
            e
        }
    }
      , ye = new Od
      , s4 = {
        get isCachedAsTexture() {
            var a;
            return !!((a = this.renderGroup) != null && a.isCachedAsTexture)
        },
        cacheAsTexture(a) {
            typeof a == "boolean" && a === !1 ? this.disableRenderGroup() : (this.enableRenderGroup(),
            this.renderGroup.enableCacheAsTexture(a === !0 ? {} : a))
        },
        updateCacheTexture() {
            var a;
            (a = this.renderGroup) == null || a.updateCacheTexture()
        },
        get cacheAsBitmap() {
            return this.isCachedAsTexture
        },
        set cacheAsBitmap(a) {
            this.cacheAsTexture(a)
        }
    };
    function p2(a, e, t) {
        let i = a.length, s;
        if (e >= i || t === 0)
            return;
        t = e + t > i ? i - e : t;
        let r = i - t;
        for (s = e; s < r; ++s)
            a[s] = a[s + t];
        a.length = r
    }
    var r4 = {
        allowChildren: !0,
        removeChildren(a=0, e) {
            let t = e ?? this.children.length
              , i = t - a
              , s = [];
            if (i > 0 && i <= t) {
                for (let o = t - 1; o >= a; o--) {
                    let d = this.children[o];
                    d && (s.push(d),
                    d.parent = null)
                }
                p2(this.children, a, t);
                let r = this.renderGroup || this.parentRenderGroup;
                r && r.removeChildren(s);
                for (let o = 0; o < s.length; ++o)
                    this.emit("childRemoved", s[o], this, o),
                    s[o].emit("removed", this);
                return s
            } else if (i === 0 && this.children.length === 0)
                return s;
            throw new RangeError("removeChildren: numeric values are outside the acceptable range.")
        },
        removeChildAt(a) {
            let e = this.getChildAt(a);
            return this.removeChild(e)
        },
        getChildAt(a) {
            if (a < 0 || a >= this.children.length)
                throw new Error(`getChildAt: Index (${a}) does not exist.`);
            return this.children[a]
        },
        setChildIndex(a, e) {
            if (e < 0 || e >= this.children.length)
                throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);
            this.getChildIndex(a),
            this.addChildAt(a, e)
        },
        getChildIndex(a) {
            let e = this.children.indexOf(a);
            if (e === -1)
                throw new Error("The supplied Container must be a child of the caller");
            return e
        },
        addChildAt(a, e) {
            let {children: t} = this;
            if (e < 0 || e > t.length)
                throw new Error(`${a}addChildAt: The index ${e} supplied is out of bounds ${t.length}`);
            if (a.parent) {
                let s = a.parent.children.indexOf(a);
                if (a.parent === this && s === e)
                    return a;
                s !== -1 && a.parent.children.splice(s, 1)
            }
            e === t.length ? t.push(a) : t.splice(e, 0, a),
            a.parent = this,
            a.didChange = !0,
            a._updateFlags = 15;
            let i = this.renderGroup || this.parentRenderGroup;
            return i && i.addChild(a),
            this.sortableChildren && (this.sortDirty = !0),
            this.emit("childAdded", a, this, e),
            a.emit("added", this),
            a
        },
        swapChildren(a, e) {
            if (a === e)
                return;
            let t = this.getChildIndex(a)
              , i = this.getChildIndex(e);
            this.children[t] = e,
            this.children[i] = a;
            let s = this.renderGroup || this.parentRenderGroup;
            s && (s.structureDidChange = !0),
            this._didContainerChangeTick++
        },
        removeFromParent() {
            var a;
            (a = this.parent) == null || a.removeChild(this)
        },
        reparentChild(...a) {
            return a.length === 1 ? this.reparentChildAt(a[0], this.children.length) : (a.forEach(e => this.reparentChildAt(e, this.children.length)),
            a[0])
        },
        reparentChildAt(a, e) {
            if (a.parent === this)
                return this.setChildIndex(a, e),
                a;
            let t = a.worldTransform.clone();
            a.removeFromParent(),
            this.addChildAt(a, e);
            let i = this.worldTransform.clone();
            return i.invert(),
            t.prepend(i),
            a.setFromMatrix(t),
            a
        }
    }
      , n4 = {
        collectRenderables(a, e, t) {
            this.parentRenderLayer && this.parentRenderLayer !== t || this.globalDisplayStatus < 7 || !this.includeInBuild || (this.sortableChildren && this.sortChildren(),
            this.isSimple ? this.collectRenderablesSimple(a, e, t) : this.renderGroup ? e.renderPipes.renderGroup.addRenderGroup(this.renderGroup, a) : this.collectRenderablesWithEffects(a, e, t))
        },
        collectRenderablesSimple(a, e, t) {
            let i = this.children
              , s = i.length;
            for (let r = 0; r < s; r++)
                i[r].collectRenderables(a, e, t)
        },
        collectRenderablesWithEffects(a, e, t) {
            let {renderPipes: i} = e;
            for (let s = 0; s < this.effects.length; s++) {
                let r = this.effects[s];
                i[r.pipe].push(r, this, a)
            }
            this.collectRenderablesSimple(a, e, t);
            for (let s = this.effects.length - 1; s >= 0; s--) {
                let r = this.effects[s];
                i[r.pipe].pop(r, this, a)
            }
        }
    }
      , Ci = class {
        constructor() {
            this.pipe = "filter",
            this.priority = 1
        }
        destroy() {
            for (let e = 0; e < this.filters.length; e++)
                this.filters[e].destroy();
            this.filters = null,
            this.filterArea = null
        }
    }
      , Id = class {
        constructor() {
            this._effectClasses = [],
            this._tests = [],
            this._initialized = !1
        }
        init() {
            this._initialized || (this._initialized = !0,
            this._effectClasses.forEach(e => {
                this.add({
                    test: e.test,
                    maskClass: e
                })
            }
            ))
        }
        add(e) {
            this._tests.push(e)
        }
        getMaskEffect(e) {
            this._initialized || this.init();
            for (let t = 0; t < this._tests.length; t++) {
                let i = this._tests[t];
                if (i.test(e))
                    return ye.get(i.maskClass, e)
            }
            return e
        }
        returnMaskEffect(e) {
            ye.return(e)
        }
    }
      , Gd = new Id;
    pe.handleByList(B.MaskEffect, Gd._effectClasses);
    var o4 = Object.defineProperty
      , Zl = Object.getOwnPropertySymbols
      , c4 = Object.prototype.hasOwnProperty
      , d4 = Object.prototype.propertyIsEnumerable
      , Ql = (a, e, t) => e in a ? o4(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , Jl = (a, e) => {
        for (var t in e || (e = {}))
            c4.call(e, t) && Ql(a, t, e[t]);
        if (Zl)
            for (var t of Zl(e))
                d4.call(e, t) && Ql(a, t, e[t]);
        return a
    }
      , f4 = {
        _maskEffect: null,
        _maskOptions: {
            inverse: !1
        },
        _filterEffect: null,
        effects: [],
        _markStructureAsChanged() {
            let a = this.renderGroup || this.parentRenderGroup;
            a && (a.structureDidChange = !0)
        },
        addEffect(a) {
            this.effects.indexOf(a) === -1 && (this.effects.push(a),
            this.effects.sort( (e, t) => e.priority - t.priority),
            this._markStructureAsChanged(),
            this._updateIsSimple())
        },
        removeEffect(a) {
            let e = this.effects.indexOf(a);
            e !== -1 && (this.effects.splice(e, 1),
            this._markStructureAsChanged(),
            this._updateIsSimple())
        },
        set mask(a) {
            let e = this._maskEffect;
            e?.mask !== a && (e && (this.removeEffect(e),
            Gd.returnMaskEffect(e),
            this._maskEffect = null),
            a != null && (this._maskEffect = Gd.getMaskEffect(a),
            this.addEffect(this._maskEffect)))
        },
        setMask(a) {
            this._maskOptions = Jl(Jl({}, this._maskOptions), a),
            a.mask && (this.mask = a.mask),
            this._markStructureAsChanged()
        },
        get mask() {
            var a;
            return (a = this._maskEffect) == null ? void 0 : a.mask
        },
        set filters(a) {
            var e;
            !Array.isArray(a) && a && (a = [a]);
            let t = this._filterEffect || (this._filterEffect = new Ci);
            a = a;
            let i = a?.length > 0
              , s = ((e = t.filters) == null ? void 0 : e.length) > 0
              , r = i !== s;
            a = Array.isArray(a) ? a.slice(0) : a,
            t.filters = Object.freeze(a),
            r && (i ? this.addEffect(t) : (this.removeEffect(t),
            t.filters = a ?? null))
        },
        get filters() {
            var a;
            return (a = this._filterEffect) == null ? void 0 : a.filters
        },
        set filterArea(a) {
            this._filterEffect || (this._filterEffect = new Ci),
            this._filterEffect.filterArea = a
        },
        get filterArea() {
            var a;
            return (a = this._filterEffect) == null ? void 0 : a.filterArea
        }
    }
      , h4 = {
        label: null,
        get name() {
            return this.label
        },
        set name(a) {
            this.label = a
        },
        getChildByName(a, e=!1) {
            return this.getChildByLabel(a, e)
        },
        getChildByLabel(a, e=!1) {
            let t = this.children;
            for (let i = 0; i < t.length; i++) {
                let s = t[i];
                if (s.label === a || a instanceof RegExp && a.test(s.label))
                    return s
            }
            if (e)
                for (let i = 0; i < t.length; i++) {
                    let s = t[i].getChildByLabel(a, !0);
                    if (s)
                        return s
                }
            return null
        },
        getChildrenByLabel(a, e=!1, t=[]) {
            let i = this.children;
            for (let s = 0; s < i.length; s++) {
                let r = i[s];
                (r.label === a || a instanceof RegExp && a.test(r.label)) && t.push(r)
            }
            if (e)
                for (let s = 0; s < i.length; s++)
                    i[s].getChildrenByLabel(a, !0, t);
            return t
        }
    }
      , gr = [new Ce, new Ce, new Ce, new Ce]
      , Pe = class a {
        constructor(e=0, t=0, i=0, s=0) {
            this.type = "rectangle",
            this.x = Number(e),
            this.y = Number(t),
            this.width = Number(i),
            this.height = Number(s)
        }
        get left() {
            return this.x
        }
        get right() {
            return this.x + this.width
        }
        get top() {
            return this.y
        }
        get bottom() {
            return this.y + this.height
        }
        isEmpty() {
            return this.left === this.right || this.top === this.bottom
        }
        static get EMPTY() {
            return new a(0,0,0,0)
        }
        clone() {
            return new a(this.x,this.y,this.width,this.height)
        }
        copyFromBounds(e) {
            return this.x = e.minX,
            this.y = e.minY,
            this.width = e.maxX - e.minX,
            this.height = e.maxY - e.minY,
            this
        }
        copyFrom(e) {
            return this.x = e.x,
            this.y = e.y,
            this.width = e.width,
            this.height = e.height,
            this
        }
        copyTo(e) {
            return e.copyFrom(this),
            e
        }
        contains(e, t) {
            return this.width <= 0 || this.height <= 0 ? !1 : e >= this.x && e < this.x + this.width && t >= this.y && t < this.y + this.height
        }
        strokeContains(e, t, i, s=.5) {
            let {width: r, height: o} = this;
            if (r <= 0 || o <= 0)
                return !1;
            let d = this.x
              , f = this.y
              , h = i * (1 - s)
              , u = i - h
              , p = d - h
              , x = d + r + h
              , _ = f - h
              , T = f + o + h
              , S = d + u
              , A = d + r - u
              , P = f + u
              , O = f + o - u;
            return e >= p && e <= x && t >= _ && t <= T && !(e > S && e < A && t > P && t < O)
        }
        intersects(e, t) {
            if (!t) {
                let se = this.x < e.x ? e.x : this.x;
                if ((this.right > e.right ? e.right : this.right) <= se)
                    return !1;
                let ce = this.y < e.y ? e.y : this.y;
                return (this.bottom > e.bottom ? e.bottom : this.bottom) > ce
            }
            let i = this.left
              , s = this.right
              , r = this.top
              , o = this.bottom;
            if (s <= i || o <= r)
                return !1;
            let d = gr[0].set(e.left, e.top)
              , f = gr[1].set(e.left, e.bottom)
              , h = gr[2].set(e.right, e.top)
              , u = gr[3].set(e.right, e.bottom);
            if (h.x <= d.x || f.y <= d.y)
                return !1;
            let p = Math.sign(t.a * t.d - t.b * t.c);
            if (p === 0 || (t.apply(d, d),
            t.apply(f, f),
            t.apply(h, h),
            t.apply(u, u),
            Math.max(d.x, f.x, h.x, u.x) <= i || Math.min(d.x, f.x, h.x, u.x) >= s || Math.max(d.y, f.y, h.y, u.y) <= r || Math.min(d.y, f.y, h.y, u.y) >= o))
                return !1;
            let x = p * (f.y - d.y)
              , _ = p * (d.x - f.x)
              , T = x * i + _ * r
              , S = x * s + _ * r
              , A = x * i + _ * o
              , P = x * s + _ * o;
            if (Math.max(T, S, A, P) <= x * d.x + _ * d.y || Math.min(T, S, A, P) >= x * u.x + _ * u.y)
                return !1;
            let O = p * (d.y - h.y)
              , F = p * (h.x - d.x)
              , k = O * i + F * r
              , V = O * s + F * r
              , L = O * i + F * o
              , X = O * s + F * o;
            return !(Math.max(k, V, L, X) <= O * d.x + F * d.y || Math.min(k, V, L, X) >= O * u.x + F * u.y)
        }
        pad(e=0, t=e) {
            return this.x -= e,
            this.y -= t,
            this.width += e * 2,
            this.height += t * 2,
            this
        }
        fit(e) {
            let t = Math.max(this.x, e.x)
              , i = Math.min(this.x + this.width, e.x + e.width)
              , s = Math.max(this.y, e.y)
              , r = Math.min(this.y + this.height, e.y + e.height);
            return this.x = t,
            this.width = Math.max(i - t, 0),
            this.y = s,
            this.height = Math.max(r - s, 0),
            this
        }
        ceil(e=1, t=.001) {
            let i = Math.ceil((this.x + this.width - t) * e) / e
              , s = Math.ceil((this.y + this.height - t) * e) / e;
            return this.x = Math.floor((this.x + t) * e) / e,
            this.y = Math.floor((this.y + t) * e) / e,
            this.width = i - this.x,
            this.height = s - this.y,
            this
        }
        enlarge(e) {
            let t = Math.min(this.x, e.x)
              , i = Math.max(this.x + this.width, e.x + e.width)
              , s = Math.min(this.y, e.y)
              , r = Math.max(this.y + this.height, e.y + e.height);
            return this.x = t,
            this.width = i - t,
            this.y = s,
            this.height = r - s,
            this
        }
        getBounds(e) {
            return e || (e = new a),
            e.copyFrom(this),
            e
        }
    }
      , eu = new ie
      , qe = class a {
        constructor(e=1 / 0, t=1 / 0, i=-1 / 0, s=-1 / 0) {
            this.minX = 1 / 0,
            this.minY = 1 / 0,
            this.maxX = -1 / 0,
            this.maxY = -1 / 0,
            this.matrix = eu,
            this.minX = e,
            this.minY = t,
            this.maxX = i,
            this.maxY = s
        }
        isEmpty() {
            return this.minX > this.maxX || this.minY > this.maxY
        }
        get rectangle() {
            this._rectangle || (this._rectangle = new Pe);
            let e = this._rectangle;
            return this.minX > this.maxX || this.minY > this.maxY ? (e.x = 0,
            e.y = 0,
            e.width = 0,
            e.height = 0) : e.copyFromBounds(this),
            e
        }
        clear() {
            return this.minX = 1 / 0,
            this.minY = 1 / 0,
            this.maxX = -1 / 0,
            this.maxY = -1 / 0,
            this.matrix = eu,
            this
        }
        set(e, t, i, s) {
            this.minX = e,
            this.minY = t,
            this.maxX = i,
            this.maxY = s
        }
        addFrame(e, t, i, s, r) {
            r || (r = this.matrix);
            let o = r.a
              , d = r.b
              , f = r.c
              , h = r.d
              , u = r.tx
              , p = r.ty
              , x = this.minX
              , _ = this.minY
              , T = this.maxX
              , S = this.maxY
              , A = o * e + f * t + u
              , P = d * e + h * t + p;
            A < x && (x = A),
            P < _ && (_ = P),
            A > T && (T = A),
            P > S && (S = P),
            A = o * i + f * t + u,
            P = d * i + h * t + p,
            A < x && (x = A),
            P < _ && (_ = P),
            A > T && (T = A),
            P > S && (S = P),
            A = o * e + f * s + u,
            P = d * e + h * s + p,
            A < x && (x = A),
            P < _ && (_ = P),
            A > T && (T = A),
            P > S && (S = P),
            A = o * i + f * s + u,
            P = d * i + h * s + p,
            A < x && (x = A),
            P < _ && (_ = P),
            A > T && (T = A),
            P > S && (S = P),
            this.minX = x,
            this.minY = _,
            this.maxX = T,
            this.maxY = S
        }
        addRect(e, t) {
            this.addFrame(e.x, e.y, e.x + e.width, e.y + e.height, t)
        }
        addBounds(e, t) {
            this.addFrame(e.minX, e.minY, e.maxX, e.maxY, t)
        }
        addBoundsMask(e) {
            this.minX = this.minX > e.minX ? this.minX : e.minX,
            this.minY = this.minY > e.minY ? this.minY : e.minY,
            this.maxX = this.maxX < e.maxX ? this.maxX : e.maxX,
            this.maxY = this.maxY < e.maxY ? this.maxY : e.maxY
        }
        applyMatrix(e) {
            let t = this.minX
              , i = this.minY
              , s = this.maxX
              , r = this.maxY
              , {a: o, b: d, c: f, d: h, tx: u, ty: p} = e
              , x = o * t + f * i + u
              , _ = d * t + h * i + p;
            this.minX = x,
            this.minY = _,
            this.maxX = x,
            this.maxY = _,
            x = o * s + f * i + u,
            _ = d * s + h * i + p,
            this.minX = x < this.minX ? x : this.minX,
            this.minY = _ < this.minY ? _ : this.minY,
            this.maxX = x > this.maxX ? x : this.maxX,
            this.maxY = _ > this.maxY ? _ : this.maxY,
            x = o * t + f * r + u,
            _ = d * t + h * r + p,
            this.minX = x < this.minX ? x : this.minX,
            this.minY = _ < this.minY ? _ : this.minY,
            this.maxX = x > this.maxX ? x : this.maxX,
            this.maxY = _ > this.maxY ? _ : this.maxY,
            x = o * s + f * r + u,
            _ = d * s + h * r + p,
            this.minX = x < this.minX ? x : this.minX,
            this.minY = _ < this.minY ? _ : this.minY,
            this.maxX = x > this.maxX ? x : this.maxX,
            this.maxY = _ > this.maxY ? _ : this.maxY
        }
        fit(e) {
            return this.minX < e.left && (this.minX = e.left),
            this.maxX > e.right && (this.maxX = e.right),
            this.minY < e.top && (this.minY = e.top),
            this.maxY > e.bottom && (this.maxY = e.bottom),
            this
        }
        fitBounds(e, t, i, s) {
            return this.minX < e && (this.minX = e),
            this.maxX > t && (this.maxX = t),
            this.minY < i && (this.minY = i),
            this.maxY > s && (this.maxY = s),
            this
        }
        pad(e, t=e) {
            return this.minX -= e,
            this.maxX += e,
            this.minY -= t,
            this.maxY += t,
            this
        }
        ceil() {
            return this.minX = Math.floor(this.minX),
            this.minY = Math.floor(this.minY),
            this.maxX = Math.ceil(this.maxX),
            this.maxY = Math.ceil(this.maxY),
            this
        }
        clone() {
            return new a(this.minX,this.minY,this.maxX,this.maxY)
        }
        scale(e, t=e) {
            return this.minX *= e,
            this.minY *= t,
            this.maxX *= e,
            this.maxY *= t,
            this
        }
        get x() {
            return this.minX
        }
        set x(e) {
            let t = this.maxX - this.minX;
            this.minX = e,
            this.maxX = e + t
        }
        get y() {
            return this.minY
        }
        set y(e) {
            let t = this.maxY - this.minY;
            this.minY = e,
            this.maxY = e + t
        }
        get width() {
            return this.maxX - this.minX
        }
        set width(e) {
            this.maxX = this.minX + e
        }
        get height() {
            return this.maxY - this.minY
        }
        set height(e) {
            this.maxY = this.minY + e
        }
        get left() {
            return this.minX
        }
        get right() {
            return this.maxX
        }
        get top() {
            return this.minY
        }
        get bottom() {
            return this.maxY
        }
        get isPositive() {
            return this.maxX - this.minX > 0 && this.maxY - this.minY > 0
        }
        get isValid() {
            return this.minX + this.minY !== 1 / 0
        }
        addVertexData(e, t, i, s) {
            let r = this.minX
              , o = this.minY
              , d = this.maxX
              , f = this.maxY;
            s || (s = this.matrix);
            let h = s.a
              , u = s.b
              , p = s.c
              , x = s.d
              , _ = s.tx
              , T = s.ty;
            for (let S = t; S < i; S += 2) {
                let A = e[S]
                  , P = e[S + 1]
                  , O = h * A + p * P + _
                  , F = u * A + x * P + T;
                r = O < r ? O : r,
                o = F < o ? F : o,
                d = O > d ? O : d,
                f = F > f ? F : f
            }
            this.minX = r,
            this.minY = o,
            this.maxX = d,
            this.maxY = f
        }
        containsPoint(e, t) {
            return this.minX <= e && this.minY <= t && this.maxX >= e && this.maxY >= t
        }
        toString() {
            return `[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`
        }
        copyFrom(e) {
            return this.minX = e.minX,
            this.minY = e.minY,
            this.maxX = e.maxX,
            this.maxY = e.maxY,
            this
        }
    }
      , it = new Os(ie)
      , fa = new Os(qe)
      , l4 = new ie
      , u4 = {
        getFastGlobalBounds(a, e) {
            e || (e = new qe),
            e.clear(),
            this._getGlobalBoundsRecursive(!!a, e, this.parentRenderLayer),
            e.isValid || e.set(0, 0, 0, 0);
            let t = this.renderGroup || this.parentRenderGroup;
            return e.applyMatrix(t.worldTransform),
            e
        },
        _getGlobalBoundsRecursive(a, e, t) {
            let i = e;
            if (a && this.parentRenderLayer !== t || this.localDisplayStatus !== 7 || !this.measurable)
                return;
            let s = !!this.effects.length;
            if ((this.renderGroup || s) && (i = fa.get().clear()),
            this.boundsArea)
                e.addRect(this.boundsArea, this.worldTransform);
            else {
                if (this.renderPipeId) {
                    let o = this.bounds;
                    i.addFrame(o.minX, o.minY, o.maxX, o.maxY, this.groupTransform)
                }
                let r = this.children;
                for (let o = 0; o < r.length; o++)
                    r[o]._getGlobalBoundsRecursive(a, i, t)
            }
            if (s) {
                let r = !1
                  , o = this.renderGroup || this.parentRenderGroup;
                for (let d = 0; d < this.effects.length; d++)
                    this.effects[d].addBounds && (r || (r = !0,
                    i.applyMatrix(o.worldTransform)),
                    this.effects[d].addBounds(i, !0));
                r && (i.applyMatrix(o.worldTransform.copyTo(l4).invert()),
                e.addBounds(i, this.relativeGroupTransform)),
                e.addBounds(i),
                fa.return(i)
            } else
                this.renderGroup && (e.addBounds(i, this.relativeGroupTransform),
                fa.return(i))
        }
    };
    function Do(a, e, t) {
        t.clear();
        let i, s;
        return a.parent ? e ? i = a.parent.worldTransform : (s = it.get().identity(),
        i = yh(a, s)) : i = ie.IDENTITY,
        g2(a, t, i, e),
        s && it.return(s),
        t.isValid || t.set(0, 0, 0, 0),
        t
    }
    function g2(a, e, t, i) {
        var s, r;
        if (!a.visible || !a.measurable)
            return;
        let o;
        i ? o = a.worldTransform : (a.updateLocalTransform(),
        o = it.get(),
        o.appendFrom(a.localTransform, t));
        let d = e
          , f = !!a.effects.length;
        if (f && (e = fa.get().clear()),
        a.boundsArea)
            e.addRect(a.boundsArea, o);
        else {
            a.bounds && (e.matrix = o,
            e.addBounds(a.bounds));
            for (let h = 0; h < a.children.length; h++)
                g2(a.children[h], e, o, i)
        }
        if (f) {
            for (let h = 0; h < a.effects.length; h++)
                (r = (s = a.effects[h]).addBounds) == null || r.call(s, e);
            d.addBounds(e, ie.IDENTITY),
            fa.return(e)
        }
        i || it.return(o)
    }
    function yh(a, e) {
        let t = a.parent;
        return t && (yh(t, e),
        t.updateLocalTransform(),
        e.append(t.localTransform)),
        e
    }
    function m2(a, e) {
        if (a === 16777215 || !e)
            return e;
        if (e === 16777215 || !a)
            return a;
        let t = a >> 16 & 255
          , i = a >> 8 & 255
          , s = a & 255
          , r = e >> 16 & 255
          , o = e >> 8 & 255
          , d = e & 255
          , f = t * r / 255 | 0
          , h = i * o / 255 | 0
          , u = s * d / 255 | 0;
        return (f << 16) + (h << 8) + u
    }
    var tu = 16777215;
    function Vr(a, e) {
        return a === tu ? e : e === tu ? a : m2(a, e)
    }
    function Ss(a) {
        return ((a & 255) << 16) + (a & 65280) + (a >> 16 & 255)
    }
    var b4 = {
        getGlobalAlpha(a) {
            if (a)
                return this.renderGroup ? this.renderGroup.worldAlpha : this.parentRenderGroup ? this.parentRenderGroup.worldAlpha * this.alpha : this.alpha;
            let e = this.alpha
              , t = this.parent;
            for (; t; )
                e *= t.alpha,
                t = t.parent;
            return e
        },
        getGlobalTransform(a, e) {
            if (e)
                return a.copyFrom(this.worldTransform);
            this.updateLocalTransform();
            let t = yh(this, it.get().identity());
            return a.appendFrom(this.localTransform, t),
            it.return(t),
            a
        },
        getGlobalTint(a) {
            if (a)
                return this.renderGroup ? Ss(this.renderGroup.worldColor) : this.parentRenderGroup ? Ss(Vr(this.localColor, this.parentRenderGroup.worldColor)) : this.tint;
            let e = this.localColor
              , t = this.parent;
            for (; t; )
                e = Vr(e, t.localColor),
                t = t.parent;
            return Ss(e)
        }
    };
    function vh(a, e, t) {
        return e.clear(),
        t || (t = ie.IDENTITY),
        _2(a, e, t, a, !0),
        e.isValid || e.set(0, 0, 0, 0),
        e
    }
    function _2(a, e, t, i, s) {
        var r, o;
        let d;
        if (s)
            d = it.get(),
            d = t.copyTo(d);
        else {
            if (!a.visible || !a.measurable)
                return;
            a.updateLocalTransform();
            let u = a.localTransform;
            d = it.get(),
            d.appendFrom(u, t)
        }
        let f = e
          , h = !!a.effects.length;
        if (h && (e = fa.get().clear()),
        a.boundsArea)
            e.addRect(a.boundsArea, d);
        else {
            a.renderPipeId && (e.matrix = d,
            e.addBounds(a.bounds));
            let u = a.children;
            for (let p = 0; p < u.length; p++)
                _2(u[p], e, d, i, !1)
        }
        if (h) {
            for (let u = 0; u < a.effects.length; u++)
                (o = (r = a.effects[u]).addLocalBounds) == null || o.call(r, e, i);
            f.addBounds(e, ie.IDENTITY),
            fa.return(e)
        }
        it.return(d)
    }
    function x2(a, e) {
        let t = a.children;
        for (let i = 0; i < t.length; i++) {
            let s = t[i]
              , r = s.uid
              , o = (s._didViewChangeTick & 65535) << 16 | s._didContainerChangeTick & 65535
              , d = e.index;
            (e.data[d] !== r || e.data[d + 1] !== o) && (e.data[e.index] = r,
            e.data[e.index + 1] = o,
            e.didChange = !0),
            e.index = d + 2,
            s.children.length && x2(s, e)
        }
        return e.didChange
    }
    var p4 = new ie
      , g4 = {
        _localBoundsCacheId: -1,
        _localBoundsCacheData: null,
        _setWidth(a, e) {
            let t = Math.sign(this.scale.x) || 1;
            e !== 0 ? this.scale.x = a / e * t : this.scale.x = t
        },
        _setHeight(a, e) {
            let t = Math.sign(this.scale.y) || 1;
            e !== 0 ? this.scale.y = a / e * t : this.scale.y = t
        },
        getLocalBounds() {
            this._localBoundsCacheData || (this._localBoundsCacheData = {
                data: [],
                index: 1,
                didChange: !1,
                localBounds: new qe
            });
            let a = this._localBoundsCacheData;
            return a.index = 1,
            a.didChange = !1,
            a.data[0] !== this._didViewChangeTick && (a.didChange = !0,
            a.data[0] = this._didViewChangeTick),
            x2(this, a),
            a.didChange && vh(this, a.localBounds, p4),
            a.localBounds
        },
        getBounds(a, e) {
            return Do(this, a, e || new qe)
        }
    }
      , m4 = {
        _onRender: null,
        set onRender(a) {
            let e = this.renderGroup || this.parentRenderGroup;
            if (!a) {
                this._onRender && e?.removeOnRender(this),
                this._onRender = null;
                return
            }
            this._onRender || e == null || e.addOnRender(this),
            this._onRender = a
        },
        get onRender() {
            return this._onRender
        }
    }
      , _4 = {
        _zIndex: 0,
        sortDirty: !1,
        sortableChildren: !1,
        get zIndex() {
            return this._zIndex
        },
        set zIndex(a) {
            this._zIndex !== a && (this._zIndex = a,
            this.depthOfChildModified())
        },
        depthOfChildModified() {
            this.parent && (this.parent.sortableChildren = !0,
            this.parent.sortDirty = !0),
            this.parentRenderGroup && (this.parentRenderGroup.structureDidChange = !0)
        },
        sortChildren() {
            this.sortDirty && (this.sortDirty = !1,
            this.children.sort(x4))
        }
    };
    function x4(a, e) {
        return a._zIndex - e._zIndex
    }
    var y4 = {
        getGlobalPosition(a=new Ce, e=!1) {
            return this.parent ? this.parent.toGlobal(this._position, a, e) : (a.x = this._position.x,
            a.y = this._position.y),
            a
        },
        toGlobal(a, e, t=!1) {
            let i = this.getGlobalTransform(it.get(), t);
            return e = i.apply(a, e),
            it.return(i),
            e
        },
        toLocal(a, e, t, i) {
            e && (a = e.toGlobal(a, t, i));
            let s = this.getGlobalTransform(it.get(), i);
            return t = s.applyInverse(a, t),
            it.return(s),
            t
        }
    }
      , Wr = class {
        constructor() {
            this.uid = Fe("instructionSet"),
            this.instructions = [],
            this.instructionSize = 0,
            this.renderables = [],
            this.gcTick = 0
        }
        reset() {
            this.instructionSize = 0
        }
        add(e) {
            this.instructions[this.instructionSize++] = e
        }
        log() {
            this.instructions.length = this.instructionSize
        }
    }
    ;
    function Oi(a) {
        return a += a === 0 ? 1 : 0,
        --a,
        a |= a >>> 1,
        a |= a >>> 2,
        a |= a >>> 4,
        a |= a >>> 8,
        a |= a >>> 16,
        a + 1
    }
    function au(a) {
        return !(a & a - 1) && !!a
    }
    function Is(a) {
        let e = {};
        for (let t in a)
            a[t] !== void 0 && (e[t] = a[t]);
        return e
    }
    var v4 = Object.defineProperty
      , iu = Object.getOwnPropertySymbols
      , T4 = Object.prototype.hasOwnProperty
      , S4 = Object.prototype.propertyIsEnumerable
      , su = (a, e, t) => e in a ? v4(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , ru = (a, e) => {
        for (var t in e || (e = {}))
            T4.call(e, t) && su(a, t, e[t]);
        if (iu)
            for (var t of iu(e))
                S4.call(e, t) && su(a, t, e[t]);
        return a
    }
      , nu = Object.create(null);
    function w4(a) {
        let e = nu[a];
        return e === void 0 && (nu[a] = Fe("resource")),
        e
    }
    var y2 = class v2 extends yt {
        constructor(e={}) {
            var t, i, s, r, o, d, f;
            super(),
            this._resourceType = "textureSampler",
            this._touched = 0,
            this._maxAnisotropy = 1,
            this.destroyed = !1,
            e = ru(ru({}, v2.defaultOptions), e),
            this.addressMode = e.addressMode,
            this.addressModeU = (t = e.addressModeU) != null ? t : this.addressModeU,
            this.addressModeV = (i = e.addressModeV) != null ? i : this.addressModeV,
            this.addressModeW = (s = e.addressModeW) != null ? s : this.addressModeW,
            this.scaleMode = e.scaleMode,
            this.magFilter = (r = e.magFilter) != null ? r : this.magFilter,
            this.minFilter = (o = e.minFilter) != null ? o : this.minFilter,
            this.mipmapFilter = (d = e.mipmapFilter) != null ? d : this.mipmapFilter,
            this.lodMinClamp = e.lodMinClamp,
            this.lodMaxClamp = e.lodMaxClamp,
            this.compare = e.compare,
            this.maxAnisotropy = (f = e.maxAnisotropy) != null ? f : 1
        }
        set addressMode(e) {
            this.addressModeU = e,
            this.addressModeV = e,
            this.addressModeW = e
        }
        get addressMode() {
            return this.addressModeU
        }
        set wrapMode(e) {
            this.addressMode = e
        }
        get wrapMode() {
            return this.addressMode
        }
        set scaleMode(e) {
            this.magFilter = e,
            this.minFilter = e,
            this.mipmapFilter = e
        }
        get scaleMode() {
            return this.magFilter
        }
        set maxAnisotropy(e) {
            this._maxAnisotropy = Math.min(e, 16),
            this._maxAnisotropy > 1 && (this.scaleMode = "linear")
        }
        get maxAnisotropy() {
            return this._maxAnisotropy
        }
        get _resourceId() {
            return this._sharedResourceId || this._generateResourceId()
        }
        update() {
            this.emit("change", this),
            this._sharedResourceId = null
        }
        _generateResourceId() {
            let e = `${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;
            return this._sharedResourceId = w4(e),
            this._resourceId
        }
        destroy() {
            this.destroyed = !0,
            this.emit("destroy", this),
            this.emit("change", this),
            this.removeAllListeners()
        }
    }
    ;
    y2.defaultOptions = {
        addressMode: "clamp-to-edge",
        scaleMode: "linear"
    };
    var T2 = y2
      , A4 = Object.defineProperty
      , ou = Object.getOwnPropertySymbols
      , E4 = Object.prototype.hasOwnProperty
      , P4 = Object.prototype.propertyIsEnumerable
      , cu = (a, e, t) => e in a ? A4(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , du = (a, e) => {
        for (var t in e || (e = {}))
            E4.call(e, t) && cu(a, t, e[t]);
        if (ou)
            for (var t of ou(e))
                P4.call(e, t) && cu(a, t, e[t]);
        return a
    }
      , S2 = class w2 extends yt {
        constructor(e={}) {
            var t, i, s;
            super(),
            this.options = e,
            this.uid = Fe("textureSource"),
            this._resourceType = "textureSource",
            this._resourceId = Fe("resource"),
            this.uploadMethodId = "unknown",
            this._resolution = 1,
            this.pixelWidth = 1,
            this.pixelHeight = 1,
            this.width = 1,
            this.height = 1,
            this.sampleCount = 1,
            this.mipLevelCount = 1,
            this.autoGenerateMipmaps = !1,
            this.format = "rgba8unorm",
            this.dimension = "2d",
            this.antialias = !1,
            this._touched = 0,
            this._batchTick = -1,
            this._textureBindLocation = -1,
            e = du(du({}, w2.defaultOptions), e),
            this.label = (t = e.label) != null ? t : "",
            this.resource = e.resource,
            this.autoGarbageCollect = e.autoGarbageCollect,
            this._resolution = e.resolution,
            e.width ? this.pixelWidth = e.width * this._resolution : this.pixelWidth = this.resource && (i = this.resourceWidth) != null ? i : 1,
            e.height ? this.pixelHeight = e.height * this._resolution : this.pixelHeight = this.resource && (s = this.resourceHeight) != null ? s : 1,
            this.width = this.pixelWidth / this._resolution,
            this.height = this.pixelHeight / this._resolution,
            this.format = e.format,
            this.dimension = e.dimensions,
            this.mipLevelCount = e.mipLevelCount,
            this.autoGenerateMipmaps = e.autoGenerateMipmaps,
            this.sampleCount = e.sampleCount,
            this.antialias = e.antialias,
            this.alphaMode = e.alphaMode,
            this.style = new T2(Is(e)),
            this.destroyed = !1,
            this._refreshPOT()
        }
        get source() {
            return this
        }
        get style() {
            return this._style
        }
        set style(e) {
            var t, i;
            this.style !== e && ((t = this._style) == null || t.off("change", this._onStyleChange, this),
            this._style = e,
            (i = this._style) == null || i.on("change", this._onStyleChange, this),
            this._onStyleChange())
        }
        get addressMode() {
            return this._style.addressMode
        }
        set addressMode(e) {
            this._style.addressMode = e
        }
        get repeatMode() {
            return this._style.addressMode
        }
        set repeatMode(e) {
            this._style.addressMode = e
        }
        get magFilter() {
            return this._style.magFilter
        }
        set magFilter(e) {
            this._style.magFilter = e
        }
        get minFilter() {
            return this._style.minFilter
        }
        set minFilter(e) {
            this._style.minFilter = e
        }
        get mipmapFilter() {
            return this._style.mipmapFilter
        }
        set mipmapFilter(e) {
            this._style.mipmapFilter = e
        }
        get lodMinClamp() {
            return this._style.lodMinClamp
        }
        set lodMinClamp(e) {
            this._style.lodMinClamp = e
        }
        get lodMaxClamp() {
            return this._style.lodMaxClamp
        }
        set lodMaxClamp(e) {
            this._style.lodMaxClamp = e
        }
        _onStyleChange() {
            this.emit("styleChange", this)
        }
        update() {
            if (this.resource) {
                let e = this._resolution;
                if (this.resize(this.resourceWidth / e, this.resourceHeight / e))
                    return
            }
            this.emit("update", this)
        }
        destroy() {
            this.destroyed = !0,
            this.emit("destroy", this),
            this.emit("change", this),
            this._style && (this._style.destroy(),
            this._style = null),
            this.uploadMethodId = null,
            this.resource = null,
            this.removeAllListeners()
        }
        unload() {
            this._resourceId = Fe("resource"),
            this.emit("change", this),
            this.emit("unload", this)
        }
        get resourceWidth() {
            let {resource: e} = this;
            return e.naturalWidth || e.videoWidth || e.displayWidth || e.width
        }
        get resourceHeight() {
            let {resource: e} = this;
            return e.naturalHeight || e.videoHeight || e.displayHeight || e.height
        }
        get resolution() {
            return this._resolution
        }
        set resolution(e) {
            this._resolution !== e && (this._resolution = e,
            this.width = this.pixelWidth / e,
            this.height = this.pixelHeight / e)
        }
        resize(e, t, i) {
            i || (i = this._resolution),
            e || (e = this.width),
            t || (t = this.height);
            let s = Math.round(e * i)
              , r = Math.round(t * i);
            return this.width = s / i,
            this.height = r / i,
            this._resolution = i,
            this.pixelWidth === s && this.pixelHeight === r ? !1 : (this._refreshPOT(),
            this.pixelWidth = s,
            this.pixelHeight = r,
            this.emit("resize", this),
            this._resourceId = Fe("resource"),
            this.emit("change", this),
            !0)
        }
        updateMipmaps() {
            this.autoGenerateMipmaps && this.mipLevelCount > 1 && this.emit("updateMipmaps", this)
        }
        set wrapMode(e) {
            this._style.wrapMode = e
        }
        get wrapMode() {
            return this._style.wrapMode
        }
        set scaleMode(e) {
            this._style.scaleMode = e
        }
        get scaleMode() {
            return this._style.scaleMode
        }
        _refreshPOT() {
            this.isPowerOfTwo = au(this.pixelWidth) && au(this.pixelHeight)
        }
        static test(e) {
            throw new Error("Unimplemented")
        }
    }
    ;
    S2.defaultOptions = {
        resolution: 1,
        format: "bgra8unorm",
        alphaMode: "premultiply-alpha-on-upload",
        dimensions: "2d",
        mipLevelCount: 1,
        autoGenerateMipmaps: !1,
        sampleCount: 1,
        antialias: !1,
        autoGarbageCollect: !1
    };
    var De = S2
      , Ya = [1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1, 0, 1]
      , $a = [0, 1, 1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1]
      , Ka = [0, -1, -1, -1, 0, 1, 1, 1, 0, 1, 1, 1, 0, -1, -1, -1]
      , qa = [1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, 1, 1, 1, 0, -1]
      , Bd = []
      , A2 = []
      , mr = Math.sign;
    function R4() {
        for (let a = 0; a < 16; a++) {
            let e = [];
            Bd.push(e);
            for (let t = 0; t < 16; t++) {
                let i = mr(Ya[a] * Ya[t] + Ka[a] * $a[t])
                  , s = mr($a[a] * Ya[t] + qa[a] * $a[t])
                  , r = mr(Ya[a] * Ka[t] + Ka[a] * qa[t])
                  , o = mr($a[a] * Ka[t] + qa[a] * qa[t]);
                for (let d = 0; d < 16; d++)
                    if (Ya[d] === i && $a[d] === s && Ka[d] === r && qa[d] === o) {
                        e.push(d);
                        break
                    }
            }
        }
        for (let a = 0; a < 16; a++) {
            let e = new ie;
            e.set(Ya[a], $a[a], Ka[a], qa[a], 0, 0),
            A2.push(e)
        }
    }
    R4();
    var Ue = {
        E: 0,
        SE: 1,
        S: 2,
        SW: 3,
        W: 4,
        NW: 5,
        N: 6,
        NE: 7,
        MIRROR_VERTICAL: 8,
        MAIN_DIAGONAL: 10,
        MIRROR_HORIZONTAL: 12,
        REVERSE_DIAGONAL: 14,
        uX: a => Ya[a],
        uY: a => $a[a],
        vX: a => Ka[a],
        vY: a => qa[a],
        inv: a => a & 8 ? a & 15 : -a & 7,
        add: (a, e) => Bd[a][e],
        sub: (a, e) => Bd[a][Ue.inv(e)],
        rotate180: a => a ^ 4,
        isVertical: a => (a & 3) === 2,
        byDirection: (a, e) => Math.abs(a) * 2 <= Math.abs(e) ? e >= 0 ? Ue.S : Ue.N : Math.abs(e) * 2 <= Math.abs(a) ? a > 0 ? Ue.E : Ue.W : e > 0 ? a > 0 ? Ue.SE : Ue.SW : a > 0 ? Ue.NE : Ue.NW,
        matrixAppendRotationInv: (a, e, t=0, i=0) => {
            let s = A2[Ue.inv(e)];
            s.tx = t,
            s.ty = i,
            a.append(s)
        }
    }
      , fu = () => {}
      , M4 = Object.defineProperty
      , C4 = Object.defineProperties
      , O4 = Object.getOwnPropertyDescriptors
      , hu = Object.getOwnPropertySymbols
      , I4 = Object.prototype.hasOwnProperty
      , G4 = Object.prototype.propertyIsEnumerable
      , lu = (a, e, t) => e in a ? M4(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , B4 = (a, e) => {
        for (var t in e || (e = {}))
            I4.call(e, t) && lu(a, t, e[t]);
        if (hu)
            for (var t of hu(e))
                G4.call(e, t) && lu(a, t, e[t]);
        return a
    }
      , F4 = (a, e) => C4(a, O4(e))
      , Gs = class extends De {
        constructor(e) {
            let t = e.resource || new Float32Array(e.width * e.height * 4)
              , i = e.format;
            i || (t instanceof Float32Array ? i = "rgba32float" : t instanceof Int32Array || t instanceof Uint32Array ? i = "rgba32uint" : t instanceof Int16Array || t instanceof Uint16Array ? i = "rgba16uint" : (t instanceof Int8Array,
            i = "bgra8unorm")),
            super(F4(B4({}, e), {
                resource: t,
                format: i
            })),
            this.uploadMethodId = "buffer"
        }
        static test(e) {
            return e instanceof Int8Array || e instanceof Uint8Array || e instanceof Uint8ClampedArray || e instanceof Int16Array || e instanceof Uint16Array || e instanceof Int32Array || e instanceof Uint32Array || e instanceof Float32Array
        }
    }
    ;
    Gs.extension = B.TextureSource;
    var uu = new ie
      , Yr = class {
        constructor(e, t) {
            this.mapCoord = new ie,
            this.uClampFrame = new Float32Array(4),
            this.uClampOffset = new Float32Array(2),
            this._textureID = -1,
            this._updateID = 0,
            this.clampOffset = 0,
            typeof t > "u" ? this.clampMargin = e.width < 10 ? 0 : .5 : this.clampMargin = t,
            this.isSimple = !1,
            this.texture = e
        }
        get texture() {
            return this._texture
        }
        set texture(e) {
            var t;
            this.texture !== e && ((t = this._texture) == null || t.removeListener("update", this.update, this),
            this._texture = e,
            this._texture.addListener("update", this.update, this),
            this.update())
        }
        multiplyUvs(e, t) {
            t === void 0 && (t = e);
            let i = this.mapCoord;
            for (let s = 0; s < e.length; s += 2) {
                let r = e[s]
                  , o = e[s + 1];
                t[s] = r * i.a + o * i.c + i.tx,
                t[s + 1] = r * i.b + o * i.d + i.ty
            }
            return t
        }
        update() {
            let e = this._texture;
            this._updateID++;
            let t = e.uvs;
            this.mapCoord.set(t.x1 - t.x0, t.y1 - t.y0, t.x3 - t.x0, t.y3 - t.y0, t.x0, t.y0);
            let i = e.orig
              , s = e.trim;
            s && (uu.set(i.width / s.width, 0, 0, i.height / s.height, -s.x / s.width, -s.y / s.height),
            this.mapCoord.append(uu));
            let r = e.source
              , o = this.uClampFrame
              , d = this.clampMargin / r._resolution
              , f = this.clampOffset / r._resolution;
            return o[0] = (e.frame.x + d + f) / r.width,
            o[1] = (e.frame.y + d + f) / r.height,
            o[2] = (e.frame.x + e.frame.width - d + f) / r.width,
            o[3] = (e.frame.y + e.frame.height - d + f) / r.height,
            this.uClampOffset[0] = this.clampOffset / r.pixelWidth,
            this.uClampOffset[1] = this.clampOffset / r.pixelHeight,
            this.isSimple = e.frame.width === r.width && e.frame.height === r.height && e.rotate === 0,
            !0
        }
    }
      , K = class extends yt {
        constructor({source: e, label: t, frame: i, orig: s, trim: r, defaultAnchor: o, defaultBorders: d, rotate: f, dynamic: h}={}) {
            var u;
            if (super(),
            this.uid = Fe("texture"),
            this.uvs = {
                x0: 0,
                y0: 0,
                x1: 0,
                y1: 0,
                x2: 0,
                y2: 0,
                x3: 0,
                y3: 0
            },
            this.frame = new Pe,
            this.noFrame = !1,
            this.dynamic = !1,
            this.isTexture = !0,
            this.label = t,
            this.source = (u = e?.source) != null ? u : new De,
            this.noFrame = !i,
            i)
                this.frame.copyFrom(i);
            else {
                let {width: p, height: x} = this._source;
                this.frame.width = p,
                this.frame.height = x
            }
            this.orig = s || this.frame,
            this.trim = r,
            this.rotate = f ?? 0,
            this.defaultAnchor = o,
            this.defaultBorders = d,
            this.destroyed = !1,
            this.dynamic = h || !1,
            this.updateUvs()
        }
        set source(e) {
            this._source && this._source.off("resize", this.update, this),
            this._source = e,
            e.on("resize", this.update, this),
            this.emit("update", this)
        }
        get source() {
            return this._source
        }
        get textureMatrix() {
            return this._textureMatrix || (this._textureMatrix = new Yr(this)),
            this._textureMatrix
        }
        get width() {
            return this.orig.width
        }
        get height() {
            return this.orig.height
        }
        updateUvs() {
            let {uvs: e, frame: t} = this
              , {width: i, height: s} = this._source
              , r = t.x / i
              , o = t.y / s
              , d = t.width / i
              , f = t.height / s
              , h = this.rotate;
            if (h) {
                let u = d / 2
                  , p = f / 2
                  , x = r + u
                  , _ = o + p;
                h = Ue.add(h, Ue.NW),
                e.x0 = x + u * Ue.uX(h),
                e.y0 = _ + p * Ue.uY(h),
                h = Ue.add(h, 2),
                e.x1 = x + u * Ue.uX(h),
                e.y1 = _ + p * Ue.uY(h),
                h = Ue.add(h, 2),
                e.x2 = x + u * Ue.uX(h),
                e.y2 = _ + p * Ue.uY(h),
                h = Ue.add(h, 2),
                e.x3 = x + u * Ue.uX(h),
                e.y3 = _ + p * Ue.uY(h)
            } else
                e.x0 = r,
                e.y0 = o,
                e.x1 = r + d,
                e.y1 = o,
                e.x2 = r + d,
                e.y2 = o + f,
                e.x3 = r,
                e.y3 = o + f
        }
        destroy(e=!1) {
            this._source && e && (this._source.destroy(),
            this._source = null),
            this._textureMatrix = null,
            this.destroyed = !0,
            this.emit("destroy", this),
            this.removeAllListeners()
        }
        update() {
            this.noFrame && (this.frame.width = this._source.width,
            this.frame.height = this._source.height),
            this.updateUvs(),
            this.emit("update", this)
        }
        get baseTexture() {
            return this._source
        }
    }
    ;
    K.EMPTY = new K({
        label: "EMPTY",
        source: new De({
            label: "EMPTY"
        })
    }),
    K.EMPTY.destroy = fu,
    K.WHITE = new K({
        source: new Gs({
            resource: new Uint8Array([255, 255, 255, 255]),
            width: 1,
            height: 1,
            alphaMode: "premultiply-alpha-on-upload",
            label: "WHITE"
        }),
        label: "WHITE"
    }),
    K.WHITE.destroy = fu;
    var D4 = Object.defineProperty
      , k4 = Object.defineProperties
      , U4 = Object.getOwnPropertyDescriptors
      , bu = Object.getOwnPropertySymbols
      , L4 = Object.prototype.hasOwnProperty
      , N4 = Object.prototype.propertyIsEnumerable
      , pu = (a, e, t) => e in a ? D4(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , j4 = (a, e) => {
        for (var t in e || (e = {}))
            L4.call(e, t) && pu(a, t, e[t]);
        if (bu)
            for (var t of bu(e))
                N4.call(e, t) && pu(a, t, e[t]);
        return a
    }
      , X4 = (a, e) => k4(a, U4(e))
      , H4 = 0
      , Fd = class {
        constructor(e) {
            this._poolKeyHash = Object.create(null),
            this._texturePool = {},
            this.textureOptions = e || {},
            this.enableFullScreen = !1
        }
        createTexture(e, t, i) {
            let s = new De(X4(j4({}, this.textureOptions), {
                width: e,
                height: t,
                resolution: 1,
                antialias: i,
                autoGarbageCollect: !1
            }));
            return new K({
                source: s,
                label: `texturePool_${H4++}`
            })
        }
        getOptimalTexture(e, t, i=1, s) {
            let r = Math.ceil(e * i - 1e-6)
              , o = Math.ceil(t * i - 1e-6);
            r = Oi(r),
            o = Oi(o);
            let d = (r << 17) + (o << 1) + (s ? 1 : 0);
            this._texturePool[d] || (this._texturePool[d] = []);
            let f = this._texturePool[d].pop();
            return f || (f = this.createTexture(r, o, s)),
            f.source._resolution = i,
            f.source.width = r / i,
            f.source.height = o / i,
            f.source.pixelWidth = r,
            f.source.pixelHeight = o,
            f.frame.x = 0,
            f.frame.y = 0,
            f.frame.width = e,
            f.frame.height = t,
            f.updateUvs(),
            this._poolKeyHash[f.uid] = d,
            f
        }
        getSameSizeTexture(e, t=!1) {
            let i = e.source;
            return this.getOptimalTexture(e.width, e.height, i._resolution, t)
        }
        returnTexture(e) {
            let t = this._poolKeyHash[e.uid];
            this._texturePool[t].push(e)
        }
        clear(e) {
            if (e = e !== !1,
            e)
                for (let t in this._texturePool) {
                    let i = this._texturePool[t];
                    if (i)
                        for (let s = 0; s < i.length; s++)
                            i[s].destroy(!0)
                }
            this._texturePool = {}
        }
    }
      , ze = new Fd
      , Dd = class {
        constructor() {
            this.renderPipeId = "renderGroup",
            this.root = null,
            this.canBundle = !1,
            this.renderGroupParent = null,
            this.renderGroupChildren = [],
            this.worldTransform = new ie,
            this.worldColorAlpha = 4294967295,
            this.worldColor = 16777215,
            this.worldAlpha = 1,
            this.childrenToUpdate = Object.create(null),
            this.updateTick = 0,
            this.gcTick = 0,
            this.childrenRenderablesToUpdate = {
                list: [],
                index: 0
            },
            this.structureDidChange = !0,
            this.instructionSet = new Wr,
            this._onRenderContainers = [],
            this.textureNeedsUpdate = !0,
            this.isCachedAsTexture = !1,
            this._matrixDirty = 7
        }
        init(e) {
            this.root = e,
            e._onRender && this.addOnRender(e),
            e.didChange = !0;
            let t = e.children;
            for (let i = 0; i < t.length; i++) {
                let s = t[i];
                s._updateFlags = 15,
                this.addChild(s)
            }
        }
        enableCacheAsTexture(e={}) {
            this.textureOptions = e,
            this.isCachedAsTexture = !0,
            this.textureNeedsUpdate = !0
        }
        disableCacheAsTexture() {
            this.isCachedAsTexture = !1,
            this.texture && (ze.returnTexture(this.texture),
            this.texture = null)
        }
        updateCacheTexture() {
            this.textureNeedsUpdate = !0
        }
        reset() {
            this.renderGroupChildren.length = 0;
            for (let e in this.childrenToUpdate) {
                let t = this.childrenToUpdate[e];
                t.list.fill(null),
                t.index = 0
            }
            this.childrenRenderablesToUpdate.index = 0,
            this.childrenRenderablesToUpdate.list.fill(null),
            this.root = null,
            this.updateTick = 0,
            this.structureDidChange = !0,
            this._onRenderContainers.length = 0,
            this.renderGroupParent = null,
            this.disableCacheAsTexture()
        }
        get localTransform() {
            return this.root.localTransform
        }
        addRenderGroupChild(e) {
            e.renderGroupParent && e.renderGroupParent._removeRenderGroupChild(e),
            e.renderGroupParent = this,
            this.renderGroupChildren.push(e)
        }
        _removeRenderGroupChild(e) {
            let t = this.renderGroupChildren.indexOf(e);
            t > -1 && this.renderGroupChildren.splice(t, 1),
            e.renderGroupParent = null
        }
        addChild(e) {
            if (this.structureDidChange = !0,
            e.parentRenderGroup = this,
            e.updateTick = -1,
            e.parent === this.root ? e.relativeRenderGroupDepth = 1 : e.relativeRenderGroupDepth = e.parent.relativeRenderGroupDepth + 1,
            e.didChange = !0,
            this.onChildUpdate(e),
            e.renderGroup) {
                this.addRenderGroupChild(e.renderGroup);
                return
            }
            e._onRender && this.addOnRender(e);
            let t = e.children;
            for (let i = 0; i < t.length; i++)
                this.addChild(t[i])
        }
        removeChild(e) {
            if (this.structureDidChange = !0,
            e._onRender && (e.renderGroup || this.removeOnRender(e)),
            e.parentRenderGroup = null,
            e.renderGroup) {
                this._removeRenderGroupChild(e.renderGroup);
                return
            }
            let t = e.children;
            for (let i = 0; i < t.length; i++)
                this.removeChild(t[i])
        }
        removeChildren(e) {
            for (let t = 0; t < e.length; t++)
                this.removeChild(e[t])
        }
        onChildUpdate(e) {
            let t = this.childrenToUpdate[e.relativeRenderGroupDepth];
            t || (t = this.childrenToUpdate[e.relativeRenderGroupDepth] = {
                index: 0,
                list: []
            }),
            t.list[t.index++] = e
        }
        updateRenderable(e) {
            e.globalDisplayStatus < 7 || (this.instructionSet.renderPipes[e.renderPipeId].updateRenderable(e),
            e.didViewUpdate = !1)
        }
        onChildViewUpdate(e) {
            this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++] = e
        }
        get isRenderable() {
            return this.root.localDisplayStatus === 7 && this.worldAlpha > 0
        }
        addOnRender(e) {
            this._onRenderContainers.push(e)
        }
        removeOnRender(e) {
            this._onRenderContainers.splice(this._onRenderContainers.indexOf(e), 1)
        }
        runOnRender(e) {
            for (let t = 0; t < this._onRenderContainers.length; t++)
                this._onRenderContainers[t]._onRender(e)
        }
        destroy() {
            this.disableCacheAsTexture(),
            this.renderGroupParent = null,
            this.root = null,
            this.childrenRenderablesToUpdate = null,
            this.childrenToUpdate = null,
            this.renderGroupChildren = null,
            this._onRenderContainers = null,
            this.instructionSet = null
        }
        getChildren(e=[]) {
            let t = this.root.children;
            for (let i = 0; i < t.length; i++)
                this._getChildren(t[i], e);
            return e
        }
        _getChildren(e, t=[]) {
            if (t.push(e),
            e.renderGroup)
                return t;
            let i = e.children;
            for (let s = 0; s < i.length; s++)
                this._getChildren(i[s], t);
            return t
        }
        invalidateMatrices() {
            this._matrixDirty = 7
        }
        get inverseWorldTransform() {
            return this._matrixDirty & 1 ? (this._matrixDirty &= -2,
            this._inverseWorldTransform || (this._inverseWorldTransform = new ie),
            this._inverseWorldTransform.copyFrom(this.worldTransform).invert()) : this._inverseWorldTransform
        }
        get textureOffsetInverseTransform() {
            return this._matrixDirty & 2 ? (this._matrixDirty &= -3,
            this._textureOffsetInverseTransform || (this._textureOffsetInverseTransform = new ie),
            this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x, -this._textureBounds.y)) : this._textureOffsetInverseTransform
        }
        get inverseParentTextureTransform() {
            if (!(this._matrixDirty & 4))
                return this._inverseParentTextureTransform;
            this._matrixDirty &= -5;
            let e = this._parentCacheAsTextureRenderGroup;
            return e ? (this._inverseParentTextureTransform || (this._inverseParentTextureTransform = new ie),
            this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(e.inverseWorldTransform).translate(-e._textureBounds.x, -e._textureBounds.y)) : this.worldTransform
        }
        get cacheToLocalTransform() {
            return this._parentCacheAsTextureRenderGroup ? this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform : null
        }
    }
    ;
    function kd(a, e, t={}) {
        for (let i in e)
            !t[i] && e[i] !== void 0 && (a[i] = e[i])
    }
    var Gc = new We(null)
      , Bc = new We(null)
      , Fc = new We(null,1,1)
      , $r = 1
      , Th = 2
      , ws = 4;
    var he = class a extends yt {
        constructor(e={}) {
            var t, i;
            super(),
            this.uid = Fe("renderable"),
            this._updateFlags = 15,
            this.renderGroup = null,
            this.parentRenderGroup = null,
            this.parentRenderGroupIndex = 0,
            this.didChange = !1,
            this.didViewUpdate = !1,
            this.relativeRenderGroupDepth = 0,
            this.children = [],
            this.parent = null,
            this.includeInBuild = !0,
            this.measurable = !0,
            this.isSimple = !0,
            this.updateTick = -1,
            this.localTransform = new ie,
            this.relativeGroupTransform = new ie,
            this.groupTransform = this.relativeGroupTransform,
            this.destroyed = !1,
            this._position = new We(this,0,0),
            this._scale = Fc,
            this._pivot = Bc,
            this._skew = Gc,
            this._cx = 1,
            this._sx = 0,
            this._cy = 0,
            this._sy = 1,
            this._rotation = 0,
            this.localColor = 16777215,
            this.localAlpha = 1,
            this.groupAlpha = 1,
            this.groupColor = 16777215,
            this.groupColorAlpha = 4294967295,
            this.localBlendMode = "inherit",
            this.groupBlendMode = "normal",
            this.localDisplayStatus = 7,
            this.globalDisplayStatus = 7,
            this._didContainerChangeTick = 0,
            this._didViewChangeTick = 0,
            this._didLocalTransformChangeId = -1,
            this.effects = [],
            kd(this, e, {
                children: !0,
                parent: !0,
                effects: !0
            }),
            (t = e.children) == null || t.forEach(s => this.addChild(s)),
            (i = e.parent) == null || i.addChild(this)
        }
        static mixin(e) {
            Object.defineProperties(a.prototype, Object.getOwnPropertyDescriptors(e))
        }
        set _didChangeId(e) {
            this._didViewChangeTick = e >> 12 & 4095,
            this._didContainerChangeTick = e & 4095
        }
        get _didChangeId() {
            return this._didContainerChangeTick & 4095 | (this._didViewChangeTick & 4095) << 12
        }
        addChild(...e) {
            if (e.length > 1) {
                for (let s = 0; s < e.length; s++)
                    this.addChild(e[s]);
                return e[0]
            }
            let t = e[0]
              , i = this.renderGroup || this.parentRenderGroup;
            return t.parent === this ? (this.children.splice(this.children.indexOf(t), 1),
            this.children.push(t),
            i && (i.structureDidChange = !0),
            t) : (t.parent && t.parent.removeChild(t),
            this.children.push(t),
            this.sortableChildren && (this.sortDirty = !0),
            t.parent = this,
            t.didChange = !0,
            t._updateFlags = 15,
            i && i.addChild(t),
            this.emit("childAdded", t, this, this.children.length - 1),
            t.emit("added", this),
            this._didViewChangeTick++,
            t._zIndex !== 0 && t.depthOfChildModified(),
            t)
        }
        removeChild(...e) {
            if (e.length > 1) {
                for (let s = 0; s < e.length; s++)
                    this.removeChild(e[s]);
                return e[0]
            }
            let t = e[0]
              , i = this.children.indexOf(t);
            return i > -1 && (this._didViewChangeTick++,
            this.children.splice(i, 1),
            this.renderGroup ? this.renderGroup.removeChild(t) : this.parentRenderGroup && this.parentRenderGroup.removeChild(t),
            t.parentRenderLayer && t.parentRenderLayer.detach(t),
            t.parent = null,
            this.emit("childRemoved", t, this, i),
            t.emit("removed", this)),
            t
        }
        _onUpdate(e) {
            e && e === this._skew && this._updateSkew(),
            this._didContainerChangeTick++,
            !this.didChange && (this.didChange = !0,
            this.parentRenderGroup && this.parentRenderGroup.onChildUpdate(this))
        }
        set isRenderGroup(e) {
            !!this.renderGroup !== e && (e ? this.enableRenderGroup() : this.disableRenderGroup())
        }
        get isRenderGroup() {
            return !!this.renderGroup
        }
        enableRenderGroup() {
            if (this.renderGroup)
                return;
            let e = this.parentRenderGroup;
            e?.removeChild(this),
            this.renderGroup = ye.get(Dd, this),
            this.groupTransform = ie.IDENTITY,
            e?.addChild(this),
            this._updateIsSimple()
        }
        disableRenderGroup() {
            if (!this.renderGroup)
                return;
            let e = this.parentRenderGroup;
            e?.removeChild(this),
            ye.return(this.renderGroup),
            this.renderGroup = null,
            this.groupTransform = this.relativeGroupTransform,
            e?.addChild(this),
            this._updateIsSimple()
        }
        _updateIsSimple() {
            this.isSimple = !this.renderGroup && this.effects.length === 0
        }
        get worldTransform() {
            return this._worldTransform || (this._worldTransform = new ie),
            this.renderGroup ? this._worldTransform.copyFrom(this.renderGroup.worldTransform) : this.parentRenderGroup && this._worldTransform.appendFrom(this.relativeGroupTransform, this.parentRenderGroup.worldTransform),
            this._worldTransform
        }
        get x() {
            return this._position.x
        }
        set x(e) {
            this._position.x = e
        }
        get y() {
            return this._position.y
        }
        set y(e) {
            this._position.y = e
        }
        get position() {
            return this._position
        }
        set position(e) {
            this._position.copyFrom(e)
        }
        get rotation() {
            return this._rotation
        }
        set rotation(e) {
            this._rotation !== e && (this._rotation = e,
            this._onUpdate(this._skew))
        }
        get angle() {
            return this.rotation * e4
        }
        set angle(e) {
            this.rotation = e * t4
        }
        get pivot() {
            return this._pivot === Bc && (this._pivot = new We(this,0,0)),
            this._pivot
        }
        set pivot(e) {
            this._pivot === Bc && (this._pivot = new We(this,0,0)),
            typeof e == "number" ? this._pivot.set(e) : this._pivot.copyFrom(e)
        }
        get skew() {
            return this._skew === Gc && (this._skew = new We(this,0,0)),
            this._skew
        }
        set skew(e) {
            this._skew === Gc && (this._skew = new We(this,0,0)),
            this._skew.copyFrom(e)
        }
        get scale() {
            return this._scale === Fc && (this._scale = new We(this,1,1)),
            this._scale
        }
        set scale(e) {
            this._scale === Fc && (this._scale = new We(this,0,0)),
            typeof e == "number" ? this._scale.set(e) : this._scale.copyFrom(e)
        }
        get width() {
            return Math.abs(this.scale.x * this.getLocalBounds().width)
        }
        set width(e) {
            let t = this.getLocalBounds().width;
            this._setWidth(e, t)
        }
        get height() {
            return Math.abs(this.scale.y * this.getLocalBounds().height)
        }
        set height(e) {
            let t = this.getLocalBounds().height;
            this._setHeight(e, t)
        }
        getSize(e) {
            e || (e = {});
            let t = this.getLocalBounds();
            return e.width = Math.abs(this.scale.x * t.width),
            e.height = Math.abs(this.scale.y * t.height),
            e
        }
        setSize(e, t) {
            var i;
            let s = this.getLocalBounds();
            typeof e == "object" ? (t = (i = e.height) != null ? i : e.width,
            e = e.width) : t != null || (t = e),
            e !== void 0 && this._setWidth(e, s.width),
            t !== void 0 && this._setHeight(t, s.height)
        }
        _updateSkew() {
            let e = this._rotation
              , t = this._skew;
            this._cx = Math.cos(e + t._y),
            this._sx = Math.sin(e + t._y),
            this._cy = -Math.sin(e - t._x),
            this._sy = Math.cos(e - t._x)
        }
        updateTransform(e) {
            return this.position.set(typeof e.x == "number" ? e.x : this.position.x, typeof e.y == "number" ? e.y : this.position.y),
            this.scale.set(typeof e.scaleX == "number" ? e.scaleX || 1 : this.scale.x, typeof e.scaleY == "number" ? e.scaleY || 1 : this.scale.y),
            this.rotation = typeof e.rotation == "number" ? e.rotation : this.rotation,
            this.skew.set(typeof e.skewX == "number" ? e.skewX : this.skew.x, typeof e.skewY == "number" ? e.skewY : this.skew.y),
            this.pivot.set(typeof e.pivotX == "number" ? e.pivotX : this.pivot.x, typeof e.pivotY == "number" ? e.pivotY : this.pivot.y),
            this
        }
        setFromMatrix(e) {
            e.decompose(this)
        }
        updateLocalTransform() {
            let e = this._didContainerChangeTick;
            if (this._didLocalTransformChangeId === e)
                return;
            this._didLocalTransformChangeId = e;
            let t = this.localTransform
              , i = this._scale
              , s = this._pivot
              , r = this._position
              , o = i._x
              , d = i._y
              , f = s._x
              , h = s._y;
            t.a = this._cx * o,
            t.b = this._sx * o,
            t.c = this._cy * d,
            t.d = this._sy * d,
            t.tx = r._x - (f * t.a + h * t.c),
            t.ty = r._y - (f * t.b + h * t.d)
        }
        set alpha(e) {
            e !== this.localAlpha && (this.localAlpha = e,
            this._updateFlags |= $r,
            this._onUpdate())
        }
        get alpha() {
            return this.localAlpha
        }
        set tint(e) {
            let t = Ee.shared.setValue(e ?? 16777215).toBgrNumber();
            t !== this.localColor && (this.localColor = t,
            this._updateFlags |= $r,
            this._onUpdate())
        }
        get tint() {
            return Ss(this.localColor)
        }
        set blendMode(e) {
            this.localBlendMode !== e && (this.parentRenderGroup && (this.parentRenderGroup.structureDidChange = !0),
            this._updateFlags |= Th,
            this.localBlendMode = e,
            this._onUpdate())
        }
        get blendMode() {
            return this.localBlendMode
        }
        get visible() {
            return !!(this.localDisplayStatus & 2)
        }
        set visible(e) {
            let t = e ? 2 : 0;
            (this.localDisplayStatus & 2) !== t && (this.parentRenderGroup && (this.parentRenderGroup.structureDidChange = !0),
            this._updateFlags |= ws,
            this.localDisplayStatus ^= 2,
            this._onUpdate())
        }
        get culled() {
            return !(this.localDisplayStatus & 4)
        }
        set culled(e) {
            let t = e ? 0 : 4;
            (this.localDisplayStatus & 4) !== t && (this.parentRenderGroup && (this.parentRenderGroup.structureDidChange = !0),
            this._updateFlags |= ws,
            this.localDisplayStatus ^= 4,
            this._onUpdate())
        }
        get renderable() {
            return !!(this.localDisplayStatus & 1)
        }
        set renderable(e) {
            let t = e ? 1 : 0;
            (this.localDisplayStatus & 1) !== t && (this._updateFlags |= ws,
            this.localDisplayStatus ^= 1,
            this.parentRenderGroup && (this.parentRenderGroup.structureDidChange = !0),
            this._onUpdate())
        }
        get isRenderable() {
            return this.localDisplayStatus === 7 && this.groupAlpha > 0
        }
        destroy(e=!1) {
            var t;
            if (this.destroyed)
                return;
            this.destroyed = !0;
            let i;
            if (this.children.length && (i = this.removeChildren(0, this.children.length)),
            this.removeFromParent(),
            this.parent = null,
            this._maskEffect = null,
            this._filterEffect = null,
            this.effects = null,
            this._position = null,
            this._scale = null,
            this._pivot = null,
            this._skew = null,
            this.emit("destroyed", this),
            this.removeAllListeners(),
            (typeof e == "boolean" ? e : e?.children) && i)
                for (let s = 0; s < i.length; ++s)
                    i[s].destroy(e);
            (t = this.renderGroup) == null || t.destroy(),
            this.renderGroup = null
        }
    }
    ;
    he.mixin(r4),
    he.mixin(u4),
    he.mixin(y4),
    he.mixin(m4),
    he.mixin(g4),
    he.mixin(f4),
    he.mixin(h4),
    he.mixin(_4),
    he.mixin(Q5),
    he.mixin(s4),
    he.mixin(b4),
    he.mixin(n4);
    var Bs = class a {
        constructor(e) {
            this.bubbles = !0,
            this.cancelBubble = !0,
            this.cancelable = !1,
            this.composed = !1,
            this.defaultPrevented = !1,
            this.eventPhase = a.prototype.NONE,
            this.propagationStopped = !1,
            this.propagationImmediatelyStopped = !1,
            this.layer = new Ce,
            this.page = new Ce,
            this.NONE = 0,
            this.CAPTURING_PHASE = 1,
            this.AT_TARGET = 2,
            this.BUBBLING_PHASE = 3,
            this.manager = e
        }
        get layerX() {
            return this.layer.x
        }
        get layerY() {
            return this.layer.y
        }
        get pageX() {
            return this.page.x
        }
        get pageY() {
            return this.page.y
        }
        get data() {
            return this
        }
        composedPath() {
            return this.manager && (!this.path || this.path[this.path.length - 1] !== this.target) && (this.path = this.target ? this.manager.propagationPath(this.target) : []),
            this.path
        }
        initEvent(e, t, i) {
            throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")
        }
        initUIEvent(e, t, i, s, r) {
            throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")
        }
        preventDefault() {
            this.nativeEvent instanceof Event && this.nativeEvent.cancelable && this.nativeEvent.preventDefault(),
            this.defaultPrevented = !0
        }
        stopImmediatePropagation() {
            this.propagationImmediatelyStopped = !0
        }
        stopPropagation() {
            this.propagationStopped = !0
        }
    }
      , Dc = /iPhone/i
      , gu = /iPod/i
      , mu = /iPad/i
      , _u = /\biOS-universal(?:.+)Mac\b/i
      , kc = /\bAndroid(?:.+)Mobile\b/i
      , xu = /Android/i
      , gi = /(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i
      , _r = /Silk/i
      , ca = /Windows Phone/i
      , yu = /\bWindows(?:.+)ARM\b/i
      , vu = /BlackBerry/i
      , Tu = /BB10/i
      , Su = /Opera Mini/i
      , wu = /\b(CriOS|Chrome)(?:.+)Mobile/i
      , Au = /Mobile(?:.+)Firefox\b/i
      , Eu = function(a) {
        return typeof a < "u" && a.platform === "MacIntel" && typeof a.maxTouchPoints == "number" && a.maxTouchPoints > 1 && typeof MSStream > "u"
    };
    function z4(a) {
        return function(e) {
            return e.test(a)
        }
    }
    function Pu(a) {
        var e = {
            userAgent: "",
            platform: "",
            maxTouchPoints: 0
        };
        !a && typeof navigator < "u" ? e = {
            userAgent: navigator.userAgent,
            platform: navigator.platform,
            maxTouchPoints: navigator.maxTouchPoints || 0
        } : typeof a == "string" ? e.userAgent = a : a && a.userAgent && (e = {
            userAgent: a.userAgent,
            platform: a.platform,
            maxTouchPoints: a.maxTouchPoints || 0
        });
        var t = e.userAgent
          , i = t.split("[FBAN");
        typeof i[1] < "u" && (t = i[0]),
        i = t.split("Twitter"),
        typeof i[1] < "u" && (t = i[0]);
        var s = z4(t)
          , r = {
            apple: {
                phone: s(Dc) && !s(ca),
                ipod: s(gu),
                tablet: !s(Dc) && (s(mu) || Eu(e)) && !s(ca),
                universal: s(_u),
                device: (s(Dc) || s(gu) || s(mu) || s(_u) || Eu(e)) && !s(ca)
            },
            amazon: {
                phone: s(gi),
                tablet: !s(gi) && s(_r),
                device: s(gi) || s(_r)
            },
            android: {
                phone: !s(ca) && s(gi) || !s(ca) && s(kc),
                tablet: !s(ca) && !s(gi) && !s(kc) && (s(_r) || s(xu)),
                device: !s(ca) && (s(gi) || s(_r) || s(kc) || s(xu)) || s(/\bokhttp\b/i)
            },
            windows: {
                phone: s(ca),
                tablet: s(yu),
                device: s(ca) || s(yu)
            },
            other: {
                blackberry: s(vu),
                blackberry10: s(Tu),
                opera: s(Su),
                firefox: s(Au),
                chrome: s(wu),
                device: s(vu) || s(Tu) || s(Su) || s(Au) || s(wu)
            },
            any: !1,
            phone: !1,
            tablet: !1
        };
        return r.any = r.apple.device || r.android.device || r.windows.device || r.other.device,
        r.phone = r.apple.phone || r.android.phone || r.windows.phone,
        r.tablet = r.apple.tablet || r.android.tablet || r.windows.tablet,
        r
    }
    var Ru, V4 = (Ru = Pu.default) != null ? Ru : Pu, ii = V4(globalThis.navigator), W4 = Object.defineProperty, Mu = Object.getOwnPropertySymbols, Y4 = Object.prototype.hasOwnProperty, $4 = Object.prototype.propertyIsEnumerable, Cu = (a, e, t) => e in a ? W4(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t, Ou = (a, e) => {
        for (var t in e || (e = {}))
            Y4.call(e, t) && Cu(a, t, e[t]);
        if (Mu)
            for (var t of Mu(e))
                $4.call(e, t) && Cu(a, t, e[t]);
        return a
    }
    , K4 = 9, xr = 100, q4 = 0, Z4 = 0, Iu = 2, Gu = 1, Q4 = -1e3, J4 = -1e3, e8 = 2, Ud = class E2 {
        constructor(e, t=ii) {
            this._mobileInfo = t,
            this.debug = !1,
            this._activateOnTab = !0,
            this._deactivateOnMouseMove = !0,
            this._isActive = !1,
            this._isMobileAccessibility = !1,
            this._div = null,
            this._pool = [],
            this._renderId = 0,
            this._children = [],
            this._androidUpdateCount = 0,
            this._androidUpdateFrequency = 500,
            this._hookDiv = null,
            (t.tablet || t.phone) && this._createTouchHook(),
            this._renderer = e
        }
        get isActive() {
            return this._isActive
        }
        get isMobileAccessibility() {
            return this._isMobileAccessibility
        }
        get hookDiv() {
            return this._hookDiv
        }
        _createTouchHook() {
            let e = document.createElement("button");
            e.style.width = `${Gu}px`,
            e.style.height = `${Gu}px`,
            e.style.position = "absolute",
            e.style.top = `${Q4}px`,
            e.style.left = `${J4}px`,
            e.style.zIndex = e8.toString(),
            e.style.backgroundColor = "#FF0000",
            e.title = "select to enable accessibility for this content",
            e.addEventListener("focus", () => {
                this._isMobileAccessibility = !0,
                this._activate(),
                this._destroyTouchHook()
            }
            ),
            document.body.appendChild(e),
            this._hookDiv = e
        }
        _destroyTouchHook() {
            this._hookDiv && (document.body.removeChild(this._hookDiv),
            this._hookDiv = null)
        }
        _activate() {
            if (this._isActive)
                return;
            this._isActive = !0,
            this._div || (this._div = document.createElement("div"),
            this._div.style.width = `${xr}px`,
            this._div.style.height = `${xr}px`,
            this._div.style.position = "absolute",
            this._div.style.top = `${q4}px`,
            this._div.style.left = `${Z4}px`,
            this._div.style.zIndex = Iu.toString(),
            this._div.style.pointerEvents = "none"),
            this._activateOnTab && (this._onKeyDown = this._onKeyDown.bind(this),
            globalThis.addEventListener("keydown", this._onKeyDown, !1)),
            this._deactivateOnMouseMove && (this._onMouseMove = this._onMouseMove.bind(this),
            globalThis.document.addEventListener("mousemove", this._onMouseMove, !0));
            let e = this._renderer.view.canvas;
            if (e.parentNode)
                e.parentNode.appendChild(this._div),
                this._initAccessibilitySetup();
            else {
                let t = new MutationObserver( () => {
                    e.parentNode && (e.parentNode.appendChild(this._div),
                    t.disconnect(),
                    this._initAccessibilitySetup())
                }
                );
                t.observe(document.body, {
                    childList: !0,
                    subtree: !0
                })
            }
        }
        _initAccessibilitySetup() {
            this._renderer.runners.postrender.add(this),
            this._renderer.lastObjectRendered && this._updateAccessibleObjects(this._renderer.lastObjectRendered)
        }
        _deactivate() {
            if (!(!this._isActive || this._isMobileAccessibility)) {
                this._isActive = !1,
                globalThis.document.removeEventListener("mousemove", this._onMouseMove, !0),
                this._activateOnTab && globalThis.addEventListener("keydown", this._onKeyDown, !1),
                this._renderer.runners.postrender.remove(this);
                for (let e of this._children)
                    e._accessibleDiv && e._accessibleDiv.parentNode && (e._accessibleDiv.parentNode.removeChild(e._accessibleDiv),
                    e._accessibleDiv = null),
                    e._accessibleActive = !1;
                this._pool.forEach(e => {
                    e.parentNode && e.parentNode.removeChild(e)
                }
                ),
                this._div && this._div.parentNode && this._div.parentNode.removeChild(this._div),
                this._pool = [],
                this._children = []
            }
        }
        _updateAccessibleObjects(e) {
            if (!e.visible || !e.accessibleChildren)
                return;
            e.accessible && (e._accessibleActive || this._addChild(e),
            e._renderId = this._renderId);
            let t = e.children;
            if (t)
                for (let i = 0; i < t.length; i++)
                    this._updateAccessibleObjects(t[i])
        }
        init(e) {
            let t = E2.defaultOptions
              , i = {
                accessibilityOptions: Ou(Ou({}, t), e?.accessibilityOptions || {})
            };
            this.debug = i.accessibilityOptions.debug,
            this._activateOnTab = i.accessibilityOptions.activateOnTab,
            this._deactivateOnMouseMove = i.accessibilityOptions.deactivateOnMouseMove,
            i.accessibilityOptions.enabledByDefault ? this._activate() : this._activateOnTab && (this._onKeyDown = this._onKeyDown.bind(this),
            globalThis.addEventListener("keydown", this._onKeyDown, !1)),
            this._renderer.runners.postrender.remove(this)
        }
        postrender() {
            let e = performance.now();
            if (this._mobileInfo.android.device && e < this._androidUpdateCount || (this._androidUpdateCount = e + this._androidUpdateFrequency,
            !this._renderer.renderingToScreen || !this._renderer.view.canvas))
                return;
            let t = new Set;
            if (this._renderer.lastObjectRendered) {
                this._updateAccessibleObjects(this._renderer.lastObjectRendered);
                for (let i of this._children)
                    i._renderId === this._renderId && t.add(this._children.indexOf(i))
            }
            for (let i = this._children.length - 1; i >= 0; i--) {
                let s = this._children[i];
                t.has(i) || (s._accessibleDiv && s._accessibleDiv.parentNode && (s._accessibleDiv.parentNode.removeChild(s._accessibleDiv),
                this._pool.push(s._accessibleDiv),
                s._accessibleDiv = null),
                s._accessibleActive = !1,
                p2(this._children, i, 1))
            }
            if (this._renderer.renderingToScreen) {
                let {x: i, y: s, width: r, height: o} = this._renderer.screen
                  , d = this._div;
                d.style.left = `${i}px`,
                d.style.top = `${s}px`,
                d.style.width = `${r}px`,
                d.style.height = `${o}px`
            }
            for (let i = 0; i < this._children.length; i++) {
                let s = this._children[i];
                if (!s._accessibleActive || !s._accessibleDiv)
                    continue;
                let r = s._accessibleDiv
                  , o = s.hitArea || s.getBounds().rectangle;
                if (s.hitArea) {
                    let d = s.worldTransform
                      , f = this._renderer.resolution
                      , h = this._renderer.resolution;
                    r.style.left = `${(d.tx + o.x * d.a) * f}px`,
                    r.style.top = `${(d.ty + o.y * d.d) * h}px`,
                    r.style.width = `${o.width * d.a * f}px`,
                    r.style.height = `${o.height * d.d * h}px`
                } else {
                    this._capHitArea(o);
                    let d = this._renderer.resolution
                      , f = this._renderer.resolution;
                    r.style.left = `${o.x * d}px`,
                    r.style.top = `${o.y * f}px`,
                    r.style.width = `${o.width * d}px`,
                    r.style.height = `${o.height * f}px`
                }
            }
            this._renderId++
        }
        _updateDebugHTML(e) {
            e.innerHTML = `type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`
        }
        _capHitArea(e) {
            e.x < 0 && (e.width += e.x,
            e.x = 0),
            e.y < 0 && (e.height += e.y,
            e.y = 0);
            let {width: t, height: i} = this._renderer;
            e.x + e.width > t && (e.width = t - e.x),
            e.y + e.height > i && (e.height = i - e.y)
        }
        _addChild(e) {
            let t = this._pool.pop();
            t || (e.accessibleType === "button" ? t = document.createElement("button") : (t = document.createElement(e.accessibleType),
            t.style.cssText = `
    color: transparent;
    pointer-events: none;
    padding: 0;
    margin: 0;
    border: 0;
    outline: 0;
    background: transparent;
    box-sizing: border-box;
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
`,
            e.accessibleText && (t.innerText = e.accessibleText)),
            t.style.width = `${xr}px`,
            t.style.height = `${xr}px`,
            t.style.backgroundColor = this.debug ? "rgba(255,255,255,0.5)" : "transparent",
            t.style.position = "absolute",
            t.style.zIndex = Iu.toString(),
            t.style.borderStyle = "none",
            navigator.userAgent.toLowerCase().includes("chrome") ? t.setAttribute("aria-live", "off") : t.setAttribute("aria-live", "polite"),
            navigator.userAgent.match(/rv:.*Gecko\//) ? t.setAttribute("aria-relevant", "additions") : t.setAttribute("aria-relevant", "text"),
            t.addEventListener("click", this._onClick.bind(this)),
            t.addEventListener("focus", this._onFocus.bind(this)),
            t.addEventListener("focusout", this._onFocusOut.bind(this))),
            t.style.pointerEvents = e.accessiblePointerEvents,
            t.type = e.accessibleType,
            e.accessibleTitle && e.accessibleTitle !== null ? t.title = e.accessibleTitle : (!e.accessibleHint || e.accessibleHint === null) && (t.title = `container ${e.tabIndex}`),
            e.accessibleHint && e.accessibleHint !== null && t.setAttribute("aria-label", e.accessibleHint),
            this.debug && this._updateDebugHTML(t),
            e._accessibleActive = !0,
            e._accessibleDiv = t,
            t.container = e,
            this._children.push(e),
            this._div.appendChild(e._accessibleDiv),
            e.interactive && (e._accessibleDiv.tabIndex = e.tabIndex)
        }
        _dispatchEvent(e, t) {
            let {container: i} = e.target
              , s = this._renderer.events.rootBoundary
              , r = Object.assign(new Bs(s), {
                target: i
            });
            s.rootTarget = this._renderer.lastObjectRendered,
            t.forEach(o => s.dispatchEvent(r, o))
        }
        _onClick(e) {
            this._dispatchEvent(e, ["click", "pointertap", "tap"])
        }
        _onFocus(e) {
            e.target.getAttribute("aria-live") || e.target.setAttribute("aria-live", "assertive"),
            this._dispatchEvent(e, ["mouseover"])
        }
        _onFocusOut(e) {
            e.target.getAttribute("aria-live") || e.target.setAttribute("aria-live", "polite"),
            this._dispatchEvent(e, ["mouseout"])
        }
        _onKeyDown(e) {
            e.keyCode !== K4 || !this._activateOnTab || this._activate()
        }
        _onMouseMove(e) {
            e.movementX === 0 && e.movementY === 0 || this._deactivate()
        }
        destroy() {
            this._deactivate(),
            this._destroyTouchHook(),
            this._div = null,
            this._pool = null,
            this._children = null,
            this._renderer = null,
            this._activateOnTab && globalThis.removeEventListener("keydown", this._onKeyDown)
        }
        setAccessibilityEnabled(e) {
            e ? this._activate() : this._deactivate()
        }
    }
    ;
    Ud.extension = {
        type: [B.WebGLSystem, B.WebGPUSystem],
        name: "accessibility"
    },
    Ud.defaultOptions = {
        enabledByDefault: !1,
        debug: !1,
        activateOnTab: !0,
        deactivateOnMouseMove: !0
    };
    var t8 = Ud
      , a8 = {
        accessible: !1,
        accessibleTitle: null,
        accessibleHint: null,
        tabIndex: 0,
        _accessibleActive: !1,
        _accessibleDiv: null,
        accessibleType: "button",
        accessibleText: null,
        accessiblePointerEvents: "auto",
        accessibleChildren: !0,
        _renderId: -1
    };
    pe.add(t8),
    he.mixin(a8);
    var Kr = class {
        static init(e) {
            Object.defineProperty(this, "resizeTo", {
                set(t) {
                    globalThis.removeEventListener("resize", this.queueResize),
                    this._resizeTo = t,
                    t && (globalThis.addEventListener("resize", this.queueResize),
                    this.resize())
                },
                get() {
                    return this._resizeTo
                }
            }),
            this.queueResize = () => {
                this._resizeTo && (this._cancelResize(),
                this._resizeId = requestAnimationFrame( () => this.resize()))
            }
            ,
            this._cancelResize = () => {
                this._resizeId && (cancelAnimationFrame(this._resizeId),
                this._resizeId = null)
            }
            ,
            this.resize = () => {
                if (!this._resizeTo)
                    return;
                this._cancelResize();
                let t, i;
                if (this._resizeTo === globalThis.window)
                    t = globalThis.innerWidth,
                    i = globalThis.innerHeight;
                else {
                    let {clientWidth: s, clientHeight: r} = this._resizeTo;
                    t = s,
                    i = r
                }
                this.renderer.resize(t, i),
                this.render()
            }
            ,
            this._resizeId = null,
            this._resizeTo = null,
            this.resizeTo = e.resizeTo || null
        }
        static destroy() {
            globalThis.removeEventListener("resize", this.queueResize),
            this._cancelResize(),
            this._cancelResize = null,
            this.queueResize = null,
            this.resizeTo = null,
            this.resize = null
        }
    }
    ;
    Kr.extension = B.Application;
    var Ga = (a => (a[a.INTERACTION = 50] = "INTERACTION",
    a[a.HIGH = 25] = "HIGH",
    a[a.NORMAL = 0] = "NORMAL",
    a[a.LOW = -25] = "LOW",
    a[a.UTILITY = -50] = "UTILITY",
    a))(Ga || {})
      , As = class {
        constructor(e, t=null, i=0, s=!1) {
            this.next = null,
            this.previous = null,
            this._destroyed = !1,
            this._fn = e,
            this._context = t,
            this.priority = i,
            this._once = s
        }
        match(e, t=null) {
            return this._fn === e && this._context === t
        }
        emit(e) {
            this._fn && (this._context ? this._fn.call(this._context, e) : this._fn(e));
            let t = this.next;
            return this._once && this.destroy(!0),
            this._destroyed && (this.next = null),
            t
        }
        connect(e) {
            this.previous = e,
            e.next && (e.next.previous = this),
            this.next = e.next,
            e.next = this
        }
        destroy(e=!1) {
            this._destroyed = !0,
            this._fn = null,
            this._context = null,
            this.previous && (this.previous.next = this.next),
            this.next && (this.next.previous = this.previous);
            let t = this.next;
            return this.next = e ? null : t,
            this.previous = null,
            t
        }
    }
      , P2 = class lt {
        constructor() {
            this.autoStart = !1,
            this.deltaTime = 1,
            this.lastTime = -1,
            this.speed = 1,
            this.started = !1,
            this._requestId = null,
            this._maxElapsedMS = 100,
            this._minElapsedMS = 0,
            this._protected = !1,
            this._lastFrame = -1,
            this._head = new As(null,null,1 / 0),
            this.deltaMS = 1 / lt.targetFPMS,
            this.elapsedMS = 1 / lt.targetFPMS,
            this._tick = e => {
                this._requestId = null,
                this.started && (this.update(e),
                this.started && this._requestId === null && this._head.next && (this._requestId = requestAnimationFrame(this._tick)))
            }
        }
        _requestIfNeeded() {
            this._requestId === null && this._head.next && (this.lastTime = performance.now(),
            this._lastFrame = this.lastTime,
            this._requestId = requestAnimationFrame(this._tick))
        }
        _cancelIfNeeded() {
            this._requestId !== null && (cancelAnimationFrame(this._requestId),
            this._requestId = null)
        }
        _startIfPossible() {
            this.started ? this._requestIfNeeded() : this.autoStart && this.start()
        }
        add(e, t, i=Ga.NORMAL) {
            return this._addListener(new As(e,t,i))
        }
        addOnce(e, t, i=Ga.NORMAL) {
            return this._addListener(new As(e,t,i,!0))
        }
        _addListener(e) {
            let t = this._head.next
              , i = this._head;
            if (!t)
                e.connect(i);
            else {
                for (; t; ) {
                    if (e.priority > t.priority) {
                        e.connect(i);
                        break
                    }
                    i = t,
                    t = t.next
                }
                e.previous || e.connect(i)
            }
            return this._startIfPossible(),
            this
        }
        remove(e, t) {
            let i = this._head.next;
            for (; i; )
                i.match(e, t) ? i = i.destroy() : i = i.next;
            return this._head.next || this._cancelIfNeeded(),
            this
        }
        get count() {
            if (!this._head)
                return 0;
            let e = 0
              , t = this._head;
            for (; t = t.next; )
                e++;
            return e
        }
        start() {
            this.started || (this.started = !0,
            this._requestIfNeeded())
        }
        stop() {
            this.started && (this.started = !1,
            this._cancelIfNeeded())
        }
        destroy() {
            if (!this._protected) {
                this.stop();
                let e = this._head.next;
                for (; e; )
                    e = e.destroy(!0);
                this._head.destroy(),
                this._head = null
            }
        }
        update(e=performance.now()) {
            let t;
            if (e > this.lastTime) {
                if (t = this.elapsedMS = e - this.lastTime,
                t > this._maxElapsedMS && (t = this._maxElapsedMS),
                t *= this.speed,
                this._minElapsedMS) {
                    let r = e - this._lastFrame | 0;
                    if (r < this._minElapsedMS)
                        return;
                    this._lastFrame = e - r % this._minElapsedMS
                }
                this.deltaMS = t,
                this.deltaTime = this.deltaMS * lt.targetFPMS;
                let i = this._head
                  , s = i.next;
                for (; s; )
                    s = s.emit(this);
                i.next || this._cancelIfNeeded()
            } else
                this.deltaTime = this.deltaMS = this.elapsedMS = 0;
            this.lastTime = e
        }
        get FPS() {
            return 1e3 / this.elapsedMS
        }
        get minFPS() {
            return 1e3 / this._maxElapsedMS
        }
        set minFPS(e) {
            let t = Math.min(this.maxFPS, e)
              , i = Math.min(Math.max(0, t) / 1e3, lt.targetFPMS);
            this._maxElapsedMS = 1 / i
        }
        get maxFPS() {
            return this._minElapsedMS ? Math.round(1e3 / this._minElapsedMS) : 0
        }
        set maxFPS(e) {
            if (e === 0)
                this._minElapsedMS = 0;
            else {
                let t = Math.max(this.minFPS, e);
                this._minElapsedMS = 1 / (t / 1e3)
            }
        }
        static get shared() {
            if (!lt._shared) {
                let e = lt._shared = new lt;
                e.autoStart = !0,
                e._protected = !0
            }
            return lt._shared
        }
        static get system() {
            if (!lt._system) {
                let e = lt._system = new lt;
                e.autoStart = !0,
                e._protected = !0
            }
            return lt._system
        }
    }
    ;
    P2.targetFPMS = .06;
    var tt = P2
      , qr = class {
        static init(e) {
            e = Object.assign({
                autoStart: !0,
                sharedTicker: !1
            }, e),
            Object.defineProperty(this, "ticker", {
                set(t) {
                    this._ticker && this._ticker.remove(this.render, this),
                    this._ticker = t,
                    t && t.add(this.render, this, Ga.LOW)
                },
                get() {
                    return this._ticker
                }
            }),
            this.stop = () => {
                this._ticker.stop()
            }
            ,
            this.start = () => {
                this._ticker.start()
            }
            ,
            this._ticker = null,
            this.ticker = e.sharedTicker ? tt.shared : new tt,
            e.autoStart && this.start()
        }
        static destroy() {
            if (this._ticker) {
                let e = this._ticker;
                this.ticker = null,
                e.destroy()
            }
        }
    }
    ;
    qr.extension = B.Application,
    pe.add(Kr),
    pe.add(qr);
    var i8 = class {
        constructor() {
            this.interactionFrequency = 10,
            this._deltaTime = 0,
            this._didMove = !1,
            this._tickerAdded = !1,
            this._pauseUpdate = !0
        }
        init(a) {
            this.removeTickerListener(),
            this.events = a,
            this.interactionFrequency = 10,
            this._deltaTime = 0,
            this._didMove = !1,
            this._tickerAdded = !1,
            this._pauseUpdate = !0
        }
        get pauseUpdate() {
            return this._pauseUpdate
        }
        set pauseUpdate(a) {
            this._pauseUpdate = a
        }
        addTickerListener() {
            this._tickerAdded || !this.domElement || (tt.system.add(this._tickerUpdate, this, Ga.INTERACTION),
            this._tickerAdded = !0)
        }
        removeTickerListener() {
            this._tickerAdded && (tt.system.remove(this._tickerUpdate, this),
            this._tickerAdded = !1)
        }
        pointerMoved() {
            this._didMove = !0
        }
        _update() {
            if (!this.domElement || this._pauseUpdate)
                return;
            if (this._didMove) {
                this._didMove = !1;
                return
            }
            let a = this.events._rootPointerEvent;
            this.events.supportsTouchEvents && a.pointerType === "touch" || globalThis.document.dispatchEvent(new PointerEvent("pointermove",{
                clientX: a.clientX,
                clientY: a.clientY,
                pointerType: a.pointerType,
                pointerId: a.pointerId
            }))
        }
        _tickerUpdate(a) {
            this._deltaTime += a.deltaTime,
            !(this._deltaTime < this.interactionFrequency) && (this._deltaTime = 0,
            this._update())
        }
    }
      , Ca = new i8
      , Ii = class extends Bs {
        constructor() {
            super(...arguments),
            this.client = new Ce,
            this.movement = new Ce,
            this.offset = new Ce,
            this.global = new Ce,
            this.screen = new Ce
        }
        get clientX() {
            return this.client.x
        }
        get clientY() {
            return this.client.y
        }
        get x() {
            return this.clientX
        }
        get y() {
            return this.clientY
        }
        get movementX() {
            return this.movement.x
        }
        get movementY() {
            return this.movement.y
        }
        get offsetX() {
            return this.offset.x
        }
        get offsetY() {
            return this.offset.y
        }
        get globalX() {
            return this.global.x
        }
        get globalY() {
            return this.global.y
        }
        get screenX() {
            return this.screen.x
        }
        get screenY() {
            return this.screen.y
        }
        getLocalPosition(e, t, i) {
            return e.worldTransform.applyInverse(i || this.global, t)
        }
        getModifierState(e) {
            return "getModifierState"in this.nativeEvent && this.nativeEvent.getModifierState(e)
        }
        initMouseEvent(e, t, i, s, r, o, d, f, h, u, p, x, _, T, S) {
            throw new Error("Method not implemented.")
        }
    }
      , gt = class extends Ii {
        constructor() {
            super(...arguments),
            this.width = 0,
            this.height = 0,
            this.isPrimary = !1
        }
        getCoalescedEvents() {
            return this.type === "pointermove" || this.type === "mousemove" || this.type === "touchmove" ? [this] : []
        }
        getPredictedEvents() {
            throw new Error("getPredictedEvents is not supported!")
        }
    }
      , Ia = class extends Ii {
        constructor() {
            super(...arguments),
            this.DOM_DELTA_PIXEL = 0,
            this.DOM_DELTA_LINE = 1,
            this.DOM_DELTA_PAGE = 2
        }
    }
    ;
    Ia.DOM_DELTA_PIXEL = 0,
    Ia.DOM_DELTA_LINE = 1,
    Ia.DOM_DELTA_PAGE = 2;
    var s8 = 2048
      , r8 = new Ce
      , os = new Ce
      , Ld = class {
        constructor(e) {
            this.dispatch = new yt,
            this.moveOnAll = !1,
            this.enableGlobalMoveEvents = !0,
            this.mappingState = {
                trackingData: {}
            },
            this.eventPool = new Map,
            this._allInteractiveElements = [],
            this._hitElements = [],
            this._isPointerMoveEvent = !1,
            this.rootTarget = e,
            this.hitPruneFn = this.hitPruneFn.bind(this),
            this.hitTestFn = this.hitTestFn.bind(this),
            this.mapPointerDown = this.mapPointerDown.bind(this),
            this.mapPointerMove = this.mapPointerMove.bind(this),
            this.mapPointerOut = this.mapPointerOut.bind(this),
            this.mapPointerOver = this.mapPointerOver.bind(this),
            this.mapPointerUp = this.mapPointerUp.bind(this),
            this.mapPointerUpOutside = this.mapPointerUpOutside.bind(this),
            this.mapWheel = this.mapWheel.bind(this),
            this.mappingTable = {},
            this.addEventMapping("pointerdown", this.mapPointerDown),
            this.addEventMapping("pointermove", this.mapPointerMove),
            this.addEventMapping("pointerout", this.mapPointerOut),
            this.addEventMapping("pointerleave", this.mapPointerOut),
            this.addEventMapping("pointerover", this.mapPointerOver),
            this.addEventMapping("pointerup", this.mapPointerUp),
            this.addEventMapping("pointerupoutside", this.mapPointerUpOutside),
            this.addEventMapping("wheel", this.mapWheel)
        }
        addEventMapping(e, t) {
            this.mappingTable[e] || (this.mappingTable[e] = []),
            this.mappingTable[e].push({
                fn: t,
                priority: 0
            }),
            this.mappingTable[e].sort( (i, s) => i.priority - s.priority)
        }
        dispatchEvent(e, t) {
            e.propagationStopped = !1,
            e.propagationImmediatelyStopped = !1,
            this.propagate(e, t),
            this.dispatch.emit(t || e.type, e)
        }
        mapEvent(e) {
            if (!this.rootTarget)
                return;
            let t = this.mappingTable[e.type];
            if (t)
                for (let i = 0, s = t.length; i < s; i++)
                    t[i].fn(e)
        }
        hitTest(e, t) {
            Ca.pauseUpdate = !0;
            let i = this._isPointerMoveEvent && this.enableGlobalMoveEvents ? "hitTestMoveRecursive" : "hitTestRecursive"
              , s = this[i](this.rootTarget, this.rootTarget.eventMode, r8.set(e, t), this.hitTestFn, this.hitPruneFn);
            return s && s[0]
        }
        propagate(e, t) {
            if (!e.target)
                return;
            let i = e.composedPath();
            e.eventPhase = e.CAPTURING_PHASE;
            for (let s = 0, r = i.length - 1; s < r; s++)
                if (e.currentTarget = i[s],
                this.notifyTarget(e, t),
                e.propagationStopped || e.propagationImmediatelyStopped)
                    return;
            if (e.eventPhase = e.AT_TARGET,
            e.currentTarget = e.target,
            this.notifyTarget(e, t),
            !(e.propagationStopped || e.propagationImmediatelyStopped)) {
                e.eventPhase = e.BUBBLING_PHASE;
                for (let s = i.length - 2; s >= 0; s--)
                    if (e.currentTarget = i[s],
                    this.notifyTarget(e, t),
                    e.propagationStopped || e.propagationImmediatelyStopped)
                        return
            }
        }
        all(e, t, i=this._allInteractiveElements) {
            if (i.length === 0)
                return;
            e.eventPhase = e.BUBBLING_PHASE;
            let s = Array.isArray(t) ? t : [t];
            for (let r = i.length - 1; r >= 0; r--)
                s.forEach(o => {
                    e.currentTarget = i[r],
                    this.notifyTarget(e, o)
                }
                )
        }
        propagationPath(e) {
            let t = [e];
            for (let i = 0; i < s8 && e !== this.rootTarget && e.parent; i++) {
                if (!e.parent)
                    throw new Error("Cannot find propagation path to disconnected target");
                t.push(e.parent),
                e = e.parent
            }
            return t.reverse(),
            t
        }
        hitTestMoveRecursive(e, t, i, s, r, o=!1) {
            let d = !1;
            if (this._interactivePrune(e))
                return null;
            if ((e.eventMode === "dynamic" || t === "dynamic") && (Ca.pauseUpdate = !1),
            e.interactiveChildren && e.children) {
                let u = e.children;
                for (let p = u.length - 1; p >= 0; p--) {
                    let x = u[p]
                      , _ = this.hitTestMoveRecursive(x, this._isInteractive(t) ? t : x.eventMode, i, s, r, o || r(e, i));
                    if (_) {
                        if (_.length > 0 && !_[_.length - 1].parent)
                            continue;
                        let T = e.isInteractive();
                        (_.length > 0 || T) && (T && this._allInteractiveElements.push(e),
                        _.push(e)),
                        this._hitElements.length === 0 && (this._hitElements = _),
                        d = !0
                    }
                }
            }
            let f = this._isInteractive(t)
              , h = e.isInteractive();
            return h && h && this._allInteractiveElements.push(e),
            o || this._hitElements.length > 0 ? null : d ? this._hitElements : f && !r(e, i) && s(e, i) ? h ? [e] : [] : null
        }
        hitTestRecursive(e, t, i, s, r) {
            if (this._interactivePrune(e) || r(e, i))
                return null;
            if ((e.eventMode === "dynamic" || t === "dynamic") && (Ca.pauseUpdate = !1),
            e.interactiveChildren && e.children) {
                let f = e.children
                  , h = i;
                for (let u = f.length - 1; u >= 0; u--) {
                    let p = f[u]
                      , x = this.hitTestRecursive(p, this._isInteractive(t) ? t : p.eventMode, h, s, r);
                    if (x) {
                        if (x.length > 0 && !x[x.length - 1].parent)
                            continue;
                        let _ = e.isInteractive();
                        return (x.length > 0 || _) && x.push(e),
                        x
                    }
                }
            }
            let o = this._isInteractive(t)
              , d = e.isInteractive();
            return o && s(e, i) ? d ? [e] : [] : null
        }
        _isInteractive(e) {
            return e === "static" || e === "dynamic"
        }
        _interactivePrune(e) {
            return !e || !e.visible || !e.renderable || !e.measurable || e.eventMode === "none" || e.eventMode === "passive" && !e.interactiveChildren
        }
        hitPruneFn(e, t) {
            if (e.hitArea && (e.worldTransform.applyInverse(t, os),
            !e.hitArea.contains(os.x, os.y)))
                return !0;
            if (e.effects && e.effects.length)
                for (let i = 0; i < e.effects.length; i++) {
                    let s = e.effects[i];
                    if (s.containsPoint && !s.containsPoint(t, this.hitTestFn))
                        return !0
                }
            return !1
        }
        hitTestFn(e, t) {
            return e.hitArea ? !0 : e != null && e.containsPoint ? (e.worldTransform.applyInverse(t, os),
            e.containsPoint(os)) : !1
        }
        notifyTarget(e, t) {
            var i, s;
            if (!e.currentTarget.isInteractive())
                return;
            t != null || (t = e.type);
            let r = `on${t}`;
            (s = (i = e.currentTarget)[r]) == null || s.call(i, e);
            let o = e.eventPhase === e.CAPTURING_PHASE || e.eventPhase === e.AT_TARGET ? `${t}capture` : t;
            this._notifyListeners(e, o),
            e.eventPhase === e.AT_TARGET && this._notifyListeners(e, t)
        }
        mapPointerDown(e) {
            if (!(e instanceof gt))
                return;
            let t = this.createPointerEvent(e);
            if (this.dispatchEvent(t, "pointerdown"),
            t.pointerType === "touch")
                this.dispatchEvent(t, "touchstart");
            else if (t.pointerType === "mouse" || t.pointerType === "pen") {
                let s = t.button === 2;
                this.dispatchEvent(t, s ? "rightdown" : "mousedown")
            }
            let i = this.trackingData(e.pointerId);
            i.pressTargetsByButton[e.button] = t.composedPath(),
            this.freeEvent(t)
        }
        mapPointerMove(e) {
            var t, i, s;
            if (!(e instanceof gt))
                return;
            this._allInteractiveElements.length = 0,
            this._hitElements.length = 0,
            this._isPointerMoveEvent = !0;
            let r = this.createPointerEvent(e);
            this._isPointerMoveEvent = !1;
            let o = r.pointerType === "mouse" || r.pointerType === "pen"
              , d = this.trackingData(e.pointerId)
              , f = this.findMountedTarget(d.overTargets);
            if (((t = d.overTargets) == null ? void 0 : t.length) > 0 && f !== r.target) {
                let p = e.type === "mousemove" ? "mouseout" : "pointerout"
                  , x = this.createPointerEvent(e, p, f);
                if (this.dispatchEvent(x, "pointerout"),
                o && this.dispatchEvent(x, "mouseout"),
                !r.composedPath().includes(f)) {
                    let _ = this.createPointerEvent(e, "pointerleave", f);
                    for (_.eventPhase = _.AT_TARGET; _.target && !r.composedPath().includes(_.target); )
                        _.currentTarget = _.target,
                        this.notifyTarget(_),
                        o && this.notifyTarget(_, "mouseleave"),
                        _.target = _.target.parent;
                    this.freeEvent(_)
                }
                this.freeEvent(x)
            }
            if (f !== r.target) {
                let p = e.type === "mousemove" ? "mouseover" : "pointerover"
                  , x = this.clonePointerEvent(r, p);
                this.dispatchEvent(x, "pointerover"),
                o && this.dispatchEvent(x, "mouseover");
                let _ = f?.parent;
                for (; _ && _ !== this.rootTarget.parent && _ !== r.target; )
                    _ = _.parent;
                if (!_ || _ === this.rootTarget.parent) {
                    let T = this.clonePointerEvent(r, "pointerenter");
                    for (T.eventPhase = T.AT_TARGET; T.target && T.target !== f && T.target !== this.rootTarget.parent; )
                        T.currentTarget = T.target,
                        this.notifyTarget(T),
                        o && this.notifyTarget(T, "mouseenter"),
                        T.target = T.target.parent;
                    this.freeEvent(T)
                }
                this.freeEvent(x)
            }
            let h = []
              , u = (i = this.enableGlobalMoveEvents) != null ? i : !0;
            this.moveOnAll ? h.push("pointermove") : this.dispatchEvent(r, "pointermove"),
            u && h.push("globalpointermove"),
            r.pointerType === "touch" && (this.moveOnAll ? h.splice(1, 0, "touchmove") : this.dispatchEvent(r, "touchmove"),
            u && h.push("globaltouchmove")),
            o && (this.moveOnAll ? h.splice(1, 0, "mousemove") : this.dispatchEvent(r, "mousemove"),
            u && h.push("globalmousemove"),
            this.cursor = (s = r.target) == null ? void 0 : s.cursor),
            h.length > 0 && this.all(r, h),
            this._allInteractiveElements.length = 0,
            this._hitElements.length = 0,
            d.overTargets = r.composedPath(),
            this.freeEvent(r)
        }
        mapPointerOver(e) {
            var t;
            if (!(e instanceof gt))
                return;
            let i = this.trackingData(e.pointerId)
              , s = this.createPointerEvent(e)
              , r = s.pointerType === "mouse" || s.pointerType === "pen";
            this.dispatchEvent(s, "pointerover"),
            r && this.dispatchEvent(s, "mouseover"),
            s.pointerType === "mouse" && (this.cursor = (t = s.target) == null ? void 0 : t.cursor);
            let o = this.clonePointerEvent(s, "pointerenter");
            for (o.eventPhase = o.AT_TARGET; o.target && o.target !== this.rootTarget.parent; )
                o.currentTarget = o.target,
                this.notifyTarget(o),
                r && this.notifyTarget(o, "mouseenter"),
                o.target = o.target.parent;
            i.overTargets = s.composedPath(),
            this.freeEvent(s),
            this.freeEvent(o)
        }
        mapPointerOut(e) {
            if (!(e instanceof gt))
                return;
            let t = this.trackingData(e.pointerId);
            if (t.overTargets) {
                let i = e.pointerType === "mouse" || e.pointerType === "pen"
                  , s = this.findMountedTarget(t.overTargets)
                  , r = this.createPointerEvent(e, "pointerout", s);
                this.dispatchEvent(r),
                i && this.dispatchEvent(r, "mouseout");
                let o = this.createPointerEvent(e, "pointerleave", s);
                for (o.eventPhase = o.AT_TARGET; o.target && o.target !== this.rootTarget.parent; )
                    o.currentTarget = o.target,
                    this.notifyTarget(o),
                    i && this.notifyTarget(o, "mouseleave"),
                    o.target = o.target.parent;
                t.overTargets = null,
                this.freeEvent(r),
                this.freeEvent(o)
            }
            this.cursor = null
        }
        mapPointerUp(e) {
            if (!(e instanceof gt))
                return;
            let t = performance.now()
              , i = this.createPointerEvent(e);
            if (this.dispatchEvent(i, "pointerup"),
            i.pointerType === "touch")
                this.dispatchEvent(i, "touchend");
            else if (i.pointerType === "mouse" || i.pointerType === "pen") {
                let d = i.button === 2;
                this.dispatchEvent(i, d ? "rightup" : "mouseup")
            }
            let s = this.trackingData(e.pointerId)
              , r = this.findMountedTarget(s.pressTargetsByButton[e.button])
              , o = r;
            if (r && !i.composedPath().includes(r)) {
                let d = r;
                for (; d && !i.composedPath().includes(d); ) {
                    if (i.currentTarget = d,
                    this.notifyTarget(i, "pointerupoutside"),
                    i.pointerType === "touch")
                        this.notifyTarget(i, "touchendoutside");
                    else if (i.pointerType === "mouse" || i.pointerType === "pen") {
                        let f = i.button === 2;
                        this.notifyTarget(i, f ? "rightupoutside" : "mouseupoutside")
                    }
                    d = d.parent
                }
                delete s.pressTargetsByButton[e.button],
                o = d
            }
            if (o) {
                let d = this.clonePointerEvent(i, "click");
                d.target = o,
                d.path = null,
                s.clicksByButton[e.button] || (s.clicksByButton[e.button] = {
                    clickCount: 0,
                    target: d.target,
                    timeStamp: t
                });
                let f = s.clicksByButton[e.button];
                if (f.target === d.target && t - f.timeStamp < 200 ? ++f.clickCount : f.clickCount = 1,
                f.target = d.target,
                f.timeStamp = t,
                d.detail = f.clickCount,
                d.pointerType === "mouse") {
                    let h = d.button === 2;
                    this.dispatchEvent(d, h ? "rightclick" : "click")
                } else
                    d.pointerType === "touch" && this.dispatchEvent(d, "tap");
                this.dispatchEvent(d, "pointertap"),
                this.freeEvent(d)
            }
            this.freeEvent(i)
        }
        mapPointerUpOutside(e) {
            if (!(e instanceof gt))
                return;
            let t = this.trackingData(e.pointerId)
              , i = this.findMountedTarget(t.pressTargetsByButton[e.button])
              , s = this.createPointerEvent(e);
            if (i) {
                let r = i;
                for (; r; )
                    s.currentTarget = r,
                    this.notifyTarget(s, "pointerupoutside"),
                    s.pointerType === "touch" ? this.notifyTarget(s, "touchendoutside") : (s.pointerType === "mouse" || s.pointerType === "pen") && this.notifyTarget(s, s.button === 2 ? "rightupoutside" : "mouseupoutside"),
                    r = r.parent;
                delete t.pressTargetsByButton[e.button]
            }
            this.freeEvent(s)
        }
        mapWheel(e) {
            if (!(e instanceof Ia))
                return;
            let t = this.createWheelEvent(e);
            this.dispatchEvent(t),
            this.freeEvent(t)
        }
        findMountedTarget(e) {
            if (!e)
                return null;
            let t = e[0];
            for (let i = 1; i < e.length && e[i].parent === t; i++)
                t = e[i];
            return t
        }
        createPointerEvent(e, t, i) {
            var s;
            let r = this.allocateEvent(gt);
            return this.copyPointerData(e, r),
            this.copyMouseData(e, r),
            this.copyData(e, r),
            r.nativeEvent = e.nativeEvent,
            r.originalEvent = e,
            r.target = (s = i ?? this.hitTest(r.global.x, r.global.y)) != null ? s : this._hitElements[0],
            typeof t == "string" && (r.type = t),
            r
        }
        createWheelEvent(e) {
            let t = this.allocateEvent(Ia);
            return this.copyWheelData(e, t),
            this.copyMouseData(e, t),
            this.copyData(e, t),
            t.nativeEvent = e.nativeEvent,
            t.originalEvent = e,
            t.target = this.hitTest(t.global.x, t.global.y),
            t
        }
        clonePointerEvent(e, t) {
            let i = this.allocateEvent(gt);
            return i.nativeEvent = e.nativeEvent,
            i.originalEvent = e.originalEvent,
            this.copyPointerData(e, i),
            this.copyMouseData(e, i),
            this.copyData(e, i),
            i.target = e.target,
            i.path = e.composedPath().slice(),
            i.type = t ?? i.type,
            i
        }
        copyWheelData(e, t) {
            t.deltaMode = e.deltaMode,
            t.deltaX = e.deltaX,
            t.deltaY = e.deltaY,
            t.deltaZ = e.deltaZ
        }
        copyPointerData(e, t) {
            e instanceof gt && t instanceof gt && (t.pointerId = e.pointerId,
            t.width = e.width,
            t.height = e.height,
            t.isPrimary = e.isPrimary,
            t.pointerType = e.pointerType,
            t.pressure = e.pressure,
            t.tangentialPressure = e.tangentialPressure,
            t.tiltX = e.tiltX,
            t.tiltY = e.tiltY,
            t.twist = e.twist)
        }
        copyMouseData(e, t) {
            e instanceof Ii && t instanceof Ii && (t.altKey = e.altKey,
            t.button = e.button,
            t.buttons = e.buttons,
            t.client.copyFrom(e.client),
            t.ctrlKey = e.ctrlKey,
            t.metaKey = e.metaKey,
            t.movement.copyFrom(e.movement),
            t.screen.copyFrom(e.screen),
            t.shiftKey = e.shiftKey,
            t.global.copyFrom(e.global))
        }
        copyData(e, t) {
            t.isTrusted = e.isTrusted,
            t.srcElement = e.srcElement,
            t.timeStamp = performance.now(),
            t.type = e.type,
            t.detail = e.detail,
            t.view = e.view,
            t.which = e.which,
            t.layer.copyFrom(e.layer),
            t.page.copyFrom(e.page)
        }
        trackingData(e) {
            return this.mappingState.trackingData[e] || (this.mappingState.trackingData[e] = {
                pressTargetsByButton: {},
                clicksByButton: {},
                overTarget: null
            }),
            this.mappingState.trackingData[e]
        }
        allocateEvent(e) {
            this.eventPool.has(e) || this.eventPool.set(e, []);
            let t = this.eventPool.get(e).pop() || new e(this);
            return t.eventPhase = t.NONE,
            t.currentTarget = null,
            t.defaultPrevented = !1,
            t.path = null,
            t.target = null,
            t
        }
        freeEvent(e) {
            if (e.manager !== this)
                throw new Error("It is illegal to free an event not managed by this EventBoundary!");
            let t = e.constructor;
            this.eventPool.has(t) || this.eventPool.set(t, []),
            this.eventPool.get(t).push(e)
        }
        _notifyListeners(e, t) {
            let i = e.currentTarget._events[t];
            if (i)
                if ("fn"in i)
                    i.once && e.currentTarget.removeListener(t, i.fn, void 0, !0),
                    i.fn.call(i.context, e);
                else
                    for (let s = 0, r = i.length; s < r && !e.propagationImmediatelyStopped; s++)
                        i[s].once && e.currentTarget.removeListener(t, i[s].fn, void 0, !0),
                        i[s].fn.call(i[s].context, e)
        }
    }
      , n8 = Object.defineProperty
      , Bu = Object.getOwnPropertySymbols
      , o8 = Object.prototype.hasOwnProperty
      , c8 = Object.prototype.propertyIsEnumerable
      , Fu = (a, e, t) => e in a ? n8(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , d8 = (a, e) => {
        for (var t in e || (e = {}))
            o8.call(e, t) && Fu(a, t, e[t]);
        if (Bu)
            for (var t of Bu(e))
                c8.call(e, t) && Fu(a, t, e[t]);
        return a
    }
      , f8 = 1
      , h8 = {
        touchstart: "pointerdown",
        touchend: "pointerup",
        touchendoutside: "pointerupoutside",
        touchmove: "pointermove",
        touchcancel: "pointercancel"
    }
      , Nd = class jd {
        constructor(e) {
            this.supportsTouchEvents = "ontouchstart"in globalThis,
            this.supportsPointerEvents = !!globalThis.PointerEvent,
            this.domElement = null,
            this.resolution = 1,
            this.renderer = e,
            this.rootBoundary = new Ld(null),
            Ca.init(this),
            this.autoPreventDefault = !0,
            this._eventsAdded = !1,
            this._rootPointerEvent = new gt(null),
            this._rootWheelEvent = new Ia(null),
            this.cursorStyles = {
                default: "inherit",
                pointer: "pointer"
            },
            this.features = new Proxy(d8({}, jd.defaultEventFeatures),{
                set: (t, i, s) => (i === "globalMove" && (this.rootBoundary.enableGlobalMoveEvents = s),
                t[i] = s,
                !0)
            }),
            this._onPointerDown = this._onPointerDown.bind(this),
            this._onPointerMove = this._onPointerMove.bind(this),
            this._onPointerUp = this._onPointerUp.bind(this),
            this._onPointerOverOut = this._onPointerOverOut.bind(this),
            this.onWheel = this.onWheel.bind(this)
        }
        static get defaultEventMode() {
            return this._defaultEventMode
        }
        init(e) {
            var t, i;
            let {canvas: s, resolution: r} = this.renderer;
            this.setTargetElement(s),
            this.resolution = r,
            jd._defaultEventMode = (t = e.eventMode) != null ? t : "passive",
            Object.assign(this.features, (i = e.eventFeatures) != null ? i : {}),
            this.rootBoundary.enableGlobalMoveEvents = this.features.globalMove
        }
        resolutionChange(e) {
            this.resolution = e
        }
        destroy() {
            this.setTargetElement(null),
            this.renderer = null,
            this._currentCursor = null
        }
        setCursor(e) {
            e || (e = "default");
            let t = !0;
            if (globalThis.OffscreenCanvas && this.domElement instanceof OffscreenCanvas && (t = !1),
            this._currentCursor === e)
                return;
            this._currentCursor = e;
            let i = this.cursorStyles[e];
            if (i)
                switch (typeof i) {
                case "string":
                    t && (this.domElement.style.cursor = i);
                    break;
                case "function":
                    i(e);
                    break;
                case "object":
                    t && Object.assign(this.domElement.style, i);
                    break
                }
            else
                t && typeof e == "string" && !Object.prototype.hasOwnProperty.call(this.cursorStyles, e) && (this.domElement.style.cursor = e)
        }
        get pointer() {
            return this._rootPointerEvent
        }
        _onPointerDown(e) {
            if (!this.features.click)
                return;
            this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;
            let t = this._normalizeToPointerData(e);
            this.autoPreventDefault && t[0].isNormalized && (e.cancelable || !("cancelable"in e)) && e.preventDefault();
            for (let i = 0, s = t.length; i < s; i++) {
                let r = t[i]
                  , o = this._bootstrapEvent(this._rootPointerEvent, r);
                this.rootBoundary.mapEvent(o)
            }
            this.setCursor(this.rootBoundary.cursor)
        }
        _onPointerMove(e) {
            if (!this.features.move)
                return;
            this.rootBoundary.rootTarget = this.renderer.lastObjectRendered,
            Ca.pointerMoved();
            let t = this._normalizeToPointerData(e);
            for (let i = 0, s = t.length; i < s; i++) {
                let r = this._bootstrapEvent(this._rootPointerEvent, t[i]);
                this.rootBoundary.mapEvent(r)
            }
            this.setCursor(this.rootBoundary.cursor)
        }
        _onPointerUp(e) {
            if (!this.features.click)
                return;
            this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;
            let t = e.target;
            e.composedPath && e.composedPath().length > 0 && (t = e.composedPath()[0]);
            let i = t !== this.domElement ? "outside" : ""
              , s = this._normalizeToPointerData(e);
            for (let r = 0, o = s.length; r < o; r++) {
                let d = this._bootstrapEvent(this._rootPointerEvent, s[r]);
                d.type += i,
                this.rootBoundary.mapEvent(d)
            }
            this.setCursor(this.rootBoundary.cursor)
        }
        _onPointerOverOut(e) {
            if (!this.features.click)
                return;
            this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;
            let t = this._normalizeToPointerData(e);
            for (let i = 0, s = t.length; i < s; i++) {
                let r = this._bootstrapEvent(this._rootPointerEvent, t[i]);
                this.rootBoundary.mapEvent(r)
            }
            this.setCursor(this.rootBoundary.cursor)
        }
        onWheel(e) {
            if (!this.features.wheel)
                return;
            let t = this.normalizeWheelEvent(e);
            this.rootBoundary.rootTarget = this.renderer.lastObjectRendered,
            this.rootBoundary.mapEvent(t)
        }
        setTargetElement(e) {
            this._removeEvents(),
            this.domElement = e,
            Ca.domElement = e,
            this._addEvents()
        }
        _addEvents() {
            if (this._eventsAdded || !this.domElement)
                return;
            Ca.addTickerListener();
            let e = this.domElement.style;
            e && (globalThis.navigator.msPointerEnabled ? (e.msContentZooming = "none",
            e.msTouchAction = "none") : this.supportsPointerEvents && (e.touchAction = "none")),
            this.supportsPointerEvents ? (globalThis.document.addEventListener("pointermove", this._onPointerMove, !0),
            this.domElement.addEventListener("pointerdown", this._onPointerDown, !0),
            this.domElement.addEventListener("pointerleave", this._onPointerOverOut, !0),
            this.domElement.addEventListener("pointerover", this._onPointerOverOut, !0),
            globalThis.addEventListener("pointerup", this._onPointerUp, !0)) : (globalThis.document.addEventListener("mousemove", this._onPointerMove, !0),
            this.domElement.addEventListener("mousedown", this._onPointerDown, !0),
            this.domElement.addEventListener("mouseout", this._onPointerOverOut, !0),
            this.domElement.addEventListener("mouseover", this._onPointerOverOut, !0),
            globalThis.addEventListener("mouseup", this._onPointerUp, !0),
            this.supportsTouchEvents && (this.domElement.addEventListener("touchstart", this._onPointerDown, !0),
            this.domElement.addEventListener("touchend", this._onPointerUp, !0),
            this.domElement.addEventListener("touchmove", this._onPointerMove, !0))),
            this.domElement.addEventListener("wheel", this.onWheel, {
                passive: !0,
                capture: !0
            }),
            this._eventsAdded = !0
        }
        _removeEvents() {
            if (!this._eventsAdded || !this.domElement)
                return;
            Ca.removeTickerListener();
            let e = this.domElement.style;
            e && (globalThis.navigator.msPointerEnabled ? (e.msContentZooming = "",
            e.msTouchAction = "") : this.supportsPointerEvents && (e.touchAction = "")),
            this.supportsPointerEvents ? (globalThis.document.removeEventListener("pointermove", this._onPointerMove, !0),
            this.domElement.removeEventListener("pointerdown", this._onPointerDown, !0),
            this.domElement.removeEventListener("pointerleave", this._onPointerOverOut, !0),
            this.domElement.removeEventListener("pointerover", this._onPointerOverOut, !0),
            globalThis.removeEventListener("pointerup", this._onPointerUp, !0)) : (globalThis.document.removeEventListener("mousemove", this._onPointerMove, !0),
            this.domElement.removeEventListener("mousedown", this._onPointerDown, !0),
            this.domElement.removeEventListener("mouseout", this._onPointerOverOut, !0),
            this.domElement.removeEventListener("mouseover", this._onPointerOverOut, !0),
            globalThis.removeEventListener("mouseup", this._onPointerUp, !0),
            this.supportsTouchEvents && (this.domElement.removeEventListener("touchstart", this._onPointerDown, !0),
            this.domElement.removeEventListener("touchend", this._onPointerUp, !0),
            this.domElement.removeEventListener("touchmove", this._onPointerMove, !0))),
            this.domElement.removeEventListener("wheel", this.onWheel, !0),
            this.domElement = null,
            this._eventsAdded = !1
        }
        mapPositionToPoint(e, t, i) {
            let s = this.domElement.isConnected ? this.domElement.getBoundingClientRect() : {
                x: 0,
                y: 0,
                width: this.domElement.width,
                height: this.domElement.height,
                left: 0,
                top: 0
            }
              , r = 1 / this.resolution;
            e.x = (t - s.left) * (this.domElement.width / s.width) * r,
            e.y = (i - s.top) * (this.domElement.height / s.height) * r
        }
        _normalizeToPointerData(e) {
            let t = [];
            if (this.supportsTouchEvents && e instanceof TouchEvent)
                for (let i = 0, s = e.changedTouches.length; i < s; i++) {
                    let r = e.changedTouches[i];
                    typeof r.button > "u" && (r.button = 0),
                    typeof r.buttons > "u" && (r.buttons = 1),
                    typeof r.isPrimary > "u" && (r.isPrimary = e.touches.length === 1 && e.type === "touchstart"),
                    typeof r.width > "u" && (r.width = r.radiusX || 1),
                    typeof r.height > "u" && (r.height = r.radiusY || 1),
                    typeof r.tiltX > "u" && (r.tiltX = 0),
                    typeof r.tiltY > "u" && (r.tiltY = 0),
                    typeof r.pointerType > "u" && (r.pointerType = "touch"),
                    typeof r.pointerId > "u" && (r.pointerId = r.identifier || 0),
                    typeof r.pressure > "u" && (r.pressure = r.force || .5),
                    typeof r.twist > "u" && (r.twist = 0),
                    typeof r.tangentialPressure > "u" && (r.tangentialPressure = 0),
                    typeof r.layerX > "u" && (r.layerX = r.offsetX = r.clientX),
                    typeof r.layerY > "u" && (r.layerY = r.offsetY = r.clientY),
                    r.isNormalized = !0,
                    r.type = e.type,
                    t.push(r)
                }
            else if (!globalThis.MouseEvent || e instanceof MouseEvent && (!this.supportsPointerEvents || !(e instanceof globalThis.PointerEvent))) {
                let i = e;
                typeof i.isPrimary > "u" && (i.isPrimary = !0),
                typeof i.width > "u" && (i.width = 1),
                typeof i.height > "u" && (i.height = 1),
                typeof i.tiltX > "u" && (i.tiltX = 0),
                typeof i.tiltY > "u" && (i.tiltY = 0),
                typeof i.pointerType > "u" && (i.pointerType = "mouse"),
                typeof i.pointerId > "u" && (i.pointerId = f8),
                typeof i.pressure > "u" && (i.pressure = .5),
                typeof i.twist > "u" && (i.twist = 0),
                typeof i.tangentialPressure > "u" && (i.tangentialPressure = 0),
                i.isNormalized = !0,
                t.push(i)
            } else
                t.push(e);
            return t
        }
        normalizeWheelEvent(e) {
            let t = this._rootWheelEvent;
            return this._transferMouseData(t, e),
            t.deltaX = e.deltaX,
            t.deltaY = e.deltaY,
            t.deltaZ = e.deltaZ,
            t.deltaMode = e.deltaMode,
            this.mapPositionToPoint(t.screen, e.clientX, e.clientY),
            t.global.copyFrom(t.screen),
            t.offset.copyFrom(t.screen),
            t.nativeEvent = e,
            t.type = e.type,
            t
        }
        _bootstrapEvent(e, t) {
            return e.originalEvent = null,
            e.nativeEvent = t,
            e.pointerId = t.pointerId,
            e.width = t.width,
            e.height = t.height,
            e.isPrimary = t.isPrimary,
            e.pointerType = t.pointerType,
            e.pressure = t.pressure,
            e.tangentialPressure = t.tangentialPressure,
            e.tiltX = t.tiltX,
            e.tiltY = t.tiltY,
            e.twist = t.twist,
            this._transferMouseData(e, t),
            this.mapPositionToPoint(e.screen, t.clientX, t.clientY),
            e.global.copyFrom(e.screen),
            e.offset.copyFrom(e.screen),
            e.isTrusted = t.isTrusted,
            e.type === "pointerleave" && (e.type = "pointerout"),
            e.type.startsWith("mouse") && (e.type = e.type.replace("mouse", "pointer")),
            e.type.startsWith("touch") && (e.type = h8[e.type] || e.type),
            e
        }
        _transferMouseData(e, t) {
            e.isTrusted = t.isTrusted,
            e.srcElement = t.srcElement,
            e.timeStamp = performance.now(),
            e.type = t.type,
            e.altKey = t.altKey,
            e.button = t.button,
            e.buttons = t.buttons,
            e.client.x = t.clientX,
            e.client.y = t.clientY,
            e.ctrlKey = t.ctrlKey,
            e.metaKey = t.metaKey,
            e.movement.x = t.movementX,
            e.movement.y = t.movementY,
            e.page.x = t.pageX,
            e.page.y = t.pageY,
            e.relatedTarget = null,
            e.shiftKey = t.shiftKey
        }
    }
    ;
    Nd.extension = {
        name: "events",
        type: [B.WebGLSystem, B.CanvasSystem, B.WebGPUSystem],
        priority: -1
    },
    Nd.defaultEventFeatures = {
        move: !0,
        globalMove: !0,
        click: !0,
        wheel: !0
    };
    var R2 = Nd
      , l8 = {
        onclick: null,
        onmousedown: null,
        onmouseenter: null,
        onmouseleave: null,
        onmousemove: null,
        onglobalmousemove: null,
        onmouseout: null,
        onmouseover: null,
        onmouseup: null,
        onmouseupoutside: null,
        onpointercancel: null,
        onpointerdown: null,
        onpointerenter: null,
        onpointerleave: null,
        onpointermove: null,
        onglobalpointermove: null,
        onpointerout: null,
        onpointerover: null,
        onpointertap: null,
        onpointerup: null,
        onpointerupoutside: null,
        onrightclick: null,
        onrightdown: null,
        onrightup: null,
        onrightupoutside: null,
        ontap: null,
        ontouchcancel: null,
        ontouchend: null,
        ontouchendoutside: null,
        ontouchmove: null,
        onglobaltouchmove: null,
        ontouchstart: null,
        onwheel: null,
        get interactive() {
            return this.eventMode === "dynamic" || this.eventMode === "static"
        },
        set interactive(a) {
            this.eventMode = a ? "static" : "passive"
        },
        _internalEventMode: void 0,
        get eventMode() {
            var a;
            return (a = this._internalEventMode) != null ? a : R2.defaultEventMode
        },
        set eventMode(a) {
            this._internalEventMode = a
        },
        isInteractive() {
            return this.eventMode === "static" || this.eventMode === "dynamic"
        },
        interactiveChildren: !0,
        hitArea: null,
        addEventListener(a, e, t) {
            let i = typeof t == "boolean" && t || typeof t == "object" && t.capture
              , s = typeof t == "object" ? t.signal : void 0
              , r = typeof t == "object" ? t.once === !0 : !1
              , o = typeof e == "function" ? void 0 : e;
            a = i ? `${a}capture` : a;
            let d = typeof e == "function" ? e : e.handleEvent
              , f = this;
            s && s.addEventListener("abort", () => {
                f.off(a, d, o)
            }
            ),
            r ? f.once(a, d, o) : f.on(a, d, o)
        },
        removeEventListener(a, e, t) {
            let i = typeof t == "boolean" && t || typeof t == "object" && t.capture
              , s = typeof e == "function" ? void 0 : e;
            a = i ? `${a}capture` : a,
            e = typeof e == "function" ? e : e.handleEvent,
            this.off(a, e, s)
        },
        dispatchEvent(a) {
            if (!(a instanceof Bs))
                throw new Error("Container cannot propagate events outside of the Federated Events API");
            return a.defaultPrevented = !1,
            a.path = null,
            a.target = this,
            a.manager.dispatchEvent(a),
            !a.defaultPrevented
        }
    };
    pe.add(R2),
    he.mixin(l8);
    var Rt = (a => (a[a.Low = 0] = "Low",
    a[a.Normal = 1] = "Normal",
    a[a.High = 2] = "High",
    a))(Rt || {})
      , u8 = {
        createCanvas: (a, e) => {
            let t = document.createElement("canvas");
            return t.width = a,
            t.height = e,
            t
        }
        ,
        getCanvasRenderingContext2D: () => CanvasRenderingContext2D,
        getWebGLRenderingContext: () => WebGLRenderingContext,
        getNavigator: () => navigator,
        getBaseUrl: () => {
            var a;
            return (a = document.baseURI) != null ? a : window.location.href
        }
        ,
        getFontFaceSet: () => document.fonts,
        fetch: (a, e) => fetch(a, e),
        parseXML: a => new DOMParser().parseFromString(a, "text/xml")
    }
      , Du = u8
      , ve = {
        get() {
            return Du
        },
        set(a) {
            Du = a
        }
    };
    function Nt(a) {
        if (typeof a != "string")
            throw new TypeError(`Path must be a string. Received ${JSON.stringify(a)}`)
    }
    function cs(a) {
        return a.split("?")[0].split("#")[0]
    }
    function b8(a) {
        return a.replace(/[.*+?^${}()|[\]\\]/g, "\\$&")
    }
    function p8(a, e, t) {
        return a.replace(new RegExp(b8(e),"g"), t)
    }
    function g8(a, e) {
        let t = ""
          , i = 0
          , s = -1
          , r = 0
          , o = -1;
        for (let d = 0; d <= a.length; ++d) {
            if (d < a.length)
                o = a.charCodeAt(d);
            else {
                if (o === 47)
                    break;
                o = 47
            }
            if (o === 47) {
                if (!(s === d - 1 || r === 1))
                    if (s !== d - 1 && r === 2) {
                        if (t.length < 2 || i !== 2 || t.charCodeAt(t.length - 1) !== 46 || t.charCodeAt(t.length - 2) !== 46) {
                            if (t.length > 2) {
                                let f = t.lastIndexOf("/");
                                if (f !== t.length - 1) {
                                    f === -1 ? (t = "",
                                    i = 0) : (t = t.slice(0, f),
                                    i = t.length - 1 - t.lastIndexOf("/")),
                                    s = d,
                                    r = 0;
                                    continue
                                }
                            } else if (t.length === 2 || t.length === 1) {
                                t = "",
                                i = 0,
                                s = d,
                                r = 0;
                                continue
                            }
                        }
                        e && (t.length > 0 ? t += "/.." : t = "..",
                        i = 2)
                    } else
                        t.length > 0 ? t += `/${a.slice(s + 1, d)}` : t = a.slice(s + 1, d),
                        i = d - s - 1;
                s = d,
                r = 0
            } else
                o === 46 && r !== -1 ? ++r : r = -1
        }
        return t
    }
    var _t = {
        toPosix(a) {
            return p8(a, "\\", "/")
        },
        isUrl(a) {
            return /^https?:/.test(this.toPosix(a))
        },
        isDataUrl(a) {
            return /^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(a)
        },
        isBlobUrl(a) {
            return a.startsWith("blob:")
        },
        hasProtocol(a) {
            return /^[^/:]+:/.test(this.toPosix(a))
        },
        getProtocol(a) {
            Nt(a),
            a = this.toPosix(a);
            let e = /^file:\/\/\//.exec(a);
            if (e)
                return e[0];
            let t = /^[^/:]+:\/{0,2}/.exec(a);
            return t ? t[0] : ""
        },
        toAbsolute(a, e, t) {
            if (Nt(a),
            this.isDataUrl(a) || this.isBlobUrl(a))
                return a;
            let i = cs(this.toPosix(e ?? ve.get().getBaseUrl()))
              , s = cs(this.toPosix(t ?? this.rootname(i)));
            return a = this.toPosix(a),
            a.startsWith("/") ? _t.join(s, a.slice(1)) : this.isAbsolute(a) ? a : this.join(i, a)
        },
        normalize(a) {
            if (Nt(a),
            a.length === 0)
                return ".";
            if (this.isDataUrl(a) || this.isBlobUrl(a))
                return a;
            a = this.toPosix(a);
            let e = ""
              , t = a.startsWith("/");
            this.hasProtocol(a) && (e = this.rootname(a),
            a = a.slice(e.length));
            let i = a.endsWith("/");
            return a = g8(a, !1),
            a.length > 0 && i && (a += "/"),
            t ? `/${a}` : e + a
        },
        isAbsolute(a) {
            return Nt(a),
            a = this.toPosix(a),
            this.hasProtocol(a) ? !0 : a.startsWith("/")
        },
        join(...a) {
            var e;
            if (a.length === 0)
                return ".";
            let t;
            for (let i = 0; i < a.length; ++i) {
                let s = a[i];
                if (Nt(s),
                s.length > 0)
                    if (t === void 0)
                        t = s;
                    else {
                        let r = (e = a[i - 1]) != null ? e : "";
                        this.joinExtensions.includes(this.extname(r).toLowerCase()) ? t += `/../${s}` : t += `/${s}`
                    }
            }
            return t === void 0 ? "." : this.normalize(t)
        },
        dirname(a) {
            if (Nt(a),
            a.length === 0)
                return ".";
            a = this.toPosix(a);
            let e = a.charCodeAt(0)
              , t = e === 47
              , i = -1
              , s = !0
              , r = this.getProtocol(a)
              , o = a;
            a = a.slice(r.length);
            for (let d = a.length - 1; d >= 1; --d)
                if (e = a.charCodeAt(d),
                e === 47) {
                    if (!s) {
                        i = d;
                        break
                    }
                } else
                    s = !1;
            return i === -1 ? t ? "/" : this.isUrl(o) ? r + a : r : t && i === 1 ? "//" : r + a.slice(0, i)
        },
        rootname(a) {
            Nt(a),
            a = this.toPosix(a);
            let e = "";
            if (a.startsWith("/") ? e = "/" : e = this.getProtocol(a),
            this.isUrl(a)) {
                let t = a.indexOf("/", e.length);
                t !== -1 ? e = a.slice(0, t) : e = a,
                e.endsWith("/") || (e += "/")
            }
            return e
        },
        basename(a, e) {
            Nt(a),
            e && Nt(e),
            a = cs(this.toPosix(a));
            let t = 0, i = -1, s = !0, r;
            if (e !== void 0 && e.length > 0 && e.length <= a.length) {
                if (e.length === a.length && e === a)
                    return "";
                let o = e.length - 1
                  , d = -1;
                for (r = a.length - 1; r >= 0; --r) {
                    let f = a.charCodeAt(r);
                    if (f === 47) {
                        if (!s) {
                            t = r + 1;
                            break
                        }
                    } else
                        d === -1 && (s = !1,
                        d = r + 1),
                        o >= 0 && (f === e.charCodeAt(o) ? --o === -1 && (i = r) : (o = -1,
                        i = d))
                }
                return t === i ? i = d : i === -1 && (i = a.length),
                a.slice(t, i)
            }
            for (r = a.length - 1; r >= 0; --r)
                if (a.charCodeAt(r) === 47) {
                    if (!s) {
                        t = r + 1;
                        break
                    }
                } else
                    i === -1 && (s = !1,
                    i = r + 1);
            return i === -1 ? "" : a.slice(t, i)
        },
        extname(a) {
            Nt(a),
            a = cs(this.toPosix(a));
            let e = -1
              , t = 0
              , i = -1
              , s = !0
              , r = 0;
            for (let o = a.length - 1; o >= 0; --o) {
                let d = a.charCodeAt(o);
                if (d === 47) {
                    if (!s) {
                        t = o + 1;
                        break
                    }
                    continue
                }
                i === -1 && (s = !1,
                i = o + 1),
                d === 46 ? e === -1 ? e = o : r !== 1 && (r = 1) : e !== -1 && (r = -1)
            }
            return e === -1 || i === -1 || r === 0 || r === 1 && e === i - 1 && e === t + 1 ? "" : a.slice(e, i)
        },
        parse(a) {
            Nt(a);
            let e = {
                root: "",
                dir: "",
                base: "",
                ext: "",
                name: ""
            };
            if (a.length === 0)
                return e;
            a = cs(this.toPosix(a));
            let t = a.charCodeAt(0), i = this.isAbsolute(a), s, r = "";
            e.root = this.rootname(a),
            i || this.hasProtocol(a) ? s = 1 : s = 0;
            let o = -1
              , d = 0
              , f = -1
              , h = !0
              , u = a.length - 1
              , p = 0;
            for (; u >= s; --u) {
                if (t = a.charCodeAt(u),
                t === 47) {
                    if (!h) {
                        d = u + 1;
                        break
                    }
                    continue
                }
                f === -1 && (h = !1,
                f = u + 1),
                t === 46 ? o === -1 ? o = u : p !== 1 && (p = 1) : o !== -1 && (p = -1)
            }
            return o === -1 || f === -1 || p === 0 || p === 1 && o === f - 1 && o === d + 1 ? f !== -1 && (d === 0 && i ? e.base = e.name = a.slice(1, f) : e.base = e.name = a.slice(d, f)) : (d === 0 && i ? (e.name = a.slice(1, o),
            e.base = a.slice(1, f)) : (e.name = a.slice(d, o),
            e.base = a.slice(d, f)),
            e.ext = a.slice(o, f)),
            e.dir = this.dirname(a),
            r && (e.dir = r + e.dir),
            e
        },
        sep: "/",
        delimiter: ":",
        joinExtensions: [".html"]
    }
      , Xt = (a, e, t=!1) => (Array.isArray(a) || (a = [a]),
    e ? a.map(i => typeof i == "string" || t ? e(i) : i) : a);
    function M2(a, e, t, i, s) {
        let r = e[t];
        for (let o = 0; o < r.length; o++) {
            let d = r[o];
            t < e.length - 1 ? M2(a.replace(i[t], d), e, t + 1, i, s) : s.push(a.replace(i[t], d))
        }
    }
    function m8(a) {
        let e = /\{(.*?)\}/g
          , t = a.match(e)
          , i = [];
        if (t) {
            let s = [];
            t.forEach(r => {
                let o = r.substring(1, r.length - 1).split(",");
                s.push(o)
            }
            ),
            M2(a, s, 0, t, i)
        } else
            i.push(a);
        return i
    }
    var Zr = a => !Array.isArray(a)
      , _8 = Object.defineProperty
      , x8 = Object.defineProperties
      , y8 = Object.getOwnPropertyDescriptors
      , ku = Object.getOwnPropertySymbols
      , v8 = Object.prototype.hasOwnProperty
      , T8 = Object.prototype.propertyIsEnumerable
      , Uu = (a, e, t) => e in a ? _8(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , mi = (a, e) => {
        for (var t in e || (e = {}))
            v8.call(e, t) && Uu(a, t, e[t]);
        if (ku)
            for (var t of ku(e))
                T8.call(e, t) && Uu(a, t, e[t]);
        return a
    }
      , S8 = (a, e) => x8(a, y8(e))
      , la = class {
        constructor() {
            this._defaultBundleIdentifierOptions = {
                connector: "-",
                createBundleAssetId: (e, t) => `${e}${this._bundleIdConnector}${t}`,
                extractAssetIdFromBundle: (e, t) => t.replace(`${e}${this._bundleIdConnector}`, "")
            },
            this._bundleIdConnector = this._defaultBundleIdentifierOptions.connector,
            this._createBundleAssetId = this._defaultBundleIdentifierOptions.createBundleAssetId,
            this._extractAssetIdFromBundle = this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,
            this._assetMap = {},
            this._preferredOrder = [],
            this._parsers = [],
            this._resolverHash = {},
            this._bundles = {}
        }
        setBundleIdentifier(e) {
            var t, i, s;
            if (this._bundleIdConnector = (t = e.connector) != null ? t : this._bundleIdConnector,
            this._createBundleAssetId = (i = e.createBundleAssetId) != null ? i : this._createBundleAssetId,
            this._extractAssetIdFromBundle = (s = e.extractAssetIdFromBundle) != null ? s : this._extractAssetIdFromBundle,
            this._extractAssetIdFromBundle("foo", this._createBundleAssetId("foo", "bar")) !== "bar")
                throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")
        }
        prefer(...e) {
            e.forEach(t => {
                this._preferredOrder.push(t),
                t.priority || (t.priority = Object.keys(t.params))
            }
            ),
            this._resolverHash = {}
        }
        set basePath(e) {
            this._basePath = e
        }
        get basePath() {
            return this._basePath
        }
        set rootPath(e) {
            this._rootPath = e
        }
        get rootPath() {
            return this._rootPath
        }
        get parsers() {
            return this._parsers
        }
        reset() {
            this.setBundleIdentifier(this._defaultBundleIdentifierOptions),
            this._assetMap = {},
            this._preferredOrder = [],
            this._resolverHash = {},
            this._rootPath = null,
            this._basePath = null,
            this._manifest = null,
            this._bundles = {},
            this._defaultSearchParams = null
        }
        setDefaultSearchParams(e) {
            if (typeof e == "string")
                this._defaultSearchParams = e;
            else {
                let t = e;
                this._defaultSearchParams = Object.keys(t).map(i => `${encodeURIComponent(i)}=${encodeURIComponent(t[i])}`).join("&")
            }
        }
        getAlias(e) {
            let {alias: t, src: i} = e;
            return Xt(t || i, s => typeof s == "string" ? s : Array.isArray(s) ? s.map(r => {
                var o;
                return (o = r?.src) != null ? o : r
            }
            ) : s != null && s.src ? s.src : s, !0)
        }
        addManifest(e) {
            this._manifest,
            this._manifest = e,
            e.bundles.forEach(t => {
                this.addBundle(t.name, t.assets)
            }
            )
        }
        addBundle(e, t) {
            let i = []
              , s = t;
            Array.isArray(t) || (s = Object.entries(t).map( ([r,o]) => typeof o == "string" || Array.isArray(o) ? {
                alias: r,
                src: o
            } : mi({
                alias: r
            }, o))),
            s.forEach(r => {
                let o = r.src, d = r.alias, f;
                if (typeof d == "string") {
                    let h = this._createBundleAssetId(e, d);
                    i.push(h),
                    f = [d, h]
                } else {
                    let h = d.map(u => this._createBundleAssetId(e, u));
                    i.push(...h),
                    f = [...d, ...h]
                }
                this.add(S8(mi({}, r), {
                    alias: f,
                    src: o
                }))
            }
            ),
            this._bundles[e] = i
        }
        add(e) {
            let t = [];
            Array.isArray(e) ? t.push(...e) : t.push(e);
            let i;
            Xt(t).forEach(s => {
                let {src: r} = s
                  , {data: o, format: d, loadParser: f} = s
                  , h = Xt(r).map(x => typeof x == "string" ? m8(x) : Array.isArray(x) ? x : [x])
                  , u = this.getAlias(s)
                  , p = [];
                h.forEach(x => {
                    x.forEach(_ => {
                        var T, S, A;
                        let P = {};
                        if (typeof _ != "object") {
                            P.src = _;
                            for (let O = 0; O < this._parsers.length; O++) {
                                let F = this._parsers[O];
                                if (F.test(_)) {
                                    P = F.parse(_);
                                    break
                                }
                            }
                        } else
                            o = (T = _.data) != null ? T : o,
                            d = (S = _.format) != null ? S : d,
                            f = (A = _.loadParser) != null ? A : f,
                            P = mi(mi({}, P), _);
                        if (!u)
                            throw new Error(`[Resolver] alias is undefined for this asset: ${P.src}`);
                        P = this._buildResolvedAsset(P, {
                            aliases: u,
                            data: o,
                            format: d,
                            loadParser: f
                        }),
                        p.push(P)
                    }
                    )
                }
                ),
                u.forEach(x => {
                    this._assetMap[x] = p
                }
                )
            }
            )
        }
        resolveBundle(e) {
            let t = Zr(e);
            e = Xt(e);
            let i = {};
            return e.forEach(s => {
                let r = this._bundles[s];
                if (r) {
                    let o = this.resolve(r)
                      , d = {};
                    for (let f in o) {
                        let h = o[f];
                        d[this._extractAssetIdFromBundle(s, f)] = h
                    }
                    i[s] = d
                }
            }
            ),
            t ? i[e[0]] : i
        }
        resolveUrl(e) {
            let t = this.resolve(e);
            if (typeof e != "string") {
                let i = {};
                for (let s in t)
                    i[s] = t[s].src;
                return i
            }
            return t.src
        }
        resolve(e) {
            let t = Zr(e);
            e = Xt(e);
            let i = {};
            return e.forEach(s => {
                if (!this._resolverHash[s])
                    if (this._assetMap[s]) {
                        let r = this._assetMap[s]
                          , o = this._getPreferredOrder(r);
                        o?.priority.forEach(d => {
                            o.params[d].forEach(f => {
                                let h = r.filter(u => u[d] ? u[d] === f : !1);
                                h.length && (r = h)
                            }
                            )
                        }
                        ),
                        this._resolverHash[s] = r[0]
                    } else
                        this._resolverHash[s] = this._buildResolvedAsset({
                            alias: [s],
                            src: s
                        }, {});
                i[s] = this._resolverHash[s]
            }
            ),
            t ? i[e[0]] : i
        }
        hasKey(e) {
            return !!this._assetMap[e]
        }
        hasBundle(e) {
            return !!this._bundles[e]
        }
        _getPreferredOrder(e) {
            for (let t = 0; t < e.length; t++) {
                let i = e[t]
                  , s = this._preferredOrder.find(r => r.params.format.includes(i.format));
                if (s)
                    return s
            }
            return this._preferredOrder[0]
        }
        _appendDefaultSearchParams(e) {
            if (!this._defaultSearchParams)
                return e;
            let t = /\?/.test(e) ? "&" : "?";
            return `${e}${t}${this._defaultSearchParams}`
        }
        _buildResolvedAsset(e, t) {
            var i, s;
            let {aliases: r, data: o, loadParser: d, format: f} = t;
            return (this._basePath || this._rootPath) && (e.src = _t.toAbsolute(e.src, this._basePath, this._rootPath)),
            e.alias = (i = r ?? e.alias) != null ? i : [e.src],
            e.src = this._appendDefaultSearchParams(e.src),
            e.data = mi(mi({}, o || {}), e.data),
            e.loadParser = d ?? e.loadParser,
            e.format = (s = f ?? e.format) != null ? s : w8(e.src),
            e
        }
    }
    ;
    la.RETINA_PREFIX = /@([0-9\.]+)x/;
    function w8(a) {
        return a.split(".").pop().split("?").shift().split("#").shift()
    }
    var Xd = (a, e) => {
        let t = e.split("?")[1];
        return t && (a += `?${t}`),
        a
    }
      , C2 = class ys {
        constructor(e, t) {
            this.linkedSheets = [],
            this._texture = e instanceof K ? e : null,
            this.textureSource = e.source,
            this.textures = {},
            this.animations = {},
            this.data = t;
            let i = parseFloat(t.meta.scale);
            i ? (this.resolution = i,
            e.source.resolution = this.resolution) : this.resolution = e.source._resolution,
            this._frames = this.data.frames,
            this._frameKeys = Object.keys(this._frames),
            this._batchIndex = 0,
            this._callback = null
        }
        parse() {
            return new Promise(e => {
                this._callback = e,
                this._batchIndex = 0,
                this._frameKeys.length <= ys.BATCH_SIZE ? (this._processFrames(0),
                this._processAnimations(),
                this._parseComplete()) : this._nextBatch()
            }
            )
        }
        _processFrames(e) {
            let t = e
              , i = ys.BATCH_SIZE;
            for (; t - e < i && t < this._frameKeys.length; ) {
                let s = this._frameKeys[t]
                  , r = this._frames[s]
                  , o = r.frame;
                if (o) {
                    let d = null
                      , f = null
                      , h = r.trimmed !== !1 && r.sourceSize ? r.sourceSize : r.frame
                      , u = new Pe(0,0,Math.floor(h.w) / this.resolution,Math.floor(h.h) / this.resolution);
                    r.rotated ? d = new Pe(Math.floor(o.x) / this.resolution,Math.floor(o.y) / this.resolution,Math.floor(o.h) / this.resolution,Math.floor(o.w) / this.resolution) : d = new Pe(Math.floor(o.x) / this.resolution,Math.floor(o.y) / this.resolution,Math.floor(o.w) / this.resolution,Math.floor(o.h) / this.resolution),
                    r.trimmed !== !1 && r.spriteSourceSize && (f = new Pe(Math.floor(r.spriteSourceSize.x) / this.resolution,Math.floor(r.spriteSourceSize.y) / this.resolution,Math.floor(o.w) / this.resolution,Math.floor(o.h) / this.resolution)),
                    this.textures[s] = new K({
                        source: this.textureSource,
                        frame: d,
                        orig: u,
                        trim: f,
                        rotate: r.rotated ? 2 : 0,
                        defaultAnchor: r.anchor,
                        defaultBorders: r.borders,
                        label: s.toString()
                    })
                }
                t++
            }
        }
        _processAnimations() {
            let e = this.data.animations || {};
            for (let t in e) {
                this.animations[t] = [];
                for (let i = 0; i < e[t].length; i++) {
                    let s = e[t][i];
                    this.animations[t].push(this.textures[s])
                }
            }
        }
        _parseComplete() {
            let e = this._callback;
            this._callback = null,
            this._batchIndex = 0,
            e.call(this, this.textures)
        }
        _nextBatch() {
            this._processFrames(this._batchIndex * ys.BATCH_SIZE),
            this._batchIndex++,
            setTimeout( () => {
                this._batchIndex * ys.BATCH_SIZE < this._frameKeys.length ? this._nextBatch() : (this._processAnimations(),
                this._parseComplete())
            }
            , 0)
        }
        destroy(e=!1) {
            var t;
            for (let i in this.textures)
                this.textures[i].destroy();
            this._frames = null,
            this._frameKeys = null,
            this.data = null,
            this.textures = null,
            e && ((t = this._texture) == null || t.destroy(),
            this.textureSource.destroy()),
            this._texture = null,
            this.textureSource = null,
            this.linkedSheets = []
        }
    }
    ;
    C2.BATCH_SIZE = 1e3;
    var Lu = C2
      , A8 = ["jpg", "png", "jpeg", "avif", "webp", "basis", "etc2", "bc7", "bc6h", "bc5", "bc4", "bc3", "bc2", "bc1", "eac", "astc"];
    function O2(a, e, t) {
        let i = {};
        if (a.forEach(s => {
            i[s] = e
        }
        ),
        Object.keys(e.textures).forEach(s => {
            i[s] = e.textures[s]
        }
        ),
        !t) {
            let s = _t.dirname(a[0]);
            e.linkedSheets.forEach( (r, o) => {
                let d = O2([`${s}/${e.data.meta.related_multi_packs[o]}`], r, !0);
                Object.assign(i, d)
            }
            )
        }
        return i
    }
    var E8 = {
        extension: B.Asset,
        cache: {
            test: a => a instanceof Lu,
            getCacheableAssets: (a, e) => O2(a, e, !1)
        },
        resolver: {
            extension: {
                type: B.ResolveParser,
                name: "resolveSpritesheet"
            },
            test: a => {
                let e = a.split("?")[0].split(".")
                  , t = e.pop()
                  , i = e.pop();
                return t === "json" && A8.includes(i)
            }
            ,
            parse: a => {
                var e, t;
                let i = a.split(".");
                return {
                    resolution: parseFloat((t = (e = la.RETINA_PREFIX.exec(a)) == null ? void 0 : e[1]) != null ? t : "1"),
                    format: i[i.length - 2],
                    src: a
                }
            }
        },
        loader: {
            name: "spritesheetLoader",
            extension: {
                type: B.LoadParser,
                priority: Rt.Normal,
                name: "spritesheetLoader"
            },
            async testParse(a, e) {
                return _t.extname(e.src).toLowerCase() === ".json" && !!a.frames
            },
            async parse(a, e, t) {
                var i, s, r;
                let {texture: o, imageFilename: d, textureOptions: f} = (i = e?.data) != null ? i : {}
                  , h = _t.dirname(e.src);
                h && h.lastIndexOf("/") !== h.length - 1 && (h += "/");
                let u;
                if (o instanceof K)
                    u = o;
                else {
                    let _ = Xd(h + (d ?? a.meta.image), e.src);
                    u = (await t.load([{
                        src: _,
                        data: f
                    }]))[_]
                }
                let p = new Lu(u.source,a);
                await p.parse();
                let x = (s = a?.meta) == null ? void 0 : s.related_multi_packs;
                if (Array.isArray(x)) {
                    let _ = [];
                    for (let S of x) {
                        if (typeof S != "string")
                            continue;
                        let A = h + S;
                        (r = e.data) != null && r.ignoreMultiPack || (A = Xd(A, e.src),
                        _.push(t.load({
                            src: A,
                            data: {
                                ignoreMultiPack: !0
                            }
                        })))
                    }
                    let T = await Promise.all(_);
                    p.linkedSheets = T,
                    T.forEach(S => {
                        S.linkedSheets = [p].concat(p.linkedSheets.filter(A => A !== S))
                    }
                    )
                }
                return p
            },
            async unload(a, e, t) {
                await t.unload(a.textureSource._sourceOrigin),
                a.destroy(!1)
            }
        }
    };
    pe.add(E8);
    function I2(a, e, t) {
        let {width: i, height: s} = t.orig
          , r = t.trim;
        if (r) {
            let o = r.width
              , d = r.height;
            a.minX = r.x - e._x * i,
            a.maxX = a.minX + o,
            a.minY = r.y - e._y * s,
            a.maxY = a.minY + d
        } else
            a.minX = -e._x * i,
            a.maxX = a.minX + i,
            a.minY = -e._y * s,
            a.maxY = a.minY + s
    }
    var ua = class extends he {
        constructor() {
            super(...arguments),
            this.canBundle = !0,
            this.allowChildren = !1,
            this._roundPixels = 0,
            this._lastUsed = -1,
            this._bounds = new qe(0,1,0,0),
            this._boundsDirty = !0
        }
        get bounds() {
            return this._boundsDirty ? (this.updateBounds(),
            this._boundsDirty = !1,
            this._bounds) : this._bounds
        }
        get roundPixels() {
            return !!this._roundPixels
        }
        set roundPixels(e) {
            this._roundPixels = e ? 1 : 0
        }
        containsPoint(e) {
            let t = this.bounds
              , {x: i, y: s} = e;
            return i >= t.minX && i <= t.maxX && s >= t.minY && s <= t.maxY
        }
        onViewUpdate() {
            if (this._didViewChangeTick++,
            this._boundsDirty = !0,
            this.didViewUpdate)
                return;
            this.didViewUpdate = !0;
            let e = this.renderGroup || this.parentRenderGroup;
            e && e.onChildViewUpdate(this)
        }
        destroy(e) {
            super.destroy(e),
            this._bounds = null
        }
        collectRenderablesSimple(e, t, i) {
            let {renderPipes: s, renderableGC: r} = t;
            s.blendMode.setBlendMode(this, this.groupBlendMode, e),
            s[this.renderPipeId].addRenderable(this, e),
            r.addRenderable(this),
            this.didViewUpdate = !1;
            let o = this.children
              , d = o.length;
            for (let f = 0; f < d; f++)
                o[f].collectRenderables(e, t, i)
        }
    }
      , P8 = Object.defineProperty
      , Qr = Object.getOwnPropertySymbols
      , G2 = Object.prototype.hasOwnProperty
      , B2 = Object.prototype.propertyIsEnumerable
      , Nu = (a, e, t) => e in a ? P8(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , R8 = (a, e) => {
        for (var t in e || (e = {}))
            G2.call(e, t) && Nu(a, t, e[t]);
        if (Qr)
            for (var t of Qr(e))
                B2.call(e, t) && Nu(a, t, e[t]);
        return a
    }
      , M8 = (a, e) => {
        var t = {};
        for (var i in a)
            G2.call(a, i) && e.indexOf(i) < 0 && (t[i] = a[i]);
        if (a != null && Qr)
            for (var i of Qr(a))
                e.indexOf(i) < 0 && B2.call(a, i) && (t[i] = a[i]);
        return t
    }
      , we = class a extends ua {
        constructor(e=K.EMPTY) {
            e instanceof K && (e = {
                texture: e
            });
            let t = e
              , {texture: i=K.EMPTY, anchor: s, roundPixels: r, width: o, height: d} = t
              , f = M8(t, ["texture", "anchor", "roundPixels", "width", "height"]);
            super(R8({
                label: "Sprite"
            }, f)),
            this.renderPipeId = "sprite",
            this.batched = !0,
            this._visualBounds = {
                minX: 0,
                maxX: 1,
                minY: 0,
                maxY: 0
            },
            this._anchor = new We({
                _onUpdate: () => {
                    this.onViewUpdate()
                }
            }),
            s ? this.anchor = s : i.defaultAnchor && (this.anchor = i.defaultAnchor),
            this.texture = i,
            this.allowChildren = !1,
            this.roundPixels = r ?? !1,
            o !== void 0 && (this.width = o),
            d !== void 0 && (this.height = d)
        }
        static from(e, t=!1) {
            return e instanceof K ? new a(e) : new a(K.from(e, t))
        }
        set texture(e) {
            e || (e = K.EMPTY);
            let t = this._texture;
            t !== e && (t && t.dynamic && t.off("update", this.onViewUpdate, this),
            e.dynamic && e.on("update", this.onViewUpdate, this),
            this._texture = e,
            this._width && this._setWidth(this._width, this._texture.orig.width),
            this._height && this._setHeight(this._height, this._texture.orig.height),
            this.onViewUpdate())
        }
        get texture() {
            return this._texture
        }
        get visualBounds() {
            return I2(this._visualBounds, this._anchor, this._texture),
            this._visualBounds
        }
        get sourceBounds() {
            return this.visualBounds
        }
        updateBounds() {
            let e = this._anchor
              , t = this._texture
              , i = this._bounds
              , {width: s, height: r} = t.orig;
            i.minX = -e._x * s,
            i.maxX = i.minX + s,
            i.minY = -e._y * r,
            i.maxY = i.minY + r
        }
        destroy(e=!1) {
            if (super.destroy(e),
            typeof e == "boolean" ? e : e?.texture) {
                let t = typeof e == "boolean" ? e : e?.textureSource;
                this._texture.destroy(t)
            }
            this._texture = null,
            this._visualBounds = null,
            this._bounds = null,
            this._anchor = null
        }
        get anchor() {
            return this._anchor
        }
        set anchor(e) {
            typeof e == "number" ? this._anchor.set(e) : this._anchor.copyFrom(e)
        }
        get width() {
            return Math.abs(this.scale.x) * this._texture.orig.width
        }
        set width(e) {
            this._setWidth(e, this._texture.orig.width),
            this._width = e
        }
        get height() {
            return Math.abs(this.scale.y) * this._texture.orig.height
        }
        set height(e) {
            this._setHeight(e, this._texture.orig.height),
            this._height = e
        }
        getSize(e) {
            return e || (e = {}),
            e.width = Math.abs(this.scale.x) * this._texture.orig.width,
            e.height = Math.abs(this.scale.y) * this._texture.orig.height,
            e
        }
        setSize(e, t) {
            var i;
            typeof e == "object" ? (t = (i = e.height) != null ? i : e.width,
            e = e.width) : t != null || (t = e),
            e !== void 0 && this._setWidth(e, this._texture.orig.width),
            t !== void 0 && this._setHeight(t, this._texture.orig.height)
        }
    }
      , C8 = new qe;
    function F2(a, e, t) {
        let i = C8;
        a.measurable = !0,
        Do(a, t, i),
        e.addBoundsMask(i),
        a.measurable = !1
    }
    function D2(a, e, t) {
        let i = fa.get();
        a.measurable = !0;
        let s = it.get().identity()
          , r = k2(a, t, s);
        vh(a, i, r),
        a.measurable = !1,
        e.addBoundsMask(i),
        it.return(s),
        fa.return(i)
    }
    function k2(a, e, t) {
        return a && a !== e && (k2(a.parent, e, t),
        a.updateLocalTransform(),
        t.append(a.localTransform)),
        t
    }
    var Jr = class {
        constructor(e) {
            this.priority = 0,
            this.inverse = !1,
            this.pipe = "alphaMask",
            e != null && e.mask && this.init(e.mask)
        }
        init(e) {
            this.mask = e,
            this.renderMaskToTexture = !(e instanceof we),
            this.mask.renderable = this.renderMaskToTexture,
            this.mask.includeInBuild = !this.renderMaskToTexture,
            this.mask.measurable = !1
        }
        reset() {
            this.mask.measurable = !0,
            this.mask = null
        }
        addBounds(e, t) {
            this.inverse || F2(this.mask, e, t)
        }
        addLocalBounds(e, t) {
            D2(this.mask, e, t)
        }
        containsPoint(e, t) {
            let i = this.mask;
            return t(i, e)
        }
        destroy() {
            this.reset()
        }
        static test(e) {
            return e instanceof we
        }
    }
    ;
    Jr.extension = B.MaskEffect;
    var en = class {
        constructor(e) {
            this.priority = 0,
            this.pipe = "colorMask",
            e != null && e.mask && this.init(e.mask)
        }
        init(e) {
            this.mask = e
        }
        destroy() {}
        static test(e) {
            return typeof e == "number"
        }
    }
    ;
    en.extension = B.MaskEffect;
    var tn = class {
        constructor(e) {
            this.priority = 0,
            this.pipe = "stencilMask",
            e != null && e.mask && this.init(e.mask)
        }
        init(e) {
            this.mask = e,
            this.mask.includeInBuild = !1,
            this.mask.measurable = !1
        }
        reset() {
            this.mask.measurable = !0,
            this.mask.includeInBuild = !0,
            this.mask = null
        }
        addBounds(e, t) {
            F2(this.mask, e, t)
        }
        addLocalBounds(e, t) {
            D2(this.mask, e, t)
        }
        containsPoint(e, t) {
            let i = this.mask;
            return t(i, e)
        }
        destroy() {
            this.reset()
        }
        static test(e) {
            return e instanceof he
        }
    }
    ;
    tn.extension = B.MaskEffect;
    var Qt = class extends De {
        constructor(e) {
            e.resource || (e.resource = ve.get().createCanvas()),
            e.width || (e.width = e.resource.width,
            e.autoDensity || (e.width /= e.resolution)),
            e.height || (e.height = e.resource.height,
            e.autoDensity || (e.height /= e.resolution)),
            super(e),
            this.uploadMethodId = "image",
            this.autoDensity = e.autoDensity,
            this.resizeCanvas(),
            this.transparent = !!e.transparent
        }
        resizeCanvas() {
            this.autoDensity && (this.resource.style.width = `${this.width}px`,
            this.resource.style.height = `${this.height}px`),
            (this.resource.width !== this.pixelWidth || this.resource.height !== this.pixelHeight) && (this.resource.width = this.pixelWidth,
            this.resource.height = this.pixelHeight)
        }
        resize(e=this.width, t=this.height, i=this._resolution) {
            let s = super.resize(e, t, i);
            return s && this.resizeCanvas(),
            s
        }
        static test(e) {
            return globalThis.HTMLCanvasElement && e instanceof HTMLCanvasElement || globalThis.OffscreenCanvas && e instanceof OffscreenCanvas
        }
        get context2D() {
            return this._context2D || (this._context2D = this.resource.getContext("2d"))
        }
    }
    ;
    Qt.extension = B.TextureSource;
    var Ba = class extends De {
        constructor(e) {
            if (e.resource && globalThis.HTMLImageElement && e.resource instanceof HTMLImageElement) {
                let t = ve.get().createCanvas(e.resource.width, e.resource.height);
                t.getContext("2d").drawImage(e.resource, 0, 0, e.resource.width, e.resource.height),
                e.resource = t
            }
            super(e),
            this.uploadMethodId = "image",
            this.autoGarbageCollect = !0
        }
        static test(e) {
            return globalThis.HTMLImageElement && e instanceof HTMLImageElement || typeof ImageBitmap < "u" && e instanceof ImageBitmap || globalThis.VideoFrame && e instanceof VideoFrame
        }
    }
    ;
    Ba.extension = B.TextureSource;
    var Uc;
    async function U2() {
        return Uc != null || (Uc = (async () => {
            var a;
            let e = document.createElement("canvas").getContext("webgl");
            if (!e)
                return "premultiply-alpha-on-upload";
            let t = await new Promise(o => {
                let d = document.createElement("video");
                d.onloadeddata = () => o(d),
                d.onerror = () => o(null),
                d.autoplay = !1,
                d.crossOrigin = "anonymous",
                d.preload = "auto",
                d.src = "data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",
                d.load()
            }
            );
            if (!t)
                return "premultiply-alpha-on-upload";
            let i = e.createTexture();
            e.bindTexture(e.TEXTURE_2D, i);
            let s = e.createFramebuffer();
            e.bindFramebuffer(e.FRAMEBUFFER, s),
            e.framebufferTexture2D(e.FRAMEBUFFER, e.COLOR_ATTACHMENT0, e.TEXTURE_2D, i, 0),
            e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL, !1),
            e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL, e.NONE),
            e.texImage2D(e.TEXTURE_2D, 0, e.RGBA, e.RGBA, e.UNSIGNED_BYTE, t);
            let r = new Uint8Array(4);
            return e.readPixels(0, 0, 1, 1, e.RGBA, e.UNSIGNED_BYTE, r),
            e.deleteFramebuffer(s),
            e.deleteTexture(i),
            (a = e.getExtension("WEBGL_lose_context")) == null || a.loseContext(),
            r[0] <= r[3] ? "premultiplied-alpha" : "premultiply-alpha-on-upload"
        }
        )()),
        Uc
    }
    var O8 = Object.defineProperty
      , I8 = Object.defineProperties
      , G8 = Object.getOwnPropertyDescriptors
      , ju = Object.getOwnPropertySymbols
      , B8 = Object.prototype.hasOwnProperty
      , F8 = Object.prototype.propertyIsEnumerable
      , Xu = (a, e, t) => e in a ? O8(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , Hd = (a, e) => {
        for (var t in e || (e = {}))
            B8.call(e, t) && Xu(a, t, e[t]);
        if (ju)
            for (var t of ju(e))
                F8.call(e, t) && Xu(a, t, e[t]);
        return a
    }
      , D8 = (a, e) => I8(a, G8(e))
      , Lr = class L2 extends De {
        constructor(e) {
            var t;
            super(e),
            this.isReady = !1,
            this.uploadMethodId = "video",
            e = Hd(Hd({}, L2.defaultOptions), e),
            this._autoUpdate = !0,
            this._isConnectedToTicker = !1,
            this._updateFPS = e.updateFPS || 0,
            this._msToNextUpdate = 0,
            this.autoPlay = e.autoPlay !== !1,
            this.alphaMode = (t = e.alphaMode) != null ? t : "premultiply-alpha-on-upload",
            this._videoFrameRequestCallback = this._videoFrameRequestCallback.bind(this),
            this._videoFrameRequestCallbackHandle = null,
            this._load = null,
            this._resolve = null,
            this._reject = null,
            this._onCanPlay = this._onCanPlay.bind(this),
            this._onCanPlayThrough = this._onCanPlayThrough.bind(this),
            this._onError = this._onError.bind(this),
            this._onPlayStart = this._onPlayStart.bind(this),
            this._onPlayStop = this._onPlayStop.bind(this),
            this._onSeeked = this._onSeeked.bind(this),
            e.autoLoad !== !1 && this.load()
        }
        updateFrame() {
            if (!this.destroyed) {
                if (this._updateFPS) {
                    let e = tt.shared.elapsedMS * this.resource.playbackRate;
                    this._msToNextUpdate = Math.floor(this._msToNextUpdate - e)
                }
                (!this._updateFPS || this._msToNextUpdate <= 0) && (this._msToNextUpdate = this._updateFPS ? Math.floor(1e3 / this._updateFPS) : 0),
                this.isValid && this.update()
            }
        }
        _videoFrameRequestCallback() {
            this.updateFrame(),
            this.destroyed ? this._videoFrameRequestCallbackHandle = null : this._videoFrameRequestCallbackHandle = this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)
        }
        get isValid() {
            return !!this.resource.videoWidth && !!this.resource.videoHeight
        }
        async load() {
            if (this._load)
                return this._load;
            let e = this.resource
              , t = this.options;
            return (e.readyState === e.HAVE_ENOUGH_DATA || e.readyState === e.HAVE_FUTURE_DATA) && e.width && e.height && (e.complete = !0),
            e.addEventListener("play", this._onPlayStart),
            e.addEventListener("pause", this._onPlayStop),
            e.addEventListener("seeked", this._onSeeked),
            this._isSourceReady() ? this._mediaReady() : (t.preload || e.addEventListener("canplay", this._onCanPlay),
            e.addEventListener("canplaythrough", this._onCanPlayThrough),
            e.addEventListener("error", this._onError, !0)),
            this.alphaMode = await U2(),
            this._load = new Promise( (i, s) => {
                this.isValid ? i(this) : (this._resolve = i,
                this._reject = s,
                t.preloadTimeoutMs !== void 0 && (this._preloadTimeout = setTimeout( () => {
                    this._onError(new ErrorEvent(`Preload exceeded timeout of ${t.preloadTimeoutMs}ms`))
                }
                )),
                e.load())
            }
            ),
            this._load
        }
        _onError(e) {
            this.resource.removeEventListener("error", this._onError, !0),
            this.emit("error", e),
            this._reject && (this._reject(e),
            this._reject = null,
            this._resolve = null)
        }
        _isSourcePlaying() {
            let e = this.resource;
            return !e.paused && !e.ended
        }
        _isSourceReady() {
            return this.resource.readyState > 2
        }
        _onPlayStart() {
            this.isValid || this._mediaReady(),
            this._configureAutoUpdate()
        }
        _onPlayStop() {
            this._configureAutoUpdate()
        }
        _onSeeked() {
            this._autoUpdate && !this._isSourcePlaying() && (this._msToNextUpdate = 0,
            this.updateFrame(),
            this._msToNextUpdate = 0)
        }
        _onCanPlay() {
            this.resource.removeEventListener("canplay", this._onCanPlay),
            this._mediaReady()
        }
        _onCanPlayThrough() {
            this.resource.removeEventListener("canplaythrough", this._onCanPlay),
            this._preloadTimeout && (clearTimeout(this._preloadTimeout),
            this._preloadTimeout = void 0),
            this._mediaReady()
        }
        _mediaReady() {
            let e = this.resource;
            this.isValid && (this.isReady = !0,
            this.resize(e.videoWidth, e.videoHeight)),
            this._msToNextUpdate = 0,
            this.updateFrame(),
            this._msToNextUpdate = 0,
            this._resolve && (this._resolve(this),
            this._resolve = null,
            this._reject = null),
            this._isSourcePlaying() ? this._onPlayStart() : this.autoPlay && this.resource.play()
        }
        destroy() {
            this._configureAutoUpdate();
            let e = this.resource;
            e && (e.removeEventListener("play", this._onPlayStart),
            e.removeEventListener("pause", this._onPlayStop),
            e.removeEventListener("seeked", this._onSeeked),
            e.removeEventListener("canplay", this._onCanPlay),
            e.removeEventListener("canplaythrough", this._onCanPlayThrough),
            e.removeEventListener("error", this._onError, !0),
            e.pause(),
            e.src = "",
            e.load()),
            super.destroy()
        }
        get autoUpdate() {
            return this._autoUpdate
        }
        set autoUpdate(e) {
            e !== this._autoUpdate && (this._autoUpdate = e,
            this._configureAutoUpdate())
        }
        get updateFPS() {
            return this._updateFPS
        }
        set updateFPS(e) {
            e !== this._updateFPS && (this._updateFPS = e,
            this._configureAutoUpdate())
        }
        _configureAutoUpdate() {
            this._autoUpdate && this._isSourcePlaying() ? !this._updateFPS && this.resource.requestVideoFrameCallback ? (this._isConnectedToTicker && (tt.shared.remove(this.updateFrame, this),
            this._isConnectedToTicker = !1,
            this._msToNextUpdate = 0),
            this._videoFrameRequestCallbackHandle === null && (this._videoFrameRequestCallbackHandle = this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))) : (this._videoFrameRequestCallbackHandle !== null && (this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),
            this._videoFrameRequestCallbackHandle = null),
            this._isConnectedToTicker || (tt.shared.add(this.updateFrame, this),
            this._isConnectedToTicker = !0,
            this._msToNextUpdate = 0)) : (this._videoFrameRequestCallbackHandle !== null && (this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),
            this._videoFrameRequestCallbackHandle = null),
            this._isConnectedToTicker && (tt.shared.remove(this.updateFrame, this),
            this._isConnectedToTicker = !1,
            this._msToNextUpdate = 0))
        }
        static test(e) {
            return globalThis.HTMLVideoElement && e instanceof HTMLVideoElement
        }
    }
    ;
    Lr.extension = B.TextureSource,
    Lr.defaultOptions = D8(Hd({}, De.defaultOptions), {
        autoLoad: !0,
        autoPlay: !0,
        updateFPS: 0,
        crossorigin: !0,
        loop: !1,
        muted: !0,
        playsinline: !0,
        preload: !1
    }),
    Lr.MIME_TYPES = {
        ogv: "video/ogg",
        mov: "video/quicktime",
        m4v: "video/mp4"
    };
    var Nr = Lr
      , k8 = class {
        constructor() {
            this._parsers = [],
            this._cache = new Map,
            this._cacheMap = new Map
        }
        reset() {
            this._cacheMap.clear(),
            this._cache.clear()
        }
        has(a) {
            return this._cache.has(a)
        }
        get(a) {
            return this._cache.get(a)
        }
        set(a, e) {
            let t = Xt(a), i;
            for (let d = 0; d < this.parsers.length; d++) {
                let f = this.parsers[d];
                if (f.test(e)) {
                    i = f.getCacheableAssets(t, e);
                    break
                }
            }
            let s = new Map(Object.entries(i || {}));
            i || t.forEach(d => {
                s.set(d, e)
            }
            );
            let r = [...s.keys()]
              , o = {
                cacheKeys: r,
                keys: t
            };
            t.forEach(d => {
                this._cacheMap.set(d, o)
            }
            ),
            r.forEach(d => {
                let f = i ? i[d] : e;
                this._cache.has(d) && this._cache.get(d),
                this._cache.set(d, s.get(d))
            }
            )
        }
        remove(a) {
            if (!this._cacheMap.has(a))
                return;
            let e = this._cacheMap.get(a);
            e.cacheKeys.forEach(t => {
                this._cache.delete(t)
            }
            ),
            e.keys.forEach(t => {
                this._cacheMap.delete(t)
            }
            )
        }
        get parsers() {
            return this._parsers
        }
    }
      , Ie = new k8
      , zd = [];
    pe.handleByList(B.TextureSource, zd);
    function N2(a={}) {
        let e = a && a.resource
          , t = e ? a.resource : a
          , i = e ? a : {
            resource: a
        };
        for (let s = 0; s < zd.length; s++) {
            let r = zd[s];
            if (r.test(t))
                return new r(i)
        }
        throw new Error(`Could not find a source type for resource: ${i.resource}`)
    }
    function U8(a={}, e=!1) {
        let t = a && a.resource
          , i = t ? a.resource : a
          , s = t ? a : {
            resource: a
        };
        if (!e && Ie.has(i))
            return Ie.get(i);
        let r = new K({
            source: N2(s)
        });
        return r.on("destroy", () => {
            Ie.has(i) && Ie.remove(i)
        }
        ),
        e || Ie.set(i, r),
        r
    }
    function L8(a, e=!1) {
        return typeof a == "string" ? Ie.get(a) : a instanceof De ? new K({
            source: a
        }) : U8(a, e)
    }
    K.from = L8,
    De.from = N2,
    pe.add(Jr, en, tn, Nr, Ba, Qt, Gs);
    var Ht = class {
        constructor(e) {
            this.resources = Object.create(null),
            this._dirty = !0;
            let t = 0;
            for (let i in e) {
                let s = e[i];
                this.setResource(s, t++)
            }
            this._updateKey()
        }
        _updateKey() {
            if (!this._dirty)
                return;
            this._dirty = !1;
            let e = []
              , t = 0;
            for (let i in this.resources)
                e[t++] = this.resources[i]._resourceId;
            this._key = e.join("|")
        }
        setResource(e, t) {
            var i, s;
            let r = this.resources[t];
            e !== r && (r && ((i = e.off) == null || i.call(e, "change", this.onResourceChange, this)),
            (s = e.on) == null || s.call(e, "change", this.onResourceChange, this),
            this.resources[t] = e,
            this._dirty = !0)
        }
        getResource(e) {
            return this.resources[e]
        }
        _touch(e) {
            let t = this.resources;
            for (let i in t)
                t[i]._touched = e
        }
        destroy() {
            var e;
            let t = this.resources;
            for (let i in t) {
                let s = t[i];
                (e = s.off) == null || e.call(s, "change", this.onResourceChange, this)
            }
            this.resources = null
        }
        onResourceChange(e) {
            if (this._dirty = !0,
            e.destroyed) {
                let t = this.resources;
                for (let i in t)
                    t[i] === e && (t[i] = null)
            } else
                this._updateKey()
        }
    }
    , ds;
    function j2() {
        return (!ds || ds != null && ds.isContextLost()) && (ds = ve.get().createCanvas().getContext("webgl", {})),
        ds
    }
    var N8 = ["precision mediump float;", "void main(void){", "float test = 0.1;", "%forloop%", "gl_FragColor = vec4(0.0);", "}"].join(`
`);
    function j8(a) {
        let e = "";
        for (let t = 0; t < a; ++t)
            t > 0 && (e += `
else `),
            t < a - 1 && (e += `if(test == ${t}.0){}`);
        return e
    }
    function X8(a, e) {
        if (a === 0)
            throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");
        let t = e.createShader(e.FRAGMENT_SHADER);
        try {
            for (; ; ) {
                let i = N8.replace(/%forloop%/gi, j8(a));
                if (e.shaderSource(t, i),
                e.compileShader(t),
                !e.getShaderParameter(t, e.COMPILE_STATUS))
                    a = a / 2 | 0;
                else
                    break
            }
        } finally {
            e.deleteShader(t)
        }
        return a
    }
    var _i = null;
    function ki() {
        var a;
        if (_i)
            return _i;
        let e = j2();
        return _i = e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),
        _i = X8(_i, e),
        (a = e.getExtension("WEBGL_lose_context")) == null || a.loseContext(),
        _i
    }
    var X2 = {};
    function Sh(a, e) {
        let t = 2166136261;
        for (let i = 0; i < e; i++)
            t ^= a[i].uid,
            t = Math.imul(t, 16777619),
            t >>>= 0;
        return X2[t] || H8(a, e, t)
    }
    var Lc = 0;
    function H8(a, e, t) {
        let i = {}
          , s = 0;
        Lc || (Lc = ki());
        for (let o = 0; o < Lc; o++) {
            let d = o < e ? a[o] : K.EMPTY.source;
            i[s++] = d.source,
            i[s++] = d.style
        }
        let r = new Ht(i);
        return X2[t] = r,
        r
    }
    var Oa = class {
        constructor(e) {
            typeof e == "number" ? this.rawBinaryData = new ArrayBuffer(e) : e instanceof Uint8Array ? this.rawBinaryData = e.buffer : this.rawBinaryData = e,
            this.uint32View = new Uint32Array(this.rawBinaryData),
            this.float32View = new Float32Array(this.rawBinaryData),
            this.size = this.rawBinaryData.byteLength
        }
        get int8View() {
            return this._int8View || (this._int8View = new Int8Array(this.rawBinaryData)),
            this._int8View
        }
        get uint8View() {
            return this._uint8View || (this._uint8View = new Uint8Array(this.rawBinaryData)),
            this._uint8View
        }
        get int16View() {
            return this._int16View || (this._int16View = new Int16Array(this.rawBinaryData)),
            this._int16View
        }
        get int32View() {
            return this._int32View || (this._int32View = new Int32Array(this.rawBinaryData)),
            this._int32View
        }
        get float64View() {
            return this._float64Array || (this._float64Array = new Float64Array(this.rawBinaryData)),
            this._float64Array
        }
        get bigUint64View() {
            return this._bigUint64Array || (this._bigUint64Array = new BigUint64Array(this.rawBinaryData)),
            this._bigUint64Array
        }
        view(e) {
            return this[`${e}View`]
        }
        destroy() {
            this.rawBinaryData = null,
            this._int8View = null,
            this._uint8View = null,
            this._int16View = null,
            this.uint16View = null,
            this._int32View = null,
            this.uint32View = null,
            this.float32View = null
        }
        static sizeOf(e) {
            switch (e) {
            case "int8":
            case "uint8":
                return 1;
            case "int16":
            case "uint16":
                return 2;
            case "int32":
            case "uint32":
            case "float32":
                return 4;
            default:
                throw new Error(`${e} isn't a valid view type`)
            }
        }
    }
    ;
    function Vd(a, e) {
        let t = a.byteLength / 8 | 0
          , i = new Float64Array(a,0,t);
        new Float64Array(e,0,t).set(i);
        let s = a.byteLength - t * 8;
        if (s > 0) {
            let r = new Uint8Array(a,t * 8,s);
            new Uint8Array(e,t * 8,s).set(r)
        }
    }
    var z8 = {
        normal: "normal-npm",
        add: "add-npm",
        screen: "screen-npm"
    }
      , je = (a => (a[a.DISABLED = 0] = "DISABLED",
    a[a.RENDERING_MASK_ADD = 1] = "RENDERING_MASK_ADD",
    a[a.MASK_ACTIVE = 2] = "MASK_ACTIVE",
    a[a.INVERSE_MASK_ACTIVE = 3] = "INVERSE_MASK_ACTIVE",
    a[a.RENDERING_MASK_REMOVE = 4] = "RENDERING_MASK_REMOVE",
    a[a.NONE = 5] = "NONE",
    a))(je || {});
    function Fs(a, e) {
        return e.alphaMode === "no-premultiply-alpha" && z8[a] || a
    }
    var Wd = class {
        constructor() {
            this.ids = Object.create(null),
            this.textures = [],
            this.count = 0
        }
        clear() {
            for (let e = 0; e < this.count; e++) {
                let t = this.textures[e];
                this.textures[e] = null,
                this.ids[t.uid] = null
            }
            this.count = 0
        }
    }
      , V8 = Object.defineProperty
      , Hu = Object.getOwnPropertySymbols
      , W8 = Object.prototype.hasOwnProperty
      , Y8 = Object.prototype.propertyIsEnumerable
      , zu = (a, e, t) => e in a ? V8(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , Vu = (a, e) => {
        for (var t in e || (e = {}))
            W8.call(e, t) && zu(a, t, e[t]);
        if (Hu)
            for (var t of Hu(e))
                Y8.call(e, t) && zu(a, t, e[t]);
        return a
    }
      , Yd = class {
        constructor() {
            this.renderPipeId = "batch",
            this.action = "startBatch",
            this.start = 0,
            this.size = 0,
            this.textures = new Wd,
            this.blendMode = "normal",
            this.topology = "triangle-strip",
            this.canBundle = !0
        }
        destroy() {
            this.textures = null,
            this.gpuBindGroup = null,
            this.bindGroup = null,
            this.batcher = null
        }
    }
      , H2 = []
      , $d = 0;
    function Wu() {
        return $d > 0 ? H2[--$d] : new Yd
    }
    function Yu(a) {
        H2[$d++] = a
    }
    var fs = 0
      , z2 = class jr {
        constructor(e={}) {
            this.uid = Fe("batcher"),
            this.dirty = !0,
            this.batchIndex = 0,
            this.batches = [],
            this._elements = [];
            var t;
            jr.defaultOptions.maxTextures = (t = jr.defaultOptions.maxTextures) != null ? t : ki(),
            e = Vu(Vu({}, jr.defaultOptions), e);
            let {maxTextures: i, attributesInitialSize: s, indicesInitialSize: r} = e;
            this.attributeBuffer = new Oa(s * 4),
            this.indexBuffer = new Uint16Array(r),
            this.maxTextures = i
        }
        begin() {
            this.elementSize = 0,
            this.elementStart = 0,
            this.indexSize = 0,
            this.attributeSize = 0;
            for (let e = 0; e < this.batchIndex; e++)
                Yu(this.batches[e]);
            this.batchIndex = 0,
            this._batchIndexStart = 0,
            this._batchIndexSize = 0,
            this.dirty = !0
        }
        add(e) {
            this._elements[this.elementSize++] = e,
            e._indexStart = this.indexSize,
            e._attributeStart = this.attributeSize,
            e._batcher = this,
            this.indexSize += e.indexSize,
            this.attributeSize += e.attributeSize * this.vertexSize
        }
        checkAndUpdateTexture(e, t) {
            let i = e._batch.textures.ids[t._source.uid];
            return !i && i !== 0 ? !1 : (e._textureId = i,
            e.texture = t,
            !0)
        }
        updateElement(e) {
            this.dirty = !0;
            let t = this.attributeBuffer;
            e.packAsQuad ? this.packQuadAttributes(e, t.float32View, t.uint32View, e._attributeStart, e._textureId) : this.packAttributes(e, t.float32View, t.uint32View, e._attributeStart, e._textureId)
        }
        break(e) {
            let t = this._elements;
            if (!t[this.elementStart])
                return;
            let i = Wu()
              , s = i.textures;
            s.clear();
            let r = t[this.elementStart]
              , o = Fs(r.blendMode, r.texture._source)
              , d = r.topology;
            this.attributeSize * 4 > this.attributeBuffer.size && this._resizeAttributeBuffer(this.attributeSize * 4),
            this.indexSize > this.indexBuffer.length && this._resizeIndexBuffer(this.indexSize);
            let f = this.attributeBuffer.float32View
              , h = this.attributeBuffer.uint32View
              , u = this.indexBuffer
              , p = this._batchIndexSize
              , x = this._batchIndexStart
              , _ = "startBatch"
              , T = this.maxTextures;
            for (let S = this.elementStart; S < this.elementSize; ++S) {
                let A = t[S];
                t[S] = null;
                let P = A.texture._source
                  , O = Fs(A.blendMode, P)
                  , F = o !== O || d !== A.topology;
                if (P._batchTick === fs && !F) {
                    A._textureId = P._textureBindLocation,
                    p += A.indexSize,
                    A.packAsQuad ? (this.packQuadAttributes(A, f, h, A._attributeStart, A._textureId),
                    this.packQuadIndex(u, A._indexStart, A._attributeStart / this.vertexSize)) : (this.packAttributes(A, f, h, A._attributeStart, A._textureId),
                    this.packIndex(A, u, A._indexStart, A._attributeStart / this.vertexSize)),
                    A._batch = i;
                    continue
                }
                P._batchTick = fs,
                (s.count >= T || F) && (this._finishBatch(i, x, p - x, s, o, d, e, _),
                _ = "renderBatch",
                x = p,
                o = O,
                d = A.topology,
                i = Wu(),
                s = i.textures,
                s.clear(),
                ++fs),
                A._textureId = P._textureBindLocation = s.count,
                s.ids[P.uid] = s.count,
                s.textures[s.count++] = P,
                A._batch = i,
                p += A.indexSize,
                A.packAsQuad ? (this.packQuadAttributes(A, f, h, A._attributeStart, A._textureId),
                this.packQuadIndex(u, A._indexStart, A._attributeStart / this.vertexSize)) : (this.packAttributes(A, f, h, A._attributeStart, A._textureId),
                this.packIndex(A, u, A._indexStart, A._attributeStart / this.vertexSize))
            }
            s.count > 0 && (this._finishBatch(i, x, p - x, s, o, d, e, _),
            x = p,
            ++fs),
            this.elementStart = this.elementSize,
            this._batchIndexStart = x,
            this._batchIndexSize = p
        }
        _finishBatch(e, t, i, s, r, o, d, f) {
            e.gpuBindGroup = null,
            e.bindGroup = null,
            e.action = f,
            e.batcher = this,
            e.textures = s,
            e.blendMode = r,
            e.topology = o,
            e.start = t,
            e.size = i,
            ++fs,
            this.batches[this.batchIndex++] = e,
            d.add(e)
        }
        finish(e) {
            this.break(e)
        }
        ensureAttributeBuffer(e) {
            e * 4 <= this.attributeBuffer.size || this._resizeAttributeBuffer(e * 4)
        }
        ensureIndexBuffer(e) {
            e <= this.indexBuffer.length || this._resizeIndexBuffer(e)
        }
        _resizeAttributeBuffer(e) {
            let t = Math.max(e, this.attributeBuffer.size * 2)
              , i = new Oa(t);
            Vd(this.attributeBuffer.rawBinaryData, i.rawBinaryData),
            this.attributeBuffer = i
        }
        _resizeIndexBuffer(e) {
            let t = this.indexBuffer
              , i = Math.max(e, t.length * 1.5);
            i += i % 2;
            let s = i > 65535 ? new Uint32Array(i) : new Uint16Array(i);
            if (s.BYTES_PER_ELEMENT !== t.BYTES_PER_ELEMENT)
                for (let r = 0; r < t.length; r++)
                    s[r] = t[r];
            else
                Vd(t.buffer, s.buffer);
            this.indexBuffer = s
        }
        packQuadIndex(e, t, i) {
            e[t] = i + 0,
            e[t + 1] = i + 1,
            e[t + 2] = i + 2,
            e[t + 3] = i + 0,
            e[t + 4] = i + 2,
            e[t + 5] = i + 3
        }
        packIndex(e, t, i, s) {
            let r = e.indices
              , o = e.indexSize
              , d = e.indexOffset
              , f = e.attributeOffset;
            for (let h = 0; h < o; h++)
                t[i++] = s + r[h + d] - f
        }
        destroy() {
            for (let e = 0; e < this.batches.length; e++)
                Yu(this.batches[e]);
            this.batches = null;
            for (let e = 0; e < this._elements.length; e++)
                this._elements[e]._batch = null;
            this._elements = null,
            this.indexBuffer = null,
            this.attributeBuffer.destroy(),
            this.attributeBuffer = null
        }
    }
    ;
    z2.defaultOptions = {
        maxTextures: null,
        attributesInitialSize: 4,
        indicesInitialSize: 6
    };
    var $8 = z2
      , Te = (a => (a[a.MAP_READ = 1] = "MAP_READ",
    a[a.MAP_WRITE = 2] = "MAP_WRITE",
    a[a.COPY_SRC = 4] = "COPY_SRC",
    a[a.COPY_DST = 8] = "COPY_DST",
    a[a.INDEX = 16] = "INDEX",
    a[a.VERTEX = 32] = "VERTEX",
    a[a.UNIFORM = 64] = "UNIFORM",
    a[a.STORAGE = 128] = "STORAGE",
    a[a.INDIRECT = 256] = "INDIRECT",
    a[a.QUERY_RESOLVE = 512] = "QUERY_RESOLVE",
    a[a.STATIC = 1024] = "STATIC",
    a))(Te || {})
      , st = class extends yt {
        constructor(e) {
            let {data: t, size: i} = e
              , {usage: s, label: r, shrinkToFit: o} = e;
            super(),
            this.uid = Fe("buffer"),
            this._resourceType = "buffer",
            this._resourceId = Fe("resource"),
            this._touched = 0,
            this._updateID = 1,
            this._dataInt32 = null,
            this.shrinkToFit = !0,
            this.destroyed = !1,
            t instanceof Array && (t = new Float32Array(t)),
            this._data = t,
            i != null || (i = t?.byteLength);
            let d = !!t;
            this.descriptor = {
                size: i,
                usage: s,
                mappedAtCreation: d,
                label: r
            },
            this.shrinkToFit = o ?? !0
        }
        get data() {
            return this._data
        }
        set data(e) {
            this.setDataWithSize(e, e.length, !0)
        }
        get dataInt32() {
            return this._dataInt32 || (this._dataInt32 = new Int32Array(this.data.buffer)),
            this._dataInt32
        }
        get static() {
            return !!(this.descriptor.usage & Te.STATIC)
        }
        set static(e) {
            e ? this.descriptor.usage |= Te.STATIC : this.descriptor.usage &= ~Te.STATIC
        }
        setDataWithSize(e, t, i) {
            if (this._updateID++,
            this._updateSize = t * e.BYTES_PER_ELEMENT,
            this._data === e) {
                i && this.emit("update", this);
                return
            }
            let s = this._data;
            if (this._data = e,
            this._dataInt32 = null,
            !s || s.length !== e.length) {
                !this.shrinkToFit && s && e.byteLength < s.byteLength ? i && this.emit("update", this) : (this.descriptor.size = e.byteLength,
                this._resourceId = Fe("resource"),
                this.emit("change", this));
                return
            }
            i && this.emit("update", this)
        }
        update(e) {
            this._updateSize = e ?? this._updateSize,
            this._updateID++,
            this.emit("update", this)
        }
        destroy() {
            this.destroyed = !0,
            this.emit("destroy", this),
            this.emit("change", this),
            this._data = null,
            this.descriptor = null,
            this.removeAllListeners()
        }
    }
    ;
    function V2(a, e) {
        if (!(a instanceof st)) {
            let t = e ? Te.INDEX : Te.VERTEX;
            a instanceof Array && (e ? (a = new Uint32Array(a),
            t = Te.INDEX | Te.COPY_DST) : (a = new Float32Array(a),
            t = Te.VERTEX | Te.COPY_DST)),
            a = new st({
                data: a,
                label: e ? "index-mesh-buffer" : "vertex-mesh-buffer",
                usage: t
            })
        }
        return a
    }
    function K8(a, e, t) {
        let i = a.getAttribute(e);
        if (!i)
            return t.minX = 0,
            t.minY = 0,
            t.maxX = 0,
            t.maxY = 0,
            t;
        let s = i.buffer.data
          , r = 1 / 0
          , o = 1 / 0
          , d = -1 / 0
          , f = -1 / 0
          , h = s.BYTES_PER_ELEMENT
          , u = (i.offset || 0) / h
          , p = (i.stride || 2 * 4) / h;
        for (let x = u; x < s.length; x += p) {
            let _ = s[x]
              , T = s[x + 1];
            _ > d && (d = _),
            T > f && (f = T),
            _ < r && (r = _),
            T < o && (o = T)
        }
        return t.minX = r,
        t.minY = o,
        t.maxX = d,
        t.maxY = f,
        t
    }
    function q8(a) {
        return (a instanceof st || Array.isArray(a) || a.BYTES_PER_ELEMENT) && (a = {
            buffer: a
        }),
        a.buffer = V2(a.buffer, !1),
        a
    }
    var Jt = class extends yt {
        constructor(e={}) {
            var t;
            super(),
            this.uid = Fe("geometry"),
            this._layoutKey = 0,
            this.instanceCount = 1,
            this._bounds = new qe,
            this._boundsDirty = !0;
            let {attributes: i, indexBuffer: s, topology: r} = e;
            if (this.buffers = [],
            this.attributes = {},
            i)
                for (let o in i)
                    this.addAttribute(o, i[o]);
            this.instanceCount = (t = e.instanceCount) != null ? t : 1,
            s && this.addIndex(s),
            this.topology = r || "triangle-list"
        }
        onBufferUpdate() {
            this._boundsDirty = !0,
            this.emit("update", this)
        }
        getAttribute(e) {
            return this.attributes[e]
        }
        getIndex() {
            return this.indexBuffer
        }
        getBuffer(e) {
            return this.getAttribute(e).buffer
        }
        getSize() {
            for (let e in this.attributes) {
                let t = this.attributes[e];
                return t.buffer.data.length / (t.stride / 4 || t.size)
            }
            return 0
        }
        addAttribute(e, t) {
            let i = q8(t);
            this.buffers.indexOf(i.buffer) === -1 && (this.buffers.push(i.buffer),
            i.buffer.on("update", this.onBufferUpdate, this),
            i.buffer.on("change", this.onBufferUpdate, this)),
            this.attributes[e] = i
        }
        addIndex(e) {
            this.indexBuffer = V2(e, !0),
            this.buffers.push(this.indexBuffer)
        }
        get bounds() {
            return this._boundsDirty ? (this._boundsDirty = !1,
            K8(this, "aPosition", this._bounds)) : this._bounds
        }
        destroy(e=!1) {
            this.emit("destroy", this),
            this.removeAllListeners(),
            e && this.buffers.forEach(t => t.destroy()),
            this.attributes = null,
            this.buffers = null,
            this.indexBuffer = null,
            this._bounds = null
        }
    }
      , Z8 = new Float32Array(1)
      , Q8 = new Uint32Array(1)
      , Kd = class extends Jt {
        constructor() {
            let e = new st({
                data: Z8,
                label: "attribute-batch-buffer",
                usage: Te.VERTEX | Te.COPY_DST,
                shrinkToFit: !1
            })
              , t = new st({
                data: Q8,
                label: "index-batch-buffer",
                usage: Te.INDEX | Te.COPY_DST,
                shrinkToFit: !1
            })
              , i = 6 * 4;
            super({
                attributes: {
                    aPosition: {
                        buffer: e,
                        format: "float32x2",
                        stride: i,
                        offset: 0
                    },
                    aUV: {
                        buffer: e,
                        format: "float32x2",
                        stride: i,
                        offset: 2 * 4
                    },
                    aColor: {
                        buffer: e,
                        format: "unorm8x4",
                        stride: i,
                        offset: 4 * 4
                    },
                    aTextureIdAndRound: {
                        buffer: e,
                        format: "uint16x2",
                        stride: i,
                        offset: 5 * 4
                    }
                },
                indexBuffer: t
            })
        }
    }
      , Nc = Object.create(null)
      , $u = Object.create(null);
    function Ds(a, e) {
        let t = $u[a];
        return t === void 0 && (Nc[e] === void 0 && (Nc[e] = 1),
        $u[a] = t = Nc[e]++),
        t
    }
    var yr;
    function J8() {
        if (!yr) {
            yr = "mediump";
            let a = j2();
            a && a.getShaderPrecisionFormat && (yr = a.getShaderPrecisionFormat(a.FRAGMENT_SHADER, a.HIGH_FLOAT).precision ? "highp" : "mediump")
        }
        return yr
    }
    function e6(a, e, t) {
        return e ? a : t ? (a = a.replace("out vec4 finalColor;", ""),
        `

#ifdef GL_ES // This checks if it is WebGL1
#define in varying
#define finalColor gl_FragColor
#define texture texture2D
#endif
${a}
`) : `

#ifdef GL_ES // This checks if it is WebGL1
#define in attribute
#define out varying
#endif
${a}
`
    }
    function t6(a, e, t) {
        let i = t ? e.maxSupportedFragmentPrecision : e.maxSupportedVertexPrecision;
        if (a.substring(0, 9) !== "precision") {
            let s = t ? e.requestedFragmentPrecision : e.requestedVertexPrecision;
            return s === "highp" && i !== "highp" && (s = "mediump"),
            `precision ${s} float;
${a}`
        } else if (i !== "highp" && a.substring(0, 15) === "precision highp")
            return a.replace("precision highp", "precision mediump");
        return a
    }
    function a6(a, e) {
        return e ? `#version 300 es
${a}` : a
    }
    var i6 = {}
      , s6 = {};
    function r6(a, {name: e="pixi-program"}, t=!0) {
        e = e.replace(/\s+/g, "-"),
        e += t ? "-fragment" : "-vertex";
        let i = t ? i6 : s6;
        return i[e] ? (i[e]++,
        e += `-${i[e]}`) : i[e] = 1,
        a.indexOf("#define SHADER_NAME") !== -1 ? a : `${`#define SHADER_NAME ${e}`}
${a}`
    }
    function n6(a, e) {
        return e ? a.replace("#version 300 es", "") : a
    }
    var o6 = Object.defineProperty
      , Ku = Object.getOwnPropertySymbols
      , c6 = Object.prototype.hasOwnProperty
      , d6 = Object.prototype.propertyIsEnumerable
      , qu = (a, e, t) => e in a ? o6(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , Zu = (a, e) => {
        for (var t in e || (e = {}))
            c6.call(e, t) && qu(a, t, e[t]);
        if (Ku)
            for (var t of Ku(e))
                d6.call(e, t) && qu(a, t, e[t]);
        return a
    }
      , jc = {
        stripVersion: n6,
        ensurePrecision: t6,
        addProgramDefines: e6,
        setProgramName: r6,
        insertVersion: a6
    }
      , Xc = Object.create(null)
      , W2 = class qd {
        constructor(e) {
            e = Zu(Zu({}, qd.defaultOptions), e);
            let t = e.fragment.indexOf("#version 300 es") !== -1
              , i = {
                stripVersion: t,
                ensurePrecision: {
                    requestedFragmentPrecision: e.preferredFragmentPrecision,
                    requestedVertexPrecision: e.preferredVertexPrecision,
                    maxSupportedVertexPrecision: "highp",
                    maxSupportedFragmentPrecision: J8()
                },
                setProgramName: {
                    name: e.name
                },
                addProgramDefines: t,
                insertVersion: t
            }
              , s = e.fragment
              , r = e.vertex;
            Object.keys(jc).forEach(o => {
                let d = i[o];
                s = jc[o](s, d, !0),
                r = jc[o](r, d, !1)
            }
            ),
            this.fragment = s,
            this.vertex = r,
            this.transformFeedbackVaryings = e.transformFeedbackVaryings,
            this._key = Ds(`${this.vertex}:${this.fragment}`, "gl-program")
        }
        destroy() {
            this.fragment = null,
            this.vertex = null,
            this._attributeData = null,
            this._uniformData = null,
            this._uniformBlockData = null,
            this.transformFeedbackVaryings = null
        }
        static from(e) {
            let t = `${e.vertex}:${e.fragment}`;
            return Xc[t] || (Xc[t] = new qd(e)),
            Xc[t]
        }
    }
    ;
    W2.defaultOptions = {
        preferredVertexPrecision: "highp",
        preferredFragmentPrecision: "mediump"
    };
    var pa = W2
      , Qu = {
        uint8x2: {
            size: 2,
            stride: 2,
            normalised: !1
        },
        uint8x4: {
            size: 4,
            stride: 4,
            normalised: !1
        },
        sint8x2: {
            size: 2,
            stride: 2,
            normalised: !1
        },
        sint8x4: {
            size: 4,
            stride: 4,
            normalised: !1
        },
        unorm8x2: {
            size: 2,
            stride: 2,
            normalised: !0
        },
        unorm8x4: {
            size: 4,
            stride: 4,
            normalised: !0
        },
        snorm8x2: {
            size: 2,
            stride: 2,
            normalised: !0
        },
        snorm8x4: {
            size: 4,
            stride: 4,
            normalised: !0
        },
        uint16x2: {
            size: 2,
            stride: 4,
            normalised: !1
        },
        uint16x4: {
            size: 4,
            stride: 8,
            normalised: !1
        },
        sint16x2: {
            size: 2,
            stride: 4,
            normalised: !1
        },
        sint16x4: {
            size: 4,
            stride: 8,
            normalised: !1
        },
        unorm16x2: {
            size: 2,
            stride: 4,
            normalised: !0
        },
        unorm16x4: {
            size: 4,
            stride: 8,
            normalised: !0
        },
        snorm16x2: {
            size: 2,
            stride: 4,
            normalised: !0
        },
        snorm16x4: {
            size: 4,
            stride: 8,
            normalised: !0
        },
        float16x2: {
            size: 2,
            stride: 4,
            normalised: !1
        },
        float16x4: {
            size: 4,
            stride: 8,
            normalised: !1
        },
        float32: {
            size: 1,
            stride: 4,
            normalised: !1
        },
        float32x2: {
            size: 2,
            stride: 8,
            normalised: !1
        },
        float32x3: {
            size: 3,
            stride: 12,
            normalised: !1
        },
        float32x4: {
            size: 4,
            stride: 16,
            normalised: !1
        },
        uint32: {
            size: 1,
            stride: 4,
            normalised: !1
        },
        uint32x2: {
            size: 2,
            stride: 8,
            normalised: !1
        },
        uint32x3: {
            size: 3,
            stride: 12,
            normalised: !1
        },
        uint32x4: {
            size: 4,
            stride: 16,
            normalised: !1
        },
        sint32: {
            size: 1,
            stride: 4,
            normalised: !1
        },
        sint32x2: {
            size: 2,
            stride: 8,
            normalised: !1
        },
        sint32x3: {
            size: 3,
            stride: 12,
            normalised: !1
        },
        sint32x4: {
            size: 4,
            stride: 16,
            normalised: !1
        }
    };
    function Fa(a) {
        var e;
        return (e = Qu[a]) != null ? e : Qu.float32
    }
    var f6 = {
        f32: "float32",
        "vec2<f32>": "float32x2",
        "vec3<f32>": "float32x3",
        "vec4<f32>": "float32x4",
        vec2f: "float32x2",
        vec3f: "float32x3",
        vec4f: "float32x4",
        i32: "sint32",
        "vec2<i32>": "sint32x2",
        "vec3<i32>": "sint32x3",
        "vec4<i32>": "sint32x4",
        u32: "uint32",
        "vec2<u32>": "uint32x2",
        "vec3<u32>": "uint32x3",
        "vec4<u32>": "uint32x4",
        bool: "uint32",
        "vec2<bool>": "uint32x2",
        "vec3<bool>": "uint32x3",
        "vec4<bool>": "uint32x4"
    };
    function h6({source: a, entryPoint: e}) {
        var t;
        let i = {}
          , s = a.indexOf(`fn ${e}`);
        if (s !== -1) {
            let r = a.indexOf("->", s);
            if (r !== -1) {
                let o = a.substring(s, r), d = /@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g, f;
                for (; (f = d.exec(o)) !== null; ) {
                    let h = (t = f6[f[3]]) != null ? t : "float32";
                    i[f[2]] = {
                        location: parseInt(f[1], 10),
                        format: h,
                        stride: Fa(h).stride,
                        offset: 0,
                        instance: !1,
                        start: 0
                    }
                }
            }
        }
        return i
    }
    function Hc(a) {
        var e, t, i;
        let s = /(^|[^/])@(group|binding)\(\d+\)[^;]+;/g
          , r = /@group\((\d+)\)/
          , o = /@binding\((\d+)\)/
          , d = /var(<[^>]+>)? (\w+)/
          , f = /:\s*(\w+)/
          , h = /struct\s+(\w+)\s*{([^}]+)}/g
          , u = /(\w+)\s*:\s*([\w\<\>]+)/g
          , p = /struct\s+(\w+)/
          , x = (e = a.match(s)) == null ? void 0 : e.map(T => ({
            group: parseInt(T.match(r)[1], 10),
            binding: parseInt(T.match(o)[1], 10),
            name: T.match(d)[2],
            isUniform: T.match(d)[1] === "<uniform>",
            type: T.match(f)[1]
        }));
        if (!x)
            return {
                groups: [],
                structs: []
            };
        let _ = (i = (t = a.match(h)) == null ? void 0 : t.map(T => {
            let S = T.match(p)[1]
              , A = T.match(u).reduce( (P, O) => {
                let[F,k] = O.split(":");
                return P[F.trim()] = k.trim(),
                P
            }
            , {});
            return A ? {
                name: S,
                members: A
            } : null
        }
        ).filter( ({name: T}) => x.some(S => S.type === T))) != null ? i : [];
        return {
            groups: x,
            structs: _
        }
    }
    var vs = (a => (a[a.VERTEX = 1] = "VERTEX",
    a[a.FRAGMENT = 2] = "FRAGMENT",
    a[a.COMPUTE = 4] = "COMPUTE",
    a))(vs || {});
    function l6({groups: a}) {
        let e = [];
        for (let t = 0; t < a.length; t++) {
            let i = a[t];
            e[i.group] || (e[i.group] = []),
            i.isUniform ? e[i.group].push({
                binding: i.binding,
                visibility: vs.VERTEX | vs.FRAGMENT,
                buffer: {
                    type: "uniform"
                }
            }) : i.type === "sampler" ? e[i.group].push({
                binding: i.binding,
                visibility: vs.FRAGMENT,
                sampler: {
                    type: "filtering"
                }
            }) : i.type === "texture_2d" && e[i.group].push({
                binding: i.binding,
                visibility: vs.FRAGMENT,
                texture: {
                    sampleType: "float",
                    viewDimension: "2d",
                    multisampled: !1
                }
            })
        }
        return e
    }
    function u6({groups: a}) {
        let e = [];
        for (let t = 0; t < a.length; t++) {
            let i = a[t];
            e[i.group] || (e[i.group] = {}),
            e[i.group][i.name] = i.binding
        }
        return e
    }
    function b6(a, e) {
        let t = new Set
          , i = new Set
          , s = [...a.structs, ...e.structs].filter(o => t.has(o.name) ? !1 : (t.add(o.name),
        !0))
          , r = [...a.groups, ...e.groups].filter(o => {
            let d = `${o.name}-${o.binding}`;
            return i.has(d) ? !1 : (i.add(d),
            !0)
        }
        );
        return {
            structs: s,
            groups: r
        }
    }
    var zc = Object.create(null)
      , ea = class a {
        constructor(e) {
            this._layoutKey = 0,
            this._attributeLocationsKey = 0;
            var t, i;
            let {fragment: s, vertex: r, layout: o, gpuLayout: d, name: f} = e;
            if (this.name = f,
            this.fragment = s,
            this.vertex = r,
            s.source === r.source) {
                let h = Hc(s.source);
                this.structsAndGroups = h
            } else {
                let h = Hc(r.source)
                  , u = Hc(s.source);
                this.structsAndGroups = b6(h, u)
            }
            this.layout = o ?? u6(this.structsAndGroups),
            this.gpuLayout = d ?? l6(this.structsAndGroups),
            this.autoAssignGlobalUniforms = ((t = this.layout[0]) == null ? void 0 : t.globalUniforms) !== void 0,
            this.autoAssignLocalUniforms = ((i = this.layout[1]) == null ? void 0 : i.localUniforms) !== void 0,
            this._generateProgramKey()
        }
        _generateProgramKey() {
            let {vertex: e, fragment: t} = this
              , i = e.source + t.source + e.entryPoint + t.entryPoint;
            this._layoutKey = Ds(i, "program")
        }
        get attributeData() {
            var e;
            return (e = this._attributeData) != null || (this._attributeData = h6(this.vertex)),
            this._attributeData
        }
        destroy() {
            this.gpuLayout = null,
            this.layout = null,
            this.structsAndGroups = null,
            this.fragment = null,
            this.vertex = null
        }
        static from(e) {
            let t = `${e.vertex.source}:${e.fragment.source}:${e.fragment.entryPoint}:${e.vertex.entryPoint}`;
            return zc[t] || (zc[t] = new a(e)),
            zc[t]
        }
    }
    ;
    function Ju(a, e, t) {
        if (a)
            for (let i in a) {
                let s = i.toLocaleLowerCase()
                  , r = e[s];
                if (r) {
                    let o = a[i];
                    i === "header" && (o = o.replace(/@in\s+[^;]+;\s*/g, "").replace(/@out\s+[^;]+;\s*/g, "")),
                    t && r.push(`//----${t}----//`),
                    r.push(o)
                }
            }
    }
    var p6 = /\{\{(.*?)\}\}/g;
    function e0(a) {
        var e, t;
        let i = {};
        return ((t = (e = a.match(p6)) == null ? void 0 : e.map(s => s.replace(/[{()}]/g, ""))) != null ? t : []).forEach(s => {
            i[s] = []
        }
        ),
        i
    }
    function t0(a, e) {
        let t, i = /@in\s+([^;]+);/g;
        for (; (t = i.exec(a)) !== null; )
            e.push(t[1])
    }
    function a0(a, e, t=!1) {
        let i = [];
        t0(e, i),
        a.forEach(d => {
            d.header && t0(d.header, i)
        }
        );
        let s = i;
        t && s.sort();
        let r = s.map( (d, f) => `       @location(${f}) ${d},`).join(`
`)
          , o = e.replace(/@in\s+[^;]+;\s*/g, "");
        return o = o.replace("{{in}}", `
${r}
`),
        o
    }
    function i0(a, e) {
        let t, i = /@out\s+([^;]+);/g;
        for (; (t = i.exec(a)) !== null; )
            e.push(t[1])
    }
    function g6(a) {
        let e = /\b(\w+)\s*:/g.exec(a);
        return e ? e[1] : ""
    }
    function m6(a) {
        let e = /@.*?\s+/g;
        return a.replace(e, "")
    }
    function _6(a, e) {
        let t = [];
        i0(e, t),
        a.forEach(f => {
            f.header && i0(f.header, t)
        }
        );
        let i = 0
          , s = t.sort().map(f => f.indexOf("builtin") > -1 ? f : `@location(${i++}) ${f}`).join(`,
`)
          , r = t.sort().map(f => `       var ${m6(f)};`).join(`
`)
          , o = `return VSOutput(
${t.sort().map(f => ` ${g6(f)}`).join(`,
`)});`
          , d = e.replace(/@out\s+[^;]+;\s*/g, "");
        return d = d.replace("{{struct}}", `
${s}
`),
        d = d.replace("{{start}}", `
${r}
`),
        d = d.replace("{{return}}", `
${o}
`),
        d
    }
    function s0(a, e) {
        let t = a;
        for (let i in e) {
            let s = e[i];
            s.join(`
`).length ? t = t.replace(`{{${i}}}`, `//-----${i} START-----//
${s.join(`
`)}
//----${i} FINISH----//`) : t = t.replace(`{{${i}}}`, "")
        }
        return t
    }
    var Qa = Object.create(null)
      , Vc = new Map
      , x6 = 0;
    function y6({template: a, bits: e}) {
        let t = Y2(a, e);
        if (Qa[t])
            return Qa[t];
        let {vertex: i, fragment: s} = T6(a, e);
        return Qa[t] = $2(i, s, e),
        Qa[t]
    }
    function v6({template: a, bits: e}) {
        let t = Y2(a, e);
        return Qa[t] || (Qa[t] = $2(a.vertex, a.fragment, e)),
        Qa[t]
    }
    function T6(a, e) {
        let t = e.map(o => o.vertex).filter(o => !!o)
          , i = e.map(o => o.fragment).filter(o => !!o)
          , s = a0(t, a.vertex, !0);
        s = _6(t, s);
        let r = a0(i, a.fragment, !0);
        return {
            vertex: s,
            fragment: r
        }
    }
    function Y2(a, e) {
        return e.map(t => (Vc.has(t) || Vc.set(t, x6++),
        Vc.get(t))).sort( (t, i) => t - i).join("-") + a.vertex + a.fragment
    }
    function $2(a, e, t) {
        let i = e0(a)
          , s = e0(e);
        return t.forEach(r => {
            Ju(r.vertex, i, r.name),
            Ju(r.fragment, s, r.name)
        }
        ),
        {
            vertex: s0(a, i),
            fragment: s0(e, s)
        }
    }
    var S6 = `
@in aPosition: vec2<f32>;
@in aUV: vec2<f32>;

@out @builtin(position) vPosition: vec4<f32>;
@out vUV : vec2<f32>;
@out vColor : vec4<f32>;

{{header}}

struct VSOutput {
{{struct}}
};

@vertex
fn main( {{in}} ) -> VSOutput {

var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
var modelMatrix = mat3x3<f32>(
1.0, 0.0, 0.0,
0.0, 1.0, 0.0,
0.0, 0.0, 1.0
);
var position = aPosition;
var uv = aUV;

{{start}}

vColor = vec4<f32>(1., 1., 1., 1.);

{{main}}

vUV = uv;

var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);

vColor *= globalUniforms.uWorldColorAlpha;

{{end}}

{{return}}
};
`
      , w6 = `
@in vUV : vec2<f32>;
@in vColor : vec4<f32>;

{{header}}

@fragment
fn main(
{{in}}
) -> @location(0) vec4<f32> {

{{start}}

var outColor:vec4<f32>;

{{main}}

var finalColor:vec4<f32> = outColor * vColor;

{{end}}

return finalColor;
};
`
      , A6 = `
in vec2 aPosition;
in vec2 aUV;

out vec4 vColor;
out vec2 vUV;

{{header}}

void main(void){

mat3 worldTransformMatrix = uWorldTransformMatrix;
mat3 modelMatrix = mat3(
1.0, 0.0, 0.0,
0.0, 1.0, 0.0,
0.0, 0.0, 1.0
);
vec2 position = aPosition;
vec2 uv = aUV;

{{start}}

vColor = vec4(1.);

{{main}}

vUV = uv;

mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

vColor *= uWorldColorAlpha;

{{end}}
}
`
      , E6 = `

in vec4 vColor;
in vec2 vUV;

out vec4 finalColor;

{{header}}

void main(void) {

{{start}}

vec4 outColor;

{{main}}

finalColor = outColor * vColor;

{{end}}
}
`
      , P6 = {
        name: "global-uniforms-bit",
        vertex: {
            header: `
struct GlobalUniforms {
uProjectionMatrix:mat3x3<f32>,
uWorldTransformMatrix:mat3x3<f32>,
uWorldColorAlpha: vec4<f32>,
uResolution: vec2<f32>,
}

@group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
`
        }
    };
    var R6 = {
        name: "global-uniforms-bit",
        vertex: {
            header: `
uniform mat3 uProjectionMatrix;
uniform mat3 uWorldTransformMatrix;
uniform vec4 uWorldColorAlpha;
uniform vec2 uResolution;
`
        }
    }
      , M6 = Object.defineProperty
      , r0 = Object.getOwnPropertySymbols
      , C6 = Object.prototype.hasOwnProperty
      , O6 = Object.prototype.propertyIsEnumerable
      , n0 = (a, e, t) => e in a ? M6(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , I6 = (a, e) => {
        for (var t in e || (e = {}))
            C6.call(e, t) && n0(a, t, e[t]);
        if (r0)
            for (var t of r0(e))
                O6.call(e, t) && n0(a, t, e[t]);
        return a
    }
    ;
    function $s({bits: a, name: e}) {
        let t = y6({
            template: {
                fragment: w6,
                vertex: S6
            },
            bits: [P6, ...a]
        });
        return ea.from({
            name: e,
            vertex: {
                source: t.vertex,
                entryPoint: "main"
            },
            fragment: {
                source: t.fragment,
                entryPoint: "main"
            }
        })
    }
    function Ks({bits: a, name: e}) {
        return new pa(I6({
            name: e
        }, v6({
            template: {
                vertex: A6,
                fragment: E6
            },
            bits: [R6, ...a]
        })))
    }
    var wh = {
        name: "color-bit",
        vertex: {
            header: `
@in aColor: vec4<f32>;
`,
            main: `
vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
`
        }
    }
      , Ah = {
        name: "color-bit",
        vertex: {
            header: `
in vec4 aColor;
`,
            main: `
vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
`
        }
    }
      , Wc = {};
    function G6(a) {
        let e = [];
        if (a === 1)
            e.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),
            e.push("@group(1) @binding(1) var textureSampler1: sampler;");
        else {
            let t = 0;
            for (let i = 0; i < a; i++)
                e.push(`@group(1) @binding(${t++}) var textureSource${i + 1}: texture_2d<f32>;`),
                e.push(`@group(1) @binding(${t++}) var textureSampler${i + 1}: sampler;`)
        }
        return e.join(`
`)
    }
    function B6(a) {
        let e = [];
        if (a === 1)
            e.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");
        else {
            e.push("switch vTextureId {");
            for (let t = 0; t < a; t++)
                t === a - 1 ? e.push("  default:{") : e.push(`  case ${t}:{`),
                e.push(`      outColor = textureSampleGrad(textureSource${t + 1}, textureSampler${t + 1}, vUV, uvDx, uvDy);`),
                e.push("      break;}");
            e.push("}")
        }
        return e.join(`
`)
    }
    function Eh(a) {
        return Wc[a] || (Wc[a] = {
            name: "texture-batch-bit",
            vertex: {
                header: `
@in aTextureIdAndRound: vec2<u32>;
@out @interpolate(flat) vTextureId : u32;
`,
                main: `
vTextureId = aTextureIdAndRound.y;
`,
                end: `
if(aTextureIdAndRound.x == 1)
{
vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
}
`
            },
            fragment: {
                header: `
@in @interpolate(flat) vTextureId: u32;

${G6(a)}
`,
                main: `
var uvDx = dpdx(vUV);
var uvDy = dpdy(vUV);

${B6(a)}
`
            }
        }),
        Wc[a]
    }
    var Yc = {};
    function F6(a) {
        let e = [];
        for (let t = 0; t < a; t++)
            t > 0 && e.push("else"),
            t < a - 1 && e.push(`if(vTextureId < ${t}.5)`),
            e.push("{"),
            e.push(`	outColor = texture(uTextures[${t}], vUV);`),
            e.push("}");
        return e.join(`
`)
    }
    function Ph(a) {
        return Yc[a] || (Yc[a] = {
            name: "texture-batch-bit",
            vertex: {
                header: `
in vec2 aTextureIdAndRound;
out float vTextureId;

`,
                main: `
vTextureId = aTextureIdAndRound.y;
`,
                end: `
if(aTextureIdAndRound.x == 1.)
{
gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
}
`
            },
            fragment: {
                header: `
in float vTextureId;

uniform sampler2D uTextures[${a}];

`,
                main: `

${F6(a)}
`
            }
        }),
        Yc[a]
    }
    var qs = {
        name: "round-pixels-bit",
        vertex: {
            header: `
fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32> 
{
return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
}
`
        }
    }
      , Zs = {
        name: "round-pixels-bit",
        vertex: {
            header: `   
vec2 roundPixels(vec2 position, vec2 targetSize)
{       
return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
}
`
        }
    }
      , K2 = ["f32", "i32", "vec2<f32>", "vec3<f32>", "vec4<f32>", "mat2x2<f32>", "mat3x3<f32>", "mat4x4<f32>", "mat3x2<f32>", "mat4x2<f32>", "mat2x3<f32>", "mat4x3<f32>", "mat2x4<f32>", "mat3x4<f32>", "vec2<i32>", "vec3<i32>", "vec4<i32>"]
      , D6 = K2.reduce( (a, e) => (a[e] = !0,
    a), {});
    function k6(a, e) {
        switch (a) {
        case "f32":
            return 0;
        case "vec2<f32>":
            return new Float32Array(2 * e);
        case "vec3<f32>":
            return new Float32Array(3 * e);
        case "vec4<f32>":
            return new Float32Array(4 * e);
        case "mat2x2<f32>":
            return new Float32Array([1, 0, 0, 1]);
        case "mat3x3<f32>":
            return new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]);
        case "mat4x4<f32>":
            return new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1])
        }
        return null
    }
    var U6 = Object.defineProperty
      , o0 = Object.getOwnPropertySymbols
      , L6 = Object.prototype.hasOwnProperty
      , N6 = Object.prototype.propertyIsEnumerable
      , c0 = (a, e, t) => e in a ? U6(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , d0 = (a, e) => {
        for (var t in e || (e = {}))
            L6.call(e, t) && c0(a, t, e[t]);
        if (o0)
            for (var t of o0(e))
                N6.call(e, t) && c0(a, t, e[t]);
        return a
    }
      , q2 = class Z2 {
        constructor(e, t) {
            this._touched = 0,
            this.uid = Fe("uniform"),
            this._resourceType = "uniformGroup",
            this._resourceId = Fe("resource"),
            this.isUniformGroup = !0,
            this._dirtyId = 0,
            this.destroyed = !1;
            var i, s;
            t = d0(d0({}, Z2.defaultOptions), t),
            this.uniformStructures = e;
            let r = {};
            for (let o in e) {
                let d = e[o];
                if (d.name = o,
                d.size = (i = d.size) != null ? i : 1,
                !D6[d.type])
                    throw new Error(`Uniform type ${d.type} is not supported. Supported uniform types are: ${K2.join(", ")}`);
                (s = d.value) != null || (d.value = k6(d.type, d.size)),
                r[o] = d.value
            }
            this.uniforms = r,
            this._dirtyId = 1,
            this.ubo = t.ubo,
            this.isStatic = t.isStatic,
            this._signature = Ds(Object.keys(r).map(o => `${o}-${e[o].type}`).join("-"), "uniform-group")
        }
        update() {
            this._dirtyId++
        }
    }
    ;
    q2.defaultOptions = {
        ubo: !1,
        isStatic: !1
    };
    var Je = q2
      , f0 = {};
    function Rh(a) {
        let e = f0[a];
        if (e)
            return e;
        let t = new Int32Array(a);
        for (let i = 0; i < a; i++)
            t[i] = i;
        return e = f0[a] = new Je({
            uTextures: {
                value: t,
                type: "i32",
                size: a
            }
        },{
            isStatic: !0
        }),
        e
    }
    var xt = (a => (a[a.WEBGL = 1] = "WEBGL",
    a[a.WEBGPU = 2] = "WEBGPU",
    a[a.BOTH = 3] = "BOTH",
    a))(xt || {})
      , j6 = Object.defineProperty
      , an = Object.getOwnPropertySymbols
      , Q2 = Object.prototype.hasOwnProperty
      , J2 = Object.prototype.propertyIsEnumerable
      , h0 = (a, e, t) => e in a ? j6(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , X6 = (a, e) => {
        for (var t in e || (e = {}))
            Q2.call(e, t) && h0(a, t, e[t]);
        if (an)
            for (var t of an(e))
                J2.call(e, t) && h0(a, t, e[t]);
        return a
    }
      , H6 = (a, e) => {
        var t = {};
        for (var i in a)
            Q2.call(a, i) && e.indexOf(i) < 0 && (t[i] = a[i]);
        if (a != null && an)
            for (var i of an(a))
                e.indexOf(i) < 0 && J2.call(a, i) && (t[i] = a[i]);
        return t
    }
      , ft = class a extends yt {
        constructor(e) {
            super(),
            this.uid = Fe("shader"),
            this._uniformBindMap = Object.create(null),
            this._ownedBindGroups = [];
            let {gpuProgram: t, glProgram: i, groups: s, resources: r, compatibleRenderers: o, groupMap: d} = e;
            this.gpuProgram = t,
            this.glProgram = i,
            o === void 0 && (o = 0,
            t && (o |= xt.WEBGPU),
            i && (o |= xt.WEBGL)),
            this.compatibleRenderers = o;
            let f = {};
            if (!r && !s && (r = {}),
            r && s)
                throw new Error("[Shader] Cannot have both resources and groups");
            if (!t && s && !d)
                throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");
            if (!t && s && d)
                for (let h in d)
                    for (let u in d[h]) {
                        let p = d[h][u];
                        f[p] = {
                            group: h,
                            binding: u,
                            name: p
                        }
                    }
            else if (t && s && !d) {
                let h = t.structsAndGroups.groups;
                d = {},
                h.forEach(u => {
                    d[u.group] = d[u.group] || {},
                    d[u.group][u.binding] = u.name,
                    f[u.name] = u
                }
                )
            } else if (r) {
                s = {},
                d = {},
                t && t.structsAndGroups.groups.forEach(u => {
                    d[u.group] = d[u.group] || {},
                    d[u.group][u.binding] = u.name,
                    f[u.name] = u
                }
                );
                let h = 0;
                for (let u in r)
                    f[u] || (s[99] || (s[99] = new Ht,
                    this._ownedBindGroups.push(s[99])),
                    f[u] = {
                        group: 99,
                        binding: h,
                        name: u
                    },
                    d[99] = d[99] || {},
                    d[99][h] = u,
                    h++);
                for (let u in r) {
                    let p = u
                      , x = r[u];
                    !x.source && !x._resourceType && (x = new Je(x));
                    let _ = f[p];
                    _ && (s[_.group] || (s[_.group] = new Ht,
                    this._ownedBindGroups.push(s[_.group])),
                    s[_.group].setResource(x, _.binding))
                }
            }
            this.groups = s,
            this._uniformBindMap = d,
            this.resources = this._buildResourceAccessor(s, f)
        }
        addResource(e, t, i) {
            var s, r;
            (s = this._uniformBindMap)[t] || (s[t] = {}),
            (r = this._uniformBindMap[t])[i] || (r[i] = e),
            this.groups[t] || (this.groups[t] = new Ht,
            this._ownedBindGroups.push(this.groups[t]))
        }
        _buildResourceAccessor(e, t) {
            let i = {};
            for (let s in t) {
                let r = t[s];
                Object.defineProperty(i, r.name, {
                    get() {
                        return e[r.group].getResource(r.binding)
                    },
                    set(o) {
                        e[r.group].setResource(o, r.binding)
                    }
                })
            }
            return i
        }
        destroy(e=!1) {
            var t, i;
            this.emit("destroy", this),
            e && ((t = this.gpuProgram) == null || t.destroy(),
            (i = this.glProgram) == null || i.destroy()),
            this.gpuProgram = null,
            this.glProgram = null,
            this.removeAllListeners(),
            this._uniformBindMap = null,
            this._ownedBindGroups.forEach(s => {
                s.destroy()
            }
            ),
            this._ownedBindGroups = null,
            this.resources = null,
            this.groups = null
        }
        static from(e) {
            let t = e, {gpu: i, gl: s} = t, r = H6(t, ["gpu", "gl"]), o, d;
            return i && (o = ea.from(i)),
            s && (d = pa.from(s)),
            new a(X6({
                gpuProgram: o,
                glProgram: d
            }, r))
        }
    }
      , Zd = class extends ft {
        constructor(e) {
            let t = Ks({
                name: "batch",
                bits: [Ah, Ph(e), Zs]
            })
              , i = $s({
                name: "batch",
                bits: [wh, Eh(e), qs]
            });
            super({
                glProgram: t,
                gpuProgram: i,
                resources: {
                    batchSamplers: Rh(e)
                }
            })
        }
    }
      , l0 = null
      , ep = class tp extends $8 {
        constructor() {
            super(...arguments),
            this.geometry = new Kd,
            this.shader = l0 || (l0 = new Zd(this.maxTextures)),
            this.name = tp.extension.name,
            this.vertexSize = 6
        }
        packAttributes(e, t, i, s, r) {
            let o = r << 16 | e.roundPixels & 65535
              , d = e.transform
              , f = d.a
              , h = d.b
              , u = d.c
              , p = d.d
              , x = d.tx
              , _ = d.ty
              , {positions: T, uvs: S} = e
              , A = e.color
              , P = e.attributeOffset
              , O = P + e.attributeSize;
            for (let F = P; F < O; F++) {
                let k = F * 2
                  , V = T[k]
                  , L = T[k + 1];
                t[s++] = f * V + u * L + x,
                t[s++] = p * L + h * V + _,
                t[s++] = S[k],
                t[s++] = S[k + 1],
                i[s++] = A,
                i[s++] = o
            }
        }
        packQuadAttributes(e, t, i, s, r) {
            let o = e.texture
              , d = e.transform
              , f = d.a
              , h = d.b
              , u = d.c
              , p = d.d
              , x = d.tx
              , _ = d.ty
              , T = e.bounds
              , S = T.maxX
              , A = T.minX
              , P = T.maxY
              , O = T.minY
              , F = o.uvs
              , k = e.color
              , V = r << 16 | e.roundPixels & 65535;
            t[s + 0] = f * A + u * O + x,
            t[s + 1] = p * O + h * A + _,
            t[s + 2] = F.x0,
            t[s + 3] = F.y0,
            i[s + 4] = k,
            i[s + 5] = V,
            t[s + 6] = f * S + u * O + x,
            t[s + 7] = p * O + h * S + _,
            t[s + 8] = F.x1,
            t[s + 9] = F.y1,
            i[s + 10] = k,
            i[s + 11] = V,
            t[s + 12] = f * S + u * P + x,
            t[s + 13] = p * P + h * S + _,
            t[s + 14] = F.x2,
            t[s + 15] = F.y2,
            i[s + 16] = k,
            i[s + 17] = V,
            t[s + 18] = f * A + u * P + x,
            t[s + 19] = p * P + h * A + _,
            t[s + 20] = F.x3,
            t[s + 21] = F.y3,
            i[s + 22] = k,
            i[s + 23] = V
        }
    }
    ;
    ep.extension = {
        type: [B.Batcher],
        name: "default"
    };
    var Mh = ep;
    function z6(a, e, t, i, s, r, o, d=null) {
        let f = 0;
        t *= e,
        s *= r;
        let h = d.a
          , u = d.b
          , p = d.c
          , x = d.d
          , _ = d.tx
          , T = d.ty;
        for (; f < o; ) {
            let S = a[t]
              , A = a[t + 1];
            i[s] = h * S + p * A + _,
            i[s + 1] = u * S + x * A + T,
            s += r,
            t += e,
            f++
        }
    }
    function V6(a, e, t, i) {
        let s = 0;
        for (e *= t; s < i; )
            a[e] = 0,
            a[e + 1] = 0,
            e += t,
            s++
    }
    function ap(a, e, t, i, s) {
        let r = e.a
          , o = e.b
          , d = e.c
          , f = e.d
          , h = e.tx
          , u = e.ty;
        t || (t = 0),
        i || (i = 2),
        s || (s = a.length / i - t);
        let p = t * i;
        for (let x = 0; x < s; x++) {
            let _ = a[p]
              , T = a[p + 1];
            a[p] = r * _ + d * T + h,
            a[p + 1] = o * _ + f * T + u,
            p += i
        }
    }
    var W6 = new ie
      , ks = class {
        constructor() {
            this.packAsQuad = !1,
            this.batcherName = "default",
            this.topology = "triangle-list",
            this.applyTransform = !0,
            this.roundPixels = 0,
            this._batcher = null,
            this._batch = null
        }
        get uvs() {
            return this.geometryData.uvs
        }
        get positions() {
            return this.geometryData.vertices
        }
        get indices() {
            return this.geometryData.indices
        }
        get blendMode() {
            return this.applyTransform ? this.renderable.groupBlendMode : "normal"
        }
        get color() {
            let e = this.baseColor
              , t = e >> 16 | e & 65280 | (e & 255) << 16
              , i = this.renderable;
            return i ? m2(t, i.groupColor) + (this.alpha * i.groupAlpha * 255 << 24) : t + (this.alpha * 255 << 24)
        }
        get transform() {
            var e;
            return ((e = this.renderable) == null ? void 0 : e.groupTransform) || W6
        }
        copyTo(e) {
            e.indexOffset = this.indexOffset,
            e.indexSize = this.indexSize,
            e.attributeOffset = this.attributeOffset,
            e.attributeSize = this.attributeSize,
            e.baseColor = this.baseColor,
            e.alpha = this.alpha,
            e.texture = this.texture,
            e.geometryData = this.geometryData,
            e.topology = this.topology
        }
        reset() {
            this.applyTransform = !0,
            this.renderable = null,
            this.topology = "triangle-list"
        }
    }
      , Y6 = Object.defineProperty
      , $6 = Object.defineProperties
      , K6 = Object.getOwnPropertyDescriptors
      , u0 = Object.getOwnPropertySymbols
      , q6 = Object.prototype.hasOwnProperty
      , Z6 = Object.prototype.propertyIsEnumerable
      , b0 = (a, e, t) => e in a ? Y6(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , sn = (a, e) => {
        for (var t in e || (e = {}))
            q6.call(e, t) && b0(a, t, e[t]);
        if (u0)
            for (var t of u0(e))
                Z6.call(e, t) && b0(a, t, e[t]);
        return a
    }
      , rn = (a, e) => $6(a, K6(e))
      , Us = {
        extension: {
            type: B.ShapeBuilder,
            name: "circle"
        },
        build(a, e) {
            let t, i, s, r, o, d;
            if (a.type === "circle") {
                let k = a;
                t = k.x,
                i = k.y,
                o = d = k.radius,
                s = r = 0
            } else if (a.type === "ellipse") {
                let k = a;
                t = k.x,
                i = k.y,
                o = k.halfWidth,
                d = k.halfHeight,
                s = r = 0
            } else {
                let k = a
                  , V = k.width / 2
                  , L = k.height / 2;
                t = k.x + V,
                i = k.y + L,
                o = d = Math.max(0, Math.min(k.radius, Math.min(V, L))),
                s = V - o,
                r = L - d
            }
            if (!(o >= 0 && d >= 0 && s >= 0 && r >= 0))
                return e;
            let f = Math.ceil(2.3 * Math.sqrt(o + d))
              , h = f * 8 + (s ? 4 : 0) + (r ? 4 : 0);
            if (h === 0)
                return e;
            if (f === 0)
                return e[0] = e[6] = t + s,
                e[1] = e[3] = i + r,
                e[2] = e[4] = t - s,
                e[5] = e[7] = i - r,
                e;
            let u = 0
              , p = f * 4 + (s ? 2 : 0) + 2
              , x = p
              , _ = h
              , T = s + o
              , S = r
              , A = t + T
              , P = t - T
              , O = i + S;
            if (e[u++] = A,
            e[u++] = O,
            e[--p] = O,
            e[--p] = P,
            r) {
                let k = i - S;
                e[x++] = P,
                e[x++] = k,
                e[--_] = k,
                e[--_] = A
            }
            for (let k = 1; k < f; k++) {
                let V = Math.PI / 2 * (k / f)
                  , L = s + Math.cos(V) * o
                  , X = r + Math.sin(V) * d
                  , se = t + L
                  , ce = t - L
                  , Z = i + X
                  , q = i - X;
                e[u++] = se,
                e[u++] = Z,
                e[--p] = Z,
                e[--p] = ce,
                e[x++] = ce,
                e[x++] = q,
                e[--_] = q,
                e[--_] = se
            }
            T = s,
            S = r + d,
            A = t + T,
            P = t - T,
            O = i + S;
            let F = i - S;
            return e[u++] = A,
            e[u++] = O,
            e[--_] = F,
            e[--_] = A,
            s && (e[u++] = P,
            e[u++] = O,
            e[--_] = F,
            e[--_] = P),
            e
        },
        triangulate(a, e, t, i, s, r) {
            if (a.length === 0)
                return;
            let o = 0
              , d = 0;
            for (let u = 0; u < a.length; u += 2)
                o += a[u],
                d += a[u + 1];
            o /= a.length / 2,
            d /= a.length / 2;
            let f = i;
            e[f * t] = o,
            e[f * t + 1] = d;
            let h = f++;
            for (let u = 0; u < a.length; u += 2)
                e[f * t] = a[u],
                e[f * t + 1] = a[u + 1],
                u > 0 && (s[r++] = f,
                s[r++] = h,
                s[r++] = f - 1),
                f++;
            s[r++] = h + 1,
            s[r++] = h,
            s[r++] = f - 1
        }
    }
      , Q6 = rn(sn({}, Us), {
        extension: rn(sn({}, Us.extension), {
            name: "ellipse"
        })
    })
      , J6 = rn(sn({}, Us), {
        extension: rn(sn({}, Us.extension), {
            name: "roundedRectangle"
        })
    })
      , ip = 1e-4
      , p0 = 1e-4;
    function e7(a) {
        let e = a.length;
        if (e < 6)
            return 1;
        let t = 0;
        for (let i = 0, s = a[e - 2], r = a[e - 1]; i < e; i += 2) {
            let o = a[i]
              , d = a[i + 1];
            t += (o - s) * (d + r),
            s = o,
            r = d
        }
        return t < 0 ? -1 : 1
    }
    function g0(a, e, t, i, s, r, o, d) {
        let f = a - t * s, h = e - i * s, u = a + t * r, p = e + i * r, x, _;
        o ? (x = i,
        _ = -t) : (x = -i,
        _ = t);
        let T = f + x
          , S = h + _
          , A = u + x
          , P = p + _;
        return d.push(T, S),
        d.push(A, P),
        2
    }
    function za(a, e, t, i, s, r, o, d) {
        let f = t - a
          , h = i - e
          , u = Math.atan2(f, h)
          , p = Math.atan2(s - a, r - e);
        d && u < p ? u += Math.PI * 2 : !d && u > p && (p += Math.PI * 2);
        let x = u
          , _ = p - u
          , T = Math.abs(_)
          , S = Math.sqrt(f * f + h * h)
          , A = (15 * T * Math.sqrt(S) / Math.PI >> 0) + 1
          , P = _ / A;
        if (x += P,
        d) {
            o.push(a, e),
            o.push(t, i);
            for (let O = 1, F = x; O < A; O++,
            F += P)
                o.push(a, e),
                o.push(a + Math.sin(F) * S, e + Math.cos(F) * S);
            o.push(a, e),
            o.push(s, r)
        } else {
            o.push(t, i),
            o.push(a, e);
            for (let O = 1, F = x; O < A; O++,
            F += P)
                o.push(a + Math.sin(F) * S, e + Math.cos(F) * S),
                o.push(a, e);
            o.push(s, r),
            o.push(a, e)
        }
        return A * 2
    }
    function t7(a, e, t, i, s, r) {
        let o = ip;
        if (a.length === 0)
            return;
        let d = e
          , f = d.alignment;
        if (e.alignment !== .5) {
            let Ae = e7(a);
            t && (Ae *= -1),
            f = (f - .5) * Ae + .5
        }
        let h = new Ce(a[0],a[1])
          , u = new Ce(a[a.length - 2],a[a.length - 1])
          , p = i
          , x = Math.abs(h.x - u.x) < o && Math.abs(h.y - u.y) < o;
        if (p) {
            a = a.slice(),
            x && (a.pop(),
            a.pop(),
            u.set(a[a.length - 2], a[a.length - 1]));
            let Ae = (h.x + u.x) * .5
              , Ot = (u.y + h.y) * .5;
            a.unshift(Ae, Ot),
            a.push(Ae, Ot)
        }
        let _ = s
          , T = a.length / 2
          , S = a.length
          , A = _.length / 2
          , P = d.width / 2
          , O = P * P
          , F = d.miterLimit * d.miterLimit
          , k = a[0]
          , V = a[1]
          , L = a[2]
          , X = a[3]
          , se = 0
          , ce = 0
          , Z = -(V - X)
          , q = k - L
          , re = 0
          , te = 0
          , Ge = Math.sqrt(Z * Z + q * q);
        Z /= Ge,
        q /= Ge,
        Z *= P,
        q *= P;
        let Tt = f
          , ne = (1 - Tt) * 2
          , de = Tt * 2;
        p || (d.cap === "round" ? S += za(k - Z * (ne - de) * .5, V - q * (ne - de) * .5, k - Z * ne, V - q * ne, k + Z * de, V + q * de, _, !0) + 2 : d.cap === "square" && (S += g0(k, V, Z, q, ne, de, !0, _))),
        _.push(k - Z * ne, V - q * ne),
        _.push(k + Z * de, V + q * de);
        for (let Ae = 1; Ae < T - 1; ++Ae) {
            k = a[(Ae - 1) * 2],
            V = a[(Ae - 1) * 2 + 1],
            L = a[Ae * 2],
            X = a[Ae * 2 + 1],
            se = a[(Ae + 1) * 2],
            ce = a[(Ae + 1) * 2 + 1],
            Z = -(V - X),
            q = k - L,
            Ge = Math.sqrt(Z * Z + q * q),
            Z /= Ge,
            q /= Ge,
            Z *= P,
            q *= P,
            re = -(X - ce),
            te = L - se,
            Ge = Math.sqrt(re * re + te * te),
            re /= Ge,
            te /= Ge,
            re *= P,
            te *= P;
            let Ot = L - k
              , ya = V - X
              , ia = L - se
              , va = ce - X
              , zi = Ot * ia + ya * va
              , Yt = ya * ia - va * Ot
              , Ta = Yt < 0;
            if (Math.abs(Yt) < .001 * Math.abs(zi)) {
                _.push(L - Z * ne, X - q * ne),
                _.push(L + Z * de, X + q * de),
                zi >= 0 && (d.join === "round" ? S += za(L, X, L - Z * ne, X - q * ne, L - re * ne, X - te * ne, _, !1) + 4 : S += 2,
                _.push(L - re * de, X - te * de),
                _.push(L + re * ne, X + te * ne));
                continue
            }
            let Sa = (-Z + k) * (-q + X) - (-Z + L) * (-q + V)
              , Na = (-re + se) * (-te + X) - (-re + L) * (-te + ce)
              , wa = (Ot * Na - ia * Sa) / Yt
              , Aa = (va * Sa - ya * Na) / Yt
              , ja = (wa - L) * (wa - L) + (Aa - X) * (Aa - X)
              , It = L + (wa - L) * ne
              , Gt = X + (Aa - X) * ne
              , Bt = L - (wa - L) * de
              , Ft = X - (Aa - X) * de
              , Vi = Math.min(Ot * Ot + ya * ya, ia * ia + va * va)
              , di = Ta ? ne : de
              , fi = Vi + di * di * O;
            ja <= fi ? d.join === "bevel" || ja / O > F ? (Ta ? (_.push(It, Gt),
            _.push(L + Z * de, X + q * de),
            _.push(It, Gt),
            _.push(L + re * de, X + te * de)) : (_.push(L - Z * ne, X - q * ne),
            _.push(Bt, Ft),
            _.push(L - re * ne, X - te * ne),
            _.push(Bt, Ft)),
            S += 2) : d.join === "round" ? Ta ? (_.push(It, Gt),
            _.push(L + Z * de, X + q * de),
            S += za(L, X, L + Z * de, X + q * de, L + re * de, X + te * de, _, !0) + 4,
            _.push(It, Gt),
            _.push(L + re * de, X + te * de)) : (_.push(L - Z * ne, X - q * ne),
            _.push(Bt, Ft),
            S += za(L, X, L - Z * ne, X - q * ne, L - re * ne, X - te * ne, _, !1) + 4,
            _.push(L - re * ne, X - te * ne),
            _.push(Bt, Ft)) : (_.push(It, Gt),
            _.push(Bt, Ft)) : (_.push(L - Z * ne, X - q * ne),
            _.push(L + Z * de, X + q * de),
            d.join === "round" ? Ta ? S += za(L, X, L + Z * de, X + q * de, L + re * de, X + te * de, _, !0) + 2 : S += za(L, X, L - Z * ne, X - q * ne, L - re * ne, X - te * ne, _, !1) + 2 : d.join === "miter" && ja / O <= F && (Ta ? (_.push(Bt, Ft),
            _.push(Bt, Ft)) : (_.push(It, Gt),
            _.push(It, Gt)),
            S += 2),
            _.push(L - re * ne, X - te * ne),
            _.push(L + re * de, X + te * de),
            S += 2)
        }
        k = a[(T - 2) * 2],
        V = a[(T - 2) * 2 + 1],
        L = a[(T - 1) * 2],
        X = a[(T - 1) * 2 + 1],
        Z = -(V - X),
        q = k - L,
        Ge = Math.sqrt(Z * Z + q * q),
        Z /= Ge,
        q /= Ge,
        Z *= P,
        q *= P,
        _.push(L - Z * ne, X - q * ne),
        _.push(L + Z * de, X + q * de),
        p || (d.cap === "round" ? S += za(L - Z * (ne - de) * .5, X - q * (ne - de) * .5, L - Z * ne, X - q * ne, L + Z * de, X + q * de, _, !1) + 2 : d.cap === "square" && (S += g0(L, X, Z, q, ne, de, !1, _)));
        let Hi = p0 * p0;
        for (let Ae = A; Ae < S + A - 2; ++Ae)
            k = _[Ae * 2],
            V = _[Ae * 2 + 1],
            L = _[(Ae + 1) * 2],
            X = _[(Ae + 1) * 2 + 1],
            se = _[(Ae + 2) * 2],
            ce = _[(Ae + 2) * 2 + 1],
            !(Math.abs(k * (X - ce) + L * (ce - V) + se * (V - X)) < Hi) && r.push(Ae, Ae + 1, Ae + 2)
    }
    function a7(a, e, t, i) {
        let s = ip;
        if (a.length === 0)
            return;
        let r = a[0]
          , o = a[1]
          , d = a[a.length - 2]
          , f = a[a.length - 1]
          , h = e || Math.abs(r - d) < s && Math.abs(o - f) < s
          , u = t
          , p = a.length / 2
          , x = u.length / 2;
        for (let _ = 0; _ < p; _++)
            u.push(a[_ * 2]),
            u.push(a[_ * 2 + 1]);
        for (let _ = 0; _ < p - 1; _++)
            i.push(x + _, x + _ + 1);
        h && i.push(x + p - 1, x)
    }
    var ko = {
        exports: {}
    }
      , cS = ko.exports;
    ko.exports = Uo;
    var dS = ko.exports.default = Uo;
    function Uo(a, e, t) {
        t = t || 2;
        var i = e && e.length
          , s = i ? e[0] * t : a.length
          , r = sp(a, 0, s, t, !0)
          , o = [];
        if (!r || r.next === r.prev)
            return o;
        var d, f, h, u, p, x, _;
        if (i && (r = o7(a, e, r, t)),
        a.length > 80 * t) {
            d = h = a[0],
            f = u = a[1];
            for (var T = t; T < s; T += t)
                p = a[T],
                x = a[T + 1],
                p < d && (d = p),
                x < f && (f = x),
                p > h && (h = p),
                x > u && (u = x);
            _ = Math.max(h - d, u - f),
            _ = _ !== 0 ? 32767 / _ : 0
        }
        return Ls(r, o, t, d, f, _, 0),
        o
    }
    function sp(a, e, t, i, s) {
        var r, o;
        if (s === ef(a, e, t, i) > 0)
            for (r = e; r < t; r += i)
                o = m0(r, a[r], a[r + 1], o);
        else
            for (r = t - i; r >= e; r -= i)
                o = m0(r, a[r], a[r + 1], o);
        return o && Lo(o, o.next) && (js(o),
        o = o.next),
        o
    }
    function ti(a, e) {
        if (!a)
            return a;
        e || (e = a);
        var t = a, i;
        do
            if (i = !1,
            !t.steiner && (Lo(t, t.next) || Le(t.prev, t, t.next) === 0)) {
                if (js(t),
                t = e = t.prev,
                t === t.next)
                    break;
                i = !0
            } else
                t = t.next;
        while (i || t !== e);
        return e
    }
    function Ls(a, e, t, i, s, r, o) {
        if (a) {
            !o && r && l7(a, i, s, r);
            for (var d = a, f, h; a.prev !== a.next; ) {
                if (f = a.prev,
                h = a.next,
                r ? s7(a, i, s, r) : i7(a)) {
                    e.push(f.i / t | 0),
                    e.push(a.i / t | 0),
                    e.push(h.i / t | 0),
                    js(a),
                    a = h.next,
                    d = h.next;
                    continue
                }
                if (a = h,
                a === d) {
                    o ? o === 1 ? (a = r7(ti(a), e, t),
                    Ls(a, e, t, i, s, r, 2)) : o === 2 && n7(a, e, t, i, s, r) : Ls(ti(a), e, t, i, s, r, 1);
                    break
                }
            }
        }
    }
    function i7(a) {
        var e = a.prev
          , t = a
          , i = a.next;
        if (Le(e, t, i) >= 0)
            return !1;
        for (var s = e.x, r = t.x, o = i.x, d = e.y, f = t.y, h = i.y, u = s < r ? s < o ? s : o : r < o ? r : o, p = d < f ? d < h ? d : h : f < h ? f : h, x = s > r ? s > o ? s : o : r > o ? r : o, _ = d > f ? d > h ? d : h : f > h ? f : h, T = i.next; T !== e; ) {
            if (T.x >= u && T.x <= x && T.y >= p && T.y <= _ && Ai(s, d, r, f, o, h, T.x, T.y) && Le(T.prev, T, T.next) >= 0)
                return !1;
            T = T.next
        }
        return !0
    }
    function s7(a, e, t, i) {
        var s = a.prev
          , r = a
          , o = a.next;
        if (Le(s, r, o) >= 0)
            return !1;
        for (var d = s.x, f = r.x, h = o.x, u = s.y, p = r.y, x = o.y, _ = d < f ? d < h ? d : h : f < h ? f : h, T = u < p ? u < x ? u : x : p < x ? p : x, S = d > f ? d > h ? d : h : f > h ? f : h, A = u > p ? u > x ? u : x : p > x ? p : x, P = Qd(_, T, e, t, i), O = Qd(S, A, e, t, i), F = a.prevZ, k = a.nextZ; F && F.z >= P && k && k.z <= O; ) {
            if (F.x >= _ && F.x <= S && F.y >= T && F.y <= A && F !== s && F !== o && Ai(d, u, f, p, h, x, F.x, F.y) && Le(F.prev, F, F.next) >= 0 || (F = F.prevZ,
            k.x >= _ && k.x <= S && k.y >= T && k.y <= A && k !== s && k !== o && Ai(d, u, f, p, h, x, k.x, k.y) && Le(k.prev, k, k.next) >= 0))
                return !1;
            k = k.nextZ
        }
        for (; F && F.z >= P; ) {
            if (F.x >= _ && F.x <= S && F.y >= T && F.y <= A && F !== s && F !== o && Ai(d, u, f, p, h, x, F.x, F.y) && Le(F.prev, F, F.next) >= 0)
                return !1;
            F = F.prevZ
        }
        for (; k && k.z <= O; ) {
            if (k.x >= _ && k.x <= S && k.y >= T && k.y <= A && k !== s && k !== o && Ai(d, u, f, p, h, x, k.x, k.y) && Le(k.prev, k, k.next) >= 0)
                return !1;
            k = k.nextZ
        }
        return !0
    }
    function r7(a, e, t) {
        var i = a;
        do {
            var s = i.prev
              , r = i.next.next;
            !Lo(s, r) && rp(s, i, i.next, r) && Ns(s, r) && Ns(r, s) && (e.push(s.i / t | 0),
            e.push(i.i / t | 0),
            e.push(r.i / t | 0),
            js(i),
            js(i.next),
            i = a = r),
            i = i.next
        } while (i !== a);
        return ti(i)
    }
    function n7(a, e, t, i, s, r) {
        var o = a;
        do {
            for (var d = o.next.next; d !== o.prev; ) {
                if (o.i !== d.i && p7(o, d)) {
                    var f = np(o, d);
                    o = ti(o, o.next),
                    f = ti(f, f.next),
                    Ls(o, e, t, i, s, r, 0),
                    Ls(f, e, t, i, s, r, 0);
                    return
                }
                d = d.next
            }
            o = o.next
        } while (o !== a)
    }
    function o7(a, e, t, i) {
        var s = [], r, o, d, f, h;
        for (r = 0,
        o = e.length; r < o; r++)
            d = e[r] * i,
            f = r < o - 1 ? e[r + 1] * i : a.length,
            h = sp(a, d, f, i, !1),
            h === h.next && (h.steiner = !0),
            s.push(b7(h));
        for (s.sort(c7),
        r = 0; r < s.length; r++)
            t = d7(s[r], t);
        return t
    }
    function c7(a, e) {
        return a.x - e.x
    }
    function d7(a, e) {
        var t = f7(a, e);
        if (!t)
            return e;
        var i = np(t, a);
        return ti(i, i.next),
        ti(t, t.next)
    }
    function f7(a, e) {
        var t = e, i = a.x, s = a.y, r = -1 / 0, o;
        do {
            if (s <= t.y && s >= t.next.y && t.next.y !== t.y) {
                var d = t.x + (s - t.y) * (t.next.x - t.x) / (t.next.y - t.y);
                if (d <= i && d > r && (r = d,
                o = t.x < t.next.x ? t : t.next,
                d === i))
                    return o
            }
            t = t.next
        } while (t !== e);
        if (!o)
            return null;
        var f = o, h = o.x, u = o.y, p = 1 / 0, x;
        t = o;
        do
            i >= t.x && t.x >= h && i !== t.x && Ai(s < u ? i : r, s, h, u, s < u ? r : i, s, t.x, t.y) && (x = Math.abs(s - t.y) / (i - t.x),
            Ns(t, a) && (x < p || x === p && (t.x > o.x || t.x === o.x && h7(o, t))) && (o = t,
            p = x)),
            t = t.next;
        while (t !== f);
        return o
    }
    function h7(a, e) {
        return Le(a.prev, a, e.prev) < 0 && Le(e.next, a, a.next) < 0
    }
    function l7(a, e, t, i) {
        var s = a;
        do
            s.z === 0 && (s.z = Qd(s.x, s.y, e, t, i)),
            s.prevZ = s.prev,
            s.nextZ = s.next,
            s = s.next;
        while (s !== a);
        s.prevZ.nextZ = null,
        s.prevZ = null,
        u7(s)
    }
    function u7(a) {
        var e, t, i, s, r, o, d, f, h = 1;
        do {
            for (t = a,
            a = null,
            r = null,
            o = 0; t; ) {
                for (o++,
                i = t,
                d = 0,
                e = 0; e < h && (d++,
                i = i.nextZ,
                !!i); e++)
                    ;
                for (f = h; d > 0 || f > 0 && i; )
                    d !== 0 && (f === 0 || !i || t.z <= i.z) ? (s = t,
                    t = t.nextZ,
                    d--) : (s = i,
                    i = i.nextZ,
                    f--),
                    r ? r.nextZ = s : a = s,
                    s.prevZ = r,
                    r = s;
                t = i
            }
            r.nextZ = null,
            h *= 2
        } while (o > 1);
        return a
    }
    function Qd(a, e, t, i, s) {
        return a = (a - t) * s | 0,
        e = (e - i) * s | 0,
        a = (a | a << 8) & 16711935,
        a = (a | a << 4) & 252645135,
        a = (a | a << 2) & 858993459,
        a = (a | a << 1) & 1431655765,
        e = (e | e << 8) & 16711935,
        e = (e | e << 4) & 252645135,
        e = (e | e << 2) & 858993459,
        e = (e | e << 1) & 1431655765,
        a | e << 1
    }
    function b7(a) {
        var e = a
          , t = a;
        do
            (e.x < t.x || e.x === t.x && e.y < t.y) && (t = e),
            e = e.next;
        while (e !== a);
        return t
    }
    function Ai(a, e, t, i, s, r, o, d) {
        return (s - o) * (e - d) >= (a - o) * (r - d) && (a - o) * (i - d) >= (t - o) * (e - d) && (t - o) * (r - d) >= (s - o) * (i - d)
    }
    function p7(a, e) {
        return a.next.i !== e.i && a.prev.i !== e.i && !g7(a, e) && (Ns(a, e) && Ns(e, a) && m7(a, e) && (Le(a.prev, a, e.prev) || Le(a, e.prev, e)) || Lo(a, e) && Le(a.prev, a, a.next) > 0 && Le(e.prev, e, e.next) > 0)
    }
    function Le(a, e, t) {
        return (e.y - a.y) * (t.x - e.x) - (e.x - a.x) * (t.y - e.y)
    }
    function Lo(a, e) {
        return a.x === e.x && a.y === e.y
    }
    function rp(a, e, t, i) {
        var s = Tr(Le(a, e, t))
          , r = Tr(Le(a, e, i))
          , o = Tr(Le(t, i, a))
          , d = Tr(Le(t, i, e));
        return !!(s !== r && o !== d || s === 0 && vr(a, t, e) || r === 0 && vr(a, i, e) || o === 0 && vr(t, a, i) || d === 0 && vr(t, e, i))
    }
    function vr(a, e, t) {
        return e.x <= Math.max(a.x, t.x) && e.x >= Math.min(a.x, t.x) && e.y <= Math.max(a.y, t.y) && e.y >= Math.min(a.y, t.y)
    }
    function Tr(a) {
        return a > 0 ? 1 : a < 0 ? -1 : 0
    }
    function g7(a, e) {
        var t = a;
        do {
            if (t.i !== a.i && t.next.i !== a.i && t.i !== e.i && t.next.i !== e.i && rp(t, t.next, a, e))
                return !0;
            t = t.next
        } while (t !== a);
        return !1
    }
    function Ns(a, e) {
        return Le(a.prev, a, a.next) < 0 ? Le(a, e, a.next) >= 0 && Le(a, a.prev, e) >= 0 : Le(a, e, a.prev) < 0 || Le(a, a.next, e) < 0
    }
    function m7(a, e) {
        var t = a
          , i = !1
          , s = (a.x + e.x) / 2
          , r = (a.y + e.y) / 2;
        do
            t.y > r != t.next.y > r && t.next.y !== t.y && s < (t.next.x - t.x) * (r - t.y) / (t.next.y - t.y) + t.x && (i = !i),
            t = t.next;
        while (t !== a);
        return i
    }
    function np(a, e) {
        var t = new Jd(a.i,a.x,a.y)
          , i = new Jd(e.i,e.x,e.y)
          , s = a.next
          , r = e.prev;
        return a.next = e,
        e.prev = a,
        t.next = s,
        s.prev = t,
        i.next = t,
        t.prev = i,
        r.next = i,
        i.prev = r,
        i
    }
    function m0(a, e, t, i) {
        var s = new Jd(a,e,t);
        return i ? (s.next = i.next,
        s.prev = i,
        i.next.prev = s,
        i.next = s) : (s.prev = s,
        s.next = s),
        s
    }
    function js(a) {
        a.next.prev = a.prev,
        a.prev.next = a.next,
        a.prevZ && (a.prevZ.nextZ = a.nextZ),
        a.nextZ && (a.nextZ.prevZ = a.prevZ)
    }
    function Jd(a, e, t) {
        this.i = a,
        this.x = e,
        this.y = t,
        this.prev = null,
        this.next = null,
        this.z = 0,
        this.prevZ = null,
        this.nextZ = null,
        this.steiner = !1
    }
    Uo.deviation = function(a, e, t, i) {
        var s = e && e.length
          , r = s ? e[0] * t : a.length
          , o = Math.abs(ef(a, 0, r, t));
        if (s)
            for (var d = 0, f = e.length; d < f; d++) {
                var h = e[d] * t
                  , u = d < f - 1 ? e[d + 1] * t : a.length;
                o -= Math.abs(ef(a, h, u, t))
            }
        var p = 0;
        for (d = 0; d < i.length; d += 3) {
            var x = i[d] * t
              , _ = i[d + 1] * t
              , T = i[d + 2] * t;
            p += Math.abs((a[x] - a[T]) * (a[_ + 1] - a[x + 1]) - (a[x] - a[_]) * (a[T + 1] - a[x + 1]))
        }
        return o === 0 && p === 0 ? 0 : Math.abs((p - o) / o)
    }
    ;
    function ef(a, e, t, i) {
        for (var s = 0, r = e, o = t - i; r < t; r += i)
            s += (a[o] - a[r]) * (a[r + 1] + a[o + 1]),
            o = r;
        return s
    }
    Uo.flatten = function(a) {
        for (var e = a[0][0].length, t = {
            vertices: [],
            holes: [],
            dimensions: e
        }, i = 0, s = 0; s < a.length; s++) {
            for (var r = 0; r < a[s].length; r++)
                for (var o = 0; o < e; o++)
                    t.vertices.push(a[s][r][o]);
            s > 0 && (i += a[s - 1].length,
            t.holes.push(i))
        }
        return t
    }
    ;
    var _7 = ko.exports
      , x7 = _h(_7);
    function op(a, e, t, i, s, r, o) {
        let d = x7(a, e, 2);
        if (!d)
            return;
        for (let h = 0; h < d.length; h += 3)
            r[o++] = d[h] + s,
            r[o++] = d[h + 1] + s,
            r[o++] = d[h + 2] + s;
        let f = s * i;
        for (let h = 0; h < a.length; h += 2)
            t[f] = a[h],
            t[f + 1] = a[h + 1],
            f += i
    }
    var y7 = []
      , v7 = {
        extension: {
            type: B.ShapeBuilder,
            name: "polygon"
        },
        build(a, e) {
            for (let t = 0; t < a.points.length; t++)
                e[t] = a.points[t];
            return e
        },
        triangulate(a, e, t, i, s, r) {
            op(a, y7, e, t, i, s, r)
        }
    }
      , T7 = {
        extension: {
            type: B.ShapeBuilder,
            name: "rectangle"
        },
        build(a, e) {
            let t = a
              , i = t.x
              , s = t.y
              , r = t.width
              , o = t.height;
            return r >= 0 && o >= 0 && (e[0] = i,
            e[1] = s,
            e[2] = i + r,
            e[3] = s,
            e[4] = i + r,
            e[5] = s + o,
            e[6] = i,
            e[7] = s + o),
            e
        },
        triangulate(a, e, t, i, s, r) {
            let o = 0;
            i *= t,
            e[i + o] = a[0],
            e[i + o + 1] = a[1],
            o += t,
            e[i + o] = a[2],
            e[i + o + 1] = a[3],
            o += t,
            e[i + o] = a[6],
            e[i + o + 1] = a[7],
            o += t,
            e[i + o] = a[4],
            e[i + o + 1] = a[5],
            o += t;
            let d = i / t;
            s[r++] = d,
            s[r++] = d + 1,
            s[r++] = d + 2,
            s[r++] = d + 1,
            s[r++] = d + 3,
            s[r++] = d + 2
        }
    }
      , S7 = {
        extension: {
            type: B.ShapeBuilder,
            name: "triangle"
        },
        build(a, e) {
            return e[0] = a.x,
            e[1] = a.y,
            e[2] = a.x2,
            e[3] = a.y2,
            e[4] = a.x3,
            e[5] = a.y3,
            e
        },
        triangulate(a, e, t, i, s, r) {
            let o = 0;
            i *= t,
            e[i + o] = a[0],
            e[i + o + 1] = a[1],
            o += t,
            e[i + o] = a[2],
            e[i + o + 1] = a[3],
            o += t,
            e[i + o] = a[4],
            e[i + o + 1] = a[5];
            let d = i / t;
            s[r++] = d,
            s[r++] = d + 1,
            s[r++] = d + 2
        }
    }
      , No = {};
    pe.handleByMap(B.ShapeBuilder, No),
    pe.add(T7, v7, S7, Us, Q6, J6);
    var w7 = new Pe;
    function A7(a, e) {
        let {geometryData: t, batches: i} = e;
        i.length = 0,
        t.indices.length = 0,
        t.vertices.length = 0,
        t.uvs.length = 0;
        for (let s = 0; s < a.instructions.length; s++) {
            let r = a.instructions[s];
            if (r.action === "texture")
                E7(r.data, i, t);
            else if (r.action === "fill" || r.action === "stroke") {
                let o = r.action === "stroke"
                  , d = r.data.path.shapePath
                  , f = r.data.style
                  , h = r.data.hole;
                o && h && _0(h.shapePath, f, null, !0, i, t),
                _0(d, f, h, o, i, t)
            }
        }
    }
    function E7(a, e, t) {
        let {vertices: i, uvs: s, indices: r} = t
          , o = r.length
          , d = i.length / 2
          , f = []
          , h = No.rectangle
          , u = w7
          , p = a.image;
        u.x = a.dx,
        u.y = a.dy,
        u.width = a.dw,
        u.height = a.dh;
        let x = a.transform;
        h.build(u, f),
        x && ap(f, x),
        h.triangulate(f, i, 2, d, r, o);
        let _ = p.uvs;
        s.push(_.x0, _.y0, _.x1, _.y1, _.x3, _.y3, _.x2, _.y2);
        let T = ye.get(ks);
        T.indexOffset = o,
        T.indexSize = r.length - o,
        T.attributeOffset = d,
        T.attributeSize = i.length / 2 - d,
        T.baseColor = a.style,
        T.alpha = a.alpha,
        T.texture = p,
        T.geometryData = t,
        e.push(T)
    }
    function _0(a, e, t, i, s, r) {
        let {vertices: o, uvs: d, indices: f} = r
          , h = a.shapePrimitives.length - 1;
        a.shapePrimitives.forEach( ({shape: u, transform: p}, x) => {
            var _;
            let T = f.length
              , S = o.length / 2
              , A = []
              , P = No[u.type]
              , O = "triangle-list";
            if (P.build(u, A),
            p && ap(A, p),
            i) {
                let L = (_ = u.closePath) != null ? _ : !0
                  , X = e;
                X.pixelLine ? (a7(A, L, o, f),
                O = "line-list") : t7(A, X, !1, L, o, f)
            } else if (t && h === x) {
                let L = []
                  , X = A.slice();
                P7(t.shapePath).forEach(se => {
                    L.push(X.length / 2),
                    X.push(...se)
                }
                ),
                op(X, L, o, 2, S, f, T)
            } else
                P.triangulate(A, o, 2, S, f, T);
            let F = d.length / 2
              , k = e.texture;
            if (k !== K.WHITE) {
                let L = e.matrix;
                L && (p && L.append(p.clone().invert()),
                z6(o, 2, S, d, F, 2, o.length / 2 - S, L))
            } else
                V6(d, F, 2, o.length / 2 - S);
            let V = ye.get(ks);
            V.indexOffset = T,
            V.indexSize = f.length - T,
            V.attributeOffset = S,
            V.attributeSize = o.length / 2 - S,
            V.baseColor = e.color,
            V.alpha = e.alpha,
            V.texture = k,
            V.geometryData = r,
            V.topology = O,
            s.push(V)
        }
        )
    }
    function P7(a) {
        if (!a)
            return [];
        let e = a.shapePrimitives
          , t = [];
        for (let i = 0; i < e.length; i++) {
            let s = e[i].shape
              , r = [];
            No[s.type].build(s, r),
            t.push(r)
        }
        return t
    }
    var tf = class {
        constructor() {
            this.batches = [],
            this.geometryData = {
                vertices: [],
                uvs: [],
                indices: []
            }
        }
    }
      , af = class {
        constructor() {
            this.batcher = new Mh,
            this.instructions = new Wr
        }
        init() {
            this.instructions.reset()
        }
        get geometry() {
            return this.batcher.geometry
        }
    }
      , sf = class rf {
        constructor(e) {
            this._gpuContextHash = {},
            this._graphicsDataContextHash = Object.create(null),
            e.renderableGC.addManagedHash(this, "_gpuContextHash"),
            e.renderableGC.addManagedHash(this, "_graphicsDataContextHash")
        }
        init(e) {
            var t;
            rf.defaultOptions.bezierSmoothness = (t = e?.bezierSmoothness) != null ? t : rf.defaultOptions.bezierSmoothness
        }
        getContextRenderData(e) {
            return this._graphicsDataContextHash[e.uid] || this._initContextRenderData(e)
        }
        updateGpuContext(e) {
            let t = this._gpuContextHash[e.uid] || this._initContext(e);
            if (e.dirty) {
                t ? this._cleanGraphicsContextData(e) : t = this._initContext(e),
                A7(e, t);
                let i = e.batchMode;
                e.customShader || i === "no-batch" ? t.isBatchable = !1 : i === "auto" && (t.isBatchable = t.geometryData.vertices.length < 400),
                e.dirty = !1
            }
            return t
        }
        getGpuContext(e) {
            return this._gpuContextHash[e.uid] || this._initContext(e)
        }
        _initContextRenderData(e) {
            let t = ye.get(af)
              , {batches: i, geometryData: s} = this._gpuContextHash[e.uid]
              , r = s.vertices.length
              , o = s.indices.length;
            for (let u = 0; u < i.length; u++)
                i[u].applyTransform = !1;
            let d = t.batcher;
            d.ensureAttributeBuffer(r),
            d.ensureIndexBuffer(o),
            d.begin();
            for (let u = 0; u < i.length; u++) {
                let p = i[u];
                d.add(p)
            }
            d.finish(t.instructions);
            let f = d.geometry;
            f.indexBuffer.setDataWithSize(d.indexBuffer, d.indexSize, !0),
            f.buffers[0].setDataWithSize(d.attributeBuffer.float32View, d.attributeSize, !0);
            let h = d.batches;
            for (let u = 0; u < h.length; u++) {
                let p = h[u];
                p.bindGroup = Sh(p.textures.textures, p.textures.count)
            }
            return this._graphicsDataContextHash[e.uid] = t,
            t
        }
        _initContext(e) {
            let t = new tf;
            return t.context = e,
            this._gpuContextHash[e.uid] = t,
            e.on("destroy", this.onGraphicsContextDestroy, this),
            this._gpuContextHash[e.uid]
        }
        onGraphicsContextDestroy(e) {
            this._cleanGraphicsContextData(e),
            e.off("destroy", this.onGraphicsContextDestroy, this),
            this._gpuContextHash[e.uid] = null
        }
        _cleanGraphicsContextData(e) {
            let t = this._gpuContextHash[e.uid];
            t.isBatchable || this._graphicsDataContextHash[e.uid] && (ye.return(this.getContextRenderData(e)),
            this._graphicsDataContextHash[e.uid] = null),
            t.batches && t.batches.forEach(i => {
                ye.return(i)
            }
            )
        }
        destroy() {
            for (let e in this._gpuContextHash)
                this._gpuContextHash[e] && this.onGraphicsContextDestroy(this._gpuContextHash[e].context)
        }
    }
    ;
    sf.extension = {
        type: [B.WebGLSystem, B.WebGPUSystem, B.CanvasSystem],
        name: "graphicsContext"
    },
    sf.defaultOptions = {
        bezierSmoothness: .5
    };
    var Ch = sf
      , R7 = {
        normal: 0,
        add: 1,
        multiply: 2,
        screen: 3,
        overlay: 4,
        erase: 5,
        "normal-npm": 6,
        "add-npm": 7,
        "screen-npm": 8,
        min: 9,
        max: 10
    }
      , $c = 0
      , Kc = 1
      , qc = 2
      , Zc = 3
      , Qc = 4
      , Jc = 5
      , nf = class cp {
        constructor() {
            this.data = 0,
            this.blendMode = "normal",
            this.polygonOffset = 0,
            this.blend = !0,
            this.depthMask = !0
        }
        get blend() {
            return !!(this.data & 1 << $c)
        }
        set blend(e) {
            !!(this.data & 1 << $c) !== e && (this.data ^= 1 << $c)
        }
        get offsets() {
            return !!(this.data & 1 << Kc)
        }
        set offsets(e) {
            !!(this.data & 1 << Kc) !== e && (this.data ^= 1 << Kc)
        }
        set cullMode(e) {
            if (e === "none") {
                this.culling = !1;
                return
            }
            this.culling = !0,
            this.clockwiseFrontFace = e === "front"
        }
        get cullMode() {
            return this.culling ? this.clockwiseFrontFace ? "front" : "back" : "none"
        }
        get culling() {
            return !!(this.data & 1 << qc)
        }
        set culling(e) {
            !!(this.data & 1 << qc) !== e && (this.data ^= 1 << qc)
        }
        get depthTest() {
            return !!(this.data & 1 << Zc)
        }
        set depthTest(e) {
            !!(this.data & 1 << Zc) !== e && (this.data ^= 1 << Zc)
        }
        get depthMask() {
            return !!(this.data & 1 << Jc)
        }
        set depthMask(e) {
            !!(this.data & 1 << Jc) !== e && (this.data ^= 1 << Jc)
        }
        get clockwiseFrontFace() {
            return !!(this.data & 1 << Qc)
        }
        set clockwiseFrontFace(e) {
            !!(this.data & 1 << Qc) !== e && (this.data ^= 1 << Qc)
        }
        get blendMode() {
            return this._blendMode
        }
        set blendMode(e) {
            this.blend = e !== "none",
            this._blendMode = e,
            this._blendModeId = R7[e] || 0
        }
        get polygonOffset() {
            return this._polygonOffset
        }
        set polygonOffset(e) {
            this.offsets = !!e,
            this._polygonOffset = e
        }
        static for2d() {
            let e = new cp;
            return e.depthTest = !1,
            e.blend = !0,
            e
        }
    }
    ;
    nf.default2d = nf.for2d();
    var Et = nf;
    function Qs(a, e, t) {
        let i = (a >> 24 & 255) / 255;
        e[t++] = (a & 255) / 255 * i,
        e[t++] = (a >> 8 & 255) / 255 * i,
        e[t++] = (a >> 16 & 255) / 255 * i,
        e[t++] = i
    }
    var nn = class {
        constructor(e, t) {
            this.state = Et.for2d(),
            this._graphicsBatchesHash = Object.create(null),
            this._destroyRenderableBound = this.destroyRenderable.bind(this),
            this.renderer = e,
            this._adaptor = t,
            this._adaptor.init(),
            this.renderer.renderableGC.addManagedHash(this, "_graphicsBatchesHash")
        }
        validateRenderable(e) {
            let t = e.context
              , i = !!this._graphicsBatchesHash[e.uid]
              , s = this.renderer.graphicsContext.updateGpuContext(t);
            return !!(s.isBatchable || i !== s.isBatchable)
        }
        addRenderable(e, t) {
            let i = this.renderer.graphicsContext.updateGpuContext(e.context);
            e.didViewUpdate && this._rebuild(e),
            i.isBatchable ? this._addToBatcher(e, t) : (this.renderer.renderPipes.batch.break(t),
            t.add(e))
        }
        updateRenderable(e) {
            let t = this._graphicsBatchesHash[e.uid];
            if (t)
                for (let i = 0; i < t.length; i++) {
                    let s = t[i];
                    s._batcher.updateElement(s)
                }
        }
        destroyRenderable(e) {
            this._graphicsBatchesHash[e.uid] && this._removeBatchForRenderable(e.uid),
            e.off("destroyed", this._destroyRenderableBound)
        }
        execute(e) {
            if (!e.isRenderable)
                return;
            let t = this.renderer
              , i = e.context;
            if (!t.graphicsContext.getGpuContext(i).batches.length)
                return;
            let s = i.customShader || this._adaptor.shader;
            this.state.blendMode = e.groupBlendMode;
            let r = s.resources.localUniforms.uniforms;
            r.uTransformMatrix = e.groupTransform,
            r.uRound = t._roundPixels | e._roundPixels,
            Qs(e.groupColorAlpha, r.uColor, 0),
            this._adaptor.execute(this, e)
        }
        _rebuild(e) {
            let t = !!this._graphicsBatchesHash[e.uid]
              , i = this.renderer.graphicsContext.updateGpuContext(e.context);
            t && this._removeBatchForRenderable(e.uid),
            i.isBatchable && this._initBatchesForRenderable(e),
            e.batched = i.isBatchable
        }
        _addToBatcher(e, t) {
            let i = this.renderer.renderPipes.batch
              , s = this._getBatchesForRenderable(e);
            for (let r = 0; r < s.length; r++) {
                let o = s[r];
                i.addToBatch(o, t)
            }
        }
        _getBatchesForRenderable(e) {
            return this._graphicsBatchesHash[e.uid] || this._initBatchesForRenderable(e)
        }
        _initBatchesForRenderable(e) {
            let t = e.context
              , i = this.renderer.graphicsContext.getGpuContext(t)
              , s = this.renderer._roundPixels | e._roundPixels
              , r = i.batches.map(o => {
                let d = ye.get(ks);
                return o.copyTo(d),
                d.renderable = e,
                d.roundPixels = s,
                d
            }
            );
            return this._graphicsBatchesHash[e.uid] === void 0 && e.on("destroyed", this._destroyRenderableBound),
            this._graphicsBatchesHash[e.uid] = r,
            r
        }
        _removeBatchForRenderable(e) {
            this._graphicsBatchesHash[e].forEach(t => {
                ye.return(t)
            }
            ),
            this._graphicsBatchesHash[e] = null
        }
        destroy() {
            this.renderer = null,
            this._adaptor.destroy(),
            this._adaptor = null,
            this.state = null;
            for (let e in this._graphicsBatchesHash)
                this._removeBatchForRenderable(e);
            this._graphicsBatchesHash = null
        }
    }
    ;
    nn.extension = {
        type: [B.WebGLPipes, B.WebGPUPipes, B.CanvasPipes],
        name: "graphics"
    },
    pe.add(nn),
    pe.add(Ch);
    var Xs = class {
        constructor() {
            this.batcherName = "default",
            this.packAsQuad = !1,
            this.indexOffset = 0,
            this.attributeOffset = 0,
            this.roundPixels = 0,
            this._batcher = null,
            this._batch = null,
            this._uvUpdateId = -1,
            this._textureMatrixUpdateId = -1
        }
        get blendMode() {
            return this.renderable.groupBlendMode
        }
        get topology() {
            return this._topology || this.geometry.topology
        }
        set topology(e) {
            this._topology = e
        }
        reset() {
            this.renderable = null,
            this.texture = null,
            this._batcher = null,
            this._batch = null,
            this.geometry = null,
            this._uvUpdateId = -1,
            this._textureMatrixUpdateId = -1
        }
        setTexture(e) {
            this.texture !== e && (this.texture = e,
            this._textureMatrixUpdateId = -1)
        }
        get uvs() {
            let e = this.geometry.getBuffer("aUV")
              , t = e.data
              , i = t
              , s = this.texture.textureMatrix;
            return s.isSimple || (i = this._transformedUvs,
            (this._textureMatrixUpdateId !== s._updateID || this._uvUpdateId !== e._updateID) && ((!i || i.length < t.length) && (i = this._transformedUvs = new Float32Array(t.length)),
            this._textureMatrixUpdateId = s._updateID,
            this._uvUpdateId = e._updateID,
            s.multiplyUvs(t, i))),
            i
        }
        get positions() {
            return this.geometry.positions
        }
        get indices() {
            return this.geometry.indices
        }
        get color() {
            return this.renderable.groupColorAlpha
        }
        get groupTransform() {
            return this.renderable.groupTransform
        }
        get attributeSize() {
            return this.geometry.positions.length / 2
        }
        get indexSize() {
            return this.geometry.indices.length
        }
    }
      , on = class {
        constructor(e, t) {
            this.localUniforms = new Je({
                uTransformMatrix: {
                    value: new ie,
                    type: "mat3x3<f32>"
                },
                uColor: {
                    value: new Float32Array([1, 1, 1, 1]),
                    type: "vec4<f32>"
                },
                uRound: {
                    value: 0,
                    type: "f32"
                }
            }),
            this.localUniformsBindGroup = new Ht({
                0: this.localUniforms
            }),
            this._meshDataHash = Object.create(null),
            this._gpuBatchableMeshHash = Object.create(null),
            this._destroyRenderableBound = this.destroyRenderable.bind(this),
            this.renderer = e,
            this._adaptor = t,
            this._adaptor.init(),
            e.renderableGC.addManagedHash(this, "_gpuBatchableMeshHash"),
            e.renderableGC.addManagedHash(this, "_meshDataHash")
        }
        validateRenderable(e) {
            let t = this._getMeshData(e)
              , i = t.batched
              , s = e.batched;
            if (t.batched = s,
            i !== s)
                return !0;
            if (s) {
                let r = e._geometry;
                if (r.indices.length !== t.indexSize || r.positions.length !== t.vertexSize)
                    return t.indexSize = r.indices.length,
                    t.vertexSize = r.positions.length,
                    !0;
                let o = this._getBatchableMesh(e);
                return !o._batcher.checkAndUpdateTexture(o, e.texture)
            }
            return !1
        }
        addRenderable(e, t) {
            let i = this.renderer.renderPipes.batch
              , {batched: s} = this._getMeshData(e);
            if (s) {
                let r = this._getBatchableMesh(e);
                r.texture = e._texture,
                r.geometry = e._geometry,
                i.addToBatch(r, t)
            } else
                i.break(t),
                t.add(e)
        }
        updateRenderable(e) {
            if (e.batched) {
                let t = this._gpuBatchableMeshHash[e.uid];
                t.setTexture(e._texture),
                t.geometry = e._geometry,
                t._batcher.updateElement(t)
            }
        }
        destroyRenderable(e) {
            this._meshDataHash[e.uid] = null;
            let t = this._gpuBatchableMeshHash[e.uid];
            t && (ye.return(t),
            this._gpuBatchableMeshHash[e.uid] = null),
            e.off("destroyed", this._destroyRenderableBound)
        }
        execute(e) {
            if (!e.isRenderable)
                return;
            e.state.blendMode = Fs(e.groupBlendMode, e.texture._source);
            let t = this.localUniforms;
            t.uniforms.uTransformMatrix = e.groupTransform,
            t.uniforms.uRound = this.renderer._roundPixels | e._roundPixels,
            t.update(),
            Qs(e.groupColorAlpha, t.uniforms.uColor, 0),
            this._adaptor.execute(this, e)
        }
        _getMeshData(e) {
            return this._meshDataHash[e.uid] || this._initMeshData(e)
        }
        _initMeshData(e) {
            var t, i;
            return this._meshDataHash[e.uid] = {
                batched: e.batched,
                indexSize: (t = e._geometry.indices) == null ? void 0 : t.length,
                vertexSize: (i = e._geometry.positions) == null ? void 0 : i.length
            },
            e.on("destroyed", this._destroyRenderableBound),
            this._meshDataHash[e.uid]
        }
        _getBatchableMesh(e) {
            return this._gpuBatchableMeshHash[e.uid] || this._initBatchableMesh(e)
        }
        _initBatchableMesh(e) {
            let t = ye.get(Xs);
            return t.renderable = e,
            t.texture = e._texture,
            t.transform = e.groupTransform,
            t.roundPixels = this.renderer._roundPixels | e._roundPixels,
            this._gpuBatchableMeshHash[e.uid] = t,
            t
        }
        destroy() {
            for (let e in this._gpuBatchableMeshHash)
                this._gpuBatchableMeshHash[e] && ye.return(this._gpuBatchableMeshHash[e]);
            this._gpuBatchableMeshHash = null,
            this._meshDataHash = null,
            this.localUniforms = null,
            this.localUniformsBindGroup = null,
            this._adaptor.destroy(),
            this._adaptor = null,
            this.renderer = null
        }
    }
    ;
    on.extension = {
        type: [B.WebGLPipes, B.WebGPUPipes, B.CanvasPipes],
        name: "mesh"
    },
    pe.add(on);
    var of = class {
        execute(e, t) {
            let i = e.state
              , s = e.renderer
              , r = t.shader || e.defaultShader;
            r.resources.uTexture = t.texture._source,
            r.resources.uniforms = e.localUniforms;
            let o = s.gl
              , d = e.getBuffers(t);
            s.shader.bind(r),
            s.state.set(i),
            s.geometry.bind(d.geometry, r.glProgram);
            let f = d.geometry.indexBuffer.data.BYTES_PER_ELEMENT === 2 ? o.UNSIGNED_SHORT : o.UNSIGNED_INT;
            o.drawElements(o.TRIANGLES, t.particleChildren.length * 6, f, 0)
        }
    }
    ;
    function x0(a, e=null) {
        let t = a * 6;
        if (t > 65535 ? e || (e = new Uint32Array(t)) : e || (e = new Uint16Array(t)),
        e.length !== t)
            throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${t}`);
        for (let i = 0, s = 0; i < t; i += 6,
        s += 4)
            e[i + 0] = s + 0,
            e[i + 1] = s + 1,
            e[i + 2] = s + 2,
            e[i + 3] = s + 0,
            e[i + 4] = s + 2,
            e[i + 5] = s + 3;
        return e
    }
    function M7(a) {
        return {
            dynamicUpdate: y0(a, !0),
            staticUpdate: y0(a, !1)
        }
    }
    function y0(a, e) {
        let t = [];
        t.push(`

var index = 0;

for (let i = 0; i < ps.length; ++i)
{
const p = ps[i];

`);
        let i = 0;
        for (let r in a) {
            let o = a[r];
            if (e !== o.dynamic)
                continue;
            t.push(`offset = index + ${i}`),
            t.push(o.code);
            let d = Fa(o.format);
            i += d.stride / 4
        }
        t.push(`
index += stride * 4;
}
`),
        t.unshift(`
var stride = ${i};
`);
        let s = t.join(`
`);
        return new Function("ps","f32v","u32v",s)
    }
    var cf = class {
        constructor(e) {
            this._size = 0,
            this._generateParticleUpdateCache = {};
            var t;
            let i = this._size = (t = e.size) != null ? t : 1e3
              , s = e.properties
              , r = 0
              , o = 0;
            for (let p in s) {
                let x = s[p]
                  , _ = Fa(x.format);
                x.dynamic ? o += _.stride : r += _.stride
            }
            this._dynamicStride = o / 4,
            this._staticStride = r / 4,
            this.staticAttributeBuffer = new Oa(i * 4 * r),
            this.dynamicAttributeBuffer = new Oa(i * 4 * o),
            this.indexBuffer = x0(i);
            let d = new Jt
              , f = 0
              , h = 0;
            this._staticBuffer = new st({
                data: new Float32Array(1),
                label: "static-particle-buffer",
                shrinkToFit: !1,
                usage: Te.VERTEX | Te.COPY_DST
            }),
            this._dynamicBuffer = new st({
                data: new Float32Array(1),
                label: "dynamic-particle-buffer",
                shrinkToFit: !1,
                usage: Te.VERTEX | Te.COPY_DST
            });
            for (let p in s) {
                let x = s[p]
                  , _ = Fa(x.format);
                x.dynamic ? (d.addAttribute(x.attributeName, {
                    buffer: this._dynamicBuffer,
                    stride: this._dynamicStride * 4,
                    offset: f * 4,
                    format: x.format
                }),
                f += _.size) : (d.addAttribute(x.attributeName, {
                    buffer: this._staticBuffer,
                    stride: this._staticStride * 4,
                    offset: h * 4,
                    format: x.format
                }),
                h += _.size)
            }
            d.addIndex(this.indexBuffer);
            let u = this.getParticleUpdate(s);
            this._dynamicUpload = u.dynamicUpdate,
            this._staticUpload = u.staticUpdate,
            this.geometry = d
        }
        getParticleUpdate(e) {
            let t = C7(e);
            return this._generateParticleUpdateCache[t] ? this._generateParticleUpdateCache[t] : (this._generateParticleUpdateCache[t] = this.generateParticleUpdate(e),
            this._generateParticleUpdateCache[t])
        }
        generateParticleUpdate(e) {
            return M7(e)
        }
        update(e, t) {
            e.length > this._size && (t = !0,
            this._size = Math.max(e.length, this._size * 1.5 | 0),
            this.staticAttributeBuffer = new Oa(this._size * this._staticStride * 4 * 4),
            this.dynamicAttributeBuffer = new Oa(this._size * this._dynamicStride * 4 * 4),
            this.indexBuffer = x0(this._size),
            this.geometry.indexBuffer.setDataWithSize(this.indexBuffer, this.indexBuffer.byteLength, !0));
            let i = this.dynamicAttributeBuffer;
            if (this._dynamicUpload(e, i.float32View, i.uint32View),
            this._dynamicBuffer.setDataWithSize(this.dynamicAttributeBuffer.float32View, e.length * this._dynamicStride * 4, !0),
            t) {
                let s = this.staticAttributeBuffer;
                this._staticUpload(e, s.float32View, s.uint32View),
                this._staticBuffer.setDataWithSize(s.float32View, e.length * this._staticStride * 4, !0)
            }
        }
        destroy() {
            this._staticBuffer.destroy(),
            this._dynamicBuffer.destroy(),
            this.geometry.destroy()
        }
    }
    ;
    function C7(a) {
        let e = [];
        for (let t in a) {
            let i = a[t];
            e.push(t, i.code, i.dynamic ? "d" : "s")
        }
        return e.join("_")
    }
    var O7 = `varying vec2 vUV;
varying vec4 vColor;

uniform sampler2D uTexture;

void main(void){
vec4 color = texture2D(uTexture, vUV) * vColor;
gl_FragColor = color;
}`
      , I7 = `attribute vec2 aVertex;
attribute vec2 aUV;
attribute vec4 aColor;

attribute vec2 aPosition;
attribute float aRotation;

uniform mat3 uTranslationMatrix;
uniform float uRound;
uniform vec2 uResolution;
uniform vec4 uColor;

varying vec2 vUV;
varying vec4 vColor;

vec2 roundPixels(vec2 position, vec2 targetSize)
{       
return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
}

void main(void){
float cosRotation = cos(aRotation);
float sinRotation = sin(aRotation);
float x = aVertex.x * cosRotation - aVertex.y * sinRotation;
float y = aVertex.x * sinRotation + aVertex.y * cosRotation;

vec2 v = vec2(x, y);
v = v + aPosition;

gl_Position = vec4((uTranslationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

if(uRound == 1.0)
{
gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
}

vUV = aUV;
vColor = vec4(aColor.rgb * aColor.a, aColor.a) * uColor;
}
`
      , v0 = `
struct ParticleUniforms {
uProjectionMatrix:mat3x3<f32>,
uColor:vec4<f32>,
uResolution:vec2<f32>,
uRoundPixels:f32,
};

@group(0) @binding(0) var<uniform> uniforms: ParticleUniforms;

@group(1) @binding(0) var uTexture: texture_2d<f32>;
@group(1) @binding(1) var uSampler : sampler;

struct VSOutput {
@builtin(position) position: vec4<f32>,
@location(0) uv : vec2<f32>,
@location(1) color : vec4<f32>,
};
@vertex
fn mainVertex(
@location(0) aVertex: vec2<f32>,
@location(1) aPosition: vec2<f32>,
@location(2) aUV: vec2<f32>,
@location(3) aColor: vec4<f32>,
@location(4) aRotation: f32,
) -> VSOutput {

let v = vec2(
aVertex.x * cos(aRotation) - aVertex.y * sin(aRotation),
aVertex.x * sin(aRotation) + aVertex.y * cos(aRotation)
) + aPosition;

let position = vec4((uniforms.uProjectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

let vColor = vec4(aColor.rgb * aColor.a, aColor.a) * uniforms.uColor;

return VSOutput(
position,
aUV,
vColor,
);
}

@fragment
fn mainFragment(
@location(0) uv: vec2<f32>,
@location(1) color: vec4<f32>,
@builtin(position) position: vec4<f32>,
) -> @location(0) vec4<f32> {

var sample = textureSample(uTexture, uSampler, uv) * color;

return sample;
}`
      , df = class extends ft {
        constructor() {
            let e = pa.from({
                vertex: I7,
                fragment: O7
            })
              , t = ea.from({
                fragment: {
                    source: v0,
                    entryPoint: "mainFragment"
                },
                vertex: {
                    source: v0,
                    entryPoint: "mainVertex"
                }
            });
            super({
                glProgram: e,
                gpuProgram: t,
                resources: {
                    uTexture: K.WHITE.source,
                    uSampler: new T2({}),
                    uniforms: {
                        uTranslationMatrix: {
                            value: new ie,
                            type: "mat3x3<f32>"
                        },
                        uColor: {
                            value: new Ee(16777215),
                            type: "vec4<f32>"
                        },
                        uRound: {
                            value: 1,
                            type: "f32"
                        },
                        uResolution: {
                            value: [0, 0],
                            type: "vec2<f32>"
                        }
                    }
                }
            })
        }
    }
      , cn = class {
        constructor(e, t) {
            this.state = Et.for2d(),
            this._gpuBufferHash = Object.create(null),
            this._destroyRenderableBound = this.destroyRenderable.bind(this),
            this.localUniforms = new Je({
                uTranslationMatrix: {
                    value: new ie,
                    type: "mat3x3<f32>"
                },
                uColor: {
                    value: new Float32Array(4),
                    type: "vec4<f32>"
                },
                uRound: {
                    value: 1,
                    type: "f32"
                },
                uResolution: {
                    value: [0, 0],
                    type: "vec2<f32>"
                }
            }),
            this.renderer = e,
            this.adaptor = t,
            this.defaultShader = new df,
            this.state = Et.for2d()
        }
        validateRenderable(e) {
            return !1
        }
        addRenderable(e, t) {
            this.renderer.renderPipes.batch.break(t),
            t.add(e)
        }
        getBuffers(e) {
            return this._gpuBufferHash[e.uid] || this._initBuffer(e)
        }
        _initBuffer(e) {
            return this._gpuBufferHash[e.uid] = new cf({
                size: e.particleChildren.length,
                properties: e._properties
            }),
            e.on("destroyed", this._destroyRenderableBound),
            this._gpuBufferHash[e.uid]
        }
        updateRenderable(e) {}
        destroyRenderable(e) {
            this._gpuBufferHash[e.uid].destroy(),
            this._gpuBufferHash[e.uid] = null,
            e.off("destroyed", this._destroyRenderableBound)
        }
        execute(e) {
            let t = e.particleChildren;
            if (t.length === 0)
                return;
            let i = this.renderer
              , s = this.getBuffers(e);
            e.texture || (e.texture = t[0].texture);
            let r = this.state;
            s.update(t, e._childrenDirty),
            e._childrenDirty = !1,
            r.blendMode = Fs(e.blendMode, e.texture._source);
            let o = this.localUniforms.uniforms
              , d = o.uTranslationMatrix;
            e.worldTransform.copyTo(d),
            d.prepend(i.globalUniforms.globalUniformData.projectionMatrix),
            o.uResolution = i.globalUniforms.globalUniformData.resolution,
            o.uRound = i._roundPixels | e._roundPixels,
            Qs(e.groupColorAlpha, o.uColor, 0),
            this.adaptor.execute(this, e)
        }
        destroy() {
            this.defaultShader && (this.defaultShader.destroy(),
            this.defaultShader = null)
        }
    }
      , dn = class extends cn {
        constructor(e) {
            super(e, new of)
        }
    }
    ;
    dn.extension = {
        type: [B.WebGLPipes],
        name: "particle"
    };
    var ff = class {
        execute(e, t) {
            let i = e.renderer
              , s = t.shader || e.defaultShader;
            s.groups[0] = i.renderPipes.uniformBatch.getUniformBindGroup(e.localUniforms, !0),
            s.groups[1] = i.texture.getTextureBindGroup(t.texture);
            let r = e.state
              , o = e.getBuffers(t);
            i.encoder.draw({
                geometry: o.geometry,
                shader: t.shader || e.defaultShader,
                state: r,
                size: t.particleChildren.length * 6
            })
        }
    }
      , fn = class extends cn {
        constructor(e) {
            super(e, new ff)
        }
    }
    ;
    fn.extension = {
        type: [B.WebGPUPipes],
        name: "particle"
    },
    pe.add(dn),
    pe.add(fn);
    var Gi = class {
        constructor() {
            this.batcherName = "default",
            this.topology = "triangle-list",
            this.attributeSize = 4,
            this.indexSize = 6,
            this.packAsQuad = !0,
            this.roundPixels = 0,
            this._attributeStart = 0,
            this._batcher = null,
            this._batch = null
        }
        get blendMode() {
            return this.renderable.groupBlendMode
        }
        get color() {
            return this.renderable.groupColorAlpha
        }
        reset() {
            this.renderable = null,
            this.texture = null,
            this._batcher = null,
            this._batch = null,
            this.bounds = null
        }
    }
    ;
    function hf(a, e) {
        let {texture: t, bounds: i} = a;
        I2(i, e._anchor, t);
        let s = e._style.padding;
        i.minX -= s,
        i.minY -= s,
        i.maxX -= s,
        i.maxY -= s
    }
    var hn = class {
        constructor(e) {
            this._gpuText = Object.create(null),
            this._destroyRenderableBound = this.destroyRenderable.bind(this),
            this._renderer = e,
            this._renderer.runners.resolutionChange.add(this),
            this._renderer.renderableGC.addManagedHash(this, "_gpuText")
        }
        resolutionChange() {
            for (let e in this._gpuText) {
                let t = this._gpuText[e];
                if (!t)
                    continue;
                let i = t.batchableSprite.renderable;
                i._autoResolution && (i._resolution = this._renderer.resolution,
                i.onViewUpdate())
            }
        }
        validateRenderable(e) {
            let t = this._getGpuText(e)
              , i = e._getKey();
            return t.currentKey !== i
        }
        addRenderable(e, t) {
            let i = this._getGpuText(e).batchableSprite;
            e._didTextUpdate && this._updateText(e),
            this._renderer.renderPipes.batch.addToBatch(i, t)
        }
        updateRenderable(e) {
            let t = this._getGpuText(e).batchableSprite;
            e._didTextUpdate && this._updateText(e),
            t._batcher.updateElement(t)
        }
        destroyRenderable(e) {
            e.off("destroyed", this._destroyRenderableBound),
            this._destroyRenderableById(e.uid)
        }
        _destroyRenderableById(e) {
            let t = this._gpuText[e];
            this._renderer.canvasText.decreaseReferenceCount(t.currentKey),
            ye.return(t.batchableSprite),
            this._gpuText[e] = null
        }
        _updateText(e) {
            let t = e._getKey()
              , i = this._getGpuText(e)
              , s = i.batchableSprite;
            i.currentKey !== t && this._updateGpuText(e),
            e._didTextUpdate = !1,
            hf(s, e)
        }
        _updateGpuText(e) {
            let t = this._getGpuText(e)
              , i = t.batchableSprite;
            t.texture && this._renderer.canvasText.decreaseReferenceCount(t.currentKey),
            t.texture = i.texture = this._renderer.canvasText.getManagedTexture(e),
            t.currentKey = e._getKey(),
            i.texture = t.texture
        }
        _getGpuText(e) {
            return this._gpuText[e.uid] || this.initGpuText(e)
        }
        initGpuText(e) {
            let t = {
                texture: null,
                currentKey: "--",
                batchableSprite: ye.get(Gi)
            };
            return t.batchableSprite.renderable = e,
            t.batchableSprite.transform = e.groupTransform,
            t.batchableSprite.bounds = {
                minX: 0,
                maxX: 1,
                minY: 0,
                maxY: 0
            },
            t.batchableSprite.roundPixels = this._renderer._roundPixels | e._roundPixels,
            this._gpuText[e.uid] = t,
            e._resolution = e._autoResolution ? this._renderer.resolution : e.resolution,
            this._updateText(e),
            e.on("destroyed", this._destroyRenderableBound),
            t
        }
        destroy() {
            for (let e in this._gpuText)
                this._destroyRenderableById(e);
            this._gpuText = null,
            this._renderer = null
        }
    }
    ;
    hn.extension = {
        type: [B.WebGLPipes, B.WebGPUPipes, B.CanvasPipes],
        name: "text"
    };
    var lf = class {
        constructor(e) {
            this._canvasPool = Object.create(null),
            this.canvasOptions = e || {},
            this.enableFullScreen = !1
        }
        _createCanvasAndContext(e, t) {
            let i = ve.get().createCanvas();
            i.width = e,
            i.height = t;
            let s = i.getContext("2d");
            return {
                canvas: i,
                context: s
            }
        }
        getOptimalCanvasAndContext(e, t, i=1) {
            e = Math.ceil(e * i - 1e-6),
            t = Math.ceil(t * i - 1e-6),
            e = Oi(e),
            t = Oi(t);
            let s = (e << 17) + (t << 1);
            this._canvasPool[s] || (this._canvasPool[s] = []);
            let r = this._canvasPool[s].pop();
            return r || (r = this._createCanvasAndContext(e, t)),
            r
        }
        returnCanvasAndContext(e) {
            let t = e.canvas
              , {width: i, height: s} = t
              , r = (i << 17) + (s << 1);
            e.context.clearRect(0, 0, i, s),
            this._canvasPool[r].push(e)
        }
        clear() {
            this._canvasPool = {}
        }
    }
      , ha = new lf;
    function T0(a, e, t) {
        for (let i = 0, s = 4 * t * e; i < e; ++i,
        s += 4)
            if (a[s + 3] !== 0)
                return !1;
        return !0
    }
    function S0(a, e, t, i, s) {
        let r = 4 * e;
        for (let o = i, d = i * r + 4 * t; o <= s; ++o,
        d += r)
            if (a[d + 3] !== 0)
                return !1;
        return !0
    }
    function G7(a, e=1) {
        let {width: t, height: i} = a
          , s = a.getContext("2d", {
            willReadFrequently: !0
        });
        if (s === null)
            throw new TypeError("Failed to get canvas 2D context");
        let r = s.getImageData(0, 0, t, i).data
          , o = 0
          , d = 0
          , f = t - 1
          , h = i - 1;
        for (; d < i && T0(r, t, d); )
            ++d;
        if (d === i)
            return Pe.EMPTY;
        for (; T0(r, t, h); )
            --h;
        for (; S0(r, t, o, d, h); )
            ++o;
        for (; S0(r, t, f, d, h); )
            --f;
        return ++f,
        ++h,
        new Pe(o / e,d / e,(f - o) / e,(h - d) / e)
    }
    var dp = class uf {
        constructor(e, t, i, s) {
            this.uid = Fe("fillGradient"),
            this.type = "linear",
            this.gradientStops = [],
            this._styleKey = null,
            this.x0 = e,
            this.y0 = t,
            this.x1 = i,
            this.y1 = s
        }
        addColorStop(e, t) {
            return this.gradientStops.push({
                offset: e,
                color: Ee.shared.setValue(t).toHexa()
            }),
            this._styleKey = null,
            this
        }
        buildLinearGradient() {
            if (this.texture)
                return;
            let e = uf.defaultTextureSize
              , {gradientStops: t} = this
              , i = ve.get().createCanvas();
            i.width = e,
            i.height = e;
            let s = i.getContext("2d")
              , r = s.createLinearGradient(0, 0, uf.defaultTextureSize, 1);
            for (let S = 0; S < t.length; S++) {
                let A = t[S];
                r.addColorStop(A.offset, A.color)
            }
            s.fillStyle = r,
            s.fillRect(0, 0, e, e),
            this.texture = new K({
                source: new Ba({
                    resource: i,
                    addressModeU: "clamp-to-edge",
                    addressModeV: "repeat"
                })
            });
            let {x0: o, y0: d, x1: f, y1: h} = this
              , u = new ie
              , p = f - o
              , x = h - d
              , _ = Math.sqrt(p * p + x * x)
              , T = Math.atan2(x, p);
            u.translate(-o, -d),
            u.scale(1 / e, 1 / e),
            u.rotate(-T),
            u.scale(256 / _, 1),
            this.transform = u,
            this._styleKey = null
        }
        get styleKey() {
            if (this._styleKey)
                return this._styleKey;
            let e = this.gradientStops.map(s => `${s.offset}-${s.color}`).join("-")
              , t = this.texture.uid
              , i = this.transform.toArray().join("-");
            return `fill-gradient-${this.uid}-${e}-${t}-${i}-${this.x0}-${this.y0}-${this.x1}-${this.y1}`
        }
    }
    ;
    dp.defaultTextureSize = 256;
    var Hs = dp
      , w0 = {
        repeat: {
            addressModeU: "repeat",
            addressModeV: "repeat"
        },
        "repeat-x": {
            addressModeU: "repeat",
            addressModeV: "clamp-to-edge"
        },
        "repeat-y": {
            addressModeU: "clamp-to-edge",
            addressModeV: "repeat"
        },
        "no-repeat": {
            addressModeU: "clamp-to-edge",
            addressModeV: "clamp-to-edge"
        }
    }
      , Bi = class {
        constructor(e, t) {
            this.uid = Fe("fillPattern"),
            this.transform = new ie,
            this._styleKey = null,
            this.texture = e,
            this.transform.scale(1 / e.frame.width, 1 / e.frame.height),
            t && (e.source.style.addressModeU = w0[t].addressModeU,
            e.source.style.addressModeV = w0[t].addressModeV)
        }
        setTransform(e) {
            let t = this.texture;
            this.transform.copyFrom(e),
            this.transform.invert(),
            this.transform.scale(1 / t.frame.width, 1 / t.frame.height),
            this._styleKey = null
        }
        get styleKey() {
            return this._styleKey ? this._styleKey : (this._styleKey = `fill-pattern-${this.uid}-${this.texture.uid}-${this.transform.toArray().join("-")}`,
            this._styleKey)
        }
    }
      , B7 = D7
      , ed = {
        a: 7,
        c: 6,
        h: 1,
        l: 2,
        m: 2,
        q: 4,
        s: 4,
        t: 2,
        v: 1,
        z: 0
    }
      , F7 = /([astvzqmhlc])([^astvzqmhlc]*)/ig;
    function D7(a) {
        var e = [];
        return a.replace(F7, function(t, i, s) {
            var r = i.toLowerCase();
            for (s = U7(s),
            r == "m" && s.length > 2 && (e.push([i].concat(s.splice(0, 2))),
            r = "l",
            i = i == "m" ? "l" : "L"); ; ) {
                if (s.length == ed[r])
                    return s.unshift(i),
                    e.push(s);
                if (s.length < ed[r])
                    throw new Error("malformed path data");
                e.push([i].concat(s.splice(0, ed[r])))
            }
        }),
        e
    }
    var k7 = /-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;
    function U7(a) {
        var e = a.match(k7);
        return e ? e.map(Number) : []
    }
    var L7 = _h(B7);
    function N7(a, e) {
        let t = L7(a)
          , i = []
          , s = null
          , r = 0
          , o = 0;
        for (let d = 0; d < t.length; d++) {
            let f = t[d]
              , h = f[0]
              , u = f;
            switch (h) {
            case "M":
                r = u[1],
                o = u[2],
                e.moveTo(r, o);
                break;
            case "m":
                r += u[1],
                o += u[2],
                e.moveTo(r, o);
                break;
            case "H":
                r = u[1],
                e.lineTo(r, o);
                break;
            case "h":
                r += u[1],
                e.lineTo(r, o);
                break;
            case "V":
                o = u[1],
                e.lineTo(r, o);
                break;
            case "v":
                o += u[1],
                e.lineTo(r, o);
                break;
            case "L":
                r = u[1],
                o = u[2],
                e.lineTo(r, o);
                break;
            case "l":
                r += u[1],
                o += u[2],
                e.lineTo(r, o);
                break;
            case "C":
                r = u[5],
                o = u[6],
                e.bezierCurveTo(u[1], u[2], u[3], u[4], r, o);
                break;
            case "c":
                e.bezierCurveTo(r + u[1], o + u[2], r + u[3], o + u[4], r + u[5], o + u[6]),
                r += u[5],
                o += u[6];
                break;
            case "S":
                r = u[3],
                o = u[4],
                e.bezierCurveToShort(u[1], u[2], r, o);
                break;
            case "s":
                e.bezierCurveToShort(r + u[1], o + u[2], r + u[3], o + u[4]),
                r += u[3],
                o += u[4];
                break;
            case "Q":
                r = u[3],
                o = u[4],
                e.quadraticCurveTo(u[1], u[2], r, o);
                break;
            case "q":
                e.quadraticCurveTo(r + u[1], o + u[2], r + u[3], o + u[4]),
                r += u[3],
                o += u[4];
                break;
            case "T":
                r = u[1],
                o = u[2],
                e.quadraticCurveToShort(r, o);
                break;
            case "t":
                r += u[1],
                o += u[2],
                e.quadraticCurveToShort(r, o);
                break;
            case "A":
                r = u[6],
                o = u[7],
                e.arcToSvg(u[1], u[2], u[3], u[4], u[5], r, o);
                break;
            case "a":
                r += u[6],
                o += u[7],
                e.arcToSvg(u[1], u[2], u[3], u[4], u[5], r, o);
                break;
            case "Z":
            case "z":
                e.closePath(),
                i.length > 0 && (s = i.pop(),
                s ? (r = s.startX,
                o = s.startY) : (r = 0,
                o = 0)),
                s = null;
                break;
            default:
            }
            h !== "Z" && h !== "z" && s === null && (s = {
                startX: r,
                startY: o
            },
            i.push(s))
        }
        return e
    }
    var bf = class a {
        constructor(e=0, t=0, i=0) {
            this.type = "circle",
            this.x = e,
            this.y = t,
            this.radius = i
        }
        clone() {
            return new a(this.x,this.y,this.radius)
        }
        contains(e, t) {
            if (this.radius <= 0)
                return !1;
            let i = this.radius * this.radius
              , s = this.x - e
              , r = this.y - t;
            return s *= s,
            r *= r,
            s + r <= i
        }
        strokeContains(e, t, i, s=.5) {
            if (this.radius === 0)
                return !1;
            let r = this.x - e
              , o = this.y - t
              , d = this.radius
              , f = (1 - s) * i
              , h = Math.sqrt(r * r + o * o);
            return h <= d + f && h > d - (i - f)
        }
        getBounds(e) {
            return e || (e = new Pe),
            e.x = this.x - this.radius,
            e.y = this.y - this.radius,
            e.width = this.radius * 2,
            e.height = this.radius * 2,
            e
        }
        copyFrom(e) {
            return this.x = e.x,
            this.y = e.y,
            this.radius = e.radius,
            this
        }
        copyTo(e) {
            return e.copyFrom(this),
            e
        }
    }
      , pf = class a {
        constructor(e=0, t=0, i=0, s=0) {
            this.type = "ellipse",
            this.x = e,
            this.y = t,
            this.halfWidth = i,
            this.halfHeight = s
        }
        clone() {
            return new a(this.x,this.y,this.halfWidth,this.halfHeight)
        }
        contains(e, t) {
            if (this.halfWidth <= 0 || this.halfHeight <= 0)
                return !1;
            let i = (e - this.x) / this.halfWidth
              , s = (t - this.y) / this.halfHeight;
            return i *= i,
            s *= s,
            i + s <= 1
        }
        strokeContains(e, t, i, s=.5) {
            let {halfWidth: r, halfHeight: o} = this;
            if (r <= 0 || o <= 0)
                return !1;
            let d = i * (1 - s)
              , f = i - d
              , h = r - f
              , u = o - f
              , p = r + d
              , x = o + d
              , _ = e - this.x
              , T = t - this.y
              , S = _ * _ / (h * h) + T * T / (u * u)
              , A = _ * _ / (p * p) + T * T / (x * x);
            return S > 1 && A <= 1
        }
        getBounds(e) {
            return e || (e = new Pe),
            e.x = this.x - this.halfWidth,
            e.y = this.y - this.halfHeight,
            e.width = this.halfWidth * 2,
            e.height = this.halfHeight * 2,
            e
        }
        copyFrom(e) {
            return this.x = e.x,
            this.y = e.y,
            this.halfWidth = e.halfWidth,
            this.halfHeight = e.halfHeight,
            this
        }
        copyTo(e) {
            return e.copyFrom(this),
            e
        }
    }
    ;
    function j7(a, e, t, i, s, r) {
        let o = a - t
          , d = e - i
          , f = s - t
          , h = r - i
          , u = o * f + d * h
          , p = f * f + h * h
          , x = -1;
        p !== 0 && (x = u / p);
        let _, T;
        x < 0 ? (_ = t,
        T = i) : x > 1 ? (_ = s,
        T = r) : (_ = t + x * f,
        T = i + x * h);
        let S = a - _
          , A = e - T;
        return S * S + A * A
    }
    var Es = class a {
        constructor(...e) {
            this.type = "polygon";
            let t = Array.isArray(e[0]) ? e[0] : e;
            if (typeof t[0] != "number") {
                let i = [];
                for (let s = 0, r = t.length; s < r; s++)
                    i.push(t[s].x, t[s].y);
                t = i
            }
            this.points = t,
            this.closePath = !0
        }
        clone() {
            let e = this.points.slice()
              , t = new a(e);
            return t.closePath = this.closePath,
            t
        }
        contains(e, t) {
            let i = !1
              , s = this.points.length / 2;
            for (let r = 0, o = s - 1; r < s; o = r++) {
                let d = this.points[r * 2]
                  , f = this.points[r * 2 + 1]
                  , h = this.points[o * 2]
                  , u = this.points[o * 2 + 1];
                f > t != u > t && e < (h - d) * ((t - f) / (u - f)) + d && (i = !i)
            }
            return i
        }
        strokeContains(e, t, i, s=.5) {
            let r = i * i
              , o = r * (1 - s)
              , d = r - o
              , {points: f} = this
              , h = f.length - (this.closePath ? 0 : 2);
            for (let u = 0; u < h; u += 2) {
                let p = f[u]
                  , x = f[u + 1]
                  , _ = f[(u + 2) % f.length]
                  , T = f[(u + 3) % f.length]
                  , S = j7(e, t, p, x, _, T)
                  , A = Math.sign((_ - p) * (t - x) - (T - x) * (e - p));
                if (S <= (A < 0 ? d : o))
                    return !0
            }
            return !1
        }
        getBounds(e) {
            e || (e = new Pe);
            let t = this.points
              , i = 1 / 0
              , s = -1 / 0
              , r = 1 / 0
              , o = -1 / 0;
            for (let d = 0, f = t.length; d < f; d += 2) {
                let h = t[d]
                  , u = t[d + 1];
                i = h < i ? h : i,
                s = h > s ? h : s,
                r = u < r ? u : r,
                o = u > o ? u : o
            }
            return e.x = i,
            e.width = s - i,
            e.y = r,
            e.height = o - r,
            e
        }
        copyFrom(e) {
            return this.points = e.points.slice(),
            this.closePath = e.closePath,
            this
        }
        copyTo(e) {
            return e.copyFrom(this),
            e
        }
        get lastX() {
            return this.points[this.points.length - 2]
        }
        get lastY() {
            return this.points[this.points.length - 1]
        }
        get x() {
            return this.points[this.points.length - 2]
        }
        get y() {
            return this.points[this.points.length - 1]
        }
    }
      , Sr = (a, e, t, i, s, r, o) => {
        let d = a - t
          , f = e - i
          , h = Math.sqrt(d * d + f * f);
        return h >= s - r && h <= s + o
    }
      , gf = class a {
        constructor(e=0, t=0, i=0, s=0, r=20) {
            this.type = "roundedRectangle",
            this.x = e,
            this.y = t,
            this.width = i,
            this.height = s,
            this.radius = r
        }
        getBounds(e) {
            return e || (e = new Pe),
            e.x = this.x,
            e.y = this.y,
            e.width = this.width,
            e.height = this.height,
            e
        }
        clone() {
            return new a(this.x,this.y,this.width,this.height,this.radius)
        }
        copyFrom(e) {
            return this.x = e.x,
            this.y = e.y,
            this.width = e.width,
            this.height = e.height,
            this
        }
        copyTo(e) {
            return e.copyFrom(this),
            e
        }
        contains(e, t) {
            if (this.width <= 0 || this.height <= 0)
                return !1;
            if (e >= this.x && e <= this.x + this.width && t >= this.y && t <= this.y + this.height) {
                let i = Math.max(0, Math.min(this.radius, Math.min(this.width, this.height) / 2));
                if (t >= this.y + i && t <= this.y + this.height - i || e >= this.x + i && e <= this.x + this.width - i)
                    return !0;
                let s = e - (this.x + i)
                  , r = t - (this.y + i)
                  , o = i * i;
                if (s * s + r * r <= o || (s = e - (this.x + this.width - i),
                s * s + r * r <= o) || (r = t - (this.y + this.height - i),
                s * s + r * r <= o) || (s = e - (this.x + i),
                s * s + r * r <= o))
                    return !0
            }
            return !1
        }
        strokeContains(e, t, i, s=.5) {
            let {x: r, y: o, width: d, height: f, radius: h} = this
              , u = i * (1 - s)
              , p = i - u
              , x = r + h
              , _ = o + h
              , T = d - h * 2
              , S = f - h * 2
              , A = r + d
              , P = o + f;
            return (e >= r - u && e <= r + p || e >= A - p && e <= A + u) && t >= _ && t <= _ + S || (t >= o - u && t <= o + p || t >= P - p && t <= P + u) && e >= x && e <= x + T ? !0 : e < x && t < _ && Sr(e, t, x, _, h, p, u) || e > A - h && t < _ && Sr(e, t, A - h, _, h, p, u) || e > A - h && t > P - h && Sr(e, t, A - h, P - h, h, p, u) || e < x && t > P - h && Sr(e, t, x, P - h, h, p, u)
        }
    }
      , X7 = 8
      , wr = 11920929e-14
      , H7 = 1
      , td = .01
      , xi = 0
      , Va = 0;
    function fp(a, e, t, i, s, r, o, d, f, h) {
        let u = Math.min(.99, Math.max(0, h ?? Ch.defaultOptions.bezierSmoothness))
          , p = (H7 - u) / 1;
        return p *= p,
        z7(e, t, i, s, r, o, d, f, a, p),
        a
    }
    function z7(a, e, t, i, s, r, o, d, f, h) {
        mf(a, e, t, i, s, r, o, d, f, h, 0),
        f.push(o, d)
    }
    function mf(a, e, t, i, s, r, o, d, f, h, u) {
        if (u > X7)
            return;
        let p = Math.PI
          , x = (a + t) / 2
          , _ = (e + i) / 2
          , T = (t + s) / 2
          , S = (i + r) / 2
          , A = (s + o) / 2
          , P = (r + d) / 2
          , O = (x + T) / 2
          , F = (_ + S) / 2
          , k = (T + A) / 2
          , V = (S + P) / 2
          , L = (O + k) / 2
          , X = (F + V) / 2;
        if (u > 0) {
            let se = o - a, ce = d - e, Z = Math.abs((t - o) * ce - (i - d) * se), q = Math.abs((s - o) * ce - (r - d) * se), re, te;
            if (Z > wr && q > wr) {
                if ((Z + q) * (Z + q) <= h * (se * se + ce * ce)) {
                    if (xi < td) {
                        f.push(L, X);
                        return
                    }
                    let Ge = Math.atan2(r - i, s - t);
                    if (re = Math.abs(Ge - Math.atan2(i - e, t - a)),
                    te = Math.abs(Math.atan2(d - r, o - s) - Ge),
                    re >= p && (re = 2 * p - re),
                    te >= p && (te = 2 * p - te),
                    re + te < xi) {
                        f.push(L, X);
                        return
                    }
                    if (Va !== 0) {
                        if (re > Va) {
                            f.push(t, i);
                            return
                        }
                        if (te > Va) {
                            f.push(s, r);
                            return
                        }
                    }
                }
            } else if (Z > wr) {
                if (Z * Z <= h * (se * se + ce * ce)) {
                    if (xi < td) {
                        f.push(L, X);
                        return
                    }
                    if (re = Math.abs(Math.atan2(r - i, s - t) - Math.atan2(i - e, t - a)),
                    re >= p && (re = 2 * p - re),
                    re < xi) {
                        f.push(t, i),
                        f.push(s, r);
                        return
                    }
                    if (Va !== 0 && re > Va) {
                        f.push(t, i);
                        return
                    }
                }
            } else if (q > wr) {
                if (q * q <= h * (se * se + ce * ce)) {
                    if (xi < td) {
                        f.push(L, X);
                        return
                    }
                    if (re = Math.abs(Math.atan2(d - r, o - s) - Math.atan2(r - i, s - t)),
                    re >= p && (re = 2 * p - re),
                    re < xi) {
                        f.push(t, i),
                        f.push(s, r);
                        return
                    }
                    if (Va !== 0 && re > Va) {
                        f.push(s, r);
                        return
                    }
                }
            } else if (se = L - (a + o) / 2,
            ce = X - (e + d) / 2,
            se * se + ce * ce <= h) {
                f.push(L, X);
                return
            }
        }
        mf(a, e, x, _, O, F, L, X, f, h, u + 1),
        mf(L, X, k, V, A, P, o, d, f, h, u + 1)
    }
    var V7 = 8
      , W7 = 11920929e-14
      , Y7 = 1
      , $7 = .01
      , A0 = 0;
    function K7(a, e, t, i, s, r, o, d) {
        let f = Math.min(.99, Math.max(0, d ?? Ch.defaultOptions.bezierSmoothness))
          , h = (Y7 - f) / 1;
        return h *= h,
        q7(e, t, i, s, r, o, a, h),
        a
    }
    function q7(a, e, t, i, s, r, o, d) {
        _f(o, a, e, t, i, s, r, d, 0),
        o.push(s, r)
    }
    function _f(a, e, t, i, s, r, o, d, f) {
        if (f > V7)
            return;
        let h = Math.PI
          , u = (e + i) / 2
          , p = (t + s) / 2
          , x = (i + r) / 2
          , _ = (s + o) / 2
          , T = (u + x) / 2
          , S = (p + _) / 2
          , A = r - e
          , P = o - t
          , O = Math.abs((i - r) * P - (s - o) * A);
        if (O > W7) {
            if (O * O <= d * (A * A + P * P)) {
                if (A0 < $7) {
                    a.push(T, S);
                    return
                }
                let F = Math.abs(Math.atan2(o - s, r - i) - Math.atan2(s - t, i - e));
                if (F >= h && (F = 2 * h - F),
                F < A0) {
                    a.push(T, S);
                    return
                }
            }
        } else if (A = T - (e + r) / 2,
        P = S - (t + o) / 2,
        A * A + P * P <= d) {
            a.push(T, S);
            return
        }
        _f(a, e, t, u, p, T, S, d, f + 1),
        _f(a, T, S, x, _, r, o, d, f + 1)
    }
    function hp(a, e, t, i, s, r, o, d) {
        let f = Math.abs(s - r);
        (!o && s > r || o && r > s) && (f = 2 * Math.PI - f),
        d || (d = Math.max(6, Math.floor(6 * Math.pow(i, 1 / 3) * (f / Math.PI)))),
        d = Math.max(d, 3);
        let h = f / d
          , u = s;
        h *= o ? -1 : 1;
        for (let p = 0; p < d + 1; p++) {
            let x = Math.cos(u)
              , _ = Math.sin(u)
              , T = e + x * i
              , S = t + _ * i;
            a.push(T, S),
            u += h
        }
    }
    function Z7(a, e, t, i, s, r) {
        let o = a[a.length - 2]
          , d = a[a.length - 1] - t
          , f = o - e
          , h = s - t
          , u = i - e
          , p = Math.abs(d * u - f * h);
        if (p < 1e-8 || r === 0) {
            (a[a.length - 2] !== e || a[a.length - 1] !== t) && a.push(e, t);
            return
        }
        let x = d * d + f * f
          , _ = h * h + u * u
          , T = d * h + f * u
          , S = r * Math.sqrt(x) / p
          , A = r * Math.sqrt(_) / p
          , P = S * T / x
          , O = A * T / _
          , F = S * u + A * f
          , k = S * h + A * d
          , V = f * (A + P)
          , L = d * (A + P)
          , X = u * (S + O)
          , se = h * (S + O)
          , ce = Math.atan2(L - k, V - F)
          , Z = Math.atan2(se - k, X - F);
        hp(a, F + e, k + t, r, ce, Z, f * h > u * d)
    }
    var Ps = Math.PI * 2
      , ad = {
        centerX: 0,
        centerY: 0,
        ang1: 0,
        ang2: 0
    }
      , id = ({x: a, y: e}, t, i, s, r, o, d, f) => {
        a *= t,
        e *= i;
        let h = s * a - r * e
          , u = r * a + s * e;
        return f.x = h + o,
        f.y = u + d,
        f
    }
    ;
    function Q7(a, e) {
        let t = e === -1.5707963267948966 ? -.551915024494 : 1.3333333333333333 * Math.tan(e / 4)
          , i = e === 1.5707963267948966 ? .551915024494 : t
          , s = Math.cos(a)
          , r = Math.sin(a)
          , o = Math.cos(a + e)
          , d = Math.sin(a + e);
        return [{
            x: s - r * i,
            y: r + s * i
        }, {
            x: o + d * i,
            y: d - o * i
        }, {
            x: o,
            y: d
        }]
    }
    var E0 = (a, e, t, i) => {
        let s = a * i - e * t < 0 ? -1 : 1
          , r = a * t + e * i;
        return r > 1 && (r = 1),
        r < -1 && (r = -1),
        s * Math.acos(r)
    }
      , J7 = (a, e, t, i, s, r, o, d, f, h, u, p, x) => {
        let _ = Math.pow(s, 2)
          , T = Math.pow(r, 2)
          , S = Math.pow(u, 2)
          , A = Math.pow(p, 2)
          , P = _ * T - _ * A - T * S;
        P < 0 && (P = 0),
        P /= _ * A + T * S,
        P = Math.sqrt(P) * (o === d ? -1 : 1);
        let O = P * s / r * p
          , F = P * -r / s * u
          , k = h * O - f * F + (a + t) / 2
          , V = f * O + h * F + (e + i) / 2
          , L = (u - O) / s
          , X = (p - F) / r
          , se = (-u - O) / s
          , ce = (-p - F) / r
          , Z = E0(1, 0, L, X)
          , q = E0(L, X, se, ce);
        d === 0 && q > 0 && (q -= Ps),
        d === 1 && q < 0 && (q += Ps),
        x.centerX = k,
        x.centerY = V,
        x.ang1 = Z,
        x.ang2 = q
    }
    ;
    function e9(a, e, t, i, s, r, o, d=0, f=0, h=0) {
        if (r === 0 || o === 0)
            return;
        let u = Math.sin(d * Ps / 360)
          , p = Math.cos(d * Ps / 360)
          , x = p * (e - i) / 2 + u * (t - s) / 2
          , _ = -u * (e - i) / 2 + p * (t - s) / 2;
        if (x === 0 && _ === 0)
            return;
        r = Math.abs(r),
        o = Math.abs(o);
        let T = Math.pow(x, 2) / Math.pow(r, 2) + Math.pow(_, 2) / Math.pow(o, 2);
        T > 1 && (r *= Math.sqrt(T),
        o *= Math.sqrt(T)),
        J7(e, t, i, s, r, o, f, h, u, p, x, _, ad);
        let {ang1: S, ang2: A} = ad
          , {centerX: P, centerY: O} = ad
          , F = Math.abs(A) / (Ps / 4);
        Math.abs(1 - F) < 1e-7 && (F = 1);
        let k = Math.max(Math.ceil(F), 1);
        A /= k;
        let V = a[a.length - 2]
          , L = a[a.length - 1]
          , X = {
            x: 0,
            y: 0
        };
        for (let se = 0; se < k; se++) {
            let ce = Q7(S, A)
              , {x: Z, y: q} = id(ce[0], r, o, p, u, P, O, X)
              , {x: re, y: te} = id(ce[1], r, o, p, u, P, O, X)
              , {x: Ge, y: Tt} = id(ce[2], r, o, p, u, P, O, X);
            fp(a, V, L, Z, q, re, te, Ge, Tt),
            V = Ge,
            L = Tt,
            S += A
        }
    }
    function t9(a, e, t) {
        var i;
        let s = (d, f) => {
            let h = f.x - d.x
              , u = f.y - d.y
              , p = Math.sqrt(h * h + u * u)
              , x = h / p
              , _ = u / p;
            return {
                len: p,
                nx: x,
                ny: _
            }
        }
          , r = (d, f) => {
            d === 0 ? a.moveTo(f.x, f.y) : a.lineTo(f.x, f.y)
        }
          , o = e[e.length - 1];
        for (let d = 0; d < e.length; d++) {
            let f = e[d % e.length]
              , h = (i = f.radius) != null ? i : t;
            if (h <= 0) {
                r(d, f),
                o = f;
                continue
            }
            let u = e[(d + 1) % e.length]
              , p = s(f, o)
              , x = s(f, u);
            if (p.len < 1e-4 || x.len < 1e-4) {
                r(d, f),
                o = f;
                continue
            }
            let _ = Math.asin(p.nx * x.ny - p.ny * x.nx)
              , T = 1
              , S = !1;
            p.nx * x.nx - p.ny * -x.ny < 0 ? _ < 0 ? _ = Math.PI + _ : (_ = Math.PI - _,
            T = -1,
            S = !0) : _ > 0 && (T = -1,
            S = !0);
            let A = _ / 2, P, O = Math.abs(Math.cos(A) * h / Math.sin(A));
            O > Math.min(p.len / 2, x.len / 2) ? (O = Math.min(p.len / 2, x.len / 2),
            P = Math.abs(O * Math.sin(A) / Math.cos(A))) : P = h;
            let F = f.x + x.nx * O + -x.ny * P * T
              , k = f.y + x.ny * O + x.nx * P * T
              , V = Math.atan2(p.ny, p.nx) + Math.PI / 2 * T
              , L = Math.atan2(x.ny, x.nx) - Math.PI / 2 * T;
            d === 0 && a.moveTo(F + Math.cos(V) * P, k + Math.sin(V) * P),
            a.arc(F, k, P, V, L, S),
            o = f
        }
    }
    function a9(a, e, t, i) {
        var s;
        let r = (f, h) => Math.sqrt((f.x - h.x) ** 2 + (f.y - h.y) ** 2)
          , o = (f, h, u) => ({
            x: f.x + (h.x - f.x) * u,
            y: f.y + (h.y - f.y) * u
        })
          , d = e.length;
        for (let f = 0; f < d; f++) {
            let h = e[(f + 1) % d]
              , u = (s = h.radius) != null ? s : t;
            if (u <= 0) {
                f === 0 ? a.moveTo(h.x, h.y) : a.lineTo(h.x, h.y);
                continue
            }
            let p = e[f], x = e[(f + 2) % d], _ = r(p, h), T;
            if (_ < 1e-4)
                T = h;
            else {
                let P = Math.min(_ / 2, u);
                T = o(h, p, P / _)
            }
            let S = r(x, h), A;
            if (S < 1e-4)
                A = h;
            else {
                let P = Math.min(S / 2, u);
                A = o(h, x, P / S)
            }
            f === 0 ? a.moveTo(T.x, T.y) : a.lineTo(T.x, T.y),
            a.quadraticCurveTo(h.x, h.y, A.x, A.y, i)
        }
    }
    var i9 = new Pe
      , xf = class {
        constructor(e) {
            this.shapePrimitives = [],
            this._currentPoly = null,
            this._bounds = new qe,
            this._graphicsPath2D = e
        }
        moveTo(e, t) {
            return this.startPoly(e, t),
            this
        }
        lineTo(e, t) {
            this._ensurePoly();
            let i = this._currentPoly.points
              , s = i[i.length - 2]
              , r = i[i.length - 1];
            return (s !== e || r !== t) && i.push(e, t),
            this
        }
        arc(e, t, i, s, r, o) {
            this._ensurePoly(!1);
            let d = this._currentPoly.points;
            return hp(d, e, t, i, s, r, o),
            this
        }
        arcTo(e, t, i, s, r) {
            this._ensurePoly();
            let o = this._currentPoly.points;
            return Z7(o, e, t, i, s, r),
            this
        }
        arcToSvg(e, t, i, s, r, o, d) {
            let f = this._currentPoly.points;
            return e9(f, this._currentPoly.lastX, this._currentPoly.lastY, o, d, e, t, i, s, r),
            this
        }
        bezierCurveTo(e, t, i, s, r, o, d) {
            this._ensurePoly();
            let f = this._currentPoly;
            return fp(this._currentPoly.points, f.lastX, f.lastY, e, t, i, s, r, o, d),
            this
        }
        quadraticCurveTo(e, t, i, s, r) {
            this._ensurePoly();
            let o = this._currentPoly;
            return K7(this._currentPoly.points, o.lastX, o.lastY, e, t, i, s, r),
            this
        }
        closePath() {
            return this.endPoly(!0),
            this
        }
        addPath(e, t) {
            this.endPoly(),
            t && !t.isIdentity() && (e = e.clone(!0),
            e.transform(t));
            for (let i = 0; i < e.instructions.length; i++) {
                let s = e.instructions[i];
                this[s.action](...s.data)
            }
            return this
        }
        finish(e=!1) {
            this.endPoly(e)
        }
        rect(e, t, i, s, r) {
            return this.drawShape(new Pe(e,t,i,s), r),
            this
        }
        circle(e, t, i, s) {
            return this.drawShape(new bf(e,t,i), s),
            this
        }
        poly(e, t, i) {
            let s = new Es(e);
            return s.closePath = t,
            this.drawShape(s, i),
            this
        }
        regularPoly(e, t, i, s, r=0, o) {
            s = Math.max(s | 0, 3);
            let d = -1 * Math.PI / 2 + r
              , f = Math.PI * 2 / s
              , h = [];
            for (let u = 0; u < s; u++) {
                let p = d - u * f;
                h.push(e + i * Math.cos(p), t + i * Math.sin(p))
            }
            return this.poly(h, !0, o),
            this
        }
        roundPoly(e, t, i, s, r, o=0, d) {
            if (s = Math.max(s | 0, 3),
            r <= 0)
                return this.regularPoly(e, t, i, s, o);
            let f = i * Math.sin(Math.PI / s) - .001;
            r = Math.min(r, f);
            let h = -1 * Math.PI / 2 + o
              , u = Math.PI * 2 / s
              , p = (s - 2) * Math.PI / s / 2;
            for (let x = 0; x < s; x++) {
                let _ = x * u + h
                  , T = e + i * Math.cos(_)
                  , S = t + i * Math.sin(_)
                  , A = _ + Math.PI + p
                  , P = _ - Math.PI - p
                  , O = T + r * Math.cos(A)
                  , F = S + r * Math.sin(A)
                  , k = T + r * Math.cos(P)
                  , V = S + r * Math.sin(P);
                x === 0 ? this.moveTo(O, F) : this.lineTo(O, F),
                this.quadraticCurveTo(T, S, k, V, d)
            }
            return this.closePath()
        }
        roundShape(e, t, i=!1, s) {
            return e.length < 3 ? this : (i ? a9(this, e, t, s) : t9(this, e, t),
            this.closePath())
        }
        filletRect(e, t, i, s, r) {
            if (r === 0)
                return this.rect(e, t, i, s);
            let o = Math.min(i, s) / 2
              , d = Math.min(o, Math.max(-o, r))
              , f = e + i
              , h = t + s
              , u = d < 0 ? -d : 0
              , p = Math.abs(d);
            return this.moveTo(e, t + p).arcTo(e + u, t + u, e + p, t, p).lineTo(f - p, t).arcTo(f - u, t + u, f, t + p, p).lineTo(f, h - p).arcTo(f - u, h - u, e + i - p, h, p).lineTo(e + p, h).arcTo(e + u, h - u, e, h - p, p).closePath()
        }
        chamferRect(e, t, i, s, r, o) {
            if (r <= 0)
                return this.rect(e, t, i, s);
            let d = Math.min(r, Math.min(i, s) / 2)
              , f = e + i
              , h = t + s
              , u = [e + d, t, f - d, t, f, t + d, f, h - d, f - d, h, e + d, h, e, h - d, e, t + d];
            for (let p = u.length - 1; p >= 2; p -= 2)
                u[p] === u[p - 2] && u[p - 1] === u[p - 3] && u.splice(p - 1, 2);
            return this.poly(u, !0, o)
        }
        ellipse(e, t, i, s, r) {
            return this.drawShape(new pf(e,t,i,s), r),
            this
        }
        roundRect(e, t, i, s, r, o) {
            return this.drawShape(new gf(e,t,i,s,r), o),
            this
        }
        drawShape(e, t) {
            return this.endPoly(),
            this.shapePrimitives.push({
                shape: e,
                transform: t
            }),
            this
        }
        startPoly(e, t) {
            let i = this._currentPoly;
            return i && this.endPoly(),
            i = new Es,
            i.points.push(e, t),
            this._currentPoly = i,
            this
        }
        endPoly(e=!1) {
            let t = this._currentPoly;
            return t && t.points.length > 2 && (t.closePath = e,
            this.shapePrimitives.push({
                shape: t
            })),
            this._currentPoly = null,
            this
        }
        _ensurePoly(e=!0) {
            if (!this._currentPoly && (this._currentPoly = new Es,
            e)) {
                let t = this.shapePrimitives[this.shapePrimitives.length - 1];
                if (t) {
                    let i = t.shape.x
                      , s = t.shape.y;
                    if (t.transform && !t.transform.isIdentity()) {
                        let r = t.transform
                          , o = i;
                        i = r.a * i + r.c * s + r.tx,
                        s = r.b * o + r.d * s + r.ty
                    }
                    this._currentPoly.points.push(i, s)
                } else
                    this._currentPoly.points.push(0, 0)
            }
        }
        buildPath() {
            let e = this._graphicsPath2D;
            this.shapePrimitives.length = 0,
            this._currentPoly = null;
            for (let t = 0; t < e.instructions.length; t++) {
                let i = e.instructions[t];
                this[i.action](...i.data)
            }
            this.finish()
        }
        get bounds() {
            let e = this._bounds;
            e.clear();
            let t = this.shapePrimitives;
            for (let i = 0; i < t.length; i++) {
                let s = t[i]
                  , r = s.shape.getBounds(i9);
                s.transform ? e.addRect(r, s.transform) : e.addRect(r)
            }
            return e
        }
    }
      , Fi = class a {
        constructor(e) {
            this.instructions = [],
            this.uid = Fe("graphicsPath"),
            this._dirty = !0;
            var t;
            typeof e == "string" ? N7(e, this) : this.instructions = (t = e?.slice()) != null ? t : []
        }
        get shapePath() {
            return this._shapePath || (this._shapePath = new xf(this)),
            this._dirty && (this._dirty = !1,
            this._shapePath.buildPath()),
            this._shapePath
        }
        addPath(e, t) {
            return e = e.clone(),
            this.instructions.push({
                action: "addPath",
                data: [e, t]
            }),
            this._dirty = !0,
            this
        }
        arc(...e) {
            return this.instructions.push({
                action: "arc",
                data: e
            }),
            this._dirty = !0,
            this
        }
        arcTo(...e) {
            return this.instructions.push({
                action: "arcTo",
                data: e
            }),
            this._dirty = !0,
            this
        }
        arcToSvg(...e) {
            return this.instructions.push({
                action: "arcToSvg",
                data: e
            }),
            this._dirty = !0,
            this
        }
        bezierCurveTo(...e) {
            return this.instructions.push({
                action: "bezierCurveTo",
                data: e
            }),
            this._dirty = !0,
            this
        }
        bezierCurveToShort(e, t, i, s, r) {
            let o = this.instructions[this.instructions.length - 1]
              , d = this.getLastPoint(Ce.shared)
              , f = 0
              , h = 0;
            if (!o || o.action !== "bezierCurveTo")
                f = d.x,
                h = d.y;
            else {
                f = o.data[2],
                h = o.data[3];
                let u = d.x
                  , p = d.y;
                f = u + (u - f),
                h = p + (p - h)
            }
            return this.instructions.push({
                action: "bezierCurveTo",
                data: [f, h, e, t, i, s, r]
            }),
            this._dirty = !0,
            this
        }
        closePath() {
            return this.instructions.push({
                action: "closePath",
                data: []
            }),
            this._dirty = !0,
            this
        }
        ellipse(...e) {
            return this.instructions.push({
                action: "ellipse",
                data: e
            }),
            this._dirty = !0,
            this
        }
        lineTo(...e) {
            return this.instructions.push({
                action: "lineTo",
                data: e
            }),
            this._dirty = !0,
            this
        }
        moveTo(...e) {
            return this.instructions.push({
                action: "moveTo",
                data: e
            }),
            this
        }
        quadraticCurveTo(...e) {
            return this.instructions.push({
                action: "quadraticCurveTo",
                data: e
            }),
            this._dirty = !0,
            this
        }
        quadraticCurveToShort(e, t, i) {
            let s = this.instructions[this.instructions.length - 1]
              , r = this.getLastPoint(Ce.shared)
              , o = 0
              , d = 0;
            if (!s || s.action !== "quadraticCurveTo")
                o = r.x,
                d = r.y;
            else {
                o = s.data[0],
                d = s.data[1];
                let f = r.x
                  , h = r.y;
                o = f + (f - o),
                d = h + (h - d)
            }
            return this.instructions.push({
                action: "quadraticCurveTo",
                data: [o, d, e, t, i]
            }),
            this._dirty = !0,
            this
        }
        rect(e, t, i, s, r) {
            return this.instructions.push({
                action: "rect",
                data: [e, t, i, s, r]
            }),
            this._dirty = !0,
            this
        }
        circle(e, t, i, s) {
            return this.instructions.push({
                action: "circle",
                data: [e, t, i, s]
            }),
            this._dirty = !0,
            this
        }
        roundRect(...e) {
            return this.instructions.push({
                action: "roundRect",
                data: e
            }),
            this._dirty = !0,
            this
        }
        poly(...e) {
            return this.instructions.push({
                action: "poly",
                data: e
            }),
            this._dirty = !0,
            this
        }
        regularPoly(...e) {
            return this.instructions.push({
                action: "regularPoly",
                data: e
            }),
            this._dirty = !0,
            this
        }
        roundPoly(...e) {
            return this.instructions.push({
                action: "roundPoly",
                data: e
            }),
            this._dirty = !0,
            this
        }
        roundShape(...e) {
            return this.instructions.push({
                action: "roundShape",
                data: e
            }),
            this._dirty = !0,
            this
        }
        filletRect(...e) {
            return this.instructions.push({
                action: "filletRect",
                data: e
            }),
            this._dirty = !0,
            this
        }
        chamferRect(...e) {
            return this.instructions.push({
                action: "chamferRect",
                data: e
            }),
            this._dirty = !0,
            this
        }
        star(e, t, i, s, r, o, d) {
            r || (r = s / 2);
            let f = -1 * Math.PI / 2 + o
              , h = i * 2
              , u = Math.PI * 2 / h
              , p = [];
            for (let x = 0; x < h; x++) {
                let _ = x % 2 ? r : s
                  , T = x * u + f;
                p.push(e + _ * Math.cos(T), t + _ * Math.sin(T))
            }
            return this.poly(p, !0, d),
            this
        }
        clone(e=!1) {
            let t = new a;
            if (!e)
                t.instructions = this.instructions.slice();
            else
                for (let i = 0; i < this.instructions.length; i++) {
                    let s = this.instructions[i];
                    t.instructions.push({
                        action: s.action,
                        data: s.data.slice()
                    })
                }
            return t
        }
        clear() {
            return this.instructions.length = 0,
            this._dirty = !0,
            this
        }
        transform(e) {
            if (e.isIdentity())
                return this;
            let t = e.a
              , i = e.b
              , s = e.c
              , r = e.d
              , o = e.tx
              , d = e.ty
              , f = 0
              , h = 0
              , u = 0
              , p = 0
              , x = 0
              , _ = 0
              , T = 0
              , S = 0;
            for (let A = 0; A < this.instructions.length; A++) {
                let P = this.instructions[A]
                  , O = P.data;
                switch (P.action) {
                case "moveTo":
                case "lineTo":
                    f = O[0],
                    h = O[1],
                    O[0] = t * f + s * h + o,
                    O[1] = i * f + r * h + d;
                    break;
                case "bezierCurveTo":
                    u = O[0],
                    p = O[1],
                    x = O[2],
                    _ = O[3],
                    f = O[4],
                    h = O[5],
                    O[0] = t * u + s * p + o,
                    O[1] = i * u + r * p + d,
                    O[2] = t * x + s * _ + o,
                    O[3] = i * x + r * _ + d,
                    O[4] = t * f + s * h + o,
                    O[5] = i * f + r * h + d;
                    break;
                case "quadraticCurveTo":
                    u = O[0],
                    p = O[1],
                    f = O[2],
                    h = O[3],
                    O[0] = t * u + s * p + o,
                    O[1] = i * u + r * p + d,
                    O[2] = t * f + s * h + o,
                    O[3] = i * f + r * h + d;
                    break;
                case "arcToSvg":
                    f = O[5],
                    h = O[6],
                    T = O[0],
                    S = O[1],
                    O[0] = t * T + s * S,
                    O[1] = i * T + r * S,
                    O[5] = t * f + s * h + o,
                    O[6] = i * f + r * h + d;
                    break;
                case "circle":
                    O[4] = hs(O[3], e);
                    break;
                case "rect":
                    O[4] = hs(O[4], e);
                    break;
                case "ellipse":
                    O[8] = hs(O[8], e);
                    break;
                case "roundRect":
                    O[5] = hs(O[5], e);
                    break;
                case "addPath":
                    O[0].transform(e);
                    break;
                case "poly":
                    O[2] = hs(O[2], e);
                    break;
                default:
                    break
                }
            }
            return this._dirty = !0,
            this
        }
        get bounds() {
            return this.shapePath.bounds
        }
        getLastPoint(e) {
            let t = this.instructions.length - 1
              , i = this.instructions[t];
            if (!i)
                return e.x = 0,
                e.y = 0,
                e;
            for (; i.action === "closePath"; ) {
                if (t--,
                t < 0)
                    return e.x = 0,
                    e.y = 0,
                    e;
                i = this.instructions[t]
            }
            switch (i.action) {
            case "moveTo":
            case "lineTo":
                e.x = i.data[0],
                e.y = i.data[1];
                break;
            case "quadraticCurveTo":
                e.x = i.data[2],
                e.y = i.data[3];
                break;
            case "bezierCurveTo":
                e.x = i.data[4],
                e.y = i.data[5];
                break;
            case "arc":
            case "arcToSvg":
                e.x = i.data[5],
                e.y = i.data[6];
                break;
            case "addPath":
                i.data[0].getLastPoint(e);
                break
            }
            return e
        }
    }
    ;
    function hs(a, e) {
        return a ? a.prepend(e) : e.clone()
    }
    var s9 = Object.defineProperty
      , P0 = Object.getOwnPropertySymbols
      , r9 = Object.prototype.hasOwnProperty
      , n9 = Object.prototype.propertyIsEnumerable
      , R0 = (a, e, t) => e in a ? s9(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , Ar = (a, e) => {
        for (var t in e || (e = {}))
            r9.call(e, t) && R0(a, t, e[t]);
        if (P0)
            for (var t of P0(e))
                n9.call(e, t) && R0(a, t, e[t]);
        return a
    }
    ;
    function o9(a, e) {
        if (typeof a == "string") {
            let i = document.createElement("div");
            i.innerHTML = a.trim(),
            a = i.querySelector("svg")
        }
        let t = {
            context: e,
            path: new Fi
        };
        return lp(a, t, null, null),
        e
    }
    function lp(a, e, t, i) {
        let s = a.children
          , {fillStyle: r, strokeStyle: o} = c9(a);
        r && t ? t = Ar(Ar({}, t), r) : r && (t = r),
        o && i ? i = Ar(Ar({}, i), o) : o && (i = o),
        e.context.fillStyle = t,
        e.context.strokeStyle = i;
        let d, f, h, u, p, x, _, T, S, A, P, O, F, k, V, L, X;
        switch (a.nodeName.toLowerCase()) {
        case "path":
            k = a.getAttribute("d"),
            V = new Fi(k),
            e.context.path(V),
            t && e.context.fill(),
            i && e.context.stroke();
            break;
        case "circle":
            _ = $e(a, "cx", 0),
            T = $e(a, "cy", 0),
            S = $e(a, "r", 0),
            e.context.ellipse(_, T, S, S),
            t && e.context.fill(),
            i && e.context.stroke();
            break;
        case "rect":
            d = $e(a, "x", 0),
            f = $e(a, "y", 0),
            L = $e(a, "width", 0),
            X = $e(a, "height", 0),
            A = $e(a, "rx", 0),
            P = $e(a, "ry", 0),
            A || P ? e.context.roundRect(d, f, L, X, A || P) : e.context.rect(d, f, L, X),
            t && e.context.fill(),
            i && e.context.stroke();
            break;
        case "ellipse":
            _ = $e(a, "cx", 0),
            T = $e(a, "cy", 0),
            A = $e(a, "rx", 0),
            P = $e(a, "ry", 0),
            e.context.beginPath(),
            e.context.ellipse(_, T, A, P),
            t && e.context.fill(),
            i && e.context.stroke();
            break;
        case "line":
            h = $e(a, "x1", 0),
            u = $e(a, "y1", 0),
            p = $e(a, "x2", 0),
            x = $e(a, "y2", 0),
            e.context.beginPath(),
            e.context.moveTo(h, u),
            e.context.lineTo(p, x),
            i && e.context.stroke();
            break;
        case "polygon":
            F = a.getAttribute("points"),
            O = F.match(/\d+/g).map(se => parseInt(se, 10)),
            e.context.poly(O, !0),
            t && e.context.fill(),
            i && e.context.stroke();
            break;
        case "polyline":
            F = a.getAttribute("points"),
            O = F.match(/\d+/g).map(se => parseInt(se, 10)),
            e.context.poly(O, !1),
            i && e.context.stroke();
            break;
        case "g":
        case "svg":
            break;
        default:
            break
        }
        for (let se = 0; se < s.length; se++)
            lp(s[se], e, t, i)
    }
    function $e(a, e, t) {
        let i = a.getAttribute(e);
        return i ? Number(i) : t
    }
    function c9(a) {
        let e = a.getAttribute("style")
          , t = {}
          , i = {}
          , s = !1
          , r = !1;
        if (e) {
            let o = e.split(";");
            for (let d = 0; d < o.length; d++) {
                let f = o[d]
                  , [h,u] = f.split(":");
                switch (h) {
                case "stroke":
                    u !== "none" && (t.color = Ee.shared.setValue(u).toNumber(),
                    r = !0);
                    break;
                case "stroke-width":
                    t.width = Number(u);
                    break;
                case "fill":
                    u !== "none" && (s = !0,
                    i.color = Ee.shared.setValue(u).toNumber());
                    break;
                case "fill-opacity":
                    i.alpha = Number(u);
                    break;
                case "stroke-opacity":
                    t.alpha = Number(u);
                    break;
                case "opacity":
                    i.alpha = Number(u),
                    t.alpha = Number(u);
                    break
                }
            }
        } else {
            let o = a.getAttribute("stroke");
            o && o !== "none" && (r = !0,
            t.color = Ee.shared.setValue(o).toNumber(),
            t.width = $e(a, "stroke-width", 1));
            let d = a.getAttribute("fill");
            d && d !== "none" && (s = !0,
            i.color = Ee.shared.setValue(d).toNumber())
        }
        return {
            strokeStyle: r ? t : null,
            fillStyle: s ? i : null
        }
    }
    var d9 = Object.defineProperty
      , ln = Object.getOwnPropertySymbols
      , up = Object.prototype.hasOwnProperty
      , bp = Object.prototype.propertyIsEnumerable
      , M0 = (a, e, t) => e in a ? d9(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , ba = (a, e) => {
        for (var t in e || (e = {}))
            up.call(e, t) && M0(a, t, e[t]);
        if (ln)
            for (var t of ln(e))
                bp.call(e, t) && M0(a, t, e[t]);
        return a
    }
      , f9 = (a, e) => {
        var t = {};
        for (var i in a)
            up.call(a, i) && e.indexOf(i) < 0 && (t[i] = a[i]);
        if (a != null && ln)
            for (var i of ln(a))
                e.indexOf(i) < 0 && bp.call(a, i) && (t[i] = a[i]);
        return t
    }
    ;
    function h9(a) {
        return Ee.isColorLike(a)
    }
    function C0(a) {
        return a instanceof Bi
    }
    function O0(a) {
        return a instanceof Hs
    }
    function l9(a, e, t) {
        let i = Ee.shared.setValue(e ?? 0);
        return a.color = i.toNumber(),
        a.alpha = i.alpha === 1 ? t.alpha : i.alpha,
        a.texture = K.WHITE,
        ba(ba({}, t), a)
    }
    function I0(a, e, t) {
        return a.fill = e,
        a.color = 16777215,
        a.texture = e.texture,
        a.matrix = e.transform,
        ba(ba({}, t), a)
    }
    function G0(a, e, t) {
        return e.buildLinearGradient(),
        a.fill = e,
        a.color = 16777215,
        a.texture = e.texture,
        a.matrix = e.transform,
        ba(ba({}, t), a)
    }
    function u9(a, e) {
        var t;
        let i = ba(ba({}, e), a);
        if (i.texture) {
            if (i.texture !== K.WHITE) {
                let o = ((t = i.matrix) == null ? void 0 : t.clone().invert()) || new ie;
                o.translate(i.texture.frame.x, i.texture.frame.y),
                o.scale(1 / i.texture.source.width, 1 / i.texture.source.height),
                i.matrix = o
            }
            let r = i.texture.source.style;
            r.addressMode === "clamp-to-edge" && (r.addressMode = "repeat",
            r.update())
        }
        let s = Ee.shared.setValue(i.color);
        return i.alpha *= s.alpha,
        i.color = s.toNumber(),
        i.matrix = i.matrix ? i.matrix.clone() : null,
        i
    }
    function Ja(a, e) {
        if (a == null)
            return null;
        let t = {}
          , i = a;
        return h9(a) ? l9(t, a, e) : C0(a) ? I0(t, a, e) : O0(a) ? G0(t, a, e) : i.fill && C0(i.fill) ? I0(i, i.fill, e) : i.fill && O0(i.fill) ? G0(i, i.fill, e) : u9(i, e)
    }
    function un(a, e) {
        let t = e
          , {width: i, alignment: s, miterLimit: r, cap: o, join: d, pixelLine: f} = t
          , h = f9(t, ["width", "alignment", "miterLimit", "cap", "join", "pixelLine"])
          , u = Ja(a, h);
        return u ? ba({
            width: i,
            alignment: s,
            miterLimit: r,
            cap: o,
            join: d,
            pixelLine: f
        }, u) : null
    }
    var b9 = Object.defineProperty
      , B0 = Object.getOwnPropertySymbols
      , p9 = Object.prototype.hasOwnProperty
      , g9 = Object.prototype.propertyIsEnumerable
      , F0 = (a, e, t) => e in a ? b9(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , yi = (a, e) => {
        for (var t in e || (e = {}))
            p9.call(e, t) && F0(a, t, e[t]);
        if (B0)
            for (var t of B0(e))
                g9.call(e, t) && F0(a, t, e[t]);
        return a
    }
      , m9 = new Ce
      , D0 = new ie
      , yf = class Zt extends yt {
        constructor() {
            super(...arguments),
            this.uid = Fe("graphicsContext"),
            this.dirty = !0,
            this.batchMode = "auto",
            this.instructions = [],
            this._activePath = new Fi,
            this._transform = new ie,
            this._fillStyle = yi({}, Zt.defaultFillStyle),
            this._strokeStyle = yi({}, Zt.defaultStrokeStyle),
            this._stateStack = [],
            this._tick = 0,
            this._bounds = new qe,
            this._boundsDirty = !0
        }
        clone() {
            let e = new Zt;
            return e.batchMode = this.batchMode,
            e.instructions = this.instructions.slice(),
            e._activePath = this._activePath.clone(),
            e._transform = this._transform.clone(),
            e._fillStyle = yi({}, this._fillStyle),
            e._strokeStyle = yi({}, this._strokeStyle),
            e._stateStack = this._stateStack.slice(),
            e._bounds = this._bounds.clone(),
            e._boundsDirty = !0,
            e
        }
        get fillStyle() {
            return this._fillStyle
        }
        set fillStyle(e) {
            this._fillStyle = Ja(e, Zt.defaultFillStyle)
        }
        get strokeStyle() {
            return this._strokeStyle
        }
        set strokeStyle(e) {
            this._strokeStyle = un(e, Zt.defaultStrokeStyle)
        }
        setFillStyle(e) {
            return this._fillStyle = Ja(e, Zt.defaultFillStyle),
            this
        }
        setStrokeStyle(e) {
            return this._strokeStyle = Ja(e, Zt.defaultStrokeStyle),
            this
        }
        texture(e, t, i, s, r, o) {
            return this.instructions.push({
                action: "texture",
                data: {
                    image: e,
                    dx: i || 0,
                    dy: s || 0,
                    dw: r || e.frame.width,
                    dh: o || e.frame.height,
                    transform: this._transform.clone(),
                    alpha: this._fillStyle.alpha,
                    style: t ? Ee.shared.setValue(t).toNumber() : 16777215
                }
            }),
            this.onUpdate(),
            this
        }
        beginPath() {
            return this._activePath = new Fi,
            this
        }
        fill(e, t) {
            let i, s = this.instructions[this.instructions.length - 1];
            return this._tick === 0 && s && s.action === "stroke" ? i = s.data.path : i = this._activePath.clone(),
            i ? (e != null && (t !== void 0 && typeof e == "number" && (e = {
                color: e,
                alpha: t
            }),
            this._fillStyle = Ja(e, Zt.defaultFillStyle)),
            this.instructions.push({
                action: "fill",
                data: {
                    style: this.fillStyle,
                    path: i
                }
            }),
            this.onUpdate(),
            this._initNextPathLocation(),
            this._tick = 0,
            this) : this
        }
        _initNextPathLocation() {
            let {x: e, y: t} = this._activePath.getLastPoint(Ce.shared);
            this._activePath.clear(),
            this._activePath.moveTo(e, t)
        }
        stroke(e) {
            let t, i = this.instructions[this.instructions.length - 1];
            return this._tick === 0 && i && i.action === "fill" ? t = i.data.path : t = this._activePath.clone(),
            t ? (e != null && (this._strokeStyle = un(e, Zt.defaultStrokeStyle)),
            this.instructions.push({
                action: "stroke",
                data: {
                    style: this.strokeStyle,
                    path: t
                }
            }),
            this.onUpdate(),
            this._initNextPathLocation(),
            this._tick = 0,
            this) : this
        }
        cut() {
            for (let e = 0; e < 2; e++) {
                let t = this.instructions[this.instructions.length - 1 - e]
                  , i = this._activePath.clone();
                if (t && (t.action === "stroke" || t.action === "fill"))
                    if (t.data.hole)
                        t.data.hole.addPath(i);
                    else {
                        t.data.hole = i;
                        break
                    }
            }
            return this._initNextPathLocation(),
            this
        }
        arc(e, t, i, s, r, o) {
            this._tick++;
            let d = this._transform;
            return this._activePath.arc(d.a * e + d.c * t + d.tx, d.b * e + d.d * t + d.ty, i, s, r, o),
            this
        }
        arcTo(e, t, i, s, r) {
            this._tick++;
            let o = this._transform;
            return this._activePath.arcTo(o.a * e + o.c * t + o.tx, o.b * e + o.d * t + o.ty, o.a * i + o.c * s + o.tx, o.b * i + o.d * s + o.ty, r),
            this
        }
        arcToSvg(e, t, i, s, r, o, d) {
            this._tick++;
            let f = this._transform;
            return this._activePath.arcToSvg(e, t, i, s, r, f.a * o + f.c * d + f.tx, f.b * o + f.d * d + f.ty),
            this
        }
        bezierCurveTo(e, t, i, s, r, o, d) {
            this._tick++;
            let f = this._transform;
            return this._activePath.bezierCurveTo(f.a * e + f.c * t + f.tx, f.b * e + f.d * t + f.ty, f.a * i + f.c * s + f.tx, f.b * i + f.d * s + f.ty, f.a * r + f.c * o + f.tx, f.b * r + f.d * o + f.ty, d),
            this
        }
        closePath() {
            var e;
            return this._tick++,
            (e = this._activePath) == null || e.closePath(),
            this
        }
        ellipse(e, t, i, s) {
            return this._tick++,
            this._activePath.ellipse(e, t, i, s, this._transform.clone()),
            this
        }
        circle(e, t, i) {
            return this._tick++,
            this._activePath.circle(e, t, i, this._transform.clone()),
            this
        }
        path(e) {
            return this._tick++,
            this._activePath.addPath(e, this._transform.clone()),
            this
        }
        lineTo(e, t) {
            this._tick++;
            let i = this._transform;
            return this._activePath.lineTo(i.a * e + i.c * t + i.tx, i.b * e + i.d * t + i.ty),
            this
        }
        moveTo(e, t) {
            this._tick++;
            let i = this._transform
              , s = this._activePath.instructions
              , r = i.a * e + i.c * t + i.tx
              , o = i.b * e + i.d * t + i.ty;
            return s.length === 1 && s[0].action === "moveTo" ? (s[0].data[0] = r,
            s[0].data[1] = o,
            this) : (this._activePath.moveTo(r, o),
            this)
        }
        quadraticCurveTo(e, t, i, s, r) {
            this._tick++;
            let o = this._transform;
            return this._activePath.quadraticCurveTo(o.a * e + o.c * t + o.tx, o.b * e + o.d * t + o.ty, o.a * i + o.c * s + o.tx, o.b * i + o.d * s + o.ty, r),
            this
        }
        rect(e, t, i, s) {
            return this._tick++,
            this._activePath.rect(e, t, i, s, this._transform.clone()),
            this
        }
        roundRect(e, t, i, s, r) {
            return this._tick++,
            this._activePath.roundRect(e, t, i, s, r, this._transform.clone()),
            this
        }
        poly(e, t) {
            return this._tick++,
            this._activePath.poly(e, t, this._transform.clone()),
            this
        }
        regularPoly(e, t, i, s, r=0, o) {
            return this._tick++,
            this._activePath.regularPoly(e, t, i, s, r, o),
            this
        }
        roundPoly(e, t, i, s, r, o) {
            return this._tick++,
            this._activePath.roundPoly(e, t, i, s, r, o),
            this
        }
        roundShape(e, t, i, s) {
            return this._tick++,
            this._activePath.roundShape(e, t, i, s),
            this
        }
        filletRect(e, t, i, s, r) {
            return this._tick++,
            this._activePath.filletRect(e, t, i, s, r),
            this
        }
        chamferRect(e, t, i, s, r, o) {
            return this._tick++,
            this._activePath.chamferRect(e, t, i, s, r, o),
            this
        }
        star(e, t, i, s, r=0, o=0) {
            return this._tick++,
            this._activePath.star(e, t, i, s, r, o, this._transform.clone()),
            this
        }
        svg(e) {
            return this._tick++,
            o9(e, this),
            this
        }
        restore() {
            let e = this._stateStack.pop();
            return e && (this._transform = e.transform,
            this._fillStyle = e.fillStyle,
            this._strokeStyle = e.strokeStyle),
            this
        }
        save() {
            return this._stateStack.push({
                transform: this._transform.clone(),
                fillStyle: yi({}, this._fillStyle),
                strokeStyle: yi({}, this._strokeStyle)
            }),
            this
        }
        getTransform() {
            return this._transform
        }
        resetTransform() {
            return this._transform.identity(),
            this
        }
        rotate(e) {
            return this._transform.rotate(e),
            this
        }
        scale(e, t=e) {
            return this._transform.scale(e, t),
            this
        }
        setTransform(e, t, i, s, r, o) {
            return e instanceof ie ? (this._transform.set(e.a, e.b, e.c, e.d, e.tx, e.ty),
            this) : (this._transform.set(e, t, i, s, r, o),
            this)
        }
        transform(e, t, i, s, r, o) {
            return e instanceof ie ? (this._transform.append(e),
            this) : (D0.set(e, t, i, s, r, o),
            this._transform.append(D0),
            this)
        }
        translate(e, t=e) {
            return this._transform.translate(e, t),
            this
        }
        clear() {
            return this._activePath.clear(),
            this.instructions.length = 0,
            this.resetTransform(),
            this.onUpdate(),
            this
        }
        onUpdate() {
            this.dirty || (this.emit("update", this, 16),
            this.dirty = !0,
            this._boundsDirty = !0)
        }
        get bounds() {
            if (!this._boundsDirty)
                return this._bounds;
            let e = this._bounds;
            e.clear();
            for (let t = 0; t < this.instructions.length; t++) {
                let i = this.instructions[t]
                  , s = i.action;
                if (s === "fill") {
                    let r = i.data;
                    e.addBounds(r.path.bounds)
                } else if (s === "texture") {
                    let r = i.data;
                    e.addFrame(r.dx, r.dy, r.dx + r.dw, r.dy + r.dh, r.transform)
                }
                if (s === "stroke") {
                    let r = i.data
                      , o = r.style.alignment
                      , d = r.style.width * (1 - o)
                      , f = r.path.bounds;
                    e.addFrame(f.minX - d, f.minY - d, f.maxX + d, f.maxY + d)
                }
            }
            return e
        }
        containsPoint(e) {
            var t;
            if (!this.bounds.containsPoint(e.x, e.y))
                return !1;
            let i = this.instructions
              , s = !1;
            for (let r = 0; r < i.length; r++) {
                let o = i[r]
                  , d = o.data
                  , f = d.path;
                if (!o.action || !f)
                    continue;
                let h = d.style
                  , u = f.shapePath.shapePrimitives;
                for (let p = 0; p < u.length; p++) {
                    let x = u[p].shape;
                    if (!h || !x)
                        continue;
                    let _ = u[p].transform
                      , T = _ ? _.applyInverse(e, m9) : e;
                    if (o.action === "fill")
                        s = x.contains(T.x, T.y);
                    else {
                        let A = h;
                        s = x.strokeContains(T.x, T.y, A.width, A.alignment)
                    }
                    let S = d.hole;
                    if (S) {
                        let A = (t = S.shapePath) == null ? void 0 : t.shapePrimitives;
                        if (A)
                            for (let P = 0; P < A.length; P++)
                                A[P].shape.contains(T.x, T.y) && (s = !1)
                    }
                    if (s)
                        return !0
                }
            }
            return s
        }
        destroy(e=!1) {
            if (this._stateStack.length = 0,
            this._transform = null,
            this.emit("destroy", this),
            this.removeAllListeners(),
            typeof e == "boolean" ? e : e?.texture) {
                let t = typeof e == "boolean" ? e : e?.textureSource;
                this._fillStyle.texture && this._fillStyle.texture.destroy(t),
                this._strokeStyle.texture && this._strokeStyle.texture.destroy(t)
            }
            this._fillStyle = null,
            this._strokeStyle = null,
            this.instructions = null,
            this._activePath = null,
            this._bounds = null,
            this._stateStack = null,
            this.customShader = null,
            this._transform = null
        }
    }
    ;
    yf.defaultFillStyle = {
        color: 16777215,
        alpha: 1,
        texture: K.WHITE,
        matrix: null,
        fill: null
    },
    yf.defaultStrokeStyle = {
        width: 1,
        color: 16777215,
        alpha: 1,
        alignment: .5,
        miterLimit: 10,
        cap: "butt",
        join: "miter",
        texture: K.WHITE,
        matrix: null,
        fill: null,
        pixelLine: !1
    };
    var dt = yf
      , k0 = ["align", "breakWords", "cssOverrides", "fontVariant", "fontWeight", "leading", "letterSpacing", "lineHeight", "padding", "textBaseline", "trim", "whiteSpace", "wordWrap", "wordWrapWidth", "fontFamily", "fontStyle", "fontSize"];
    function pp(a) {
        let e = []
          , t = 0;
        for (let i = 0; i < k0.length; i++) {
            let s = `_${k0[i]}`;
            e[t++] = a[s]
        }
        return t = gp(a._fill, e, t),
        t = _9(a._stroke, e, t),
        t = x9(a.dropShadow, e, t),
        e.join("-")
    }
    function gp(a, e, t) {
        var i;
        return a && (e[t++] = a.color,
        e[t++] = a.alpha,
        e[t++] = (i = a.fill) == null ? void 0 : i.styleKey),
        t
    }
    function _9(a, e, t) {
        return a && (t = gp(a, e, t),
        e[t++] = a.width,
        e[t++] = a.alignment,
        e[t++] = a.cap,
        e[t++] = a.join,
        e[t++] = a.miterLimit),
        t
    }
    function x9(a, e, t) {
        return a && (e[t++] = a.alpha,
        e[t++] = a.angle,
        e[t++] = a.blur,
        e[t++] = a.distance,
        e[t++] = Ee.shared.setValue(a.color).toNumber()),
        t
    }
    var y9 = Object.defineProperty
      , v9 = Object.defineProperties
      , T9 = Object.getOwnPropertyDescriptors
      , U0 = Object.getOwnPropertySymbols
      , S9 = Object.prototype.hasOwnProperty
      , w9 = Object.prototype.propertyIsEnumerable
      , L0 = (a, e, t) => e in a ? y9(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , ut = (a, e) => {
        for (var t in e || (e = {}))
            S9.call(e, t) && L0(a, t, e[t]);
        if (U0)
            for (var t of U0(e))
                w9.call(e, t) && L0(a, t, e[t]);
        return a
    }
      , A9 = (a, e) => v9(a, T9(e))
      , vf = class wi extends yt {
        constructor(e={}) {
            super(),
            E9(e);
            let t = ut(ut({}, wi.defaultTextStyle), e);
            for (let i in t) {
                let s = i;
                this[s] = t[i]
            }
            this.update()
        }
        get align() {
            return this._align
        }
        set align(e) {
            this._align = e,
            this.update()
        }
        get breakWords() {
            return this._breakWords
        }
        set breakWords(e) {
            this._breakWords = e,
            this.update()
        }
        get dropShadow() {
            return this._dropShadow
        }
        set dropShadow(e) {
            e !== null && typeof e == "object" ? this._dropShadow = this._createProxy(ut(ut({}, wi.defaultDropShadow), e)) : this._dropShadow = e ? this._createProxy(ut({}, wi.defaultDropShadow)) : null,
            this.update()
        }
        get fontFamily() {
            return this._fontFamily
        }
        set fontFamily(e) {
            this._fontFamily = e,
            this.update()
        }
        get fontSize() {
            return this._fontSize
        }
        set fontSize(e) {
            typeof e == "string" ? this._fontSize = parseInt(e, 10) : this._fontSize = e,
            this.update()
        }
        get fontStyle() {
            return this._fontStyle
        }
        set fontStyle(e) {
            this._fontStyle = e.toLowerCase(),
            this.update()
        }
        get fontVariant() {
            return this._fontVariant
        }
        set fontVariant(e) {
            this._fontVariant = e,
            this.update()
        }
        get fontWeight() {
            return this._fontWeight
        }
        set fontWeight(e) {
            this._fontWeight = e,
            this.update()
        }
        get leading() {
            return this._leading
        }
        set leading(e) {
            this._leading = e,
            this.update()
        }
        get letterSpacing() {
            return this._letterSpacing
        }
        set letterSpacing(e) {
            this._letterSpacing = e,
            this.update()
        }
        get lineHeight() {
            return this._lineHeight
        }
        set lineHeight(e) {
            this._lineHeight = e,
            this.update()
        }
        get padding() {
            return this._padding
        }
        set padding(e) {
            this._padding = e,
            this.update()
        }
        get trim() {
            return this._trim
        }
        set trim(e) {
            this._trim = e,
            this.update()
        }
        get textBaseline() {
            return this._textBaseline
        }
        set textBaseline(e) {
            this._textBaseline = e,
            this.update()
        }
        get whiteSpace() {
            return this._whiteSpace
        }
        set whiteSpace(e) {
            this._whiteSpace = e,
            this.update()
        }
        get wordWrap() {
            return this._wordWrap
        }
        set wordWrap(e) {
            this._wordWrap = e,
            this.update()
        }
        get wordWrapWidth() {
            return this._wordWrapWidth
        }
        set wordWrapWidth(e) {
            this._wordWrapWidth = e,
            this.update()
        }
        get fill() {
            return this._originalFill
        }
        set fill(e) {
            e !== this._originalFill && (this._originalFill = e,
            this._isFillStyle(e) && (this._originalFill = this._createProxy(ut(ut({}, dt.defaultFillStyle), e), () => {
                this._fill = Ja(ut({}, this._originalFill), dt.defaultFillStyle)
            }
            )),
            this._fill = Ja(e === 0 ? "black" : e, dt.defaultFillStyle),
            this.update())
        }
        get stroke() {
            return this._originalStroke
        }
        set stroke(e) {
            e !== this._originalStroke && (this._originalStroke = e,
            this._isFillStyle(e) && (this._originalStroke = this._createProxy(ut(ut({}, dt.defaultStrokeStyle), e), () => {
                this._stroke = un(ut({}, this._originalStroke), dt.defaultStrokeStyle)
            }
            )),
            this._stroke = un(e, dt.defaultStrokeStyle),
            this.update())
        }
        _generateKey() {
            return this._styleKey = pp(this),
            this._styleKey
        }
        update() {
            this._styleKey = null,
            this.emit("update", this)
        }
        reset() {
            let e = wi.defaultTextStyle;
            for (let t in e)
                this[t] = e[t]
        }
        get styleKey() {
            return this._styleKey || this._generateKey()
        }
        clone() {
            return new wi({
                align: this.align,
                breakWords: this.breakWords,
                dropShadow: this._dropShadow ? ut({}, this._dropShadow) : null,
                fill: this._fill,
                fontFamily: this.fontFamily,
                fontSize: this.fontSize,
                fontStyle: this.fontStyle,
                fontVariant: this.fontVariant,
                fontWeight: this.fontWeight,
                leading: this.leading,
                letterSpacing: this.letterSpacing,
                lineHeight: this.lineHeight,
                padding: this.padding,
                stroke: this._stroke,
                textBaseline: this.textBaseline,
                whiteSpace: this.whiteSpace,
                wordWrap: this.wordWrap,
                wordWrapWidth: this.wordWrapWidth
            })
        }
        destroy(e=!1) {
            var t, i, s, r;
            if (this.removeAllListeners(),
            typeof e == "boolean" ? e : e?.texture) {
                let o = typeof e == "boolean" ? e : e?.textureSource;
                (t = this._fill) != null && t.texture && this._fill.texture.destroy(o),
                (i = this._originalFill) != null && i.texture && this._originalFill.texture.destroy(o),
                (s = this._stroke) != null && s.texture && this._stroke.texture.destroy(o),
                (r = this._originalStroke) != null && r.texture && this._originalStroke.texture.destroy(o)
            }
            this._fill = null,
            this._stroke = null,
            this.dropShadow = null,
            this._originalStroke = null,
            this._originalFill = null
        }
        _createProxy(e, t) {
            return new Proxy(e,{
                set: (i, s, r) => (i[s] = r,
                t?.(s, r),
                this.update(),
                !0)
            })
        }
        _isFillStyle(e) {
            return (e ?? null) !== null && !(Ee.isColorLike(e) || e instanceof Hs || e instanceof Bi)
        }
    }
    ;
    vf.defaultDropShadow = {
        alpha: 1,
        angle: Math.PI / 6,
        blur: 0,
        color: "black",
        distance: 5
    },
    vf.defaultTextStyle = {
        align: "left",
        breakWords: !1,
        dropShadow: null,
        fill: "black",
        fontFamily: "Arial",
        fontSize: 26,
        fontStyle: "normal",
        fontVariant: "normal",
        fontWeight: "normal",
        leading: 0,
        letterSpacing: 0,
        lineHeight: 0,
        padding: 0,
        stroke: null,
        textBaseline: "alphabetic",
        trim: !1,
        whiteSpace: "pre",
        wordWrap: !1,
        wordWrapWidth: 100
    };
    var Pt = vf;
    function E9(a) {
        var e, t, i, s, r;
        let o = a;
        if (typeof o.dropShadow == "boolean" && o.dropShadow) {
            let d = Pt.defaultDropShadow;
            a.dropShadow = {
                alpha: (e = o.dropShadowAlpha) != null ? e : d.alpha,
                angle: (t = o.dropShadowAngle) != null ? t : d.angle,
                blur: (i = o.dropShadowBlur) != null ? i : d.blur,
                color: (s = o.dropShadowColor) != null ? s : d.color,
                distance: (r = o.dropShadowDistance) != null ? r : d.distance
            }
        }
        if (o.strokeThickness !== void 0) {
            let d = o.stroke
              , f = {};
            if (Ee.isColorLike(d))
                f.color = d;
            else if (d instanceof Hs || d instanceof Bi)
                f.fill = d;
            else if (Object.hasOwnProperty.call(d, "color") || Object.hasOwnProperty.call(d, "fill"))
                f = d;
            else
                throw new Error("Invalid stroke value.");
            a.stroke = A9(ut({}, f), {
                width: o.strokeThickness
            })
        }
        if (Array.isArray(o.fillGradientStops)) {
            let d;
            a.fontSize == null ? a.fontSize = Pt.defaultTextStyle.fontSize : typeof a.fontSize == "string" ? d = parseInt(a.fontSize, 10) : d = a.fontSize;
            let f = new Hs(0,0,0,d * 1.7)
              , h = o.fillGradientStops.map(u => Ee.shared.setValue(u).toNumber());
            h.forEach( (u, p) => {
                let x = p / (h.length - 1);
                f.addColorStop(x, u)
            }
            ),
            a.fill = {
                fill: f
            }
        }
    }
    var P9 = new qe;
    function mp(a, e, t, i) {
        let s = P9;
        s.minX = 0,
        s.minY = 0,
        s.maxX = a.width / i | 0,
        s.maxY = a.height / i | 0;
        let r = ze.getOptimalTexture(s.width, s.height, i, !1);
        return r.source.uploadMethodId = "image",
        r.source.resource = a,
        r.source.alphaMode = "premultiply-alpha-on-upload",
        r.frame.width = e / i,
        r.frame.height = t / i,
        r.source.emit("update", r.source),
        r.updateUvs(),
        r
    }
    var R9 = ["serif", "sans-serif", "monospace", "cursive", "fantasy", "system-ui"];
    function bn(a) {
        let e = typeof a.fontSize == "number" ? `${a.fontSize}px` : a.fontSize
          , t = a.fontFamily;
        Array.isArray(a.fontFamily) || (t = a.fontFamily.split(","));
        for (let i = t.length - 1; i >= 0; i--) {
            let s = t[i].trim();
            !/([\"\'])[^\'\"]+\1/.test(s) && !R9.includes(s) && (s = `"${s}"`),
            t[i] = s
        }
        return `${a.fontStyle} ${a.fontVariant} ${a.fontWeight} ${e} ${t.join(",")}`
    }
    var sd = {
        willReadFrequently: !0
    }
      , jt = class ee {
        static get experimentalLetterSpacingSupported() {
            let e = ee._experimentalLetterSpacingSupported;
            if (e !== void 0) {
                let t = ve.get().getCanvasRenderingContext2D().prototype;
                e = ee._experimentalLetterSpacingSupported = "letterSpacing"in t || "textLetterSpacing"in t
            }
            return e
        }
        constructor(e, t, i, s, r, o, d, f, h) {
            this.text = e,
            this.style = t,
            this.width = i,
            this.height = s,
            this.lines = r,
            this.lineWidths = o,
            this.lineHeight = d,
            this.maxLineWidth = f,
            this.fontProperties = h
        }
        static measureText(e=" ", t, i=ee._canvas, s=t.wordWrap) {
            var r;
            let o = `${e}:${t.styleKey}`;
            if (ee._measurementCache[o])
                return ee._measurementCache[o];
            let d = bn(t)
              , f = ee.measureFont(d);
            f.fontSize === 0 && (f.fontSize = t.fontSize,
            f.ascent = t.fontSize);
            let h = ee.__context;
            h.font = d;
            let u = (s ? ee._wordWrap(e, t, i) : e).split(/(?:\r\n|\r|\n)/)
              , p = new Array(u.length)
              , x = 0;
            for (let P = 0; P < u.length; P++) {
                let O = ee._measureText(u[P], t.letterSpacing, h);
                p[P] = O,
                x = Math.max(x, O)
            }
            let _ = ((r = t._stroke) == null ? void 0 : r.width) || 0
              , T = x + _;
            t.dropShadow && (T += t.dropShadow.distance);
            let S = t.lineHeight || f.fontSize
              , A = Math.max(S, f.fontSize + _) + (u.length - 1) * (S + t.leading);
            return t.dropShadow && (A += t.dropShadow.distance),
            new ee(e,t,T,A,u,p,S + t.leading,x,f)
        }
        static _measureText(e, t, i) {
            let s = !1;
            ee.experimentalLetterSpacingSupported && (ee.experimentalLetterSpacing ? (i.letterSpacing = `${t}px`,
            i.textLetterSpacing = `${t}px`,
            s = !0) : (i.letterSpacing = "0px",
            i.textLetterSpacing = "0px"));
            let r = i.measureText(e)
              , o = r.width
              , d = -r.actualBoundingBoxLeft
              , f = r.actualBoundingBoxRight - d;
            if (o > 0)
                if (s)
                    o -= t,
                    f -= t;
                else {
                    let h = (ee.graphemeSegmenter(e).length - 1) * t;
                    o += h,
                    f += h
                }
            return Math.max(o, f)
        }
        static _wordWrap(e, t, i=ee._canvas) {
            let s = i.getContext("2d", sd)
              , r = 0
              , o = ""
              , d = ""
              , f = Object.create(null)
              , {letterSpacing: h, whiteSpace: u} = t
              , p = ee._collapseSpaces(u)
              , x = ee._collapseNewlines(u)
              , _ = !p
              , T = t.wordWrapWidth + h
              , S = ee._tokenize(e);
            for (let A = 0; A < S.length; A++) {
                let P = S[A];
                if (ee._isNewline(P)) {
                    if (!x) {
                        d += ee._addLine(o),
                        _ = !p,
                        o = "",
                        r = 0;
                        continue
                    }
                    P = " "
                }
                if (p) {
                    let F = ee.isBreakingSpace(P)
                      , k = ee.isBreakingSpace(o[o.length - 1]);
                    if (F && k)
                        continue
                }
                let O = ee._getFromCache(P, h, f, s);
                if (O > T)
                    if (o !== "" && (d += ee._addLine(o),
                    o = "",
                    r = 0),
                    ee.canBreakWords(P, t.breakWords)) {
                        let F = ee.wordWrapSplit(P);
                        for (let k = 0; k < F.length; k++) {
                            let V = F[k]
                              , L = V
                              , X = 1;
                            for (; F[k + X]; ) {
                                let ce = F[k + X];
                                if (!ee.canBreakChars(L, ce, P, k, t.breakWords))
                                    V += ce;
                                else
                                    break;
                                L = ce,
                                X++
                            }
                            k += X - 1;
                            let se = ee._getFromCache(V, h, f, s);
                            se + r > T && (d += ee._addLine(o),
                            _ = !1,
                            o = "",
                            r = 0),
                            o += V,
                            r += se
                        }
                    } else {
                        o.length > 0 && (d += ee._addLine(o),
                        o = "",
                        r = 0);
                        let F = A === S.length - 1;
                        d += ee._addLine(P, !F),
                        _ = !1,
                        o = "",
                        r = 0
                    }
                else
                    O + r > T && (_ = !1,
                    d += ee._addLine(o),
                    o = "",
                    r = 0),
                    (o.length > 0 || !ee.isBreakingSpace(P) || _) && (o += P,
                    r += O)
            }
            return d += ee._addLine(o, !1),
            d
        }
        static _addLine(e, t=!0) {
            return e = ee._trimRight(e),
            e = t ? `${e}
` : e,
            e
        }
        static _getFromCache(e, t, i, s) {
            let r = i[e];
            return typeof r != "number" && (r = ee._measureText(e, t, s) + t,
            i[e] = r),
            r
        }
        static _collapseSpaces(e) {
            return e === "normal" || e === "pre-line"
        }
        static _collapseNewlines(e) {
            return e === "normal"
        }
        static _trimRight(e) {
            if (typeof e != "string")
                return "";
            for (let t = e.length - 1; t >= 0; t--) {
                let i = e[t];
                if (!ee.isBreakingSpace(i))
                    break;
                e = e.slice(0, -1)
            }
            return e
        }
        static _isNewline(e) {
            return typeof e != "string" ? !1 : ee._newlines.includes(e.charCodeAt(0))
        }
        static isBreakingSpace(e, t) {
            return typeof e != "string" ? !1 : ee._breakingSpaces.includes(e.charCodeAt(0))
        }
        static _tokenize(e) {
            let t = []
              , i = "";
            if (typeof e != "string")
                return t;
            for (let s = 0; s < e.length; s++) {
                let r = e[s]
                  , o = e[s + 1];
                if (ee.isBreakingSpace(r, o) || ee._isNewline(r)) {
                    i !== "" && (t.push(i),
                    i = ""),
                    t.push(r);
                    continue
                }
                i += r
            }
            return i !== "" && t.push(i),
            t
        }
        static canBreakWords(e, t) {
            return t
        }
        static canBreakChars(e, t, i, s, r) {
            return !0
        }
        static wordWrapSplit(e) {
            return ee.graphemeSegmenter(e)
        }
        static measureFont(e) {
            if (ee._fonts[e])
                return ee._fonts[e];
            let t = ee._context;
            t.font = e;
            let i = t.measureText(ee.METRICS_STRING + ee.BASELINE_SYMBOL)
              , s = {
                ascent: i.actualBoundingBoxAscent,
                descent: i.actualBoundingBoxDescent,
                fontSize: i.actualBoundingBoxAscent + i.actualBoundingBoxDescent
            };
            return ee._fonts[e] = s,
            s
        }
        static clearMetrics(e="") {
            e ? delete ee._fonts[e] : ee._fonts = {}
        }
        static get _canvas() {
            if (!ee.__canvas) {
                let e;
                try {
                    let t = new OffscreenCanvas(0,0)
                      , i = t.getContext("2d", sd);
                    if (i != null && i.measureText)
                        return ee.__canvas = t,
                        t;
                    e = ve.get().createCanvas()
                } catch {
                    e = ve.get().createCanvas()
                }
                e.width = e.height = 10,
                ee.__canvas = e
            }
            return ee.__canvas
        }
        static get _context() {
            return ee.__context || (ee.__context = ee._canvas.getContext("2d", sd)),
            ee.__context
        }
    }
    ;
    jt.METRICS_STRING = "|\xC9q\xC5",
    jt.BASELINE_SYMBOL = "M",
    jt.BASELINE_MULTIPLIER = 1.4,
    jt.HEIGHT_MULTIPLIER = 2,
    jt.graphemeSegmenter = ( () => {
        if (typeof Intl?.Segmenter == "function") {
            let a = new Intl.Segmenter;
            return e => [...a.segment(e)].map(t => t.segment)
        }
        return a => [...a]
    }
    )(),
    jt.experimentalLetterSpacing = !1,
    jt._fonts = {},
    jt._newlines = [10, 13],
    jt._breakingSpaces = [9, 32, 8192, 8193, 8194, 8195, 8196, 8197, 8198, 8200, 8201, 8202, 8287, 12288],
    jt._measurementCache = {};
    var da = jt;
    function pn(a, e) {
        var t;
        if (a.texture === K.WHITE && !a.fill)
            return Ee.shared.setValue(a.color).setAlpha((t = a.alpha) != null ? t : 1).toHexa();
        if (a.fill) {
            if (a.fill instanceof Bi) {
                let i = a.fill
                  , s = e.createPattern(i.texture.source.resource, "repeat")
                  , r = i.transform.copyTo(ie.shared);
                return r.scale(i.texture.frame.width, i.texture.frame.height),
                s.setTransform(r),
                s
            } else if (a.fill instanceof Hs) {
                let i = a.fill;
                if (i.type === "linear") {
                    let s = e.createLinearGradient(i.x0, i.y0, i.x1, i.y1);
                    return i.gradientStops.forEach(r => {
                        s.addColorStop(r.offset, Ee.shared.setValue(r.color).toHex())
                    }
                    ),
                    s
                }
            }
        } else {
            let i = e.createPattern(a.texture.source.resource, "repeat")
              , s = a.matrix.copyTo(ie.shared);
            return s.scale(a.texture.frame.width, a.texture.frame.height),
            i.setTransform(s),
            i
        }
        return "red"
    }
    var gn = class {
        constructor(e) {
            this._activeTextures = {},
            this._renderer = e
        }
        getTextureSize(e, t, i) {
            let s = da.measureText(e || " ", i)
              , r = Math.ceil(Math.ceil(Math.max(1, s.width) + i.padding * 2) * t)
              , o = Math.ceil(Math.ceil(Math.max(1, s.height) + i.padding * 2) * t);
            return r = Math.ceil(r - 1e-6),
            o = Math.ceil(o - 1e-6),
            r = Oi(r),
            o = Oi(o),
            {
                width: r,
                height: o
            }
        }
        getTexture(e, t, i, s) {
            typeof e == "string" && (e = {
                text: e,
                style: i,
                resolution: t
            }),
            e.style instanceof Pt || (e.style = new Pt(e.style));
            let {texture: r, canvasAndContext: o} = this.createTextureAndCanvas(e);
            return this._renderer.texture.initSource(r._source),
            ha.returnCanvasAndContext(o),
            r
        }
        createTextureAndCanvas(e) {
            var t;
            let {text: i, style: s} = e
              , r = (t = e.resolution) != null ? t : this._renderer.resolution
              , o = da.measureText(i || " ", s)
              , d = Math.ceil(Math.ceil(Math.max(1, o.width) + s.padding * 2) * r)
              , f = Math.ceil(Math.ceil(Math.max(1, o.height) + s.padding * 2) * r)
              , h = ha.getOptimalCanvasAndContext(d, f)
              , {canvas: u} = h;
            this.renderTextToCanvas(i, s, r, h);
            let p = mp(u, d, f, r);
            if (s.trim) {
                let x = G7(u, r);
                p.frame.copyFrom(x),
                p.updateUvs()
            }
            return {
                texture: p,
                canvasAndContext: h
            }
        }
        getManagedTexture(e) {
            e._resolution = e._autoResolution ? this._renderer.resolution : e.resolution;
            let t = e._getKey();
            if (this._activeTextures[t])
                return this._increaseReferenceCount(t),
                this._activeTextures[t].texture;
            let {texture: i, canvasAndContext: s} = this.createTextureAndCanvas(e);
            return this._activeTextures[t] = {
                canvasAndContext: s,
                texture: i,
                usageCount: 1
            },
            i
        }
        _increaseReferenceCount(e) {
            this._activeTextures[e].usageCount++
        }
        decreaseReferenceCount(e) {
            let t = this._activeTextures[e];
            if (t.usageCount--,
            t.usageCount === 0) {
                ha.returnCanvasAndContext(t.canvasAndContext),
                ze.returnTexture(t.texture);
                let i = t.texture.source;
                i.resource = null,
                i.uploadMethodId = "unknown",
                i.alphaMode = "no-premultiply-alpha",
                this._activeTextures[e] = null
            }
        }
        getReferenceCount(e) {
            return this._activeTextures[e].usageCount
        }
        renderTextToCanvas(e, t, i, s) {
            var r, o, d, f, h;
            let {canvas: u, context: p} = s
              , x = bn(t)
              , _ = da.measureText(e || " ", t)
              , T = _.lines
              , S = _.lineHeight
              , A = _.lineWidths
              , P = _.maxLineWidth
              , O = _.fontProperties
              , F = u.height;
            if (p.resetTransform(),
            p.scale(i, i),
            p.textBaseline = t.textBaseline,
            (r = t._stroke) != null && r.width) {
                let X = t._stroke;
                p.lineWidth = X.width,
                p.miterLimit = X.miterLimit,
                p.lineJoin = X.join,
                p.lineCap = X.cap
            }
            p.font = x;
            let k, V, L = t.dropShadow ? 2 : 1;
            for (let X = 0; X < L; ++X) {
                let se = t.dropShadow && X === 0
                  , ce = se ? Math.ceil(Math.max(1, F) + t.padding * 2) : 0
                  , Z = ce * i;
                if (se) {
                    p.fillStyle = "black",
                    p.strokeStyle = "black";
                    let te = t.dropShadow
                      , Ge = te.color
                      , Tt = te.alpha;
                    p.shadowColor = Ee.shared.setValue(Ge).setAlpha(Tt).toRgbaString();
                    let ne = te.blur * i
                      , de = te.distance * i;
                    p.shadowBlur = ne,
                    p.shadowOffsetX = Math.cos(te.angle) * de,
                    p.shadowOffsetY = Math.sin(te.angle) * de + Z
                } else
                    p.fillStyle = t._fill ? pn(t._fill, p) : null,
                    (o = t._stroke) != null && o.width && (p.strokeStyle = pn(t._stroke, p)),
                    p.shadowColor = "black";
                let q = (S - O.fontSize) / 2;
                S - O.fontSize < 0 && (q = 0);
                let re = (f = (d = t._stroke) == null ? void 0 : d.width) != null ? f : 0;
                for (let te = 0; te < T.length; te++)
                    k = re / 2,
                    V = re / 2 + te * S + O.ascent + q,
                    t.align === "right" ? k += P - A[te] : t.align === "center" && (k += (P - A[te]) / 2),
                    (h = t._stroke) != null && h.width && this._drawLetterSpacing(T[te], t, s, k + t.padding, V + t.padding - ce, !0),
                    t._fill !== void 0 && this._drawLetterSpacing(T[te], t, s, k + t.padding, V + t.padding - ce)
            }
        }
        _drawLetterSpacing(e, t, i, s, r, o=!1) {
            let {context: d} = i
              , f = t.letterSpacing
              , h = !1;
            if (da.experimentalLetterSpacingSupported && (da.experimentalLetterSpacing ? (d.letterSpacing = `${f}px`,
            d.textLetterSpacing = `${f}px`,
            h = !0) : (d.letterSpacing = "0px",
            d.textLetterSpacing = "0px")),
            f === 0 || h) {
                o ? d.strokeText(e, s, r) : d.fillText(e, s, r);
                return
            }
            let u = s
              , p = da.graphemeSegmenter(e)
              , x = d.measureText(e).width
              , _ = 0;
            for (let T = 0; T < p.length; ++T) {
                let S = p[T];
                o ? d.strokeText(S, u, r) : d.fillText(S, u, r);
                let A = "";
                for (let P = T + 1; P < p.length; ++P)
                    A += p[P];
                _ = d.measureText(A).width,
                u += x - _ + f,
                x = _
            }
        }
        destroy() {
            this._activeTextures = null
        }
    }
    ;
    gn.extension = {
        type: [B.WebGLSystem, B.WebGPUSystem, B.CanvasSystem],
        name: "canvasText"
    },
    pe.add(gn),
    pe.add(hn);
    var M9 = Object.defineProperty, mn = Object.getOwnPropertySymbols, _p = Object.prototype.hasOwnProperty, xp = Object.prototype.propertyIsEnumerable, N0 = (a, e, t) => e in a ? M9(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t, C9 = (a, e) => {
        for (var t in e || (e = {}))
            _p.call(e, t) && N0(a, t, e[t]);
        if (mn)
            for (var t of mn(e))
                xp.call(e, t) && N0(a, t, e[t]);
        return a
    }
    , O9 = (a, e) => {
        var t = {};
        for (var i in a)
            _p.call(a, i) && e.indexOf(i) < 0 && (t[i] = a[i]);
        if (a != null && mn)
            for (var i of mn(a))
                e.indexOf(i) < 0 && xp.call(a, i) && (t[i] = a[i]);
        return t
    }
    , Ve = class a extends ua {
        constructor(e) {
            e instanceof dt && (e = {
                context: e
            });
            let t = e || {}
              , {context: i, roundPixels: s} = t
              , r = O9(t, ["context", "roundPixels"]);
            super(C9({
                label: "Graphics"
            }, r)),
            this.renderPipeId = "graphics",
            i ? this._context = i : this._context = this._ownedContext = new dt,
            this._context.on("update", this.onViewUpdate, this),
            this.allowChildren = !1,
            this.roundPixels = s ?? !1
        }
        set context(e) {
            e !== this._context && (this._context.off("update", this.onViewUpdate, this),
            this._context = e,
            this._context.on("update", this.onViewUpdate, this),
            this.onViewUpdate())
        }
        get context() {
            return this._context
        }
        get bounds() {
            return this._context.bounds
        }
        updateBounds() {}
        containsPoint(e) {
            return this._context.containsPoint(e)
        }
        destroy(e) {
            this._ownedContext && !e ? this._ownedContext.destroy(e) : (e === !0 || e?.context === !0) && this._context.destroy(e),
            this._ownedContext = null,
            this._context = null,
            super.destroy(e)
        }
        _callContextMethod(e, t) {
            return this.context[e](...t),
            this
        }
        setFillStyle(...e) {
            return this._callContextMethod("setFillStyle", e)
        }
        setStrokeStyle(...e) {
            return this._callContextMethod("setStrokeStyle", e)
        }
        fill(...e) {
            return this._callContextMethod("fill", e)
        }
        stroke(...e) {
            return this._callContextMethod("stroke", e)
        }
        texture(...e) {
            return this._callContextMethod("texture", e)
        }
        beginPath() {
            return this._callContextMethod("beginPath", [])
        }
        cut() {
            return this._callContextMethod("cut", [])
        }
        arc(...e) {
            return this._callContextMethod("arc", e)
        }
        arcTo(...e) {
            return this._callContextMethod("arcTo", e)
        }
        arcToSvg(...e) {
            return this._callContextMethod("arcToSvg", e)
        }
        bezierCurveTo(...e) {
            return this._callContextMethod("bezierCurveTo", e)
        }
        closePath() {
            return this._callContextMethod("closePath", [])
        }
        ellipse(...e) {
            return this._callContextMethod("ellipse", e)
        }
        circle(...e) {
            return this._callContextMethod("circle", e)
        }
        path(...e) {
            return this._callContextMethod("path", e)
        }
        lineTo(...e) {
            return this._callContextMethod("lineTo", e)
        }
        moveTo(...e) {
            return this._callContextMethod("moveTo", e)
        }
        quadraticCurveTo(...e) {
            return this._callContextMethod("quadraticCurveTo", e)
        }
        rect(...e) {
            return this._callContextMethod("rect", e)
        }
        roundRect(...e) {
            return this._callContextMethod("roundRect", e)
        }
        poly(...e) {
            return this._callContextMethod("poly", e)
        }
        regularPoly(...e) {
            return this._callContextMethod("regularPoly", e)
        }
        roundPoly(...e) {
            return this._callContextMethod("roundPoly", e)
        }
        roundShape(...e) {
            return this._callContextMethod("roundShape", e)
        }
        filletRect(...e) {
            return this._callContextMethod("filletRect", e)
        }
        chamferRect(...e) {
            return this._callContextMethod("chamferRect", e)
        }
        star(...e) {
            return this._callContextMethod("star", e)
        }
        svg(...e) {
            return this._callContextMethod("svg", e)
        }
        restore(...e) {
            return this._callContextMethod("restore", e)
        }
        save() {
            return this._callContextMethod("save", [])
        }
        getTransform() {
            return this.context.getTransform()
        }
        resetTransform() {
            return this._callContextMethod("resetTransform", [])
        }
        rotateTransform(...e) {
            return this._callContextMethod("rotate", e)
        }
        scaleTransform(...e) {
            return this._callContextMethod("scale", e)
        }
        setTransform(...e) {
            return this._callContextMethod("setTransform", e)
        }
        transform(...e) {
            return this._callContextMethod("transform", e)
        }
        translateTransform(...e) {
            return this._callContextMethod("translate", e)
        }
        clear() {
            return this._callContextMethod("clear", [])
        }
        get fillStyle() {
            return this._context.fillStyle
        }
        set fillStyle(e) {
            this._context.fillStyle = e
        }
        get strokeStyle() {
            return this._context.strokeStyle
        }
        set strokeStyle(e) {
            this._context.strokeStyle = e
        }
        clone(e=!1) {
            return e ? new a(this._context.clone()) : (this._ownedContext = null,
            new a(this._context))
        }
        lineStyle(e, t, i) {
            let s = {};
            return e && (s.width = e),
            t && (s.color = t),
            i && (s.alpha = i),
            this.context.strokeStyle = s,
            this
        }
        beginFill(e, t) {
            let i = {};
            return e !== void 0 && (i.color = e),
            t !== void 0 && (i.alpha = t),
            this.context.fillStyle = i,
            this
        }
        endFill() {
            this.context.fill();
            let e = this.context.strokeStyle;
            return (e.width !== dt.defaultStrokeStyle.width || e.color !== dt.defaultStrokeStyle.color || e.alpha !== dt.defaultStrokeStyle.alpha) && this.context.stroke(),
            this
        }
        drawCircle(...e) {
            return this._callContextMethod("circle", e)
        }
        drawEllipse(...e) {
            return this._callContextMethod("ellipse", e)
        }
        drawPolygon(...e) {
            return this._callContextMethod("poly", e)
        }
        drawRect(...e) {
            return this._callContextMethod("rect", e)
        }
        drawRoundedRect(...e) {
            return this._callContextMethod("roundRect", e)
        }
        drawStar(...e) {
            return this._callContextMethod("star", e)
        }
    }
    , I9 = {
        name: "local-uniform-msdf-bit",
        vertex: {
            header: `
struct LocalUniforms {
uColor:vec4<f32>,
uTransformMatrix:mat3x3<f32>,
uDistance: f32,
uRound:f32,
}

@group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;
`,
            main: `
vColor *= localUniforms.uColor;
modelMatrix *= localUniforms.uTransformMatrix;
`,
            end: `
if(localUniforms.uRound == 1)
{
vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
}
`
        },
        fragment: {
            header: `
struct LocalUniforms {
uColor:vec4<f32>,
uTransformMatrix:mat3x3<f32>,
uDistance: f32
}

@group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;
`,
            main: ` 
outColor = vec4<f32>(calculateMSDFAlpha(outColor, localUniforms.uColor, localUniforms.uDistance));
`
        }
    }, G9 = {
        name: "local-uniform-msdf-bit",
        vertex: {
            header: `
uniform mat3 uTransformMatrix;
uniform vec4 uColor;
uniform float uRound;
`,
            main: `
vColor *= uColor;
modelMatrix *= uTransformMatrix;
`,
            end: `
if(uRound == 1.)
{
gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
}
`
        },
        fragment: {
            header: `
uniform float uDistance;
`,
            main: ` 
outColor = vec4(calculateMSDFAlpha(outColor, vColor, uDistance));
`
        }
    }, B9 = {
        name: "msdf-bit",
        fragment: {
            header: `
fn calculateMSDFAlpha(msdfColor:vec4<f32>, shapeColor:vec4<f32>, distance:f32) -> f32 {

// MSDF
var median = msdfColor.r + msdfColor.g + msdfColor.b -
min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -
max(msdfColor.r, max(msdfColor.g, msdfColor.b));

// SDF
median = min(median, msdfColor.a);

var screenPxDistance = distance * (median - 0.5);
var alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);
if (median < 0.01) {
alpha = 0.0;
} else if (median > 0.99) {
alpha = 1.0;
}

// Gamma correction for coverage-like alpha
var luma: f32 = dot(shapeColor.rgb, vec3<f32>(0.299, 0.587, 0.114));
var gamma: f32 = mix(1.0, 1.0 / 2.2, luma);
var coverage: f32 = pow(shapeColor.a * alpha, gamma);

return coverage;

}
`
        }
    }, F9 = {
        name: "msdf-bit",
        fragment: {
            header: `
float calculateMSDFAlpha(vec4 msdfColor, vec4 shapeColor, float distance) {

// MSDF
float median = msdfColor.r + msdfColor.g + msdfColor.b -
            min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -
            max(msdfColor.r, max(msdfColor.g, msdfColor.b));

// SDF
median = min(median, msdfColor.a);

float screenPxDistance = distance * (median - 0.5);
float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);

if (median < 0.01) {
alpha = 0.0;
} else if (median > 0.99) {
alpha = 1.0;
}

// Gamma correction for coverage-like alpha
float luma = dot(shapeColor.rgb, vec3(0.299, 0.587, 0.114));
float gamma = mix(1.0, 1.0 / 2.2, luma);
float coverage = pow(shapeColor.a * alpha, gamma);  

return coverage;
}
`
        }
    }, rd, nd, Tf = class extends ft {
        constructor() {
            let e = new Je({
                uColor: {
                    value: new Float32Array([1, 1, 1, 1]),
                    type: "vec4<f32>"
                },
                uTransformMatrix: {
                    value: new ie,
                    type: "mat3x3<f32>"
                },
                uDistance: {
                    value: 4,
                    type: "f32"
                },
                uRound: {
                    value: 0,
                    type: "f32"
                }
            })
              , t = ki();
            rd != null || (rd = $s({
                name: "sdf-shader",
                bits: [wh, Eh(t), I9, B9, qs]
            })),
            nd != null || (nd = Ks({
                name: "sdf-shader",
                bits: [Ah, Ph(t), G9, F9, Zs]
            })),
            super({
                glProgram: nd,
                gpuProgram: rd,
                resources: {
                    localUniforms: e,
                    batchSamplers: Rh(t)
                }
            })
        }
    }
    , od = 0, j0 = 500;
    function ta(...a) {
        od !== j0 && od++
    }
    var _n = class extends yt {
        constructor() {
            super(...arguments),
            this.chars = Object.create(null),
            this.lineHeight = 0,
            this.fontFamily = "",
            this.fontMetrics = {
                fontSize: 0,
                ascent: 0,
                descent: 0
            },
            this.baseLineOffset = 0,
            this.distanceField = {
                type: "none",
                range: 0
            },
            this.pages = [],
            this.applyFillAsTint = !0,
            this.baseMeasurementFontSize = 100,
            this.baseRenderedFontSize = 100
        }
        get font() {
            return this.fontFamily
        }
        get pageTextures() {
            return this.pages
        }
        get size() {
            return this.fontMetrics.fontSize
        }
        get distanceFieldRange() {
            return this.distanceField.range
        }
        get distanceFieldType() {
            return this.distanceField.type
        }
        destroy(e=!1) {
            var t;
            this.emit("destroy", this),
            this.removeAllListeners();
            for (let i in this.chars)
                (t = this.chars[i].texture) == null || t.destroy();
            this.chars = null,
            e && (this.pages.forEach(i => i.texture.destroy(!0)),
            this.pages = null)
        }
    }
    ;
    function yp(a) {
        if (a === "")
            return [];
        typeof a == "string" && (a = [a]);
        let e = [];
        for (let t = 0, i = a.length; t < i; t++) {
            let s = a[t];
            if (Array.isArray(s)) {
                if (s.length !== 2)
                    throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${s.length}.`);
                if (s[0].length === 0 || s[1].length === 0)
                    throw new Error("[BitmapFont]: Invalid character delimiter.");
                let r = s[0].charCodeAt(0)
                  , o = s[1].charCodeAt(0);
                if (o < r)
                    throw new Error("[BitmapFont]: Invalid character range.");
                for (let d = r, f = o; d <= f; d++)
                    e.push(String.fromCharCode(d))
            } else
                e.push(...Array.from(s))
        }
        if (e.length === 0)
            throw new Error("[BitmapFont]: Empty set when resolving characters.");
        return e
    }
    var D9 = Object.defineProperty
      , X0 = Object.getOwnPropertySymbols
      , k9 = Object.prototype.hasOwnProperty
      , U9 = Object.prototype.propertyIsEnumerable
      , H0 = (a, e, t) => e in a ? D9(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , z0 = (a, e) => {
        for (var t in e || (e = {}))
            k9.call(e, t) && H0(a, t, e[t]);
        if (X0)
            for (var t of X0(e))
                U9.call(e, t) && H0(a, t, e[t]);
        return a
    }
      , vp = class Tp extends _n {
        constructor(e) {
            var t, i, s;
            super(),
            this.resolution = 1,
            this.pages = [],
            this._padding = 0,
            this._measureCache = Object.create(null),
            this._currentChars = [],
            this._currentX = 0,
            this._currentY = 0,
            this._currentPageIndex = -1,
            this._skipKerning = !1;
            let r = z0(z0({}, Tp.defaultOptions), e);
            this._textureSize = r.textureSize,
            this._mipmap = r.mipmap;
            let o = r.style.clone();
            r.overrideFill && (o._fill.color = 16777215,
            o._fill.alpha = 1,
            o._fill.texture = K.WHITE,
            o._fill.fill = null),
            this.applyFillAsTint = r.overrideFill;
            let d = o.fontSize;
            o.fontSize = this.baseMeasurementFontSize;
            let f = bn(o);
            r.overrideSize ? o._stroke && (o._stroke.width *= this.baseRenderedFontSize / d) : o.fontSize = this.baseRenderedFontSize = d,
            this._style = o,
            this._skipKerning = (t = r.skipKerning) != null ? t : !1,
            this.resolution = (i = r.resolution) != null ? i : 1,
            this._padding = (s = r.padding) != null ? s : 4,
            this.fontMetrics = da.measureFont(f),
            this.lineHeight = o.lineHeight || this.fontMetrics.fontSize || o.fontSize
        }
        ensureCharacters(e) {
            var t, i, s, r;
            let o = yp(e).filter(k => !this._currentChars.includes(k)).filter( (k, V, L) => L.indexOf(k) === V);
            if (!o.length)
                return;
            this._currentChars = [...this._currentChars, ...o];
            let d;
            this._currentPageIndex === -1 ? d = this._nextPage() : d = this.pages[this._currentPageIndex];
            let {canvas: f, context: h} = d.canvasAndContext
              , u = d.texture.source
              , p = this._style
              , x = this._currentX
              , _ = this._currentY
              , T = this.baseRenderedFontSize / this.baseMeasurementFontSize
              , S = this._padding * T
              , A = 0
              , P = !1
              , O = f.width / this.resolution
              , F = f.height / this.resolution;
            for (let k = 0; k < o.length; k++) {
                let V = o[k]
                  , L = da.measureText(V, p, f, !1);
                L.lineHeight = L.height;
                let X = L.width * T
                  , se = Math.ceil((p.fontStyle === "italic" ? 2 : 1) * X)
                  , ce = L.height * T
                  , Z = se + S * 2
                  , q = ce + S * 2;
                if (P = !1,
                V !== `
` && V !== "\r" && V !== "	" && V !== " " && (P = !0,
                A = Math.ceil(Math.max(q, A))),
                x + Z > O && (_ += A,
                A = q,
                x = 0,
                _ + A > F)) {
                    u.update();
                    let te = this._nextPage();
                    f = te.canvasAndContext.canvas,
                    h = te.canvasAndContext.context,
                    u = te.texture.source,
                    _ = 0
                }
                let re = X / T - ((i = (t = p.dropShadow) == null ? void 0 : t.distance) != null ? i : 0) - ((r = (s = p._stroke) == null ? void 0 : s.width) != null ? r : 0);
                if (this.chars[V] = {
                    id: V.codePointAt(0),
                    xOffset: -this._padding,
                    yOffset: -this._padding,
                    xAdvance: re,
                    kerning: {}
                },
                P) {
                    this._drawGlyph(h, L, x + S, _ + S, T, p);
                    let te = u.width * T
                      , Ge = u.height * T
                      , Tt = new Pe(x / te * u.width,_ / Ge * u.height,Z / te * u.width,q / Ge * u.height);
                    this.chars[V].texture = new K({
                        source: u,
                        frame: Tt
                    }),
                    x += Math.ceil(Z)
                }
            }
            u.update(),
            this._currentX = x,
            this._currentY = _,
            this._skipKerning && this._applyKerning(o, h)
        }
        get pageTextures() {
            return this.pages
        }
        _applyKerning(e, t) {
            let i = this._measureCache;
            for (let s = 0; s < e.length; s++) {
                let r = e[s];
                for (let o = 0; o < this._currentChars.length; o++) {
                    let d = this._currentChars[o]
                      , f = i[r];
                    f || (f = i[r] = t.measureText(r).width);
                    let h = i[d];
                    h || (h = i[d] = t.measureText(d).width);
                    let u = t.measureText(r + d).width
                      , p = u - (f + h);
                    p && (this.chars[r].kerning[d] = p),
                    u = t.measureText(r + d).width,
                    p = u - (f + h),
                    p && (this.chars[d].kerning[r] = p)
                }
            }
        }
        _nextPage() {
            this._currentPageIndex++;
            let e = this.resolution
              , t = ha.getOptimalCanvasAndContext(this._textureSize, this._textureSize, e);
            this._setupContext(t.context, this._style, e);
            let i = e * (this.baseRenderedFontSize / this.baseMeasurementFontSize)
              , s = new K({
                source: new Ba({
                    resource: t.canvas,
                    resolution: i,
                    alphaMode: "premultiply-alpha-on-upload",
                    autoGenerateMipmaps: this._mipmap
                })
            })
              , r = {
                canvasAndContext: t,
                texture: s
            };
            return this.pages[this._currentPageIndex] = r,
            r
        }
        _setupContext(e, t, i) {
            var s;
            t.fontSize = this.baseRenderedFontSize,
            e.scale(i, i),
            e.font = bn(t),
            t.fontSize = this.baseMeasurementFontSize,
            e.textBaseline = t.textBaseline;
            let r = t._stroke
              , o = (s = r?.width) != null ? s : 0;
            if (r && (e.lineWidth = o,
            e.lineJoin = r.join,
            e.miterLimit = r.miterLimit,
            e.strokeStyle = pn(r, e)),
            t._fill && (e.fillStyle = pn(t._fill, e)),
            t.dropShadow) {
                let d = t.dropShadow
                  , f = Ee.shared.setValue(d.color).toArray()
                  , h = d.blur * i
                  , u = d.distance * i;
                e.shadowColor = `rgba(${f[0] * 255},${f[1] * 255},${f[2] * 255},${d.alpha})`,
                e.shadowBlur = h,
                e.shadowOffsetX = Math.cos(d.angle) * u,
                e.shadowOffsetY = Math.sin(d.angle) * u
            } else
                e.shadowColor = "black",
                e.shadowBlur = 0,
                e.shadowOffsetX = 0,
                e.shadowOffsetY = 0
        }
        _drawGlyph(e, t, i, s, r, o) {
            var d;
            let f = t.text
              , h = t.fontProperties
              , u = o._stroke
              , p = ((d = u?.width) != null ? d : 0) * r
              , x = i + p / 2
              , _ = s - p / 2
              , T = h.descent * r
              , S = t.lineHeight * r;
            o.stroke && p && e.strokeText(f, x, _ + S - T),
            o._fill && e.fillText(f, x, _ + S - T)
        }
        destroy() {
            super.destroy();
            for (let e = 0; e < this.pages.length; e++) {
                let {canvasAndContext: t, texture: i} = this.pages[e];
                ha.returnCanvasAndContext(t),
                i.destroy(!0)
            }
            this.pages = null
        }
    }
    ;
    vp.defaultOptions = {
        textureSize: 512,
        style: new Pt,
        mipmap: !0
    };
    var V0 = vp;
    function Sp(a, e, t, i) {
        let s = {
            width: 0,
            height: 0,
            offsetY: 0,
            scale: e.fontSize / t.baseMeasurementFontSize,
            lines: [{
                width: 0,
                charPositions: [],
                spaceWidth: 0,
                spacesIndex: [],
                chars: []
            }]
        };
        s.offsetY = t.baseLineOffset;
        let r = s.lines[0]
          , o = null
          , d = !0
          , f = {
            spaceWord: !1,
            width: 0,
            start: 0,
            index: 0,
            positions: [],
            chars: []
        }
          , h = T => {
            let S = r.width;
            for (let A = 0; A < f.index; A++) {
                let P = T.positions[A];
                r.chars.push(T.chars[A]),
                r.charPositions.push(P + S)
            }
            r.width += T.width,
            d = !1,
            f.width = 0,
            f.index = 0,
            f.chars.length = 0
        }
          , u = () => {
            let T = r.chars.length - 1;
            if (i) {
                let S = r.chars[T];
                for (; S === " "; )
                    r.width -= t.chars[S].xAdvance,
                    S = r.chars[--T]
            }
            s.width = Math.max(s.width, r.width),
            r = {
                width: 0,
                charPositions: [],
                chars: [],
                spaceWidth: 0,
                spacesIndex: []
            },
            d = !0,
            s.lines.push(r),
            s.height += t.lineHeight
        }
          , p = t.baseMeasurementFontSize / e.fontSize
          , x = e.letterSpacing * p
          , _ = e.wordWrapWidth * p;
        for (let T = 0; T < a.length + 1; T++) {
            let S, A = T === a.length;
            A || (S = a[T]);
            let P = t.chars[S] || t.chars[" "];
            if (/(?:\s)/.test(S) || S === "\r" || S === `
` || A) {
                if (!d && e.wordWrap && r.width + f.width - x > _ ? (u(),
                h(f),
                A || r.charPositions.push(0)) : (f.start = r.width,
                h(f),
                A || r.charPositions.push(0)),
                S === "\r" || S === `
`)
                    r.width !== 0 && u();
                else if (!A) {
                    let O = P.xAdvance + (P.kerning[o] || 0) + x;
                    r.width += O,
                    r.spaceWidth = O,
                    r.spacesIndex.push(r.charPositions.length),
                    r.chars.push(S)
                }
            } else {
                let O = P.kerning[o] || 0
                  , F = P.xAdvance + O + x;
                f.positions[f.index++] = f.width + O,
                f.chars.push(S),
                f.width += F
            }
            o = S
        }
        return u(),
        e.align === "center" ? L9(s) : e.align === "right" ? N9(s) : e.align === "justify" && j9(s),
        s
    }
    function L9(a) {
        for (let e = 0; e < a.lines.length; e++) {
            let t = a.lines[e]
              , i = a.width / 2 - t.width / 2;
            for (let s = 0; s < t.charPositions.length; s++)
                t.charPositions[s] += i
        }
    }
    function N9(a) {
        for (let e = 0; e < a.lines.length; e++) {
            let t = a.lines[e]
              , i = a.width - t.width;
            for (let s = 0; s < t.charPositions.length; s++)
                t.charPositions[s] += i
        }
    }
    function j9(a) {
        let e = a.width;
        for (let t = 0; t < a.lines.length; t++) {
            let i = a.lines[t]
              , s = 0
              , r = i.spacesIndex[s++]
              , o = 0
              , d = i.spacesIndex.length
              , f = (e - i.width) / d;
            for (let h = 0; h < i.charPositions.length; h++)
                h === r && (r = i.spacesIndex[s++],
                o += f),
                i.charPositions[h] += o
        }
    }
    var X9 = Object.defineProperty
      , W0 = Object.getOwnPropertySymbols
      , H9 = Object.prototype.hasOwnProperty
      , z9 = Object.prototype.propertyIsEnumerable
      , Y0 = (a, e, t) => e in a ? X9(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , cd = (a, e) => {
        for (var t in e || (e = {}))
            H9.call(e, t) && Y0(a, t, e[t]);
        if (W0)
            for (var t of W0(e))
                z9.call(e, t) && Y0(a, t, e[t]);
        return a
    }
      , Er = 0
      , V9 = class {
        constructor() {
            this.ALPHA = [["a", "z"], ["A", "Z"], " "],
            this.NUMERIC = [["0", "9"]],
            this.ALPHANUMERIC = [["a", "z"], ["A", "Z"], ["0", "9"], " "],
            this.ASCII = [[" ", "~"]],
            this.defaultOptions = {
                chars: this.ALPHANUMERIC,
                resolution: 1,
                padding: 4,
                skipKerning: !1
            }
        }
        getFont(a, e) {
            var t;
            let i = `${e.fontFamily}-bitmap`
              , s = !0;
            if (e._fill.fill && !e._stroke)
                i += e._fill.fill.styleKey,
                s = !1;
            else if (e._stroke || e.dropShadow) {
                let o = e.styleKey;
                o = o.substring(0, o.lastIndexOf("-")),
                i = `${o}-bitmap`,
                s = !1
            }
            if (!Ie.has(i)) {
                let o = new V0(cd({
                    style: e,
                    overrideFill: s,
                    overrideSize: !0
                }, this.defaultOptions));
                Er++,
                Er > 50 && ta("BitmapText", `You have dynamically created ${Er} bitmap fonts, this can be inefficient. Try pre installing your font styles using \`BitmapFont.install({name:"style1", style})\``),
                o.once("destroy", () => {
                    Er--,
                    Ie.remove(i)
                }
                ),
                Ie.set(i, o)
            }
            let r = Ie.get(i);
            return (t = r.ensureCharacters) == null || t.call(r, a),
            r
        }
        getLayout(a, e, t=!0) {
            let i = this.getFont(a, e);
            return Sp([...a], e, i, t)
        }
        measureText(a, e, t=!0) {
            return this.getLayout(a, e, t)
        }
        install(...a) {
            var e, t, i, s;
            let r = a[0];
            typeof r == "string" && (r = {
                name: r,
                style: a[1],
                chars: (e = a[2]) == null ? void 0 : e.chars,
                resolution: (t = a[2]) == null ? void 0 : t.resolution,
                padding: (i = a[2]) == null ? void 0 : i.padding,
                skipKerning: (s = a[2]) == null ? void 0 : s.skipKerning
            });
            let o = r?.name;
            if (!o)
                throw new Error("[BitmapFontManager] Property `name` is required.");
            r = cd(cd({}, this.defaultOptions), r);
            let d = r.style
              , f = d instanceof Pt ? d : new Pt(d)
              , h = f._fill.fill !== null && f._fill.fill !== void 0
              , u = new V0({
                style: f,
                overrideFill: h,
                skipKerning: r.skipKerning,
                padding: r.padding,
                resolution: r.resolution,
                overrideSize: !1
            })
              , p = yp(r.chars);
            return u.ensureCharacters(p.join("")),
            Ie.set(`${o}-bitmap`, u),
            u.once("destroy", () => Ie.remove(`${o}-bitmap`)),
            u
        }
        uninstall(a) {
            let e = `${a}-bitmap`
              , t = Ie.get(e);
            t && t.destroy()
        }
    }
      , xn = new V9
      , yn = class {
        constructor(e) {
            this._gpuBitmapText = {},
            this._destroyRenderableBound = this.destroyRenderable.bind(this),
            this._renderer = e,
            this._renderer.renderableGC.addManagedHash(this, "_gpuBitmapText")
        }
        validateRenderable(e) {
            let t = this._getGpuBitmapText(e);
            return e._didTextUpdate && (e._didTextUpdate = !1,
            this._updateContext(e, t)),
            this._renderer.renderPipes.graphics.validateRenderable(t)
        }
        addRenderable(e, t) {
            let i = this._getGpuBitmapText(e);
            $0(e, i),
            e._didTextUpdate && (e._didTextUpdate = !1,
            this._updateContext(e, i)),
            this._renderer.renderPipes.graphics.addRenderable(i, t),
            i.context.customShader && this._updateDistanceField(e)
        }
        destroyRenderable(e) {
            e.off("destroyed", this._destroyRenderableBound),
            this._destroyRenderableByUid(e.uid)
        }
        _destroyRenderableByUid(e) {
            let t = this._gpuBitmapText[e].context;
            t.customShader && (ye.return(t.customShader),
            t.customShader = null),
            ye.return(this._gpuBitmapText[e]),
            this._gpuBitmapText[e] = null
        }
        updateRenderable(e) {
            let t = this._getGpuBitmapText(e);
            $0(e, t),
            this._renderer.renderPipes.graphics.updateRenderable(t),
            t.context.customShader && this._updateDistanceField(e)
        }
        _updateContext(e, t) {
            let {context: i} = t
              , s = xn.getFont(e.text, e._style);
            i.clear(),
            s.distanceField.type !== "none" && (i.customShader || (i.customShader = ye.get(Tf)));
            let r = Array.from(e.text)
              , o = e._style
              , d = s.baseLineOffset
              , f = Sp(r, o, s, !0)
              , h = 0
              , u = o.padding
              , p = f.scale
              , x = f.width
              , _ = f.height + f.offsetY;
            o._stroke && (x += o._stroke.width / p,
            _ += o._stroke.width / p),
            i.translate(-e._anchor._x * x - u, -e._anchor._y * _ - u).scale(p, p);
            let T = s.applyFillAsTint ? o._fill.color : 16777215;
            for (let S = 0; S < f.lines.length; S++) {
                let A = f.lines[S];
                for (let P = 0; P < A.charPositions.length; P++) {
                    let O = r[h++]
                      , F = s.chars[O];
                    F != null && F.texture && i.texture(F.texture, T || "black", Math.round(A.charPositions[P] + F.xOffset), Math.round(d + F.yOffset))
                }
                d += s.lineHeight
            }
        }
        _getGpuBitmapText(e) {
            return this._gpuBitmapText[e.uid] || this.initGpuText(e)
        }
        initGpuText(e) {
            let t = ye.get(Ve);
            return this._gpuBitmapText[e.uid] = t,
            this._updateContext(e, t),
            e.on("destroyed", this._destroyRenderableBound),
            this._gpuBitmapText[e.uid]
        }
        _updateDistanceField(e) {
            let t = this._getGpuBitmapText(e).context
              , i = e._style.fontFamily
              , s = Ie.get(`${i}-bitmap`)
              , {a: r, b: o, c: d, d: f} = e.groupTransform
              , h = Math.sqrt(r * r + o * o)
              , u = Math.sqrt(d * d + f * f)
              , p = (Math.abs(h) + Math.abs(u)) / 2
              , x = s.baseRenderedFontSize / e._style.fontSize
              , _ = p * s.distanceField.range * (1 / x);
            t.customShader.resources.localUniforms.uniforms.uDistance = _
        }
        destroy() {
            for (let e in this._gpuBitmapText)
                this._destroyRenderableByUid(e);
            this._gpuBitmapText = null,
            this._renderer = null
        }
    }
    ;
    yn.extension = {
        type: [B.WebGLPipes, B.WebGPUPipes, B.CanvasPipes],
        name: "bitmapText"
    };
    function $0(a, e) {
        e.groupTransform = a.groupTransform,
        e.groupColorAlpha = a.groupColorAlpha,
        e.groupColor = a.groupColor,
        e.groupBlendMode = a.groupBlendMode,
        e.globalDisplayStatus = a.globalDisplayStatus,
        e.groupTransform = a.groupTransform,
        e.localDisplayStatus = a.localDisplayStatus,
        e.groupAlpha = a.groupAlpha,
        e._roundPixels = a._roundPixels
    }
    pe.add(yn);
    var vn = class {
        constructor(e) {
            this._gpuText = Object.create(null),
            this._destroyRenderableBound = this.destroyRenderable.bind(this),
            this._renderer = e,
            this._renderer.runners.resolutionChange.add(this),
            this._renderer.renderableGC.addManagedHash(this, "_gpuText")
        }
        resolutionChange() {
            for (let e in this._gpuText) {
                let t = this._gpuText[e];
                if (!t)
                    continue;
                let i = t.batchableSprite.renderable;
                i._autoResolution && (i._resolution = this._renderer.resolution,
                i.onViewUpdate())
            }
        }
        validateRenderable(e) {
            let t = this._getGpuText(e)
              , i = e._getKey();
            return t.textureNeedsUploading ? (t.textureNeedsUploading = !1,
            !0) : t.currentKey !== i
        }
        addRenderable(e, t) {
            let i = this._getGpuText(e).batchableSprite;
            e._didTextUpdate && this._updateText(e),
            this._renderer.renderPipes.batch.addToBatch(i, t)
        }
        updateRenderable(e) {
            let t = this._getGpuText(e).batchableSprite;
            e._didTextUpdate && this._updateText(e),
            t._batcher.updateElement(t)
        }
        destroyRenderable(e) {
            e.off("destroyed", this._destroyRenderableBound),
            this._destroyRenderableById(e.uid)
        }
        _destroyRenderableById(e) {
            let t = this._gpuText[e];
            this._renderer.htmlText.decreaseReferenceCount(t.currentKey),
            ye.return(t.batchableSprite),
            this._gpuText[e] = null
        }
        _updateText(e) {
            let t = e._getKey()
              , i = this._getGpuText(e)
              , s = i.batchableSprite;
            i.currentKey !== t && this._updateGpuText(e).catch(r => {}
            ),
            e._didTextUpdate = !1,
            hf(s, e)
        }
        async _updateGpuText(e) {
            var t;
            e._didTextUpdate = !1;
            let i = this._getGpuText(e);
            if (i.generatingTexture)
                return;
            let s = e._getKey();
            this._renderer.htmlText.decreaseReferenceCount(i.currentKey),
            i.generatingTexture = !0,
            i.currentKey = s;
            let r = (t = e.resolution) != null ? t : this._renderer.resolution
              , o = await this._renderer.htmlText.getManagedTexture(e.text, r, e._style, e._getKey())
              , d = i.batchableSprite;
            d.texture = i.texture = o,
            i.generatingTexture = !1,
            i.textureNeedsUploading = !0,
            e.onViewUpdate(),
            hf(d, e)
        }
        _getGpuText(e) {
            return this._gpuText[e.uid] || this.initGpuText(e)
        }
        initGpuText(e) {
            let t = {
                texture: K.EMPTY,
                currentKey: "--",
                batchableSprite: ye.get(Gi),
                textureNeedsUploading: !1,
                generatingTexture: !1
            }
              , i = t.batchableSprite;
            return i.renderable = e,
            i.transform = e.groupTransform,
            i.texture = K.EMPTY,
            i.bounds = {
                minX: 0,
                maxX: 1,
                minY: 0,
                maxY: 0
            },
            i.roundPixels = this._renderer._roundPixels | e._roundPixels,
            e._resolution = e._autoResolution ? this._renderer.resolution : e.resolution,
            this._gpuText[e.uid] = t,
            e.on("destroyed", this._destroyRenderableBound),
            t
        }
        destroy() {
            for (let e in this._gpuText)
                this._destroyRenderableById(e);
            this._gpuText = null,
            this._renderer = null
        }
    }
    ;
    vn.extension = {
        type: [B.WebGLPipes, B.WebGPUPipes, B.CanvasPipes],
        name: "htmlText"
    };
    function W9() {
        let {userAgent: a} = ve.get().getNavigator();
        return /^((?!chrome|android).)*safari/i.test(a)
    }
    var K0 = "http://www.w3.org/2000/svg"
      , q0 = "http://www.w3.org/1999/xhtml"
      , Tn = class {
        constructor() {
            this.svgRoot = document.createElementNS(K0, "svg"),
            this.foreignObject = document.createElementNS(K0, "foreignObject"),
            this.domElement = document.createElementNS(q0, "div"),
            this.styleElement = document.createElementNS(q0, "style"),
            this.image = new Image;
            let {foreignObject: e, svgRoot: t, styleElement: i, domElement: s} = this;
            e.setAttribute("width", "10000"),
            e.setAttribute("height", "10000"),
            e.style.overflow = "hidden",
            t.appendChild(e),
            e.appendChild(i),
            e.appendChild(s)
        }
    }
    ;
    function Y9(a) {
        let e = a._stroke
          , t = a._fill
          , i = [`div { ${[`color: ${Ee.shared.setValue(t.color).toHex()}`, `font-size: ${a.fontSize}px`, `font-family: ${a.fontFamily}`, `font-weight: ${a.fontWeight}`, `font-style: ${a.fontStyle}`, `font-variant: ${a.fontVariant}`, `letter-spacing: ${a.letterSpacing}px`, `text-align: ${a.align}`, `padding: ${a.padding}px`, `white-space: ${a.whiteSpace === "pre" && a.wordWrap ? "pre-wrap" : a.whiteSpace}`, ...a.lineHeight ? [`line-height: ${a.lineHeight}px`] : [], ...a.wordWrap ? [`word-wrap: ${a.breakWords ? "break-all" : "break-word"}`, `max-width: ${a.wordWrapWidth}px`] : [], ...e ? [Ap(e)] : [], ...a.dropShadow ? [wp(a.dropShadow)] : [], ...a.cssOverrides].join(";")} }`];
        return $9(a.tagStyles, i),
        i.join(" ")
    }
    function wp(a) {
        let e = Ee.shared.setValue(a.color).setAlpha(a.alpha).toHexa()
          , t = Math.round(Math.cos(a.angle) * a.distance)
          , i = Math.round(Math.sin(a.angle) * a.distance)
          , s = `${t}px ${i}px`;
        return a.blur > 0 ? `text-shadow: ${s} ${a.blur}px ${e}` : `text-shadow: ${s} ${e}`
    }
    function Ap(a) {
        return [`-webkit-text-stroke-width: ${a.width}px`, `-webkit-text-stroke-color: ${Ee.shared.setValue(a.color).toHex()}`, `text-stroke-width: ${a.width}px`, `text-stroke-color: ${Ee.shared.setValue(a.color).toHex()}`, "paint-order: stroke"].join(";")
    }
    var Z0 = {
        fontSize: "font-size: {{VALUE}}px",
        fontFamily: "font-family: {{VALUE}}",
        fontWeight: "font-weight: {{VALUE}}",
        fontStyle: "font-style: {{VALUE}}",
        fontVariant: "font-variant: {{VALUE}}",
        letterSpacing: "letter-spacing: {{VALUE}}px",
        align: "text-align: {{VALUE}}",
        padding: "padding: {{VALUE}}px",
        whiteSpace: "white-space: {{VALUE}}",
        lineHeight: "line-height: {{VALUE}}px",
        wordWrapWidth: "max-width: {{VALUE}}px"
    }
      , Q0 = {
        fill: a => `color: ${Ee.shared.setValue(a).toHex()}`,
        breakWords: a => `word-wrap: ${a ? "break-all" : "break-word"}`,
        stroke: Ap,
        dropShadow: wp
    };
    function $9(a, e) {
        for (let t in a) {
            let i = a[t]
              , s = [];
            for (let r in i)
                Q0[r] ? s.push(Q0[r](i[r])) : Z0[r] && s.push(Z0[r].replace("{{VALUE}}", i[r]));
            e.push(`${t} { ${s.join(";")} }`)
        }
    }
    var K9 = Object.defineProperty
      , J0 = Object.getOwnPropertySymbols
      , q9 = Object.prototype.hasOwnProperty
      , Z9 = Object.prototype.propertyIsEnumerable
      , eb = (a, e, t) => e in a ? K9(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , Q9 = (a, e) => {
        for (var t in e || (e = {}))
            q9.call(e, t) && eb(a, t, e[t]);
        if (J0)
            for (var t of J0(e))
                Z9.call(e, t) && eb(a, t, e[t]);
        return a
    }
      , Sn = class a extends Pt {
        constructor(e={}) {
            var t, i;
            super(e),
            this._cssOverrides = [],
            (t = this.cssOverrides) != null || (this.cssOverrides = e.cssOverrides),
            this.tagStyles = (i = e.tagStyles) != null ? i : {}
        }
        set cssOverrides(e) {
            this._cssOverrides = e instanceof Array ? e : [e],
            this.update()
        }
        get cssOverrides() {
            return this._cssOverrides
        }
        _generateKey() {
            return this._styleKey = pp(this) + this._cssOverrides.join("-"),
            this._styleKey
        }
        update() {
            this._cssStyle = null,
            super.update()
        }
        clone() {
            return new a({
                align: this.align,
                breakWords: this.breakWords,
                dropShadow: this.dropShadow ? Q9({}, this.dropShadow) : null,
                fill: this._fill,
                fontFamily: this.fontFamily,
                fontSize: this.fontSize,
                fontStyle: this.fontStyle,
                fontVariant: this.fontVariant,
                fontWeight: this.fontWeight,
                letterSpacing: this.letterSpacing,
                lineHeight: this.lineHeight,
                padding: this.padding,
                stroke: this._stroke,
                whiteSpace: this.whiteSpace,
                wordWrap: this.wordWrap,
                wordWrapWidth: this.wordWrapWidth,
                cssOverrides: this.cssOverrides
            })
        }
        get cssStyle() {
            return this._cssStyle || (this._cssStyle = Y9(this)),
            this._cssStyle
        }
        addOverride(...e) {
            let t = e.filter(i => !this.cssOverrides.includes(i));
            t.length > 0 && (this.cssOverrides.push(...t),
            this.update())
        }
        removeOverride(...e) {
            let t = e.filter(i => this.cssOverrides.includes(i));
            t.length > 0 && (this.cssOverrides = this.cssOverrides.filter(i => !t.includes(i)),
            this.update())
        }
        set fill(e) {
            super.fill = e
        }
        set stroke(e) {
            super.stroke = e
        }
    }
    ;
    function J9(a, e) {
        let t = e.fontFamily
          , i = []
          , s = {}
          , r = /font-family:([^;"\s]+)/g
          , o = a.match(r);
        function d(f) {
            s[f] || (i.push(f),
            s[f] = !0)
        }
        if (Array.isArray(t))
            for (let f = 0; f < t.length; f++)
                d(t[f]);
        else
            d(t);
        o && o.forEach(f => {
            let h = f.split(":")[1].trim();
            d(h)
        }
        );
        for (let f in e.tagStyles) {
            let h = e.tagStyles[f].fontFamily;
            d(h)
        }
        return i
    }
    async function eg(a) {
        let e = await (await ve.get().fetch(a)).blob()
          , t = new FileReader;
        return await new Promise( (i, s) => {
            t.onloadend = () => i(t.result),
            t.onerror = s,
            t.readAsDataURL(e)
        }
        )
    }
    async function tb(a, e) {
        let t = await eg(e);
        return `@font-face {
font-family: "${a.fontFamily}";
src: url('${t}');
font-weight: ${a.fontWeight};
font-style: ${a.fontStyle};
}`
    }
    var Pr = new Map;
    async function tg(a, e, t) {
        let i = a.filter(s => Ie.has(`${s}-and-url`)).map( (s, r) => {
            if (!Pr.has(s)) {
                let {url: o} = Ie.get(`${s}-and-url`);
                r === 0 ? Pr.set(s, tb({
                    fontWeight: e.fontWeight,
                    fontStyle: e.fontStyle,
                    fontFamily: s
                }, o)) : Pr.set(s, tb({
                    fontWeight: t.fontWeight,
                    fontStyle: t.fontStyle,
                    fontFamily: s
                }, o))
            }
            return Pr.get(s)
        }
        );
        return (await Promise.all(i)).join(`
`)
    }
    function ag(a, e, t, i, s) {
        let {domElement: r, styleElement: o, svgRoot: d} = s;
        r.innerHTML = `<style>${e.cssStyle}</style><div style='padding:0;'>${a}</div>`,
        r.setAttribute("style", `transform: scale(${t});transform-origin: top left; display: inline-block`),
        o.textContent = i;
        let {width: f, height: h} = s.image;
        return d.setAttribute("width", f.toString()),
        d.setAttribute("height", h.toString()),
        new XMLSerializer().serializeToString(d)
    }
    function ig(a, e) {
        let t = ha.getOptimalCanvasAndContext(a.width, a.height, e)
          , {context: i} = t;
        return i.clearRect(0, 0, a.width, a.height),
        i.drawImage(a, 0, 0),
        t
    }
    function sg(a, e, t) {
        return new Promise(async i => {
            t && await new Promise(s => setTimeout(s, 100)),
            a.onload = () => {
                i()
            }
            ,
            a.src = `data:image/svg+xml;charset=utf8,${encodeURIComponent(e)}`,
            a.crossOrigin = "anonymous"
        }
        )
    }
    var ab;
    function Ep(a, e, t, i) {
        i || (i = ab || (ab = new Tn));
        let {domElement: s, styleElement: r, svgRoot: o} = i;
        s.innerHTML = `<style>${e.cssStyle};</style><div style='padding:0'>${a}</div>`,
        s.setAttribute("style", "transform-origin: top left; display: inline-block"),
        t && (r.textContent = t),
        document.body.appendChild(o);
        let d = s.getBoundingClientRect();
        o.remove();
        let f = e.padding * 2;
        return {
            width: d.width - f,
            height: d.height - f
        }
    }
    var Rs = class {
        constructor(e) {
            this._activeTextures = {},
            this._renderer = e,
            this._createCanvas = e.type === xt.WEBGPU
        }
        getTexture(e) {
            return this._buildTexturePromise(e.text, e.resolution, e.style)
        }
        getManagedTexture(e, t, i, s) {
            if (this._activeTextures[s])
                return this._increaseReferenceCount(s),
                this._activeTextures[s].promise;
            let r = this._buildTexturePromise(e, t, i).then(o => (this._activeTextures[s].texture = o,
            o));
            return this._activeTextures[s] = {
                texture: null,
                promise: r,
                usageCount: 1
            },
            r
        }
        async _buildTexturePromise(e, t, i) {
            let s = ye.get(Tn)
              , r = J9(e, i)
              , o = await tg(r, i, Sn.defaultTextStyle)
              , d = Ep(e, i, o, s)
              , f = Math.ceil(Math.ceil(Math.max(1, d.width) + i.padding * 2) * t)
              , h = Math.ceil(Math.ceil(Math.max(1, d.height) + i.padding * 2) * t)
              , u = s.image
              , p = 2;
            u.width = (f | 0) + p,
            u.height = (h | 0) + p;
            let x = ag(e, i, t, o, s);
            await sg(u, x, W9() && r.length > 0);
            let _ = u, T;
            this._createCanvas && (T = ig(u, t));
            let S = mp(T ? T.canvas : _, u.width - p, u.height - p, t);
            return this._createCanvas && (this._renderer.texture.initSource(S.source),
            ha.returnCanvasAndContext(T)),
            ye.return(s),
            S
        }
        _increaseReferenceCount(e) {
            this._activeTextures[e].usageCount++
        }
        decreaseReferenceCount(e) {
            let t = this._activeTextures[e];
            t && (t.usageCount--,
            t.usageCount === 0 && (t.texture ? this._cleanUp(t) : t.promise.then(i => {
                t.texture = i,
                this._cleanUp(t)
            }
            ).catch( () => {}
            ),
            this._activeTextures[e] = null))
        }
        _cleanUp(e) {
            ze.returnTexture(e.texture),
            e.texture.source.resource = null,
            e.texture.source.uploadMethodId = "unknown"
        }
        getReferenceCount(e) {
            return this._activeTextures[e].usageCount
        }
        destroy() {
            this._activeTextures = null
        }
    }
    ;
    Rs.extension = {
        type: [B.WebGLSystem, B.WebGPUSystem, B.CanvasSystem],
        name: "htmlText"
    },
    Rs.defaultFontOptions = {
        fontFamily: "Arial",
        fontStyle: "normal",
        fontWeight: "normal"
    },
    pe.add(Rs),
    pe.add(vn);
    var rg = Object.defineProperty
      , ib = Object.getOwnPropertySymbols
      , ng = Object.prototype.hasOwnProperty
      , og = Object.prototype.propertyIsEnumerable
      , sb = (a, e, t) => e in a ? rg(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , rb = (a, e) => {
        for (var t in e || (e = {}))
            ng.call(e, t) && sb(a, t, e[t]);
        if (ib)
            for (var t of ib(e))
                og.call(e, t) && sb(a, t, e[t]);
        return a
    }
      , Pp = class Rp extends Jt {
        constructor(...e) {
            var t;
            let i = (t = e[0]) != null ? t : {};
            i instanceof Float32Array && (i = {
                positions: i,
                uvs: e[1],
                indices: e[2]
            }),
            i = rb(rb({}, Rp.defaultOptions), i);
            let s = i.positions || new Float32Array([0, 0, 1, 0, 1, 1, 0, 1])
              , r = i.uvs;
            r || (i.positions ? r = new Float32Array(s.length) : r = new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]));
            let o = i.indices || new Uint32Array([0, 1, 2, 0, 2, 3])
              , d = i.shrinkBuffersToFit
              , f = new st({
                data: s,
                label: "attribute-mesh-positions",
                shrinkToFit: d,
                usage: Te.VERTEX | Te.COPY_DST
            })
              , h = new st({
                data: r,
                label: "attribute-mesh-uvs",
                shrinkToFit: d,
                usage: Te.VERTEX | Te.COPY_DST
            })
              , u = new st({
                data: o,
                label: "index-mesh-buffer",
                shrinkToFit: d,
                usage: Te.INDEX | Te.COPY_DST
            });
            super({
                attributes: {
                    aPosition: {
                        buffer: f,
                        format: "float32x2",
                        stride: 2 * 4,
                        offset: 0
                    },
                    aUV: {
                        buffer: h,
                        format: "float32x2",
                        stride: 2 * 4,
                        offset: 0
                    }
                },
                indexBuffer: u,
                topology: i.topology
            }),
            this.batchMode = "auto"
        }
        get positions() {
            return this.attributes.aPosition.buffer.data
        }
        set positions(e) {
            this.attributes.aPosition.buffer.data = e
        }
        get uvs() {
            return this.attributes.aUV.buffer.data
        }
        set uvs(e) {
            this.attributes.aUV.buffer.data = e
        }
        get indices() {
            return this.indexBuffer.data
        }
        set indices(e) {
            this.indexBuffer.data = e
        }
    }
    ;
    Pp.defaultOptions = {
        topology: "triangle-list",
        shrinkBuffersToFit: !1
    };
    var Js = Pp, cg = Object.defineProperty, dg = Object.defineProperties, fg = Object.getOwnPropertyDescriptors, nb = Object.getOwnPropertySymbols, hg = Object.prototype.hasOwnProperty, lg = Object.prototype.propertyIsEnumerable, ob = (a, e, t) => e in a ? cg(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t, cb = (a, e) => {
        for (var t in e || (e = {}))
            hg.call(e, t) && ob(a, t, e[t]);
        if (nb)
            for (var t of nb(e))
                lg.call(e, t) && ob(a, t, e[t]);
        return a
    }
    , db = (a, e) => dg(a, fg(e)), Ms = {
        name: "local-uniform-bit",
        vertex: {
            header: `

struct LocalUniforms {
uTransformMatrix:mat3x3<f32>,
uColor:vec4<f32>,
uRound:f32,
}

@group(1) @binding(0) var<uniform> localUniforms : LocalUniforms;
`,
            main: `
vColor *= localUniforms.uColor;
modelMatrix *= localUniforms.uTransformMatrix;
`,
            end: `
if(localUniforms.uRound == 1)
{
vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
}
`
        }
    }, ug = db(cb({}, Ms), {
        vertex: db(cb({}, Ms.vertex), {
            header: Ms.vertex.header.replace("group(1)", "group(2)")
        })
    }), Oh = {
        name: "local-uniform-bit",
        vertex: {
            header: `

uniform mat3 uTransformMatrix;
uniform vec4 uColor;
uniform float uRound;
`,
            main: `
vColor *= uColor;
modelMatrix = uTransformMatrix;
`,
            end: `
if(uRound == 1.)
{
gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
}
`
        }
    }, bg = {
        name: "tiling-bit",
        vertex: {
            header: `
struct TilingUniforms {
uMapCoord:mat3x3<f32>,
uClampFrame:vec4<f32>,
uClampOffset:vec2<f32>,
uTextureTransform:mat3x3<f32>,
uSizeAnchor:vec4<f32>
};

@group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;
@group(2) @binding(1) var uTexture: texture_2d<f32>;
@group(2) @binding(2) var uSampler: sampler;
`,
            main: `
uv = (tilingUniforms.uTextureTransform * vec3(uv, 1.0)).xy;

position = (position - tilingUniforms.uSizeAnchor.zw) * tilingUniforms.uSizeAnchor.xy;
`
        },
        fragment: {
            header: `
struct TilingUniforms {
uMapCoord:mat3x3<f32>,
uClampFrame:vec4<f32>,
uClampOffset:vec2<f32>,
uTextureTransform:mat3x3<f32>,
uSizeAnchor:vec4<f32>
};

@group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;
@group(2) @binding(1) var uTexture: texture_2d<f32>;
@group(2) @binding(2) var uSampler: sampler;
`,
            main: `

var coord = vUV + ceil(tilingUniforms.uClampOffset - vUV);
coord = (tilingUniforms.uMapCoord * vec3(coord, 1.0)).xy;
var unclamped = coord;
coord = clamp(coord, tilingUniforms.uClampFrame.xy, tilingUniforms.uClampFrame.zw);

var bias = 0.;

if(unclamped.x == coord.x && unclamped.y == coord.y)
{
bias = -32.;
} 

outColor = textureSampleBias(uTexture, uSampler, coord, bias);
`
        }
    }, pg = {
        name: "tiling-bit",
        vertex: {
            header: `
uniform mat3 uTextureTransform;
uniform vec4 uSizeAnchor;

`,
            main: `
uv = (uTextureTransform * vec3(aUV, 1.0)).xy;

position = (position - uSizeAnchor.zw) * uSizeAnchor.xy;
`
        },
        fragment: {
            header: `
uniform sampler2D uTexture;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;
`,
            main: `

vec2 coord = vUV + ceil(uClampOffset - vUV);
coord = (uMapCoord * vec3(coord, 1.0)).xy;
vec2 unclamped = coord;
coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

outColor = texture(uTexture, coord, unclamped == coord ? 0.0 : -32.0);// lod-bias very negative to force lod 0

`
        }
    }, dd, fd, Sf = class extends ft {
        constructor() {
            dd != null || (dd = $s({
                name: "tiling-sprite-shader",
                bits: [Ms, bg, qs]
            })),
            fd != null || (fd = Ks({
                name: "tiling-sprite-shader",
                bits: [Oh, pg, Zs]
            }));
            let e = new Je({
                uMapCoord: {
                    value: new ie,
                    type: "mat3x3<f32>"
                },
                uClampFrame: {
                    value: new Float32Array([0, 0, 1, 1]),
                    type: "vec4<f32>"
                },
                uClampOffset: {
                    value: new Float32Array([0, 0]),
                    type: "vec2<f32>"
                },
                uTextureTransform: {
                    value: new ie,
                    type: "mat3x3<f32>"
                },
                uSizeAnchor: {
                    value: new Float32Array([100, 100, .5, .5]),
                    type: "vec4<f32>"
                }
            });
            super({
                glProgram: fd,
                gpuProgram: dd,
                resources: {
                    localUniforms: new Je({
                        uTransformMatrix: {
                            value: new ie,
                            type: "mat3x3<f32>"
                        },
                        uColor: {
                            value: new Float32Array([1, 1, 1, 1]),
                            type: "vec4<f32>"
                        },
                        uRound: {
                            value: 0,
                            type: "f32"
                        }
                    }),
                    tilingUniforms: e,
                    uTexture: K.EMPTY.source,
                    uSampler: K.EMPTY.source.style
                }
            })
        }
        updateUniforms(e, t, i, s, r, o) {
            let d = this.resources.tilingUniforms
              , f = o.width
              , h = o.height
              , u = o.textureMatrix
              , p = d.uniforms.uTextureTransform;
            p.set(i.a * f / e, i.b * f / t, i.c * h / e, i.d * h / t, i.tx / e, i.ty / t),
            p.invert(),
            d.uniforms.uMapCoord = u.mapCoord,
            d.uniforms.uClampFrame = u.uClampFrame,
            d.uniforms.uClampOffset = u.uClampOffset,
            d.uniforms.uTextureTransform = p,
            d.uniforms.uSizeAnchor[0] = e,
            d.uniforms.uSizeAnchor[1] = t,
            d.uniforms.uSizeAnchor[2] = s,
            d.uniforms.uSizeAnchor[3] = r,
            o && (this.resources.uTexture = o.source,
            this.resources.uSampler = o.source.style)
        }
    }
    , wf = class extends Js {
        constructor() {
            super({
                positions: new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]),
                uvs: new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]),
                indices: new Uint32Array([0, 1, 2, 0, 2, 3])
            })
        }
    }
    ;
    function gg(a, e) {
        let t = a.anchor.x
          , i = a.anchor.y;
        e[0] = -t * a.width,
        e[1] = -i * a.height,
        e[2] = (1 - t) * a.width,
        e[3] = -i * a.height,
        e[4] = (1 - t) * a.width,
        e[5] = (1 - i) * a.height,
        e[6] = -t * a.width,
        e[7] = (1 - i) * a.height
    }
    function mg(a, e, t, i) {
        let s = 0
          , r = a.length / (e || 2)
          , o = i.a
          , d = i.b
          , f = i.c
          , h = i.d
          , u = i.tx
          , p = i.ty;
        for (t *= e; s < r; ) {
            let x = a[t]
              , _ = a[t + 1];
            a[t] = o * x + f * _ + u,
            a[t + 1] = d * x + h * _ + p,
            t += e,
            s++
        }
    }
    function _g(a, e) {
        let t = a.texture
          , i = t.frame.width
          , s = t.frame.height
          , r = 0
          , o = 0;
        a.applyAnchorToTexture && (r = a.anchor.x,
        o = a.anchor.y),
        e[0] = e[6] = -r,
        e[2] = e[4] = 1 - r,
        e[1] = e[3] = -o,
        e[5] = e[7] = 1 - o;
        let d = ie.shared;
        d.copyFrom(a._tileTransform.matrix),
        d.tx /= a.width,
        d.ty /= a.height,
        d.invert(),
        d.scale(a.width / i, a.height / s),
        mg(e, 2, 0, d)
    }
    var Rr = new wf
      , wn = class {
        constructor(e) {
            this._state = Et.default2d,
            this._tilingSpriteDataHash = Object.create(null),
            this._destroyRenderableBound = this.destroyRenderable.bind(this),
            this._renderer = e,
            this._renderer.renderableGC.addManagedHash(this, "_tilingSpriteDataHash")
        }
        validateRenderable(e) {
            let t = this._getTilingSpriteData(e)
              , i = t.canBatch;
            this._updateCanBatch(e);
            let s = t.canBatch;
            if (s && s === i) {
                let {batchableMesh: r} = t;
                return !r._batcher.checkAndUpdateTexture(r, e.texture)
            }
            return i !== s
        }
        addRenderable(e, t) {
            let i = this._renderer.renderPipes.batch;
            this._updateCanBatch(e);
            let s = this._getTilingSpriteData(e)
              , {geometry: r, canBatch: o} = s;
            if (o) {
                s.batchableMesh || (s.batchableMesh = new Xs);
                let d = s.batchableMesh;
                e.didViewUpdate && (this._updateBatchableMesh(e),
                d.geometry = r,
                d.renderable = e,
                d.transform = e.groupTransform,
                d.setTexture(e._texture)),
                d.roundPixels = this._renderer._roundPixels | e._roundPixels,
                i.addToBatch(d, t)
            } else
                i.break(t),
                s.shader || (s.shader = new Sf),
                this.updateRenderable(e),
                t.add(e)
        }
        execute(e) {
            let {shader: t} = this._tilingSpriteDataHash[e.uid];
            t.groups[0] = this._renderer.globalUniforms.bindGroup;
            let i = t.resources.localUniforms.uniforms;
            i.uTransformMatrix = e.groupTransform,
            i.uRound = this._renderer._roundPixels | e._roundPixels,
            Qs(e.groupColorAlpha, i.uColor, 0),
            this._state.blendMode = Fs(e.groupBlendMode, e.texture._source),
            this._renderer.encoder.draw({
                geometry: Rr,
                shader: t,
                state: this._state
            })
        }
        updateRenderable(e) {
            let t = this._getTilingSpriteData(e)
              , {canBatch: i} = t;
            if (i) {
                let {batchableMesh: s} = t;
                e.didViewUpdate && this._updateBatchableMesh(e),
                s._batcher.updateElement(s)
            } else if (e.didViewUpdate) {
                let {shader: s} = t;
                s.updateUniforms(e.width, e.height, e._tileTransform.matrix, e.anchor.x, e.anchor.y, e.texture)
            }
        }
        destroyRenderable(e) {
            var t;
            let i = this._getTilingSpriteData(e);
            i.batchableMesh = null,
            (t = i.shader) == null || t.destroy(),
            this._tilingSpriteDataHash[e.uid] = null,
            e.off("destroyed", this._destroyRenderableBound)
        }
        _getTilingSpriteData(e) {
            return this._tilingSpriteDataHash[e.uid] || this._initTilingSpriteData(e)
        }
        _initTilingSpriteData(e) {
            let t = new Js({
                indices: Rr.indices,
                positions: Rr.positions.slice(),
                uvs: Rr.uvs.slice()
            });
            return this._tilingSpriteDataHash[e.uid] = {
                canBatch: !0,
                renderable: e,
                geometry: t
            },
            e.on("destroyed", this._destroyRenderableBound),
            this._tilingSpriteDataHash[e.uid]
        }
        _updateBatchableMesh(e) {
            let t = this._getTilingSpriteData(e)
              , {geometry: i} = t
              , s = e.texture.source.style;
            s.addressMode !== "repeat" && (s.addressMode = "repeat",
            s.update()),
            _g(e, i.uvs),
            gg(e, i.positions)
        }
        destroy() {
            for (let e in this._tilingSpriteDataHash)
                this.destroyRenderable(this._tilingSpriteDataHash[e].renderable);
            this._tilingSpriteDataHash = null,
            this._renderer = null
        }
        _updateCanBatch(e) {
            let t = this._getTilingSpriteData(e)
              , i = e.texture
              , s = !0;
            return this._renderer.type === xt.WEBGL && (s = this._renderer.context.supports.nonPowOf2wrapping),
            t.canBatch = i.textureMatrix.isSimple && (s || i.source.isPowerOfTwo),
            t.canBatch
        }
    }
    ;
    wn.extension = {
        type: [B.WebGLPipes, B.WebGPUPipes, B.CanvasPipes],
        name: "tilingSprite"
    },
    pe.add(wn);
    var xg = Object.defineProperty
      , fb = Object.getOwnPropertySymbols
      , yg = Object.prototype.hasOwnProperty
      , vg = Object.prototype.propertyIsEnumerable
      , hb = (a, e, t) => e in a ? xg(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , lb = (a, e) => {
        for (var t in e || (e = {}))
            yg.call(e, t) && hb(a, t, e[t]);
        if (fb)
            for (var t of fb(e))
                vg.call(e, t) && hb(a, t, e[t]);
        return a
    }
      , Mp = class Cp extends Js {
        constructor(...e) {
            var t;
            super({});
            let i = (t = e[0]) != null ? t : {};
            typeof i == "number" && (i = {
                width: i,
                height: e[1],
                verticesX: e[2],
                verticesY: e[3]
            }),
            this.build(i)
        }
        build(e) {
            var t, i, s, r;
            e = lb(lb({}, Cp.defaultOptions), e),
            this.verticesX = (t = this.verticesX) != null ? t : e.verticesX,
            this.verticesY = (i = this.verticesY) != null ? i : e.verticesY,
            this.width = (s = this.width) != null ? s : e.width,
            this.height = (r = this.height) != null ? r : e.height;
            let o = this.verticesX * this.verticesY
              , d = []
              , f = []
              , h = []
              , u = this.verticesX - 1
              , p = this.verticesY - 1
              , x = this.width / u
              , _ = this.height / p;
            for (let S = 0; S < o; S++) {
                let A = S % this.verticesX
                  , P = S / this.verticesX | 0;
                d.push(A * x, P * _),
                f.push(A / u, P / p)
            }
            let T = u * p;
            for (let S = 0; S < T; S++) {
                let A = S % u
                  , P = S / u | 0
                  , O = P * this.verticesX + A
                  , F = P * this.verticesX + A + 1
                  , k = (P + 1) * this.verticesX + A
                  , V = (P + 1) * this.verticesX + A + 1;
                h.push(O, F, k, F, V, k)
            }
            this.buffers[0].data = new Float32Array(d),
            this.buffers[1].data = new Float32Array(f),
            this.indexBuffer.data = new Uint32Array(h),
            this.buffers[0].update(),
            this.buffers[1].update(),
            this.indexBuffer.update()
        }
    }
    ;
    Mp.defaultOptions = {
        width: 100,
        height: 100,
        verticesX: 10,
        verticesY: 10
    };
    var Op = Mp
      , Tg = Object.defineProperty
      , ub = Object.getOwnPropertySymbols
      , Sg = Object.prototype.hasOwnProperty
      , wg = Object.prototype.propertyIsEnumerable
      , bb = (a, e, t) => e in a ? Tg(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , pb = (a, e) => {
        for (var t in e || (e = {}))
            Sg.call(e, t) && bb(a, t, e[t]);
        if (ub)
            for (var t of ub(e))
                wg.call(e, t) && bb(a, t, e[t]);
        return a
    }
      , Ip = class Gp extends Op {
        constructor(e={}) {
            e = pb(pb({}, Gp.defaultOptions), e),
            super({
                width: e.width,
                height: e.height,
                verticesX: 4,
                verticesY: 4
            }),
            this.update(e)
        }
        update(e) {
            var t, i, s, r, o, d, f, h;
            this.width = (t = e.width) != null ? t : this.width,
            this.height = (i = e.height) != null ? i : this.height,
            this._originalWidth = (s = e.originalWidth) != null ? s : this._originalWidth,
            this._originalHeight = (r = e.originalHeight) != null ? r : this._originalHeight,
            this._leftWidth = (o = e.leftWidth) != null ? o : this._leftWidth,
            this._rightWidth = (d = e.rightWidth) != null ? d : this._rightWidth,
            this._topHeight = (f = e.topHeight) != null ? f : this._topHeight,
            this._bottomHeight = (h = e.bottomHeight) != null ? h : this._bottomHeight,
            this.updateUvs(),
            this.updatePositions()
        }
        updatePositions() {
            let e = this.positions
              , t = this._leftWidth + this._rightWidth
              , i = this.width > t ? 1 : this.width / t
              , s = this._topHeight + this._bottomHeight
              , r = this.height > s ? 1 : this.height / s
              , o = Math.min(i, r);
            e[9] = e[11] = e[13] = e[15] = this._topHeight * o,
            e[17] = e[19] = e[21] = e[23] = this.height - this._bottomHeight * o,
            e[25] = e[27] = e[29] = e[31] = this.height,
            e[2] = e[10] = e[18] = e[26] = this._leftWidth * o,
            e[4] = e[12] = e[20] = e[28] = this.width - this._rightWidth * o,
            e[6] = e[14] = e[22] = e[30] = this.width,
            this.getBuffer("aPosition").update()
        }
        updateUvs() {
            let e = this.uvs;
            e[0] = e[8] = e[16] = e[24] = 0,
            e[1] = e[3] = e[5] = e[7] = 0,
            e[6] = e[14] = e[22] = e[30] = 1,
            e[25] = e[27] = e[29] = e[31] = 1;
            let t = 1 / this._originalWidth
              , i = 1 / this._originalHeight;
            e[2] = e[10] = e[18] = e[26] = t * this._leftWidth,
            e[9] = e[11] = e[13] = e[15] = i * this._topHeight,
            e[4] = e[12] = e[20] = e[28] = 1 - t * this._rightWidth,
            e[17] = e[19] = e[21] = e[23] = 1 - i * this._bottomHeight,
            this.getBuffer("aUV").update()
        }
    }
    ;
    Ip.defaultOptions = {
        width: 100,
        height: 100,
        leftWidth: 10,
        topHeight: 10,
        rightWidth: 10,
        bottomHeight: 10,
        originalWidth: 100,
        originalHeight: 100
    };
    var Za = Ip
      , An = class {
        constructor(e) {
            this._gpuSpriteHash = Object.create(null),
            this._destroyRenderableBound = this.destroyRenderable.bind(this),
            this._renderer = e,
            this._renderer.renderableGC.addManagedHash(this, "_gpuSpriteHash")
        }
        addRenderable(e, t) {
            let i = this._getGpuSprite(e);
            e.didViewUpdate && this._updateBatchableSprite(e, i),
            this._renderer.renderPipes.batch.addToBatch(i, t)
        }
        updateRenderable(e) {
            let t = this._gpuSpriteHash[e.uid];
            e.didViewUpdate && this._updateBatchableSprite(e, t),
            t._batcher.updateElement(t)
        }
        validateRenderable(e) {
            let t = this._getGpuSprite(e);
            return !t._batcher.checkAndUpdateTexture(t, e._texture)
        }
        destroyRenderable(e) {
            let t = this._gpuSpriteHash[e.uid];
            ye.return(t.geometry),
            ye.return(t),
            this._gpuSpriteHash[e.uid] = null,
            e.off("destroyed", this._destroyRenderableBound)
        }
        _updateBatchableSprite(e, t) {
            t.geometry.update(e),
            t.setTexture(e._texture)
        }
        _getGpuSprite(e) {
            return this._gpuSpriteHash[e.uid] || this._initGPUSprite(e)
        }
        _initGPUSprite(e) {
            let t = ye.get(Xs);
            return t.geometry = ye.get(Za),
            t.renderable = e,
            t.transform = e.groupTransform,
            t.texture = e._texture,
            t.roundPixels = this._renderer._roundPixels | e._roundPixels,
            this._gpuSpriteHash[e.uid] = t,
            e.didViewUpdate || this._updateBatchableSprite(e, t),
            e.on("destroyed", this._destroyRenderableBound),
            t
        }
        destroy() {
            for (let e in this._gpuSpriteHash)
                this._gpuSpriteHash[e].geometry.destroy();
            this._gpuSpriteHash = null,
            this._renderer = null
        }
    }
    ;
    An.extension = {
        type: [B.WebGLPipes, B.WebGPUPipes, B.CanvasPipes],
        name: "nineSliceSprite"
    },
    pe.add(An);
    var En = class {
        constructor(e) {
            this._renderer = e
        }
        push(e, t, i) {
            this._renderer.renderPipes.batch.break(i),
            i.add({
                renderPipeId: "filter",
                canBundle: !1,
                action: "pushFilter",
                container: t,
                filterEffect: e
            })
        }
        pop(e, t, i) {
            this._renderer.renderPipes.batch.break(i),
            i.add({
                renderPipeId: "filter",
                action: "popFilter",
                canBundle: !1
            })
        }
        execute(e) {
            e.action === "pushFilter" ? this._renderer.filter.push(e) : e.action === "popFilter" && this._renderer.filter.pop()
        }
        destroy() {
            this._renderer = null
        }
    }
    ;
    En.extension = {
        type: [B.WebGLPipes, B.WebGPUPipes, B.CanvasPipes],
        name: "filter"
    };
    function Ag(a, e) {
        e.clear();
        let t = e.matrix;
        for (let i = 0; i < a.length; i++) {
            let s = a[i];
            s.globalDisplayStatus < 7 || (e.matrix = s.worldTransform,
            e.addBounds(s.bounds))
        }
        return e.matrix = t,
        e
    }
    var Eg = new Jt({
        attributes: {
            aPosition: {
                buffer: new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]),
                format: "float32x2",
                stride: 2 * 4,
                offset: 0
            }
        },
        indexBuffer: new Uint32Array([0, 1, 2, 0, 2, 3])
    })
      , Pn = class {
        constructor(e) {
            this._filterStackIndex = 0,
            this._filterStack = [],
            this._filterGlobalUniforms = new Je({
                uInputSize: {
                    value: new Float32Array(4),
                    type: "vec4<f32>"
                },
                uInputPixel: {
                    value: new Float32Array(4),
                    type: "vec4<f32>"
                },
                uInputClamp: {
                    value: new Float32Array(4),
                    type: "vec4<f32>"
                },
                uOutputFrame: {
                    value: new Float32Array(4),
                    type: "vec4<f32>"
                },
                uGlobalFrame: {
                    value: new Float32Array(4),
                    type: "vec4<f32>"
                },
                uOutputTexture: {
                    value: new Float32Array(4),
                    type: "vec4<f32>"
                }
            }),
            this._globalFilterBindGroup = new Ht({}),
            this.renderer = e
        }
        get activeBackTexture() {
            var e;
            return (e = this._activeFilterData) == null ? void 0 : e.backTexture
        }
        push(e) {
            var t, i;
            let s = this.renderer
              , r = e.filterEffect.filters;
            this._filterStack[this._filterStackIndex] || (this._filterStack[this._filterStackIndex] = this._getFilterData());
            let o = this._filterStack[this._filterStackIndex];
            if (this._filterStackIndex++,
            r.length === 0) {
                o.skip = !0;
                return
            }
            let d = o.bounds;
            if (e.renderables ? Ag(e.renderables, d) : e.filterEffect.filterArea ? (d.clear(),
            d.addRect(e.filterEffect.filterArea),
            d.applyMatrix(e.container.worldTransform)) : e.container.getFastGlobalBounds(!0, d),
            e.container) {
                let S = (e.container.renderGroup || e.container.parentRenderGroup).cacheToLocalTransform;
                S && d.applyMatrix(S)
            }
            let f = s.renderTarget.renderTarget.colorTexture.source
              , h = 1 / 0
              , u = 0
              , p = !0
              , x = !1
              , _ = !1
              , T = !0;
            for (let S = 0; S < r.length; S++) {
                let A = r[S];
                if (h = Math.min(h, A.resolution === "inherit" ? f._resolution : A.resolution),
                u += A.padding,
                A.antialias === "off" ? p = !1 : A.antialias === "inherit" && p && (p = f.antialias),
                A.clipToViewport || (T = !1),
                !(A.compatibleRenderers & s.type)) {
                    _ = !1;
                    break
                }
                if (A.blendRequired && !((i = (t = s.backBuffer) == null ? void 0 : t.useBackBuffer) == null || i)) {
                    _ = !1;
                    break
                }
                _ = A.enabled || _,
                x || (x = A.blendRequired)
            }
            if (!_) {
                o.skip = !0;
                return
            }
            if (T) {
                let S = s.renderTarget.rootViewPort
                  , A = s.renderTarget.renderTarget.resolution;
                d.fitBounds(0, S.width / A, 0, S.height / A)
            }
            if (d.scale(h).ceil().scale(1 / h).pad(u | 0),
            !d.isPositive) {
                o.skip = !0;
                return
            }
            o.skip = !1,
            o.bounds = d,
            o.blendRequired = x,
            o.container = e.container,
            o.filterEffect = e.filterEffect,
            o.previousRenderSurface = s.renderTarget.renderSurface,
            o.inputTexture = ze.getOptimalTexture(d.width, d.height, h, p),
            s.renderTarget.bind(o.inputTexture, !0),
            s.globalUniforms.push({
                offset: d
            })
        }
        pop() {
            let e = this.renderer;
            this._filterStackIndex--;
            let t = this._filterStack[this._filterStackIndex];
            if (t.skip)
                return;
            this._activeFilterData = t;
            let i = t.inputTexture
              , s = t.bounds
              , r = K.EMPTY;
            if (e.renderTarget.finishRenderPass(),
            t.blendRequired) {
                let d = this._filterStackIndex > 0 ? this._filterStack[this._filterStackIndex - 1].bounds : null
                  , f = e.renderTarget.getRenderTarget(t.previousRenderSurface);
                r = this.getBackTexture(f, s, d)
            }
            t.backTexture = r;
            let o = t.filterEffect.filters;
            if (this._globalFilterBindGroup.setResource(i.source.style, 2),
            this._globalFilterBindGroup.setResource(r.source, 3),
            e.globalUniforms.pop(),
            o.length === 1)
                o[0].apply(this, i, t.previousRenderSurface, !1),
                ze.returnTexture(i);
            else {
                let d = t.inputTexture
                  , f = ze.getOptimalTexture(s.width, s.height, d.source._resolution, !1)
                  , h = 0;
                for (h = 0; h < o.length - 1; ++h) {
                    o[h].apply(this, d, f, !0);
                    let u = d;
                    d = f,
                    f = u
                }
                o[h].apply(this, d, t.previousRenderSurface, !1),
                ze.returnTexture(d),
                ze.returnTexture(f)
            }
            t.blendRequired && ze.returnTexture(r)
        }
        getBackTexture(e, t, i) {
            let s = e.colorTexture.source._resolution
              , r = ze.getOptimalTexture(t.width, t.height, s, !1)
              , o = t.minX
              , d = t.minY;
            i && (o -= i.minX,
            d -= i.minY),
            o = Math.floor(o * s),
            d = Math.floor(d * s);
            let f = Math.ceil(t.width * s)
              , h = Math.ceil(t.height * s);
            return this.renderer.renderTarget.copyToTexture(e, r, {
                x: o,
                y: d
            }, {
                width: f,
                height: h
            }, {
                x: 0,
                y: 0
            }),
            r
        }
        applyFilter(e, t, i, s) {
            let r = this.renderer
              , o = this._filterStack[this._filterStackIndex]
              , d = o.bounds
              , f = Ce.shared
              , h = o.previousRenderSurface === i
              , u = this.renderer.renderTarget.rootRenderTarget.colorTexture.source._resolution
              , p = this._filterStackIndex - 1;
            for (; p > 0 && this._filterStack[p].skip; )
                --p;
            p > 0 && (u = this._filterStack[p].inputTexture.source._resolution);
            let x = this._filterGlobalUniforms
              , _ = x.uniforms
              , T = _.uOutputFrame
              , S = _.uInputSize
              , A = _.uInputPixel
              , P = _.uInputClamp
              , O = _.uGlobalFrame
              , F = _.uOutputTexture;
            if (h) {
                let L = this._filterStackIndex;
                for (; L > 0; ) {
                    L--;
                    let X = this._filterStack[this._filterStackIndex - 1];
                    if (!X.skip) {
                        f.x = X.bounds.minX,
                        f.y = X.bounds.minY;
                        break
                    }
                }
                T[0] = d.minX - f.x,
                T[1] = d.minY - f.y
            } else
                T[0] = 0,
                T[1] = 0;
            T[2] = t.frame.width,
            T[3] = t.frame.height,
            S[0] = t.source.width,
            S[1] = t.source.height,
            S[2] = 1 / S[0],
            S[3] = 1 / S[1],
            A[0] = t.source.pixelWidth,
            A[1] = t.source.pixelHeight,
            A[2] = 1 / A[0],
            A[3] = 1 / A[1],
            P[0] = .5 * A[2],
            P[1] = .5 * A[3],
            P[2] = t.frame.width * S[2] - .5 * A[2],
            P[3] = t.frame.height * S[3] - .5 * A[3];
            let k = this.renderer.renderTarget.rootRenderTarget.colorTexture;
            O[0] = f.x * u,
            O[1] = f.y * u,
            O[2] = k.source.width * u,
            O[3] = k.source.height * u;
            let V = this.renderer.renderTarget.getRenderTarget(i);
            if (r.renderTarget.bind(i, !!s),
            i instanceof K ? (F[0] = i.frame.width,
            F[1] = i.frame.height) : (F[0] = V.width,
            F[1] = V.height),
            F[2] = V.isRoot ? -1 : 1,
            x.update(),
            r.renderPipes.uniformBatch) {
                let L = r.renderPipes.uniformBatch.getUboResource(x);
                this._globalFilterBindGroup.setResource(L, 0)
            } else
                this._globalFilterBindGroup.setResource(x, 0);
            this._globalFilterBindGroup.setResource(t.source, 1),
            this._globalFilterBindGroup.setResource(t.source.style, 2),
            e.groups[0] = this._globalFilterBindGroup,
            r.encoder.draw({
                geometry: Eg,
                shader: e,
                state: e._state,
                topology: "triangle-list"
            }),
            r.type === xt.WEBGL && r.renderTarget.finishRenderPass()
        }
        _getFilterData() {
            return {
                skip: !1,
                inputTexture: null,
                bounds: new qe,
                container: null,
                filterEffect: null,
                blendRequired: !1,
                previousRenderSurface: null
            }
        }
        calculateSpriteMatrix(e, t) {
            let i = this._activeFilterData
              , s = e.set(i.inputTexture._source.width, 0, 0, i.inputTexture._source.height, i.bounds.minX, i.bounds.minY)
              , r = t.worldTransform.copyTo(ie.shared)
              , o = t.renderGroup || t.parentRenderGroup;
            return o && o.cacheToLocalTransform && r.prepend(o.cacheToLocalTransform),
            r.invert(),
            s.prepend(r),
            s.scale(1 / t.texture.frame.width, 1 / t.texture.frame.height),
            s.translate(t.anchor.x, t.anchor.y),
            s
        }
    }
    ;
    Pn.extension = {
        type: [B.WebGLSystem, B.WebGPUSystem],
        name: "filter"
    },
    pe.add(Pn),
    pe.add(En);
    var Pg = {
        __proto__: null
    }
      , Af = [];
    pe.handleByNamedList(B.Environment, Af);
    async function Rg(a) {
        if (!a)
            for (let e = 0; e < Af.length; e++) {
                let t = Af[e];
                if (t.value.test()) {
                    await t.value.load();
                    return
                }
            }
    }
    var ls;
    function Bp() {
        if (typeof ls == "boolean")
            return ls;
        try {
            ls = new Function("param1","param2","param3","return param1[param2] === param3;")({
                a: "b"
            }, "a", "b") === !0
        } catch {
            ls = !1
        }
        return ls
    }
    var mt = (a => (a[a.NONE = 0] = "NONE",
    a[a.COLOR = 16384] = "COLOR",
    a[a.STENCIL = 1024] = "STENCIL",
    a[a.DEPTH = 256] = "DEPTH",
    a[a.COLOR_DEPTH = 16640] = "COLOR_DEPTH",
    a[a.COLOR_STENCIL = 17408] = "COLOR_STENCIL",
    a[a.DEPTH_STENCIL = 1280] = "DEPTH_STENCIL",
    a[a.ALL = 17664] = "ALL",
    a))(mt || {})
      , Rn = class {
        constructor(e) {
            this.items = [],
            this._name = e
        }
        emit(e, t, i, s, r, o, d, f) {
            let {name: h, items: u} = this;
            for (let p = 0, x = u.length; p < x; p++)
                u[p][h](e, t, i, s, r, o, d, f);
            return this
        }
        add(e) {
            return e[this._name] && (this.remove(e),
            this.items.push(e)),
            this
        }
        remove(e) {
            let t = this.items.indexOf(e);
            return t !== -1 && this.items.splice(t, 1),
            this
        }
        contains(e) {
            return this.items.indexOf(e) !== -1
        }
        removeAll() {
            return this.items.length = 0,
            this
        }
        destroy() {
            this.removeAll(),
            this.items = null,
            this._name = null
        }
        get empty() {
            return this.items.length === 0
        }
        get name() {
            return this._name
        }
    }
      , Mg = Object.defineProperty
      , gb = Object.getOwnPropertySymbols
      , Cg = Object.prototype.hasOwnProperty
      , Og = Object.prototype.propertyIsEnumerable
      , mb = (a, e, t) => e in a ? Mg(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , Mr = (a, e) => {
        for (var t in e || (e = {}))
            Cg.call(e, t) && mb(a, t, e[t]);
        if (gb)
            for (var t of gb(e))
                Og.call(e, t) && mb(a, t, e[t]);
        return a
    }
      , Ig = ["init", "destroy", "contextChange", "resolutionChange", "resetState", "renderEnd", "renderStart", "render", "update", "postrender", "prerender"]
      , Fp = class Dp extends yt {
        constructor(e) {
            var t;
            super(),
            this.runners = Object.create(null),
            this.renderPipes = Object.create(null),
            this._initOptions = {},
            this._systemsHash = Object.create(null),
            this.type = e.type,
            this.name = e.name,
            this.config = e;
            let i = [...Ig, ...(t = this.config.runners) != null ? t : []];
            this._addRunners(...i),
            this._unsafeEvalCheck()
        }
        async init(e={}) {
            let t = e.skipExtensionImports === !0 ? !0 : e.manageImports === !1;
            await Rg(t),
            this._addSystems(this.config.systems),
            this._addPipes(this.config.renderPipes, this.config.renderPipeAdaptors);
            for (let i in this._systemsHash) {
                let s = this._systemsHash[i].constructor.defaultOptions;
                e = Mr(Mr({}, s), e)
            }
            e = Mr(Mr({}, Dp.defaultOptions), e),
            this._roundPixels = e.roundPixels ? 1 : 0;
            for (let i = 0; i < this.runners.init.items.length; i++)
                await this.runners.init.items[i].init(e);
            this._initOptions = e
        }
        render(e, t) {
            var i, s;
            let r = e;
            if (r instanceof he && (r = {
                container: r
            },
            t && (r.target = t.renderTexture)),
            r.target || (r.target = this.view.renderTarget),
            r.target === this.view.renderTarget && (this._lastObjectRendered = r.container,
            (i = r.clearColor) != null || (r.clearColor = this.background.colorRgba),
            (s = r.clear) != null || (r.clear = this.background.clearBeforeRender)),
            r.clearColor) {
                let o = Array.isArray(r.clearColor) && r.clearColor.length === 4;
                r.clearColor = o ? r.clearColor : Ee.shared.setValue(r.clearColor).toArray()
            }
            r.transform || (r.container.updateLocalTransform(),
            r.transform = r.container.localTransform),
            r.container.enableRenderGroup(),
            this.runners.prerender.emit(r),
            this.runners.renderStart.emit(r),
            this.runners.render.emit(r),
            this.runners.renderEnd.emit(r),
            this.runners.postrender.emit(r)
        }
        resize(e, t, i) {
            let s = this.view.resolution;
            this.view.resize(e, t, i),
            this.emit("resize", this.view.screen.width, this.view.screen.height, this.view.resolution),
            i !== void 0 && i !== s && this.runners.resolutionChange.emit(i)
        }
        clear(e={}) {
            var t;
            let i = this;
            e.target || (e.target = i.renderTarget.renderTarget),
            e.clearColor || (e.clearColor = this.background.colorRgba),
            (t = e.clear) != null || (e.clear = mt.ALL);
            let {clear: s, clearColor: r, target: o} = e;
            Ee.shared.setValue(r ?? this.background.colorRgba),
            i.renderTarget.clear(o, s, Ee.shared.toArray())
        }
        get resolution() {
            return this.view.resolution
        }
        set resolution(e) {
            this.view.resolution = e,
            this.runners.resolutionChange.emit(e)
        }
        get width() {
            return this.view.texture.frame.width
        }
        get height() {
            return this.view.texture.frame.height
        }
        get canvas() {
            return this.view.canvas
        }
        get lastObjectRendered() {
            return this._lastObjectRendered
        }
        get renderingToScreen() {
            return this.renderTarget.renderingToScreen
        }
        get screen() {
            return this.view.screen
        }
        _addRunners(...e) {
            e.forEach(t => {
                this.runners[t] = new Rn(t)
            }
            )
        }
        _addSystems(e) {
            let t;
            for (t in e) {
                let i = e[t];
                this._addSystem(i.value, i.name)
            }
        }
        _addSystem(e, t) {
            let i = new e(this);
            if (this[t])
                throw new Error(`Whoops! The name "${t}" is already in use`);
            this[t] = i,
            this._systemsHash[t] = i;
            for (let s in this.runners)
                this.runners[s].add(i);
            return this
        }
        _addPipes(e, t) {
            let i = t.reduce( (s, r) => (s[r.name] = r.value,
            s), {});
            e.forEach(s => {
                let r = s.value
                  , o = s.name
                  , d = i[o];
                this.renderPipes[o] = new r(this,d ? new d : null)
            }
            )
        }
        destroy(e=!1) {
            this.runners.destroy.items.reverse(),
            this.runners.destroy.emit(e),
            Object.values(this.runners).forEach(t => {
                t.destroy()
            }
            ),
            this._systemsHash = null,
            this.renderPipes = null
        }
        generateTexture(e) {
            return this.textureGenerator.generateTexture(e)
        }
        get roundPixels() {
            return !!this._roundPixels
        }
        _unsafeEvalCheck() {
            if (!Bp())
                throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")
        }
        resetState() {
            this.runners.resetState.emit()
        }
    }
    ;
    Fp.defaultOptions = {
        resolution: 1,
        failIfMajorPerformanceCaveat: !1,
        roundPixels: !1
    };
    var jo = Fp, hd;
    function Xo(a) {
        return hd !== void 0 || (hd = ( () => {
            var e;
            let t = {
                stencil: !0,
                failIfMajorPerformanceCaveat: a ?? jo.defaultOptions.failIfMajorPerformanceCaveat
            };
            try {
                if (!ve.get().getWebGLRenderingContext())
                    return !1;
                let i = ve.get().createCanvas().getContext("webgl", t)
                  , s = !!((e = i?.getContextAttributes()) != null && e.stencil);
                if (i) {
                    let r = i.getExtension("WEBGL_lose_context");
                    r && r.loseContext()
                }
                return i = null,
                s
            } catch {
                return !1
            }
        }
        )()),
        hd
    }
    var ld;
    async function Ho(a={}) {
        return ld !== void 0 || (ld = await (async () => {
            let e = ve.get().getNavigator().gpu;
            if (!e)
                return !1;
            try {
                return await (await e.requestAdapter(a)).requestDevice(),
                !0
            } catch {
                return !1
            }
        }
        )()),
        ld
    }
    var Gg = Object.defineProperty
      , _b = Object.getOwnPropertySymbols
      , Bg = Object.prototype.hasOwnProperty
      , Fg = Object.prototype.propertyIsEnumerable
      , xb = (a, e, t) => e in a ? Gg(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , us = (a, e) => {
        for (var t in e || (e = {}))
            Bg.call(e, t) && xb(a, t, e[t]);
        if (_b)
            for (var t of _b(e))
                Fg.call(e, t) && xb(a, t, e[t]);
        return a
    }
      , yb = ["webgl", "webgpu", "canvas"];
    async function zo(a) {
        var e;
        let t = [];
        a.preference ? (t.push(a.preference),
        yb.forEach(o => {
            o !== a.preference && t.push(o)
        }
        )) : t = yb.slice();
        let i, s = {};
        for (let o = 0; o < t.length; o++) {
            let d = t[o];
            if (d === "webgpu" && await Ho()) {
                let {WebGPURenderer: f} = await Promise.resolve().then(function() {
                    return gT
                });
                i = f,
                s = us(us({}, a), a.webgpu);
                break
            } else if (d === "webgl" && Xo((e = a.failIfMajorPerformanceCaveat) != null ? e : jo.defaultOptions.failIfMajorPerformanceCaveat)) {
                let {WebGLRenderer: f} = await Promise.resolve().then(function() {
                    return Wv
                });
                i = f,
                s = us(us({}, a), a.webgl);
                break
            } else if (d === "canvas")
                throw s = us({}, a),
                new Error("CanvasRenderer is not yet implemented")
        }
        if (delete s.webgpu,
        delete s.webgl,
        !i)
            throw new Error("No available renderer for the current environment");
        let r = new i;
        return await r.init(s),
        r
    }
    var Mn = "8.7.3"
      , Cn = class {
        static init() {
            var e;
            (e = globalThis.__PIXI_APP_INIT__) == null || e.call(globalThis, this, Mn)
        }
        static destroy() {}
    }
    ;
    Cn.extension = B.Application;
    var On = class {
        constructor(e) {
            this._renderer = e
        }
        init() {
            var e;
            (e = globalThis.__PIXI_RENDERER_INIT__) == null || e.call(globalThis, this._renderer, Mn)
        }
        destroy() {
            this._renderer = null
        }
    }
    ;
    On.extension = {
        type: [B.WebGLSystem, B.WebGPUSystem],
        name: "initHook",
        priority: -10
    };
    var Dg = Object.defineProperty
      , vb = Object.getOwnPropertySymbols
      , kg = Object.prototype.hasOwnProperty
      , Ug = Object.prototype.propertyIsEnumerable
      , Tb = (a, e, t) => e in a ? Dg(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , Lg = (a, e) => {
        for (var t in e || (e = {}))
            kg.call(e, t) && Tb(a, t, e[t]);
        if (vb)
            for (var t of vb(e))
                Ug.call(e, t) && Tb(a, t, e[t]);
        return a
    }
      , kp = class Ef {
        constructor(...e) {
            this.stage = new he
        }
        async init(e) {
            e = Lg({}, e),
            this.renderer = await zo(e),
            Ef._plugins.forEach(t => {
                t.init.call(this, e)
            }
            )
        }
        render() {
            this.renderer.render({
                container: this.stage
            })
        }
        get canvas() {
            return this.renderer.canvas
        }
        get view() {
            return this.renderer.canvas
        }
        get screen() {
            return this.renderer.screen
        }
        destroy(e=!1, t=!1) {
            let i = Ef._plugins.slice(0);
            i.reverse(),
            i.forEach(s => {
                s.destroy.call(this)
            }
            ),
            this.stage.destroy(t),
            this.stage = null,
            this.renderer.destroy(e),
            this.renderer = null
        }
    }
    ;
    kp._plugins = [];
    var Ng = kp;
    pe.handleByList(B.Application, Ng._plugins),
    pe.add(Cn);
    var In = class extends _n {
        constructor(e, t) {
            var i;
            super();
            let {textures: s, data: r} = e;
            Object.keys(r.pages).forEach(o => {
                let d = r.pages[parseInt(o, 10)]
                  , f = s[d.id];
                this.pages.push({
                    texture: f
                })
            }
            ),
            Object.keys(r.chars).forEach(o => {
                var d;
                let f = r.chars[o]
                  , {frame: h, source: u} = s[f.page]
                  , p = new Pe(f.x + h.x,f.y + h.y,f.width,f.height)
                  , x = new K({
                    source: u,
                    frame: p
                });
                this.chars[o] = {
                    id: o.codePointAt(0),
                    xOffset: f.xOffset,
                    yOffset: f.yOffset,
                    xAdvance: f.xAdvance,
                    kerning: (d = f.kerning) != null ? d : {},
                    texture: x
                }
            }
            ),
            this.baseRenderedFontSize = r.fontSize,
            this.baseMeasurementFontSize = r.fontSize,
            this.fontMetrics = {
                ascent: 0,
                descent: 0,
                fontSize: r.fontSize
            },
            this.baseLineOffset = r.baseLineOffset,
            this.lineHeight = r.lineHeight,
            this.fontFamily = r.fontFamily,
            this.distanceField = (i = r.distanceField) != null ? i : {
                type: "none",
                range: 0
            },
            this.url = t
        }
        destroy() {
            super.destroy();
            for (let e = 0; e < this.pages.length; e++) {
                let {texture: t} = this.pages[e];
                t.destroy(!0)
            }
            this.pages = null
        }
        static install(e) {
            xn.install(e)
        }
        static uninstall(e) {
            xn.uninstall(e)
        }
    }
      , ud = {
        test(a) {
            return typeof a == "string" && a.startsWith("info face=")
        },
        parse(a) {
            var e, t, i;
            let s = a.match(/^[a-z]+\s+.+$/gm)
              , r = {
                info: [],
                common: [],
                page: [],
                char: [],
                chars: [],
                kerning: [],
                kernings: [],
                distanceField: []
            };
            for (let T in s) {
                let S = s[T].match(/^[a-z]+/gm)[0]
                  , A = s[T].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm)
                  , P = {};
                for (let O in A) {
                    let F = A[O].split("=")
                      , k = F[0]
                      , V = F[1].replace(/"/gm, "")
                      , L = parseFloat(V)
                      , X = isNaN(L) ? V : L;
                    P[k] = X
                }
                r[S].push(P)
            }
            let o = {
                chars: {},
                pages: [],
                lineHeight: 0,
                fontSize: 0,
                fontFamily: "",
                distanceField: null,
                baseLineOffset: 0
            }
              , [d] = r.info
              , [f] = r.common
              , [h] = (e = r.distanceField) != null ? e : [];
            h && (o.distanceField = {
                range: parseInt(h.distanceRange, 10),
                type: h.fieldType
            }),
            o.fontSize = parseInt(d.size, 10),
            o.fontFamily = d.face,
            o.lineHeight = parseInt(f.lineHeight, 10);
            let u = r.page;
            for (let T = 0; T < u.length; T++)
                o.pages.push({
                    id: parseInt(u[T].id, 10) || 0,
                    file: u[T].file
                });
            let p = {};
            o.baseLineOffset = o.lineHeight - parseInt(f.base, 10);
            let x = r.char;
            for (let T = 0; T < x.length; T++) {
                let S = x[T]
                  , A = parseInt(S.id, 10)
                  , P = (i = (t = S.letter) != null ? t : S.char) != null ? i : String.fromCharCode(A);
                P === "space" && (P = " "),
                p[A] = P,
                o.chars[P] = {
                    id: A,
                    page: parseInt(S.page, 10) || 0,
                    x: parseInt(S.x, 10),
                    y: parseInt(S.y, 10),
                    width: parseInt(S.width, 10),
                    height: parseInt(S.height, 10),
                    xOffset: parseInt(S.xoffset, 10),
                    yOffset: parseInt(S.yoffset, 10),
                    xAdvance: parseInt(S.xadvance, 10),
                    kerning: {}
                }
            }
            let _ = r.kerning || [];
            for (let T = 0; T < _.length; T++) {
                let S = parseInt(_[T].first, 10)
                  , A = parseInt(_[T].second, 10)
                  , P = parseInt(_[T].amount, 10);
                o.chars[p[A]].kerning[p[S]] = P
            }
            return o
        }
    }
      , Sb = {
        test(a) {
            let e = a;
            return typeof e != "string" && "getElementsByTagName"in e && e.getElementsByTagName("page").length && e.getElementsByTagName("info")[0].getAttribute("face") !== null
        },
        parse(a) {
            var e, t;
            let i = {
                chars: {},
                pages: [],
                lineHeight: 0,
                fontSize: 0,
                fontFamily: "",
                distanceField: null,
                baseLineOffset: 0
            }
              , s = a.getElementsByTagName("info")[0]
              , r = a.getElementsByTagName("common")[0]
              , o = a.getElementsByTagName("distanceField")[0];
            o && (i.distanceField = {
                type: o.getAttribute("fieldType"),
                range: parseInt(o.getAttribute("distanceRange"), 10)
            });
            let d = a.getElementsByTagName("page")
              , f = a.getElementsByTagName("char")
              , h = a.getElementsByTagName("kerning");
            i.fontSize = parseInt(s.getAttribute("size"), 10),
            i.fontFamily = s.getAttribute("face"),
            i.lineHeight = parseInt(r.getAttribute("lineHeight"), 10);
            for (let p = 0; p < d.length; p++)
                i.pages.push({
                    id: parseInt(d[p].getAttribute("id"), 10) || 0,
                    file: d[p].getAttribute("file")
                });
            let u = {};
            i.baseLineOffset = i.lineHeight - parseInt(r.getAttribute("base"), 10);
            for (let p = 0; p < f.length; p++) {
                let x = f[p]
                  , _ = parseInt(x.getAttribute("id"), 10)
                  , T = (t = (e = x.getAttribute("letter")) != null ? e : x.getAttribute("char")) != null ? t : String.fromCharCode(_);
                T === "space" && (T = " "),
                u[_] = T,
                i.chars[T] = {
                    id: _,
                    page: parseInt(x.getAttribute("page"), 10) || 0,
                    x: parseInt(x.getAttribute("x"), 10),
                    y: parseInt(x.getAttribute("y"), 10),
                    width: parseInt(x.getAttribute("width"), 10),
                    height: parseInt(x.getAttribute("height"), 10),
                    xOffset: parseInt(x.getAttribute("xoffset"), 10),
                    yOffset: parseInt(x.getAttribute("yoffset"), 10),
                    xAdvance: parseInt(x.getAttribute("xadvance"), 10),
                    kerning: {}
                }
            }
            for (let p = 0; p < h.length; p++) {
                let x = parseInt(h[p].getAttribute("first"), 10)
                  , _ = parseInt(h[p].getAttribute("second"), 10)
                  , T = parseInt(h[p].getAttribute("amount"), 10);
                i.chars[u[_]].kerning[u[x]] = T
            }
            return i
        }
    }
      , wb = {
        test(a) {
            return typeof a == "string" && a.includes("<font>") ? Sb.test(ve.get().parseXML(a)) : !1
        },
        parse(a) {
            return Sb.parse(ve.get().parseXML(a))
        }
    }
      , jg = [".xml", ".fnt"]
      , Xg = {
        extension: {
            type: B.CacheParser,
            name: "cacheBitmapFont"
        },
        test: a => a instanceof In,
        getCacheableAssets(a, e) {
            let t = {};
            return a.forEach(i => {
                t[i] = e,
                t[`${i}-bitmap`] = e
            }
            ),
            t[`${e.fontFamily}-bitmap`] = e,
            t
        }
    }
      , Hg = {
        extension: {
            type: B.LoadParser,
            priority: Rt.Normal
        },
        name: "loadBitmapFont",
        test(a) {
            return jg.includes(_t.extname(a).toLowerCase())
        },
        async testParse(a) {
            return ud.test(a) || wb.test(a)
        },
        async parse(a, e, t) {
            let i = ud.test(a) ? ud.parse(a) : wb.parse(a)
              , {src: s} = e
              , {pages: r} = i
              , o = []
              , d = i.distanceField ? {
                scaleMode: "linear",
                alphaMode: "premultiply-alpha-on-upload",
                autoGenerateMipmaps: !1,
                resolution: 1
            } : {};
            for (let u = 0; u < r.length; ++u) {
                let p = r[u].file
                  , x = _t.join(_t.dirname(s), p);
                x = Xd(x, s),
                o.push({
                    src: x,
                    data: d
                })
            }
            let f = await t.load(o)
              , h = o.map(u => f[u.src]);
            return new In({
                data: i,
                textures: h
            },s)
        },
        async load(a, e) {
            return await (await ve.get().fetch(a)).text()
        },
        async unload(a, e, t) {
            await Promise.all(a.pages.map(i => t.unload(i.texture.source._sourceOrigin))),
            a.destroy()
        }
    }
      , Pf = class {
        constructor(e, t=!1) {
            this._loader = e,
            this._assetList = [],
            this._isLoading = !1,
            this._maxConcurrent = 1,
            this.verbose = t
        }
        add(e) {
            e.forEach(t => {
                this._assetList.push(t)
            }
            ),
            this.verbose,
            this._isActive && !this._isLoading && this._next()
        }
        async _next() {
            if (this._assetList.length && this._isActive) {
                this._isLoading = !0;
                let e = []
                  , t = Math.min(this._assetList.length, this._maxConcurrent);
                for (let i = 0; i < t; i++)
                    e.push(this._assetList.pop());
                await this._loader.load(e),
                this._isLoading = !1,
                this._next()
            }
        }
        get active() {
            return this._isActive
        }
        set active(e) {
            this._isActive !== e && (this._isActive = e,
            e && !this._isLoading && this._next())
        }
    }
      , zg = {
        extension: {
            type: B.CacheParser,
            name: "cacheTextureArray"
        },
        test: a => Array.isArray(a) && a.every(e => e instanceof K),
        getCacheableAssets: (a, e) => {
            let t = {};
            return a.forEach(i => {
                e.forEach( (s, r) => {
                    t[i + (r === 0 ? "" : r + 1)] = s
                }
                )
            }
            ),
            t
        }
    };
    async function Up(a) {
        if ("Image"in globalThis)
            return new Promise(e => {
                let t = new Image;
                t.onload = () => {
                    e(!0)
                }
                ,
                t.onerror = () => {
                    e(!1)
                }
                ,
                t.src = a
            }
            );
        if ("createImageBitmap"in globalThis && "fetch"in globalThis) {
            try {
                let e = await (await fetch(a)).blob();
                await createImageBitmap(e)
            } catch {
                return !1
            }
            return !0
        }
        return !1
    }
    var Vg = {
        extension: {
            type: B.DetectionParser,
            priority: 1
        },
        test: async () => Up("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),
        add: async a => [...a, "avif"],
        remove: async a => a.filter(e => e !== "avif")
    }
      , Ab = ["png", "jpg", "jpeg"]
      , Wg = {
        extension: {
            type: B.DetectionParser,
            priority: -1
        },
        test: () => Promise.resolve(!0),
        add: async a => [...a, ...Ab],
        remove: async a => a.filter(e => !Ab.includes(e))
    }
      , Yg = "WorkerGlobalScope"in globalThis && globalThis instanceof globalThis.WorkerGlobalScope;
    function Ih(a) {
        return Yg ? !1 : document.createElement("video").canPlayType(a) !== ""
    }
    var $g = {
        extension: {
            type: B.DetectionParser,
            priority: 0
        },
        test: async () => Ih("video/mp4"),
        add: async a => [...a, "mp4", "m4v"],
        remove: async a => a.filter(e => e !== "mp4" && e !== "m4v")
    }
      , Kg = {
        extension: {
            type: B.DetectionParser,
            priority: 0
        },
        test: async () => Ih("video/ogg"),
        add: async a => [...a, "ogv"],
        remove: async a => a.filter(e => e !== "ogv")
    }
      , qg = {
        extension: {
            type: B.DetectionParser,
            priority: 0
        },
        test: async () => Ih("video/webm"),
        add: async a => [...a, "webm"],
        remove: async a => a.filter(e => e !== "webm")
    }
      , Zg = {
        extension: {
            type: B.DetectionParser,
            priority: 0
        },
        test: async () => Up("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),
        add: async a => [...a, "webp"],
        remove: async a => a.filter(e => e !== "webp")
    }
      , Qg = Object.defineProperty
      , Jg = Object.defineProperties
      , em = Object.getOwnPropertyDescriptors
      , Eb = Object.getOwnPropertySymbols
      , tm = Object.prototype.hasOwnProperty
      , am = Object.prototype.propertyIsEnumerable
      , Pb = (a, e, t) => e in a ? Qg(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , im = (a, e) => {
        for (var t in e || (e = {}))
            tm.call(e, t) && Pb(a, t, e[t]);
        if (Eb)
            for (var t of Eb(e))
                am.call(e, t) && Pb(a, t, e[t]);
        return a
    }
      , sm = (a, e) => Jg(a, em(e))
      , Rf = class {
        constructor() {
            this._parsers = [],
            this._parsersValidated = !1,
            this.parsers = new Proxy(this._parsers,{
                set: (e, t, i) => (this._parsersValidated = !1,
                e[t] = i,
                !0)
            }),
            this.promiseCache = {}
        }
        reset() {
            this._parsersValidated = !1,
            this.promiseCache = {}
        }
        _getLoadPromiseAndParser(e, t) {
            let i = {
                promise: null,
                parser: null
            };
            return i.promise = (async () => {
                var s, r;
                let o = null
                  , d = null;
                if (t.loadParser && (d = this._parserHash[t.loadParser]),
                !d) {
                    for (let f = 0; f < this.parsers.length; f++) {
                        let h = this.parsers[f];
                        if (h.load && (s = h.test) != null && s.call(h, e, t, this)) {
                            d = h;
                            break
                        }
                    }
                    if (!d)
                        return null
                }
                o = await d.load(e, t, this),
                i.parser = d;
                for (let f = 0; f < this.parsers.length; f++) {
                    let h = this.parsers[f];
                    h.parse && h.parse && await ((r = h.testParse) == null ? void 0 : r.call(h, o, t, this)) && (o = await h.parse(o, t, this) || o,
                    i.parser = h)
                }
                return o
            }
            )(),
            i
        }
        async load(e, t) {
            this._parsersValidated || this._validateParsers();
            let i = 0
              , s = {}
              , r = Zr(e)
              , o = Xt(e, h => ({
                alias: [h],
                src: h,
                data: {}
            }))
              , d = o.length
              , f = o.map(async h => {
                let u = _t.toAbsolute(h.src);
                if (!s[h.src])
                    try {
                        this.promiseCache[u] || (this.promiseCache[u] = this._getLoadPromiseAndParser(u, h)),
                        s[h.src] = await this.promiseCache[u].promise,
                        t && t(++i / d)
                    } catch (p) {
                        throw delete this.promiseCache[u],
                        delete s[h.src],
                        new Error(`[Loader.load] Failed to load ${u}.
${p}`)
                    }
            }
            );
            return await Promise.all(f),
            r ? s[o[0].src] : s
        }
        async unload(e) {
            let t = Xt(e, i => ({
                alias: [i],
                src: i
            })).map(async i => {
                var s, r;
                let o = _t.toAbsolute(i.src)
                  , d = this.promiseCache[o];
                if (d) {
                    let f = await d.promise;
                    delete this.promiseCache[o],
                    await ((r = (s = d.parser) == null ? void 0 : s.unload) == null ? void 0 : r.call(s, f, i, this))
                }
            }
            );
            await Promise.all(t)
        }
        _validateParsers() {
            this._parsersValidated = !0,
            this._parserHash = this._parsers.filter(e => e.name).reduce( (e, t) => (t.name && e[t.name],
            sm(im({}, e), {
                [t.name]: t
            })), {})
        }
    }
    ;
    function Ui(a, e) {
        if (Array.isArray(e)) {
            for (let t of e)
                if (a.startsWith(`data:${t}`))
                    return !0;
            return !1
        }
        return a.startsWith(`data:${e}`)
    }
    function zt(a, e) {
        let t = a.split("?")[0]
          , i = _t.extname(t).toLowerCase();
        return Array.isArray(e) ? e.includes(i) : i === e
    }
    var rm = ".json"
      , nm = "application/json"
      , om = {
        extension: {
            type: B.LoadParser,
            priority: Rt.Low
        },
        name: "loadJson",
        test(a) {
            return Ui(a, nm) || zt(a, rm)
        },
        async load(a) {
            return await (await ve.get().fetch(a)).json()
        }
    }
      , cm = ".txt"
      , dm = "text/plain"
      , fm = {
        name: "loadTxt",
        extension: {
            type: B.LoadParser,
            priority: Rt.Low,
            name: "loadTxt"
        },
        test(a) {
            return Ui(a, dm) || zt(a, cm)
        },
        async load(a) {
            return await (await ve.get().fetch(a)).text()
        }
    }
      , hm = Object.defineProperty
      , lm = Object.defineProperties
      , um = Object.getOwnPropertyDescriptors
      , Rb = Object.getOwnPropertySymbols
      , bm = Object.prototype.hasOwnProperty
      , pm = Object.prototype.propertyIsEnumerable
      , Mb = (a, e, t) => e in a ? hm(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , gm = (a, e) => {
        for (var t in e || (e = {}))
            bm.call(e, t) && Mb(a, t, e[t]);
        if (Rb)
            for (var t of Rb(e))
                pm.call(e, t) && Mb(a, t, e[t]);
        return a
    }
      , mm = (a, e) => lm(a, um(e))
      , _m = ["normal", "bold", "100", "200", "300", "400", "500", "600", "700", "800", "900"]
      , xm = [".ttf", ".otf", ".woff", ".woff2"]
      , ym = ["font/ttf", "font/otf", "font/woff", "font/woff2"]
      , vm = /^(--|-?[A-Z_])[0-9A-Z_-]*$/i;
    function Tm(a) {
        let e = _t.extname(a)
          , t = _t.basename(a, e).replace(/(-|_)/g, " ").toLowerCase().split(" ").map(r => r.charAt(0).toUpperCase() + r.slice(1))
          , i = t.length > 0;
        for (let r of t)
            if (!r.match(vm)) {
                i = !1;
                break
            }
        let s = t.join(" ");
        return i || (s = `"${s.replace(/[\\"]/g, "\\$&")}"`),
        s
    }
    var Sm = /^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;
    function wm(a) {
        return Sm.test(a) ? a : encodeURI(a)
    }
    var Am = {
        extension: {
            type: B.LoadParser,
            priority: Rt.Low
        },
        name: "loadWebFont",
        test(a) {
            return Ui(a, ym) || zt(a, xm)
        },
        async load(a, e) {
            var t, i, s, r, o, d;
            let f = ve.get().getFontFaceSet();
            if (f) {
                let h = []
                  , u = (i = (t = e.data) == null ? void 0 : t.family) != null ? i : Tm(a)
                  , p = (o = (r = (s = e.data) == null ? void 0 : s.weights) == null ? void 0 : r.filter(_ => _m.includes(_))) != null ? o : ["normal"]
                  , x = (d = e.data) != null ? d : {};
                for (let _ = 0; _ < p.length; _++) {
                    let T = p[_]
                      , S = new FontFace(u,`url(${wm(a)})`,mm(gm({}, x), {
                        weight: T
                    }));
                    await S.load(),
                    f.add(S),
                    h.push(S)
                }
                return Ie.set(`${u}-and-url`, {
                    url: a,
                    fontFaces: h
                }),
                h.length === 1 ? h[0] : h
            }
            return null
        },
        unload(a) {
            (Array.isArray(a) ? a : [a]).forEach(e => {
                Ie.remove(`${e.family}-and-url`),
                ve.get().getFontFaceSet().delete(e)
            }
            )
        }
    };
    function Gh(a, e=1) {
        var t;
        let i = (t = la.RETINA_PREFIX) == null ? void 0 : t.exec(a);
        return i ? parseFloat(i[1]) : e
    }
    function si(a, e, t) {
        a.label = t,
        a._sourceOrigin = t;
        let i = new K({
            source: a,
            label: t
        })
          , s = () => {
            delete e.promiseCache[t],
            Ie.has(t) && Ie.remove(t)
        }
        ;
        return i.source.once("destroy", () => {
            e.promiseCache[t] && s()
        }
        ),
        i.once("destroy", () => {
            a.destroyed || s()
        }
        ),
        i
    }
    var Em = Object.defineProperty
      , Gn = Object.getOwnPropertySymbols
      , Lp = Object.prototype.hasOwnProperty
      , Np = Object.prototype.propertyIsEnumerable
      , Cb = (a, e, t) => e in a ? Em(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , Pm = (a, e) => {
        for (var t in e || (e = {}))
            Lp.call(e, t) && Cb(a, t, e[t]);
        if (Gn)
            for (var t of Gn(e))
                Np.call(e, t) && Cb(a, t, e[t]);
        return a
    }
      , Rm = (a, e) => {
        var t = {};
        for (var i in a)
            Lp.call(a, i) && e.indexOf(i) < 0 && (t[i] = a[i]);
        if (a != null && Gn)
            for (var i of Gn(a))
                e.indexOf(i) < 0 && Np.call(a, i) && (t[i] = a[i]);
        return t
    }
      , Mm = ".svg"
      , Cm = "image/svg+xml"
      , Om = {
        extension: {
            type: B.LoadParser,
            priority: Rt.Low,
            name: "loadSVG"
        },
        name: "loadSVG",
        config: {
            crossOrigin: "anonymous",
            parseAsGraphicsContext: !1
        },
        test(a) {
            return Ui(a, Cm) || zt(a, Mm)
        },
        async load(a, e, t) {
            var i, s;
            return ((s = (i = e.data) == null ? void 0 : i.parseAsGraphicsContext) != null ? s : this.config.parseAsGraphicsContext) ? Gm(a) : Im(a, e, t, this.config.crossOrigin)
        },
        unload(a) {
            a.destroy(!0)
        }
    };
    async function Im(a, e, t, i) {
        var s, r, o, d, f, h;
        let u = await (await ve.get().fetch(a)).blob()
          , p = URL.createObjectURL(u)
          , x = new Image;
        x.src = p,
        x.crossOrigin = i,
        await x.decode(),
        URL.revokeObjectURL(p);
        let _ = document.createElement("canvas")
          , T = _.getContext("2d")
          , S = ((s = e.data) == null ? void 0 : s.resolution) || Gh(a)
          , A = (o = (r = e.data) == null ? void 0 : r.width) != null ? o : x.width
          , P = (f = (d = e.data) == null ? void 0 : d.height) != null ? f : x.height;
        _.width = A * S,
        _.height = P * S,
        T.drawImage(x, 0, 0, A * S, P * S);
        let O = (h = e.data) != null ? h : {}
          , {parseAsGraphicsContext: F} = O
          , k = Rm(O, ["parseAsGraphicsContext"])
          , V = new Ba(Pm({
            resource: _,
            alphaMode: "premultiply-alpha-on-upload",
            resolution: S
        }, k));
        return si(V, t, a)
    }
    async function Gm(a) {
        let e = await (await ve.get().fetch(a)).text()
          , t = new dt;
        return t.svg(e),
        t
    }
    var Bm = `(function(){"use strict";const e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";async function a(){try{if(typeof createImageBitmap!="function")return!1;const A=await(await fetch(e)).blob(),t=await createImageBitmap(A);return t.width===1&&t.height===1}catch(A){return!1}}a().then(A=>{self.postMessage(A)})})();
`
      , Ei = null
      , Mf = class {
        constructor() {
            Ei || (Ei = URL.createObjectURL(new Blob([Bm],{
                type: "application/javascript"
            }))),
            this.worker = new Worker(Ei)
        }
    }
    ;
    Mf.revokeObjectURL = function() {
        Ei && (URL.revokeObjectURL(Ei),
        Ei = null)
    }
    ;
    var Fm = '(function(){"use strict";async function s(a,t){const e=await fetch(a);if(!e.ok)throw new Error(`[WorkerManager.loadImageBitmap] Failed to fetch ${a}: ${e.status} ${e.statusText}`);const i=await e.blob();return t==="premultiplied-alpha"?createImageBitmap(i,{premultiplyAlpha:"none"}):createImageBitmap(i)}self.onmessage=async a=>{try{const t=await s(a.data.data[0],a.data.data[1]);self.postMessage({data:t,uuid:a.data.uuid,id:a.data.id},[t])}catch(t){self.postMessage({error:t,uuid:a.data.uuid,id:a.data.id})}}})();\n'
      , Pi = null
      , jp = class {
        constructor() {
            Pi || (Pi = URL.createObjectURL(new Blob([Fm],{
                type: "application/javascript"
            }))),
            this.worker = new Worker(Pi)
        }
    }
    ;
    jp.revokeObjectURL = function() {
        Pi && (URL.revokeObjectURL(Pi),
        Pi = null)
    }
    ;
    var Ob = 0, bd, Dm = class {
        constructor() {
            this._initialized = !1,
            this._createdWorkers = 0,
            this._workerPool = [],
            this._queue = [],
            this._resolveHash = {}
        }
        isImageBitmapSupported() {
            return this._isImageBitmapSupported !== void 0 ? this._isImageBitmapSupported : (this._isImageBitmapSupported = new Promise(a => {
                let {worker: e} = new Mf;
                e.addEventListener("message", t => {
                    e.terminate(),
                    Mf.revokeObjectURL(),
                    a(t.data)
                }
                )
            }
            ),
            this._isImageBitmapSupported)
        }
        loadImageBitmap(a, e) {
            var t;
            return this._run("loadImageBitmap", [a, (t = e?.data) == null ? void 0 : t.alphaMode])
        }
        async _initWorkers() {
            this._initialized || (this._initialized = !0)
        }
        _getWorker() {
            bd === void 0 && (bd = navigator.hardwareConcurrency || 4);
            let a = this._workerPool.pop();
            return !a && this._createdWorkers < bd && (this._createdWorkers++,
            a = new jp().worker,
            a.addEventListener("message", e => {
                this._complete(e.data),
                this._returnWorker(e.target),
                this._next()
            }
            )),
            a
        }
        _returnWorker(a) {
            this._workerPool.push(a)
        }
        _complete(a) {
            a.error !== void 0 ? this._resolveHash[a.uuid].reject(a.error) : this._resolveHash[a.uuid].resolve(a.data),
            this._resolveHash[a.uuid] = null
        }
        async _run(a, e) {
            await this._initWorkers();
            let t = new Promise( (i, s) => {
                this._queue.push({
                    id: a,
                    arguments: e,
                    resolve: i,
                    reject: s
                })
            }
            );
            return this._next(),
            t
        }
        _next() {
            if (!this._queue.length)
                return;
            let a = this._getWorker();
            if (!a)
                return;
            let e = this._queue.pop()
              , t = e.id;
            this._resolveHash[Ob] = {
                resolve: e.resolve,
                reject: e.reject
            },
            a.postMessage({
                data: e.arguments,
                uuid: Ob++,
                id: t
            })
        }
    }
    , Ib = new Dm, km = Object.defineProperty, Gb = Object.getOwnPropertySymbols, Um = Object.prototype.hasOwnProperty, Lm = Object.prototype.propertyIsEnumerable, Bb = (a, e, t) => e in a ? km(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t, Nm = (a, e) => {
        for (var t in e || (e = {}))
            Um.call(e, t) && Bb(a, t, e[t]);
        if (Gb)
            for (var t of Gb(e))
                Lm.call(e, t) && Bb(a, t, e[t]);
        return a
    }
    , jm = [".jpeg", ".jpg", ".png", ".webp", ".avif"], Xm = ["image/jpeg", "image/png", "image/webp", "image/avif"];
    async function Hm(a, e) {
        var t;
        let i = await ve.get().fetch(a);
        if (!i.ok)
            throw new Error(`[loadImageBitmap] Failed to fetch ${a}: ${i.status} ${i.statusText}`);
        let s = await i.blob();
        return ((t = e?.data) == null ? void 0 : t.alphaMode) === "premultiplied-alpha" ? createImageBitmap(s, {
            premultiplyAlpha: "none"
        }) : createImageBitmap(s)
    }
    var Xp = {
        name: "loadTextures",
        extension: {
            type: B.LoadParser,
            priority: Rt.High,
            name: "loadTextures"
        },
        config: {
            preferWorkers: !0,
            preferCreateImageBitmap: !0,
            crossOrigin: "anonymous"
        },
        test(a) {
            return Ui(a, Xm) || zt(a, jm)
        },
        async load(a, e, t) {
            var i;
            let s = null;
            globalThis.createImageBitmap && this.config.preferCreateImageBitmap ? this.config.preferWorkers && await Ib.isImageBitmapSupported() ? s = await Ib.loadImageBitmap(a, e) : s = await Hm(a, e) : s = await new Promise( (o, d) => {
                s = new Image,
                s.crossOrigin = this.config.crossOrigin,
                s.src = a,
                s.complete ? o(s) : (s.onload = () => {
                    o(s)
                }
                ,
                s.onerror = d)
            }
            );
            let r = new Ba(Nm({
                resource: s,
                alphaMode: "premultiply-alpha-on-upload",
                resolution: ((i = e.data) == null ? void 0 : i.resolution) || Gh(a)
            }, e.data));
            return si(r, t, a)
        },
        unload(a) {
            a.destroy(!0)
        }
    }
      , zm = Object.defineProperty
      , Vm = Object.defineProperties
      , Wm = Object.getOwnPropertyDescriptors
      , Fb = Object.getOwnPropertySymbols
      , Ym = Object.prototype.hasOwnProperty
      , $m = Object.prototype.propertyIsEnumerable
      , Db = (a, e, t) => e in a ? zm(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , pd = (a, e) => {
        for (var t in e || (e = {}))
            Ym.call(e, t) && Db(a, t, e[t]);
        if (Fb)
            for (var t of Fb(e))
                $m.call(e, t) && Db(a, t, e[t]);
        return a
    }
      , kb = (a, e) => Vm(a, Wm(e))
      , Hp = [".mp4", ".m4v", ".webm", ".ogg", ".ogv", ".h264", ".avi", ".mov"]
      , Km = Hp.map(a => `video/${a.substring(1)}`);
    function qm(a, e, t) {
        t === void 0 && !e.startsWith("data:") ? a.crossOrigin = Qm(e) : t !== !1 && (a.crossOrigin = typeof t == "string" ? t : "anonymous")
    }
    function Zm(a) {
        return new Promise( (e, t) => {
            a.addEventListener("canplaythrough", i),
            a.addEventListener("error", s),
            a.load();
            function i() {
                r(),
                e()
            }
            function s(o) {
                r(),
                t(o)
            }
            function r() {
                a.removeEventListener("canplaythrough", i),
                a.removeEventListener("error", s)
            }
        }
        )
    }
    function Qm(a, e=globalThis.location) {
        if (a.startsWith("data:"))
            return "";
        e || (e = globalThis.location);
        let t = new URL(a,document.baseURI);
        return t.hostname !== e.hostname || t.port !== e.port || t.protocol !== e.protocol ? "anonymous" : ""
    }
    var Jm = {
        name: "loadVideo",
        extension: {
            type: B.LoadParser,
            name: "loadVideo"
        },
        test(a) {
            let e = Ui(a, Km)
              , t = zt(a, Hp);
            return e || t
        },
        async load(a, e, t) {
            var i, s;
            let r = pd(kb(pd({}, Nr.defaultOptions), {
                resolution: ((i = e.data) == null ? void 0 : i.resolution) || Gh(a),
                alphaMode: ((s = e.data) == null ? void 0 : s.alphaMode) || await U2()
            }), e.data)
              , o = document.createElement("video")
              , d = {
                preload: r.autoLoad !== !1 ? "auto" : void 0,
                "webkit-playsinline": r.playsinline !== !1 ? "" : void 0,
                playsinline: r.playsinline !== !1 ? "" : void 0,
                muted: r.muted === !0 ? "" : void 0,
                loop: r.loop === !0 ? "" : void 0,
                autoplay: r.autoPlay !== !1 ? "" : void 0
            };
            Object.keys(d).forEach(u => {
                let p = d[u];
                p !== void 0 && o.setAttribute(u, p)
            }
            ),
            r.muted === !0 && (o.muted = !0),
            qm(o, a, r.crossorigin);
            let f = document.createElement("source"), h;
            if (a.startsWith("data:"))
                h = a.slice(5, a.indexOf(";"));
            else if (!a.startsWith("blob:")) {
                let u = a.split("?")[0].slice(a.lastIndexOf(".") + 1).toLowerCase();
                h = Nr.MIME_TYPES[u] || `video/${u}`
            }
            return f.src = a,
            h && (f.type = h),
            new Promise(u => {
                let p = async () => {
                    let x = new Nr(kb(pd({}, r), {
                        resource: o
                    }));
                    o.removeEventListener("canplay", p),
                    e.data.preload && await Zm(o),
                    u(si(x, t, a))
                }
                ;
                o.addEventListener("canplay", p),
                o.appendChild(f)
            }
            )
        },
        unload(a) {
            a.destroy(!0)
        }
    }
      , zp = {
        extension: {
            type: B.ResolveParser,
            name: "resolveTexture"
        },
        test: Xp.test,
        parse: a => {
            var e, t;
            return {
                resolution: parseFloat((t = (e = la.RETINA_PREFIX.exec(a)) == null ? void 0 : e[1]) != null ? t : "1"),
                format: a.split(".").pop(),
                src: a
            }
        }
    }
      , e_ = {
        extension: {
            type: B.ResolveParser,
            priority: -2,
            name: "resolveJson"
        },
        test: a => la.RETINA_PREFIX.test(a) && a.endsWith(".json"),
        parse: zp.parse
    }
      , Cf = class {
        constructor() {
            this._detections = [],
            this._initialized = !1,
            this.resolver = new la,
            this.loader = new Rf,
            this.cache = Ie,
            this._backgroundLoader = new Pf(this.loader),
            this._backgroundLoader.active = !0,
            this.reset()
        }
        async init(e={}) {
            var t, i, s;
            if (this._initialized)
                return;
            if (this._initialized = !0,
            e.defaultSearchParams && this.resolver.setDefaultSearchParams(e.defaultSearchParams),
            e.basePath && (this.resolver.basePath = e.basePath),
            e.bundleIdentifier && this.resolver.setBundleIdentifier(e.bundleIdentifier),
            e.manifest) {
                let f = e.manifest;
                typeof f == "string" && (f = await this.load(f)),
                this.resolver.addManifest(f)
            }
            let r = (i = (t = e.texturePreference) == null ? void 0 : t.resolution) != null ? i : 1
              , o = typeof r == "number" ? [r] : r
              , d = await this._detectFormats({
                preferredFormats: (s = e.texturePreference) == null ? void 0 : s.format,
                skipDetections: e.skipDetections,
                detections: this._detections
            });
            this.resolver.prefer({
                params: {
                    format: d,
                    resolution: o
                }
            }),
            e.preferences && this.setPreferences(e.preferences)
        }
        add(e) {
            this.resolver.add(e)
        }
        async load(e, t) {
            this._initialized || await this.init();
            let i = Zr(e)
              , s = Xt(e).map(d => {
                if (typeof d != "string") {
                    let f = this.resolver.getAlias(d);
                    return f.some(h => !this.resolver.hasKey(h)) && this.add(d),
                    Array.isArray(f) ? f[0] : f
                }
                return this.resolver.hasKey(d) || this.add({
                    alias: d,
                    src: d
                }),
                d
            }
            )
              , r = this.resolver.resolve(s)
              , o = await this._mapLoadToResolve(r, t);
            return i ? o[s[0]] : o
        }
        addBundle(e, t) {
            this.resolver.addBundle(e, t)
        }
        async loadBundle(e, t) {
            this._initialized || await this.init();
            let i = !1;
            typeof e == "string" && (i = !0,
            e = [e]);
            let s = this.resolver.resolveBundle(e)
              , r = {}
              , o = Object.keys(s)
              , d = 0
              , f = 0
              , h = () => {
                t?.(++d / f)
            }
              , u = o.map(p => {
                let x = s[p];
                return f += Object.keys(x).length,
                this._mapLoadToResolve(x, h).then(_ => {
                    r[p] = _
                }
                )
            }
            );
            return await Promise.all(u),
            i ? r[e[0]] : r
        }
        async backgroundLoad(e) {
            this._initialized || await this.init(),
            typeof e == "string" && (e = [e]);
            let t = this.resolver.resolve(e);
            this._backgroundLoader.add(Object.values(t))
        }
        async backgroundLoadBundle(e) {
            this._initialized || await this.init(),
            typeof e == "string" && (e = [e]);
            let t = this.resolver.resolveBundle(e);
            Object.values(t).forEach(i => {
                this._backgroundLoader.add(Object.values(i))
            }
            )
        }
        reset() {
            this.resolver.reset(),
            this.loader.reset(),
            this.cache.reset(),
            this._initialized = !1
        }
        get(e) {
            if (typeof e == "string")
                return Ie.get(e);
            let t = {};
            for (let i = 0; i < e.length; i++)
                t[i] = Ie.get(e[i]);
            return t
        }
        async _mapLoadToResolve(e, t) {
            let i = [...new Set(Object.values(e))];
            this._backgroundLoader.active = !1;
            let s = await this.loader.load(i, t);
            this._backgroundLoader.active = !0;
            let r = {};
            return i.forEach(o => {
                let d = s[o.src]
                  , f = [o.src];
                o.alias && f.push(...o.alias),
                f.forEach(h => {
                    r[h] = d
                }
                ),
                Ie.set(f, d)
            }
            ),
            r
        }
        async unload(e) {
            this._initialized || await this.init();
            let t = Xt(e).map(s => typeof s != "string" ? s.src : s)
              , i = this.resolver.resolve(t);
            await this._unloadFromResolved(i)
        }
        async unloadBundle(e) {
            this._initialized || await this.init(),
            e = Xt(e);
            let t = this.resolver.resolveBundle(e)
              , i = Object.keys(t).map(s => this._unloadFromResolved(t[s]));
            await Promise.all(i)
        }
        async _unloadFromResolved(e) {
            let t = Object.values(e);
            t.forEach(i => {
                Ie.remove(i.src)
            }
            ),
            await this.loader.unload(t)
        }
        async _detectFormats(e) {
            let t = [];
            e.preferredFormats && (t = Array.isArray(e.preferredFormats) ? e.preferredFormats : [e.preferredFormats]);
            for (let i of e.detections)
                e.skipDetections || await i.test() ? t = await i.add(t) : e.skipDetections || (t = await i.remove(t));
            return t = t.filter( (i, s) => t.indexOf(i) === s),
            t
        }
        get detections() {
            return this._detections
        }
        setPreferences(e) {
            this.loader.parsers.forEach(t => {
                t.config && Object.keys(t.config).filter(i => i in e).forEach(i => {
                    t.config[i] = e[i]
                }
                )
            }
            )
        }
    }
      , ge = new Cf;
    pe.handleByList(B.LoadParser, ge.loader.parsers).handleByList(B.ResolveParser, ge.resolver.parsers).handleByList(B.CacheParser, ge.cache.parsers).handleByList(B.DetectionParser, ge.detections),
    pe.add(zg, Wg, Vg, Zg, $g, Kg, qg, om, fm, Am, Om, Xp, Jm, Hg, Xg, zp, e_);
    var Ub = {
        loader: B.LoadParser,
        resolver: B.ResolveParser,
        cache: B.CacheParser,
        detection: B.DetectionParser
    };
    pe.handle(B.Asset, a => {
        let e = a.ref;
        Object.entries(Ub).filter( ([t]) => !!e[t]).forEach( ([t,i]) => {
            var s;
            return pe.add(Object.assign(e[t], {
                extension: (s = e[t].extension) != null ? s : i
            }))
        }
        )
    }
    , a => {
        let e = a.ref;
        Object.keys(Ub).filter(t => !!e[t]).forEach(t => pe.remove(e[t]))
    }
    );
    var fS = {
        extension: {
            type: B.DetectionParser,
            priority: 3
        },
        test: async () => !!(await Ho() || Xo()),
        add: async a => [...a, "basis"],
        remove: async a => a.filter(e => e !== "basis")
    }, Di = class extends De {
        constructor(e) {
            super(e),
            this.uploadMethodId = "compressed",
            this.resource = e.resource,
            this.mipLevelCount = this.resource.length
        }
    }
    , Cr;
    function Lb() {
        if (Cr)
            return Cr;
        let a = document.createElement("canvas").getContext("webgl");
        return a ? (Cr = [...a.getExtension("EXT_texture_compression_bptc") ? ["bc6h-rgb-ufloat", "bc6h-rgb-float", "bc7-rgba-unorm", "bc7-rgba-unorm-srgb"] : [], ...a.getExtension("WEBGL_compressed_texture_s3tc") ? ["bc1-rgba-unorm", "bc2-rgba-unorm", "bc3-rgba-unorm"] : [], ...a.getExtension("WEBGL_compressed_texture_s3tc_srgb") ? ["bc1-rgba-unorm-srgb", "bc2-rgba-unorm-srgb", "bc3-rgba-unorm-srgb"] : [], ...a.getExtension("EXT_texture_compression_rgtc") ? ["bc4-r-unorm", "bc4-r-snorm", "bc5-rg-unorm", "bc5-rg-snorm"] : [], ...a.getExtension("WEBGL_compressed_texture_etc") ? ["etc2-rgb8unorm", "etc2-rgb8unorm-srgb", "etc2-rgba8unorm", "etc2-rgba8unorm-srgb", "etc2-rgb8a1unorm", "etc2-rgb8a1unorm-srgb", "eac-r11unorm", "eac-rg11unorm"] : [], ...a.getExtension("WEBGL_compressed_texture_astc") ? ["astc-4x4-unorm", "astc-4x4-unorm-srgb", "astc-5x4-unorm", "astc-5x4-unorm-srgb", "astc-5x5-unorm", "astc-5x5-unorm-srgb", "astc-6x5-unorm", "astc-6x5-unorm-srgb", "astc-6x6-unorm", "astc-6x6-unorm-srgb", "astc-8x5-unorm", "astc-8x5-unorm-srgb", "astc-8x6-unorm", "astc-8x6-unorm-srgb", "astc-8x8-unorm", "astc-8x8-unorm-srgb", "astc-10x5-unorm", "astc-10x5-unorm-srgb", "astc-10x6-unorm", "astc-10x6-unorm-srgb", "astc-10x8-unorm", "astc-10x8-unorm-srgb", "astc-10x10-unorm", "astc-10x10-unorm-srgb", "astc-12x10-unorm", "astc-12x10-unorm-srgb", "astc-12x12-unorm", "astc-12x12-unorm-srgb"] : []],
        Cr) : []
    }
    var Or;
    async function Nb() {
        if (Or)
            return Or;
        let a = await ve.get().getNavigator().gpu.requestAdapter();
        return Or = [...a.features.has("texture-compression-bc") ? ["bc1-rgba-unorm", "bc1-rgba-unorm-srgb", "bc2-rgba-unorm", "bc2-rgba-unorm-srgb", "bc3-rgba-unorm", "bc3-rgba-unorm-srgb", "bc4-r-unorm", "bc4-r-snorm", "bc5-rg-unorm", "bc5-rg-snorm", "bc6h-rgb-ufloat", "bc6h-rgb-float", "bc7-rgba-unorm", "bc7-rgba-unorm-srgb"] : [], ...a.features.has("texture-compression-etc2") ? ["etc2-rgb8unorm", "etc2-rgb8unorm-srgb", "etc2-rgb8a1unorm", "etc2-rgb8a1unorm-srgb", "etc2-rgba8unorm", "etc2-rgba8unorm-srgb", "eac-r11unorm", "eac-r11snorm", "eac-rg11unorm", "eac-rg11snorm"] : [], ...a.features.has("texture-compression-astc") ? ["astc-4x4-unorm", "astc-4x4-unorm-srgb", "astc-5x4-unorm", "astc-5x4-unorm-srgb", "astc-5x5-unorm", "astc-5x5-unorm-srgb", "astc-6x5-unorm", "astc-6x5-unorm-srgb", "astc-6x6-unorm", "astc-6x6-unorm-srgb", "astc-8x5-unorm", "astc-8x5-unorm-srgb", "astc-8x6-unorm", "astc-8x6-unorm-srgb", "astc-8x8-unorm", "astc-8x8-unorm-srgb", "astc-10x5-unorm", "astc-10x5-unorm-srgb", "astc-10x6-unorm", "astc-10x6-unorm-srgb", "astc-10x8-unorm", "astc-10x8-unorm-srgb", "astc-10x10-unorm", "astc-10x10-unorm-srgb", "astc-12x10-unorm", "astc-12x10-unorm-srgb", "astc-12x12-unorm", "astc-12x12-unorm-srgb"] : []],
        Or
    }
    var gd;
    async function Vp() {
        return gd !== void 0 || (gd = await (async () => {
            let a = await Ho()
              , e = Xo();
            if (a && e) {
                let t = await Nb()
                  , i = Lb();
                return t.filter(s => i.includes(s))
            } else {
                if (a)
                    return await Nb();
                if (e)
                    return Lb()
            }
            return []
        }
        )()),
        gd
    }
    var t_ = ["r8unorm", "r8snorm", "r8uint", "r8sint", "r16uint", "r16sint", "r16float", "rg8unorm", "rg8snorm", "rg8uint", "rg8sint", "r32uint", "r32sint", "r32float", "rg16uint", "rg16sint", "rg16float", "rgba8unorm", "rgba8unorm-srgb", "rgba8snorm", "rgba8uint", "rgba8sint", "bgra8unorm", "bgra8unorm-srgb", "rgb9e5ufloat", "rgb10a2unorm", "rg11b10ufloat", "rg32uint", "rg32sint", "rg32float", "rgba16uint", "rgba16sint", "rgba16float", "rgba32uint", "rgba32sint", "rgba32float", "stencil8", "depth16unorm", "depth24plus", "depth24plus-stencil8", "depth32float", "depth32float-stencil8"], Ir;
    async function Vo() {
        if (Ir !== void 0)
            return Ir;
        let a = await Vp();
        return Ir = [...t_, ...a],
        Ir
    }
    var a_ = '(function(){"use strict";function g(r,a){const t=r.getNumImages(),s=r.getNumLevels(0);if(!r.startTranscoding())throw new Error("startTranscoding failed");const m=[];for(let e=0;e<s;++e)for(let o=0;o<t;++o){const B=r.getImageTranscodedSizeInBytes(o,e,a),f=new Uint8Array(B);if(!r.transcodeImage(f,o,e,a,1,0))throw new Error("transcodeImage failed");m.push(f)}return m}const w={"bc3-rgba-unorm":3,"bc7-rgba-unorm":6,"etc2-rgba8unorm":1,"astc-4x4-unorm":10,rgba8unorm:13,rgba4unorm:16};function d(r){const a=w[r];if(a)return a;throw new Error(`Unsupported transcoderFormat: ${r}`)}const n={jsUrl:"basis/basis_transcoder.js",wasmUrl:"basis/basis_transcoder.wasm"};let u,i,c;async function l(){if(!c){const r=new URL(n.jsUrl,location.origin).href,a=new URL(n.wasmUrl,location.origin).href;importScripts(r),c=new Promise(t=>{BASIS({locateFile:s=>a}).then(s=>{s.initializeBasis(),t(s.BasisFile)})})}return c}async function b(r,a){const t=await fetch(r);if(t.ok){const s=await t.arrayBuffer();return new a(new Uint8Array(s))}throw new Error(`Failed to load Basis texture: ${r}`)}const h=["bc7-rgba-unorm","astc-4x4-unorm","etc2-rgba8unorm","bc3-rgba-unorm","rgba8unorm"];async function p(r){const a=await l(),t=await b(r,a),s=g(t,u);return{width:t.getImageWidth(0,0),height:t.getImageHeight(0,0),format:i,resource:s,alphaMode:"no-premultiply-alpha"}}async function y(r,a,t){r&&(n.jsUrl=r),a&&(n.wasmUrl=a),i=h.filter(s=>t.includes(s))[0],u=d(i),await l()}const U={init:async r=>{const{jsUrl:a,wasmUrl:t,supportedTextures:s}=r;await y(a,t,s)},load:async r=>{var a;try{const t=await p(r.url);return{type:"load",url:r.url,success:!0,textureOptions:t,transferables:(a=t.resource)==null?void 0:a.map(s=>s.buffer)}}catch(t){throw t}}};self.onmessage=async r=>{const a=r.data,t=await U[a.type](a);t&&self.postMessage(t,t.transferables)}})();\n'
      , Ri = null
      , Wp = class {
        constructor() {
            Ri || (Ri = URL.createObjectURL(new Blob([a_],{
                type: "application/javascript"
            }))),
            this.worker = new Worker(Ri)
        }
    }
    ;
    Wp.revokeObjectURL = function() {
        Ri && (URL.revokeObjectURL(Ri),
        Ri = null)
    }
    ;
    var jb = {
        jsUrl: "https://files.pixijs.download/transcoders/basis/basis_transcoder.js",
        wasmUrl: "https://files.pixijs.download/transcoders/basis/basis_transcoder.wasm"
    };
    var bs, Yp = {};
    function i_(a) {
        return bs || (bs = new Wp().worker,
        bs.onmessage = e => {
            let {success: t, url: i, textureOptions: s} = e.data;
            Yp[i](s)
        }
        ,
        bs.postMessage({
            type: "init",
            jsUrl: jb.jsUrl,
            wasmUrl: jb.wasmUrl,
            supportedTextures: a
        })),
        bs
    }
    function s_(a, e) {
        let t = i_(e);
        return new Promise(i => {
            Yp[a] = i,
            t.postMessage({
                type: "load",
                url: a
            })
        }
        )
    }
    var hS = {
        extension: {
            type: B.LoadParser,
            priority: Rt.High,
            name: "loadBasis"
        },
        name: "loadBasis",
        test(a) {
            return zt(a, [".basis"])
        },
        async load(a, e, t) {
            let i = await Vo()
              , s = await s_(a, i)
              , r = new Di(s);
            return si(r, t, a)
        },
        unload(a) {
            Array.isArray(a) ? a.forEach(e => e.destroy(!0)) : a.destroy(!0)
        }
    };
    var r_ = {
        MAGIC: 0,
        SIZE: 1,
        FLAGS: 2,
        HEIGHT: 3,
        WIDTH: 4,
        MIPMAP_COUNT: 7,
        PIXEL_FORMAT: 19,
        PF_FLAGS: 20,
        FOURCC: 21,
        RGB_BITCOUNT: 22,
        R_BIT_MASK: 23,
        G_BIT_MASK: 24,
        B_BIT_MASK: 25,
        A_BIT_MASK: 26
    }
      , n_ = {
        DXGI_FORMAT: 0,
        RESOURCE_DIMENSION: 1,
        MISC_FLAG: 2,
        ARRAY_SIZE: 3,
        MISC_FLAGS2: 4
    }
      , $p = (a => (a[a.DXGI_FORMAT_UNKNOWN = 0] = "DXGI_FORMAT_UNKNOWN",
    a[a.DXGI_FORMAT_R32G32B32A32_TYPELESS = 1] = "DXGI_FORMAT_R32G32B32A32_TYPELESS",
    a[a.DXGI_FORMAT_R32G32B32A32_FLOAT = 2] = "DXGI_FORMAT_R32G32B32A32_FLOAT",
    a[a.DXGI_FORMAT_R32G32B32A32_UINT = 3] = "DXGI_FORMAT_R32G32B32A32_UINT",
    a[a.DXGI_FORMAT_R32G32B32A32_SINT = 4] = "DXGI_FORMAT_R32G32B32A32_SINT",
    a[a.DXGI_FORMAT_R32G32B32_TYPELESS = 5] = "DXGI_FORMAT_R32G32B32_TYPELESS",
    a[a.DXGI_FORMAT_R32G32B32_FLOAT = 6] = "DXGI_FORMAT_R32G32B32_FLOAT",
    a[a.DXGI_FORMAT_R32G32B32_UINT = 7] = "DXGI_FORMAT_R32G32B32_UINT",
    a[a.DXGI_FORMAT_R32G32B32_SINT = 8] = "DXGI_FORMAT_R32G32B32_SINT",
    a[a.DXGI_FORMAT_R16G16B16A16_TYPELESS = 9] = "DXGI_FORMAT_R16G16B16A16_TYPELESS",
    a[a.DXGI_FORMAT_R16G16B16A16_FLOAT = 10] = "DXGI_FORMAT_R16G16B16A16_FLOAT",
    a[a.DXGI_FORMAT_R16G16B16A16_UNORM = 11] = "DXGI_FORMAT_R16G16B16A16_UNORM",
    a[a.DXGI_FORMAT_R16G16B16A16_UINT = 12] = "DXGI_FORMAT_R16G16B16A16_UINT",
    a[a.DXGI_FORMAT_R16G16B16A16_SNORM = 13] = "DXGI_FORMAT_R16G16B16A16_SNORM",
    a[a.DXGI_FORMAT_R16G16B16A16_SINT = 14] = "DXGI_FORMAT_R16G16B16A16_SINT",
    a[a.DXGI_FORMAT_R32G32_TYPELESS = 15] = "DXGI_FORMAT_R32G32_TYPELESS",
    a[a.DXGI_FORMAT_R32G32_FLOAT = 16] = "DXGI_FORMAT_R32G32_FLOAT",
    a[a.DXGI_FORMAT_R32G32_UINT = 17] = "DXGI_FORMAT_R32G32_UINT",
    a[a.DXGI_FORMAT_R32G32_SINT = 18] = "DXGI_FORMAT_R32G32_SINT",
    a[a.DXGI_FORMAT_R32G8X24_TYPELESS = 19] = "DXGI_FORMAT_R32G8X24_TYPELESS",
    a[a.DXGI_FORMAT_D32_FLOAT_S8X24_UINT = 20] = "DXGI_FORMAT_D32_FLOAT_S8X24_UINT",
    a[a.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS = 21] = "DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",
    a[a.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT = 22] = "DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",
    a[a.DXGI_FORMAT_R10G10B10A2_TYPELESS = 23] = "DXGI_FORMAT_R10G10B10A2_TYPELESS",
    a[a.DXGI_FORMAT_R10G10B10A2_UNORM = 24] = "DXGI_FORMAT_R10G10B10A2_UNORM",
    a[a.DXGI_FORMAT_R10G10B10A2_UINT = 25] = "DXGI_FORMAT_R10G10B10A2_UINT",
    a[a.DXGI_FORMAT_R11G11B10_FLOAT = 26] = "DXGI_FORMAT_R11G11B10_FLOAT",
    a[a.DXGI_FORMAT_R8G8B8A8_TYPELESS = 27] = "DXGI_FORMAT_R8G8B8A8_TYPELESS",
    a[a.DXGI_FORMAT_R8G8B8A8_UNORM = 28] = "DXGI_FORMAT_R8G8B8A8_UNORM",
    a[a.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB = 29] = "DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",
    a[a.DXGI_FORMAT_R8G8B8A8_UINT = 30] = "DXGI_FORMAT_R8G8B8A8_UINT",
    a[a.DXGI_FORMAT_R8G8B8A8_SNORM = 31] = "DXGI_FORMAT_R8G8B8A8_SNORM",
    a[a.DXGI_FORMAT_R8G8B8A8_SINT = 32] = "DXGI_FORMAT_R8G8B8A8_SINT",
    a[a.DXGI_FORMAT_R16G16_TYPELESS = 33] = "DXGI_FORMAT_R16G16_TYPELESS",
    a[a.DXGI_FORMAT_R16G16_FLOAT = 34] = "DXGI_FORMAT_R16G16_FLOAT",
    a[a.DXGI_FORMAT_R16G16_UNORM = 35] = "DXGI_FORMAT_R16G16_UNORM",
    a[a.DXGI_FORMAT_R16G16_UINT = 36] = "DXGI_FORMAT_R16G16_UINT",
    a[a.DXGI_FORMAT_R16G16_SNORM = 37] = "DXGI_FORMAT_R16G16_SNORM",
    a[a.DXGI_FORMAT_R16G16_SINT = 38] = "DXGI_FORMAT_R16G16_SINT",
    a[a.DXGI_FORMAT_R32_TYPELESS = 39] = "DXGI_FORMAT_R32_TYPELESS",
    a[a.DXGI_FORMAT_D32_FLOAT = 40] = "DXGI_FORMAT_D32_FLOAT",
    a[a.DXGI_FORMAT_R32_FLOAT = 41] = "DXGI_FORMAT_R32_FLOAT",
    a[a.DXGI_FORMAT_R32_UINT = 42] = "DXGI_FORMAT_R32_UINT",
    a[a.DXGI_FORMAT_R32_SINT = 43] = "DXGI_FORMAT_R32_SINT",
    a[a.DXGI_FORMAT_R24G8_TYPELESS = 44] = "DXGI_FORMAT_R24G8_TYPELESS",
    a[a.DXGI_FORMAT_D24_UNORM_S8_UINT = 45] = "DXGI_FORMAT_D24_UNORM_S8_UINT",
    a[a.DXGI_FORMAT_R24_UNORM_X8_TYPELESS = 46] = "DXGI_FORMAT_R24_UNORM_X8_TYPELESS",
    a[a.DXGI_FORMAT_X24_TYPELESS_G8_UINT = 47] = "DXGI_FORMAT_X24_TYPELESS_G8_UINT",
    a[a.DXGI_FORMAT_R8G8_TYPELESS = 48] = "DXGI_FORMAT_R8G8_TYPELESS",
    a[a.DXGI_FORMAT_R8G8_UNORM = 49] = "DXGI_FORMAT_R8G8_UNORM",
    a[a.DXGI_FORMAT_R8G8_UINT = 50] = "DXGI_FORMAT_R8G8_UINT",
    a[a.DXGI_FORMAT_R8G8_SNORM = 51] = "DXGI_FORMAT_R8G8_SNORM",
    a[a.DXGI_FORMAT_R8G8_SINT = 52] = "DXGI_FORMAT_R8G8_SINT",
    a[a.DXGI_FORMAT_R16_TYPELESS = 53] = "DXGI_FORMAT_R16_TYPELESS",
    a[a.DXGI_FORMAT_R16_FLOAT = 54] = "DXGI_FORMAT_R16_FLOAT",
    a[a.DXGI_FORMAT_D16_UNORM = 55] = "DXGI_FORMAT_D16_UNORM",
    a[a.DXGI_FORMAT_R16_UNORM = 56] = "DXGI_FORMAT_R16_UNORM",
    a[a.DXGI_FORMAT_R16_UINT = 57] = "DXGI_FORMAT_R16_UINT",
    a[a.DXGI_FORMAT_R16_SNORM = 58] = "DXGI_FORMAT_R16_SNORM",
    a[a.DXGI_FORMAT_R16_SINT = 59] = "DXGI_FORMAT_R16_SINT",
    a[a.DXGI_FORMAT_R8_TYPELESS = 60] = "DXGI_FORMAT_R8_TYPELESS",
    a[a.DXGI_FORMAT_R8_UNORM = 61] = "DXGI_FORMAT_R8_UNORM",
    a[a.DXGI_FORMAT_R8_UINT = 62] = "DXGI_FORMAT_R8_UINT",
    a[a.DXGI_FORMAT_R8_SNORM = 63] = "DXGI_FORMAT_R8_SNORM",
    a[a.DXGI_FORMAT_R8_SINT = 64] = "DXGI_FORMAT_R8_SINT",
    a[a.DXGI_FORMAT_A8_UNORM = 65] = "DXGI_FORMAT_A8_UNORM",
    a[a.DXGI_FORMAT_R1_UNORM = 66] = "DXGI_FORMAT_R1_UNORM",
    a[a.DXGI_FORMAT_R9G9B9E5_SHAREDEXP = 67] = "DXGI_FORMAT_R9G9B9E5_SHAREDEXP",
    a[a.DXGI_FORMAT_R8G8_B8G8_UNORM = 68] = "DXGI_FORMAT_R8G8_B8G8_UNORM",
    a[a.DXGI_FORMAT_G8R8_G8B8_UNORM = 69] = "DXGI_FORMAT_G8R8_G8B8_UNORM",
    a[a.DXGI_FORMAT_BC1_TYPELESS = 70] = "DXGI_FORMAT_BC1_TYPELESS",
    a[a.DXGI_FORMAT_BC1_UNORM = 71] = "DXGI_FORMAT_BC1_UNORM",
    a[a.DXGI_FORMAT_BC1_UNORM_SRGB = 72] = "DXGI_FORMAT_BC1_UNORM_SRGB",
    a[a.DXGI_FORMAT_BC2_TYPELESS = 73] = "DXGI_FORMAT_BC2_TYPELESS",
    a[a.DXGI_FORMAT_BC2_UNORM = 74] = "DXGI_FORMAT_BC2_UNORM",
    a[a.DXGI_FORMAT_BC2_UNORM_SRGB = 75] = "DXGI_FORMAT_BC2_UNORM_SRGB",
    a[a.DXGI_FORMAT_BC3_TYPELESS = 76] = "DXGI_FORMAT_BC3_TYPELESS",
    a[a.DXGI_FORMAT_BC3_UNORM = 77] = "DXGI_FORMAT_BC3_UNORM",
    a[a.DXGI_FORMAT_BC3_UNORM_SRGB = 78] = "DXGI_FORMAT_BC3_UNORM_SRGB",
    a[a.DXGI_FORMAT_BC4_TYPELESS = 79] = "DXGI_FORMAT_BC4_TYPELESS",
    a[a.DXGI_FORMAT_BC4_UNORM = 80] = "DXGI_FORMAT_BC4_UNORM",
    a[a.DXGI_FORMAT_BC4_SNORM = 81] = "DXGI_FORMAT_BC4_SNORM",
    a[a.DXGI_FORMAT_BC5_TYPELESS = 82] = "DXGI_FORMAT_BC5_TYPELESS",
    a[a.DXGI_FORMAT_BC5_UNORM = 83] = "DXGI_FORMAT_BC5_UNORM",
    a[a.DXGI_FORMAT_BC5_SNORM = 84] = "DXGI_FORMAT_BC5_SNORM",
    a[a.DXGI_FORMAT_B5G6R5_UNORM = 85] = "DXGI_FORMAT_B5G6R5_UNORM",
    a[a.DXGI_FORMAT_B5G5R5A1_UNORM = 86] = "DXGI_FORMAT_B5G5R5A1_UNORM",
    a[a.DXGI_FORMAT_B8G8R8A8_UNORM = 87] = "DXGI_FORMAT_B8G8R8A8_UNORM",
    a[a.DXGI_FORMAT_B8G8R8X8_UNORM = 88] = "DXGI_FORMAT_B8G8R8X8_UNORM",
    a[a.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM = 89] = "DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",
    a[a.DXGI_FORMAT_B8G8R8A8_TYPELESS = 90] = "DXGI_FORMAT_B8G8R8A8_TYPELESS",
    a[a.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB = 91] = "DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",
    a[a.DXGI_FORMAT_B8G8R8X8_TYPELESS = 92] = "DXGI_FORMAT_B8G8R8X8_TYPELESS",
    a[a.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB = 93] = "DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",
    a[a.DXGI_FORMAT_BC6H_TYPELESS = 94] = "DXGI_FORMAT_BC6H_TYPELESS",
    a[a.DXGI_FORMAT_BC6H_UF16 = 95] = "DXGI_FORMAT_BC6H_UF16",
    a[a.DXGI_FORMAT_BC6H_SF16 = 96] = "DXGI_FORMAT_BC6H_SF16",
    a[a.DXGI_FORMAT_BC7_TYPELESS = 97] = "DXGI_FORMAT_BC7_TYPELESS",
    a[a.DXGI_FORMAT_BC7_UNORM = 98] = "DXGI_FORMAT_BC7_UNORM",
    a[a.DXGI_FORMAT_BC7_UNORM_SRGB = 99] = "DXGI_FORMAT_BC7_UNORM_SRGB",
    a[a.DXGI_FORMAT_AYUV = 100] = "DXGI_FORMAT_AYUV",
    a[a.DXGI_FORMAT_Y410 = 101] = "DXGI_FORMAT_Y410",
    a[a.DXGI_FORMAT_Y416 = 102] = "DXGI_FORMAT_Y416",
    a[a.DXGI_FORMAT_NV12 = 103] = "DXGI_FORMAT_NV12",
    a[a.DXGI_FORMAT_P010 = 104] = "DXGI_FORMAT_P010",
    a[a.DXGI_FORMAT_P016 = 105] = "DXGI_FORMAT_P016",
    a[a.DXGI_FORMAT_420_OPAQUE = 106] = "DXGI_FORMAT_420_OPAQUE",
    a[a.DXGI_FORMAT_YUY2 = 107] = "DXGI_FORMAT_YUY2",
    a[a.DXGI_FORMAT_Y210 = 108] = "DXGI_FORMAT_Y210",
    a[a.DXGI_FORMAT_Y216 = 109] = "DXGI_FORMAT_Y216",
    a[a.DXGI_FORMAT_NV11 = 110] = "DXGI_FORMAT_NV11",
    a[a.DXGI_FORMAT_AI44 = 111] = "DXGI_FORMAT_AI44",
    a[a.DXGI_FORMAT_IA44 = 112] = "DXGI_FORMAT_IA44",
    a[a.DXGI_FORMAT_P8 = 113] = "DXGI_FORMAT_P8",
    a[a.DXGI_FORMAT_A8P8 = 114] = "DXGI_FORMAT_A8P8",
    a[a.DXGI_FORMAT_B4G4R4A4_UNORM = 115] = "DXGI_FORMAT_B4G4R4A4_UNORM",
    a[a.DXGI_FORMAT_P208 = 116] = "DXGI_FORMAT_P208",
    a[a.DXGI_FORMAT_V208 = 117] = "DXGI_FORMAT_V208",
    a[a.DXGI_FORMAT_V408 = 118] = "DXGI_FORMAT_V408",
    a[a.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE = 119] = "DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",
    a[a.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE = 120] = "DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",
    a[a.DXGI_FORMAT_FORCE_UINT = 121] = "DXGI_FORMAT_FORCE_UINT",
    a))($p || {})
      , Kp = (a => (a[a.DDS_DIMENSION_TEXTURE1D = 2] = "DDS_DIMENSION_TEXTURE1D",
    a[a.DDS_DIMENSION_TEXTURE2D = 3] = "DDS_DIMENSION_TEXTURE2D",
    a[a.DDS_DIMENSION_TEXTURE3D = 6] = "DDS_DIMENSION_TEXTURE3D",
    a))(Kp || {});
    function Ye(a) {
        return a.charCodeAt(0) + (a.charCodeAt(1) << 8) + (a.charCodeAt(2) << 16) + (a.charCodeAt(3) << 24)
    }
    var bt = (a => (a[a.UNKNOWN = 0] = "UNKNOWN",
    a[a.R8G8B8 = 20] = "R8G8B8",
    a[a.A8R8G8B8 = 21] = "A8R8G8B8",
    a[a.X8R8G8B8 = 22] = "X8R8G8B8",
    a[a.R5G6B5 = 23] = "R5G6B5",
    a[a.X1R5G5B5 = 24] = "X1R5G5B5",
    a[a.A1R5G5B5 = 25] = "A1R5G5B5",
    a[a.A4R4G4B4 = 26] = "A4R4G4B4",
    a[a.R3G3B2 = 27] = "R3G3B2",
    a[a.A8 = 28] = "A8",
    a[a.A8R3G3B2 = 29] = "A8R3G3B2",
    a[a.X4R4G4B4 = 30] = "X4R4G4B4",
    a[a.A2B10G10R10 = 31] = "A2B10G10R10",
    a[a.A8B8G8R8 = 32] = "A8B8G8R8",
    a[a.X8B8G8R8 = 33] = "X8B8G8R8",
    a[a.G16R16 = 34] = "G16R16",
    a[a.A2R10G10B10 = 35] = "A2R10G10B10",
    a[a.A16B16G16R16 = 36] = "A16B16G16R16",
    a[a.A8P8 = 40] = "A8P8",
    a[a.P8 = 41] = "P8",
    a[a.L8 = 50] = "L8",
    a[a.A8L8 = 51] = "A8L8",
    a[a.A4L4 = 52] = "A4L4",
    a[a.V8U8 = 60] = "V8U8",
    a[a.L6V5U5 = 61] = "L6V5U5",
    a[a.X8L8V8U8 = 62] = "X8L8V8U8",
    a[a.Q8W8V8U8 = 63] = "Q8W8V8U8",
    a[a.V16U16 = 64] = "V16U16",
    a[a.A2W10V10U10 = 67] = "A2W10V10U10",
    a[a.Q16W16V16U16 = 110] = "Q16W16V16U16",
    a[a.R16F = 111] = "R16F",
    a[a.G16R16F = 112] = "G16R16F",
    a[a.A16B16G16R16F = 113] = "A16B16G16R16F",
    a[a.R32F = 114] = "R32F",
    a[a.G32R32F = 115] = "G32R32F",
    a[a.A32B32G32R32F = 116] = "A32B32G32R32F",
    a[a.UYVY = Ye("UYVY")] = "UYVY",
    a[a.R8G8_B8G8 = Ye("RGBG")] = "R8G8_B8G8",
    a[a.YUY2 = Ye("YUY2")] = "YUY2",
    a[a.D3DFMT_G8R8_G8B8 = Ye("GRGB")] = "D3DFMT_G8R8_G8B8",
    a[a.DXT1 = Ye("DXT1")] = "DXT1",
    a[a.DXT2 = Ye("DXT2")] = "DXT2",
    a[a.DXT3 = Ye("DXT3")] = "DXT3",
    a[a.DXT4 = Ye("DXT4")] = "DXT4",
    a[a.DXT5 = Ye("DXT5")] = "DXT5",
    a[a.ATI1 = Ye("ATI1")] = "ATI1",
    a[a.AT1N = Ye("AT1N")] = "AT1N",
    a[a.ATI2 = Ye("ATI2")] = "ATI2",
    a[a.AT2N = Ye("AT2N")] = "AT2N",
    a[a.BC4U = Ye("BC4U")] = "BC4U",
    a[a.BC4S = Ye("BC4S")] = "BC4S",
    a[a.BC5U = Ye("BC5U")] = "BC5U",
    a[a.BC5S = Ye("BC5S")] = "BC5S",
    a[a.DX10 = Ye("DX10")] = "DX10",
    a))(bt || {})
      , Xb = {
        [bt.DXT1]: "bc1-rgba-unorm",
        [bt.DXT2]: "bc2-rgba-unorm",
        [bt.DXT3]: "bc2-rgba-unorm",
        [bt.DXT4]: "bc3-rgba-unorm",
        [bt.DXT5]: "bc3-rgba-unorm",
        [bt.ATI1]: "bc4-r-unorm",
        [bt.BC4U]: "bc4-r-unorm",
        [bt.BC4S]: "bc4-r-snorm",
        [bt.ATI2]: "bc5-rg-unorm",
        [bt.BC5U]: "bc5-rg-unorm",
        [bt.BC5S]: "bc5-rg-snorm",
        36: "rgba16uint",
        110: "rgba16sint",
        111: "r16float",
        112: "rg16float",
        113: "rgba16float",
        114: "r32float",
        115: "rg32float",
        116: "rgba32float"
    }
      , pt = {
        70: "bc1-rgba-unorm",
        71: "bc1-rgba-unorm",
        72: "bc1-rgba-unorm-srgb",
        73: "bc2-rgba-unorm",
        74: "bc2-rgba-unorm",
        75: "bc2-rgba-unorm-srgb",
        76: "bc3-rgba-unorm",
        77: "bc3-rgba-unorm",
        78: "bc3-rgba-unorm-srgb",
        79: "bc4-r-unorm",
        80: "bc4-r-unorm",
        81: "bc4-r-snorm",
        82: "bc5-rg-unorm",
        83: "bc5-rg-unorm",
        84: "bc5-rg-snorm",
        94: "bc6h-rgb-ufloat",
        95: "bc6h-rgb-ufloat",
        96: "bc6h-rgb-float",
        97: "bc7-rgba-unorm",
        98: "bc7-rgba-unorm",
        99: "bc7-rgba-unorm-srgb",
        28: "rgba8unorm",
        29: "rgba8unorm-srgb",
        87: "bgra8unorm",
        91: "bgra8unorm-srgb",
        41: "r32float",
        49: "rg8unorm",
        56: "r16uint",
        61: "r8unorm",
        24: "rgb10a2unorm",
        11: "rgba16uint",
        13: "rgba16sint",
        10: "rgba16float",
        54: "r16float",
        34: "rg16float",
        16: "rg32float",
        2: "rgba32float"
    }
      , be = {
        MAGIC_VALUE: 542327876,
        MAGIC_SIZE: 4,
        HEADER_SIZE: 124,
        HEADER_DX10_SIZE: 20,
        PIXEL_FORMAT_FLAGS: {
            ALPHAPIXELS: 1,
            ALPHA: 2,
            FOURCC: 4,
            RGB: 64,
            RGBA: 65,
            YUV: 512,
            LUMINANCE: 131072,
            LUMINANCEA: 131073
        },
        RESOURCE_MISC_TEXTURECUBE: 4,
        HEADER_FIELDS: r_,
        HEADER_DX10_FIELDS: n_,
        DXGI_FORMAT: $p,
        D3D10_RESOURCE_DIMENSION: Kp,
        D3DFMT: bt
    }
      , o_ = {
        "bc1-rgba-unorm": 8,
        "bc1-rgba-unorm-srgb": 8,
        "bc2-rgba-unorm": 16,
        "bc2-rgba-unorm-srgb": 16,
        "bc3-rgba-unorm": 16,
        "bc3-rgba-unorm-srgb": 16,
        "bc4-r-unorm": 8,
        "bc4-r-snorm": 8,
        "bc5-rg-unorm": 16,
        "bc5-rg-snorm": 16,
        "bc6h-rgb-ufloat": 16,
        "bc6h-rgb-float": 16,
        "bc7-rgba-unorm": 16,
        "bc7-rgba-unorm-srgb": 16
    };
    function c_(a, e) {
        let {format: t, fourCC: i, width: s, height: r, dataOffset: o, mipmapCount: d} = f_(a);
        if (!e.includes(t))
            throw new Error(`Unsupported texture format: ${i} ${t}, supported: ${e}`);
        if (d <= 1)
            return {
                format: t,
                width: s,
                height: r,
                resource: [new Uint8Array(a,o)],
                alphaMode: "no-premultiply-alpha"
            };
        let f = d_(t, s, r, o, d, a);
        return {
            format: t,
            width: s,
            height: r,
            resource: f,
            alphaMode: "no-premultiply-alpha"
        }
    }
    function d_(a, e, t, i, s, r) {
        let o = []
          , d = o_[a]
          , f = e
          , h = t
          , u = i;
        for (let p = 0; p < s; ++p) {
            let x = Math.ceil(Math.max(4, f) / 4) * 4
              , _ = Math.ceil(Math.max(4, h) / 4) * 4
              , T = d ? x / 4 * _ / 4 * d : f * h * 4
              , S = new Uint8Array(r,u,T);
            o.push(S),
            u += T,
            f = Math.max(f >> 1, 1),
            h = Math.max(h >> 1, 1)
        }
        return o
    }
    function f_(a) {
        let e = new Uint32Array(a,0,be.HEADER_SIZE / Uint32Array.BYTES_PER_ELEMENT);
        if (e[be.HEADER_FIELDS.MAGIC] !== be.MAGIC_VALUE)
            throw new Error("Invalid magic number in DDS header");
        let t = e[be.HEADER_FIELDS.HEIGHT]
          , i = e[be.HEADER_FIELDS.WIDTH]
          , s = Math.max(1, e[be.HEADER_FIELDS.MIPMAP_COUNT])
          , r = e[be.HEADER_FIELDS.PF_FLAGS]
          , o = e[be.HEADER_FIELDS.FOURCC]
          , d = h_(e, r, o, a)
          , f = be.MAGIC_SIZE + be.HEADER_SIZE + (o === be.D3DFMT.DX10 ? be.HEADER_DX10_SIZE : 0);
        return {
            format: d,
            fourCC: o,
            width: i,
            height: t,
            dataOffset: f,
            mipmapCount: s
        }
    }
    function h_(a, e, t, i) {
        if (e & be.PIXEL_FORMAT_FLAGS.FOURCC) {
            if (t === be.D3DFMT.DX10) {
                let s = new Uint32Array(i,be.MAGIC_SIZE + be.HEADER_SIZE,be.HEADER_DX10_SIZE / Uint32Array.BYTES_PER_ELEMENT);
                if (s[be.HEADER_DX10_FIELDS.MISC_FLAG] === be.RESOURCE_MISC_TEXTURECUBE)
                    throw new Error("DDSParser does not support cubemap textures");
                if (s[be.HEADER_DX10_FIELDS.RESOURCE_DIMENSION] === be.D3D10_RESOURCE_DIMENSION.DDS_DIMENSION_TEXTURE3D)
                    throw new Error("DDSParser does not supported 3D texture data");
                let r = s[be.HEADER_DX10_FIELDS.DXGI_FORMAT];
                if (r in pt)
                    return pt[r];
                throw new Error(`DDSParser cannot parse texture data with DXGI format ${r}`)
            }
            if (t in Xb)
                return Xb[t];
            throw new Error(`DDSParser cannot parse texture data with fourCC format ${t}`)
        }
        if (e & be.PIXEL_FORMAT_FLAGS.RGB || e & be.PIXEL_FORMAT_FLAGS.RGBA)
            return l_(a);
        throw e & be.PIXEL_FORMAT_FLAGS.YUV ? new Error("DDSParser does not supported YUV uncompressed texture data.") : e & be.PIXEL_FORMAT_FLAGS.LUMINANCE || e & be.PIXEL_FORMAT_FLAGS.LUMINANCEA ? new Error("DDSParser does not support single-channel (lumninance) texture data!") : e & be.PIXEL_FORMAT_FLAGS.ALPHA || e & be.PIXEL_FORMAT_FLAGS.ALPHAPIXELS ? new Error("DDSParser does not support single-channel (alpha) texture data!") : new Error("DDSParser failed to load a texture file due to an unknown reason!")
    }
    function l_(a) {
        let e = a[be.HEADER_FIELDS.RGB_BITCOUNT]
          , t = a[be.HEADER_FIELDS.R_BIT_MASK]
          , i = a[be.HEADER_FIELDS.G_BIT_MASK]
          , s = a[be.HEADER_FIELDS.B_BIT_MASK]
          , r = a[be.HEADER_FIELDS.A_BIT_MASK];
        switch (e) {
        case 32:
            if (t === 255 && i === 65280 && s === 16711680 && r === 4278190080)
                return pt[be.DXGI_FORMAT.DXGI_FORMAT_R8G8B8A8_UNORM];
            if (t === 16711680 && i === 65280 && s === 255 && r === 4278190080)
                return pt[be.DXGI_FORMAT.DXGI_FORMAT_B8G8R8A8_UNORM];
            if (t === 1072693248 && i === 1047552 && s === 1023 && r === 3221225472)
                return pt[be.DXGI_FORMAT.DXGI_FORMAT_R10G10B10A2_UNORM];
            if (t === 65535 && i === 4294901760 && s === 0 && r === 0)
                return pt[be.DXGI_FORMAT.DXGI_FORMAT_R16G16_UNORM];
            if (t === 4294967295 && i === 0 && s === 0 && r === 0)
                return pt[be.DXGI_FORMAT.DXGI_FORMAT_R32_FLOAT];
            break;
        case 24:
            break;
        case 16:
            if (t === 31744 && i === 992 && s === 31 && r === 32768)
                return pt[be.DXGI_FORMAT.DXGI_FORMAT_B5G5R5A1_UNORM];
            if (t === 63488 && i === 2016 && s === 31 && r === 0)
                return pt[be.DXGI_FORMAT.DXGI_FORMAT_B5G6R5_UNORM];
            if (t === 3840 && i === 240 && s === 15 && r === 61440)
                return pt[be.DXGI_FORMAT.DXGI_FORMAT_B4G4R4A4_UNORM];
            if (t === 255 && i === 0 && s === 0 && r === 65280)
                return pt[be.DXGI_FORMAT.DXGI_FORMAT_R8G8_UNORM];
            if (t === 65535 && i === 0 && s === 0 && r === 0)
                return pt[be.DXGI_FORMAT.DXGI_FORMAT_R16_UNORM];
            break;
        case 8:
            if (t === 255 && i === 0 && s === 0 && r === 0)
                return pt[be.DXGI_FORMAT.DXGI_FORMAT_R8_UNORM];
            break
        }
        throw new Error(`DDSParser does not support uncompressed texture with configuration:
bitCount = ${e}, rBitMask = ${t}, gBitMask = ${i}, aBitMask = ${r}`)
    }
    var lS = {
        extension: {
            type: B.LoadParser,
            priority: Rt.High,
            name: "loadDDS"
        },
        name: "loadDDS",
        test(a) {
            return zt(a, [".dds"])
        },
        async load(a, e, t) {
            let i = await Vo()
              , s = await (await fetch(a)).arrayBuffer()
              , r = c_(s, i)
              , o = new Di(r);
            return si(o, t, a)
        },
        unload(a) {
            Array.isArray(a) ? a.forEach(e => e.destroy(!0)) : a.destroy(!0)
        }
    }
      , u_ = (a => (a[a.RGBA8_SNORM = 36759] = "RGBA8_SNORM",
    a[a.RGBA = 6408] = "RGBA",
    a[a.RGBA8UI = 36220] = "RGBA8UI",
    a[a.SRGB8_ALPHA8 = 35907] = "SRGB8_ALPHA8",
    a[a.RGBA8I = 36238] = "RGBA8I",
    a[a.RGBA8 = 32856] = "RGBA8",
    a[a.COMPRESSED_RGB_S3TC_DXT1_EXT = 33776] = "COMPRESSED_RGB_S3TC_DXT1_EXT",
    a[a.COMPRESSED_RGBA_S3TC_DXT1_EXT = 33777] = "COMPRESSED_RGBA_S3TC_DXT1_EXT",
    a[a.COMPRESSED_RGBA_S3TC_DXT3_EXT = 33778] = "COMPRESSED_RGBA_S3TC_DXT3_EXT",
    a[a.COMPRESSED_RGBA_S3TC_DXT5_EXT = 33779] = "COMPRESSED_RGBA_S3TC_DXT5_EXT",
    a[a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT = 35917] = "COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",
    a[a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT = 35918] = "COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",
    a[a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT = 35919] = "COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",
    a[a.COMPRESSED_SRGB_S3TC_DXT1_EXT = 35916] = "COMPRESSED_SRGB_S3TC_DXT1_EXT",
    a[a.COMPRESSED_RED_RGTC1_EXT = 36283] = "COMPRESSED_RED_RGTC1_EXT",
    a[a.COMPRESSED_SIGNED_RED_RGTC1_EXT = 36284] = "COMPRESSED_SIGNED_RED_RGTC1_EXT",
    a[a.COMPRESSED_RED_GREEN_RGTC2_EXT = 36285] = "COMPRESSED_RED_GREEN_RGTC2_EXT",
    a[a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT = 36286] = "COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT",
    a[a.COMPRESSED_R11_EAC = 37488] = "COMPRESSED_R11_EAC",
    a[a.COMPRESSED_SIGNED_R11_EAC = 37489] = "COMPRESSED_SIGNED_R11_EAC",
    a[a.COMPRESSED_RG11_EAC = 37490] = "COMPRESSED_RG11_EAC",
    a[a.COMPRESSED_SIGNED_RG11_EAC = 37491] = "COMPRESSED_SIGNED_RG11_EAC",
    a[a.COMPRESSED_RGB8_ETC2 = 37492] = "COMPRESSED_RGB8_ETC2",
    a[a.COMPRESSED_RGBA8_ETC2_EAC = 37496] = "COMPRESSED_RGBA8_ETC2_EAC",
    a[a.COMPRESSED_SRGB8_ETC2 = 37493] = "COMPRESSED_SRGB8_ETC2",
    a[a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC = 37497] = "COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",
    a[a.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2 = 37494] = "COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",
    a[a.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2 = 37495] = "COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",
    a[a.COMPRESSED_RGBA_ASTC_4x4_KHR = 37808] = "COMPRESSED_RGBA_ASTC_4x4_KHR",
    a[a.COMPRESSED_RGBA_ASTC_5x4_KHR = 37809] = "COMPRESSED_RGBA_ASTC_5x4_KHR",
    a[a.COMPRESSED_RGBA_ASTC_5x5_KHR = 37810] = "COMPRESSED_RGBA_ASTC_5x5_KHR",
    a[a.COMPRESSED_RGBA_ASTC_6x5_KHR = 37811] = "COMPRESSED_RGBA_ASTC_6x5_KHR",
    a[a.COMPRESSED_RGBA_ASTC_6x6_KHR = 37812] = "COMPRESSED_RGBA_ASTC_6x6_KHR",
    a[a.COMPRESSED_RGBA_ASTC_8x5_KHR = 37813] = "COMPRESSED_RGBA_ASTC_8x5_KHR",
    a[a.COMPRESSED_RGBA_ASTC_8x6_KHR = 37814] = "COMPRESSED_RGBA_ASTC_8x6_KHR",
    a[a.COMPRESSED_RGBA_ASTC_8x8_KHR = 37815] = "COMPRESSED_RGBA_ASTC_8x8_KHR",
    a[a.COMPRESSED_RGBA_ASTC_10x5_KHR = 37816] = "COMPRESSED_RGBA_ASTC_10x5_KHR",
    a[a.COMPRESSED_RGBA_ASTC_10x6_KHR = 37817] = "COMPRESSED_RGBA_ASTC_10x6_KHR",
    a[a.COMPRESSED_RGBA_ASTC_10x8_KHR = 37818] = "COMPRESSED_RGBA_ASTC_10x8_KHR",
    a[a.COMPRESSED_RGBA_ASTC_10x10_KHR = 37819] = "COMPRESSED_RGBA_ASTC_10x10_KHR",
    a[a.COMPRESSED_RGBA_ASTC_12x10_KHR = 37820] = "COMPRESSED_RGBA_ASTC_12x10_KHR",
    a[a.COMPRESSED_RGBA_ASTC_12x12_KHR = 37821] = "COMPRESSED_RGBA_ASTC_12x12_KHR",
    a[a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR = 37840] = "COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR",
    a[a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR = 37841] = "COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR",
    a[a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR = 37842] = "COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR",
    a[a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR = 37843] = "COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR",
    a[a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR = 37844] = "COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR",
    a[a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR = 37845] = "COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR",
    a[a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR = 37846] = "COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR",
    a[a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR = 37847] = "COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR",
    a[a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR = 37848] = "COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR",
    a[a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR = 37849] = "COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR",
    a[a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR = 37850] = "COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR",
    a[a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR = 37851] = "COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR",
    a[a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR = 37852] = "COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR",
    a[a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR = 37853] = "COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR",
    a[a.COMPRESSED_RGBA_BPTC_UNORM_EXT = 36492] = "COMPRESSED_RGBA_BPTC_UNORM_EXT",
    a[a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT = 36493] = "COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",
    a[a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT = 36494] = "COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",
    a[a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT = 36495] = "COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",
    a))(u_ || {})
      , b_ = (a => (a[a.RGBA = 6408] = "RGBA",
    a[a.RGB = 6407] = "RGB",
    a[a.RG = 33319] = "RG",
    a[a.RED = 6403] = "RED",
    a[a.RGBA_INTEGER = 36249] = "RGBA_INTEGER",
    a[a.RGB_INTEGER = 36248] = "RGB_INTEGER",
    a[a.RG_INTEGER = 33320] = "RG_INTEGER",
    a[a.RED_INTEGER = 36244] = "RED_INTEGER",
    a[a.ALPHA = 6406] = "ALPHA",
    a[a.LUMINANCE = 6409] = "LUMINANCE",
    a[a.LUMINANCE_ALPHA = 6410] = "LUMINANCE_ALPHA",
    a[a.DEPTH_COMPONENT = 6402] = "DEPTH_COMPONENT",
    a[a.DEPTH_STENCIL = 34041] = "DEPTH_STENCIL",
    a))(b_ || {})
      , p_ = (a => (a[a.UNSIGNED_BYTE = 5121] = "UNSIGNED_BYTE",
    a[a.UNSIGNED_SHORT = 5123] = "UNSIGNED_SHORT",
    a[a.UNSIGNED_SHORT_5_6_5 = 33635] = "UNSIGNED_SHORT_5_6_5",
    a[a.UNSIGNED_SHORT_4_4_4_4 = 32819] = "UNSIGNED_SHORT_4_4_4_4",
    a[a.UNSIGNED_SHORT_5_5_5_1 = 32820] = "UNSIGNED_SHORT_5_5_5_1",
    a[a.UNSIGNED_INT = 5125] = "UNSIGNED_INT",
    a[a.UNSIGNED_INT_10F_11F_11F_REV = 35899] = "UNSIGNED_INT_10F_11F_11F_REV",
    a[a.UNSIGNED_INT_2_10_10_10_REV = 33640] = "UNSIGNED_INT_2_10_10_10_REV",
    a[a.UNSIGNED_INT_24_8 = 34042] = "UNSIGNED_INT_24_8",
    a[a.UNSIGNED_INT_5_9_9_9_REV = 35902] = "UNSIGNED_INT_5_9_9_9_REV",
    a[a.BYTE = 5120] = "BYTE",
    a[a.SHORT = 5122] = "SHORT",
    a[a.INT = 5124] = "INT",
    a[a.FLOAT = 5126] = "FLOAT",
    a[a.FLOAT_32_UNSIGNED_INT_24_8_REV = 36269] = "FLOAT_32_UNSIGNED_INT_24_8_REV",
    a[a.HALF_FLOAT = 36193] = "HALF_FLOAT",
    a))(p_ || {})
      , g_ = {
        33776: "bc1-rgba-unorm",
        33777: "bc1-rgba-unorm",
        33778: "bc2-rgba-unorm",
        33779: "bc3-rgba-unorm",
        35916: "bc1-rgba-unorm-srgb",
        35917: "bc1-rgba-unorm-srgb",
        35918: "bc2-rgba-unorm-srgb",
        35919: "bc3-rgba-unorm-srgb",
        36283: "bc4-r-unorm",
        36284: "bc4-r-snorm",
        36285: "bc5-rg-unorm",
        36286: "bc5-rg-snorm",
        37488: "eac-r11unorm",
        37490: "eac-rg11snorm",
        37492: "etc2-rgb8unorm",
        37496: "etc2-rgba8unorm",
        37493: "etc2-rgb8unorm-srgb",
        37497: "etc2-rgba8unorm-srgb",
        37494: "etc2-rgb8a1unorm",
        37495: "etc2-rgb8a1unorm-srgb",
        37808: "astc-4x4-unorm",
        37840: "astc-4x4-unorm-srgb",
        37809: "astc-5x4-unorm",
        37841: "astc-5x4-unorm-srgb",
        37810: "astc-5x5-unorm",
        37842: "astc-5x5-unorm-srgb",
        37811: "astc-6x5-unorm",
        37843: "astc-6x5-unorm-srgb",
        37812: "astc-6x6-unorm",
        37844: "astc-6x6-unorm-srgb",
        37813: "astc-8x5-unorm",
        37845: "astc-8x5-unorm-srgb",
        37814: "astc-8x6-unorm",
        37846: "astc-8x6-unorm-srgb",
        37815: "astc-8x8-unorm",
        37847: "astc-8x8-unorm-srgb",
        37816: "astc-10x5-unorm",
        37848: "astc-10x5-unorm-srgb",
        37817: "astc-10x6-unorm",
        37849: "astc-10x6-unorm-srgb",
        37818: "astc-10x8-unorm",
        37850: "astc-10x8-unorm-srgb",
        37819: "astc-10x10-unorm",
        37851: "astc-10x10-unorm-srgb",
        37820: "astc-12x10-unorm",
        37852: "astc-12x10-unorm-srgb",
        37821: "astc-12x12-unorm",
        37853: "astc-12x12-unorm-srgb",
        36492: "bc7-rgba-unorm",
        36493: "bc7-rgba-unorm-srgb",
        36494: "bc6h-rgb-float",
        36495: "bc6h-rgb-ufloat",
        35907: "rgba8unorm-srgb",
        36759: "rgba8snorm",
        36220: "rgba8uint",
        36238: "rgba8sint",
        6408: "rgba8unorm"
    }
      , m_ = [171, 75, 84, 88, 32, 49, 49, 187, 13, 10, 26, 10]
      , __ = {
        FILE_IDENTIFIER: 0,
        ENDIANNESS: 12,
        GL_TYPE: 16,
        GL_TYPE_SIZE: 20,
        GL_FORMAT: 24,
        GL_INTERNAL_FORMAT: 28,
        GL_BASE_INTERNAL_FORMAT: 32,
        PIXEL_WIDTH: 36,
        PIXEL_HEIGHT: 40,
        PIXEL_DEPTH: 44,
        NUMBER_OF_ARRAY_ELEMENTS: 48,
        NUMBER_OF_FACES: 52,
        NUMBER_OF_MIPMAP_LEVELS: 56,
        BYTES_OF_KEY_VALUE_DATA: 60
    }
      , x_ = 64
      , y_ = 67305985
      , v_ = {
        5121: 1,
        5123: 2,
        5124: 4,
        5125: 4,
        5126: 4,
        36193: 8
    }
      , T_ = {
        6408: 4,
        6407: 3,
        33319: 2,
        6403: 1,
        6409: 1,
        6410: 2,
        6406: 1
    }
      , S_ = {
        32819: 2,
        32820: 2,
        33635: 2
    }
      , w_ = {
        33776: .5,
        33777: .5,
        33778: 1,
        33779: 1,
        35916: .5,
        35917: .5,
        35918: 1,
        35919: 1,
        36283: .5,
        36284: .5,
        36285: 1,
        36286: 1,
        37488: .5,
        37489: .5,
        37490: 1,
        37491: 1,
        37492: .5,
        37496: 1,
        37493: .5,
        37497: 1,
        37494: .5,
        37495: .5,
        37808: 1,
        37840: 1,
        37809: .8,
        37841: .8,
        37810: .64,
        37842: .64,
        37811: .53375,
        37843: .53375,
        37812: .445,
        37844: .445,
        37813: .4,
        37845: .4,
        37814: .33375,
        37846: .33375,
        37815: .25,
        37847: .25,
        37816: .32,
        37848: .32,
        37817: .26625,
        37849: .26625,
        37818: .2,
        37850: .2,
        37819: .16,
        37851: .16,
        37820: .13375,
        37852: .13375,
        37821: .11125,
        37853: .11125,
        36492: 1,
        36493: 1,
        36494: 1,
        36495: 1
    }
      , Ne = {
        FILE_HEADER_SIZE: x_,
        FILE_IDENTIFIER: m_,
        FORMATS_TO_COMPONENTS: T_,
        INTERNAL_FORMAT_TO_BYTES_PER_PIXEL: w_,
        INTERNAL_FORMAT_TO_TEXTURE_FORMATS: g_,
        FIELDS: __,
        TYPES_TO_BYTES_PER_COMPONENT: v_,
        TYPES_TO_BYTES_PER_PIXEL: S_,
        ENDIANNESS: y_
    };
    function A_(a, e) {
        let t = new DataView(a);
        if (!M_(t))
            throw new Error("Invalid KTX identifier in header");
        let {littleEndian: i, glType: s, glFormat: r, glInternalFormat: o, pixelWidth: d, pixelHeight: f, numberOfMipmapLevels: h, offset: u} = R_(t)
          , p = Ne.INTERNAL_FORMAT_TO_TEXTURE_FORMATS[o];
        if (!p)
            throw new Error(`Unknown texture format ${o}`);
        if (!e.includes(p))
            throw new Error(`Unsupported texture format: ${p}, supportedFormats: ${e}`);
        let x = P_(s, r, o)
          , _ = E_(t, s, x, d, f, u, h, i);
        return {
            format: p,
            width: d,
            height: f,
            resource: _,
            alphaMode: "no-premultiply-alpha"
        }
    }
    function E_(a, e, t, i, s, r, o, d) {
        let f = i + 3 & -4
          , h = s + 3 & -4
          , u = i * s;
        e === 0 && (u = f * h);
        let p = u * t
          , x = i
          , _ = s
          , T = f
          , S = h
          , A = r
          , P = new Array(o);
        for (let O = 0; O < o; O++) {
            let F = a.getUint32(A, d)
              , k = A + 4;
            P[O] = new Uint8Array(a.buffer,k,p),
            k += p,
            A += F + 4,
            A = A % 4 !== 0 ? A + 4 - A % 4 : A,
            x = x >> 1 || 1,
            _ = _ >> 1 || 1,
            T = x + 4 - 1 & -4,
            S = _ + 4 - 1 & -4,
            p = T * S * t
        }
        return P
    }
    function P_(a, e, t) {
        let i = Ne.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[t];
        if (a !== 0 && (Ne.TYPES_TO_BYTES_PER_COMPONENT[a] ? i = Ne.TYPES_TO_BYTES_PER_COMPONENT[a] * Ne.FORMATS_TO_COMPONENTS[e] : i = Ne.TYPES_TO_BYTES_PER_PIXEL[a]),
        i === void 0)
            throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");
        return i
    }
    function R_(a) {
        let e = a.getUint32(Ne.FIELDS.ENDIANNESS, !0) === Ne.ENDIANNESS
          , t = a.getUint32(Ne.FIELDS.GL_TYPE, e)
          , i = a.getUint32(Ne.FIELDS.GL_FORMAT, e)
          , s = a.getUint32(Ne.FIELDS.GL_INTERNAL_FORMAT, e)
          , r = a.getUint32(Ne.FIELDS.PIXEL_WIDTH, e)
          , o = a.getUint32(Ne.FIELDS.PIXEL_HEIGHT, e) || 1
          , d = a.getUint32(Ne.FIELDS.PIXEL_DEPTH, e) || 1
          , f = a.getUint32(Ne.FIELDS.NUMBER_OF_ARRAY_ELEMENTS, e) || 1
          , h = a.getUint32(Ne.FIELDS.NUMBER_OF_FACES, e)
          , u = a.getUint32(Ne.FIELDS.NUMBER_OF_MIPMAP_LEVELS, e)
          , p = a.getUint32(Ne.FIELDS.BYTES_OF_KEY_VALUE_DATA, e);
        if (o === 0 || d !== 1)
            throw new Error("Only 2D textures are supported");
        if (h !== 1)
            throw new Error("CubeTextures are not supported by KTXLoader yet!");
        if (f !== 1)
            throw new Error("WebGL does not support array textures");
        return {
            littleEndian: e,
            glType: t,
            glFormat: i,
            glInternalFormat: s,
            pixelWidth: r,
            pixelHeight: o,
            numberOfMipmapLevels: u,
            offset: Ne.FILE_HEADER_SIZE + p
        }
    }
    function M_(a) {
        for (let e = 0; e < Ne.FILE_IDENTIFIER.length; e++)
            if (a.getUint8(e) !== Ne.FILE_IDENTIFIER[e])
                return !1;
        return !0
    }
    var uS = {
        extension: {
            type: B.LoadParser,
            priority: Rt.High,
            name: "loadKTX"
        },
        name: "loadKTX",
        test(a) {
            return zt(a, ".ktx")
        },
        async load(a, e, t) {
            let i = await Vo()
              , s = await (await fetch(a)).arrayBuffer()
              , r = A_(s, i)
              , o = new Di(r);
            return si(o, t, a)
        },
        unload(a) {
            Array.isArray(a) ? a.forEach(e => e.destroy(!0)) : a.destroy(!0)
        }
    }
      , C_ = '(function(){"use strict";const s={rgb8unorm:{convertedFormat:"rgba8unorm",convertFunction:i},"rgb8unorm-srgb":{convertedFormat:"rgba8unorm-srgb",convertFunction:i}};function f(r){const t=r.format;if(s[t]){const n=s[t].convertFunction,o=r.resource;for(let e=0;e<o.length;e++)o[e]=n(o[e]);r.format=s[t].convertedFormat}}function i(r){const t=r.byteLength/3,n=new Uint32Array(t);for(let o=0;o<t;++o)n[o]=r[o*3]+(r[o*3+1]<<8)+(r[o*3+2]<<16)+4278190080;return new Uint8Array(n.buffer)}function d(r){const t=[];for(let n=0;n<r.numLevels;n++){const o=r.getImageData(n,0,0),e=new Uint8Array(o.byteLength);e.set(o),t.push(e)}return t}const w={6408:"rgba8unorm",32856:"bgra8unorm",32857:"rgb10a2unorm",33189:"depth16unorm",33190:"depth24plus",33321:"r8unorm",33323:"rg8unorm",33325:"r16float",33326:"r32float",33327:"rg16float",33328:"rg32float",33329:"r8sint",33330:"r8uint",33331:"r16sint",33332:"r16uint",33333:"r32sint",33334:"r32uint",33335:"rg8sint",33336:"rg8uint",33337:"rg16sint",33338:"rg16uint",33339:"rg32sint",33340:"rg32uint",33778:"bc2-rgba-unorm",33779:"bc3-rgba-unorm",34836:"rgba32float",34842:"rgba16float",35056:"depth24plus-stencil8",35898:"rg11b10ufloat",35901:"rgb9e5ufloat",35907:"rgba8unorm-srgb",36012:"depth32float",36013:"depth32float-stencil8",36168:"stencil8",36208:"rgba32uint",36214:"rgba16uint",36220:"rgba8uint",36226:"rgba32sint",36232:"rgba16sint",36238:"rgba8sint",36492:"bc7-rgba-unorm",36756:"r8snorm",36757:"rg8snorm",36759:"rgba8snorm",37496:"etc2-rgba8unorm",37808:"astc-4x4-unorm"};function p(r){const t=w[r];if(t)return t;throw new Error(`Unsupported glInternalFormat: ${r}`)}const h={23:"rgb8unorm",37:"rgba8unorm",43:"rgba8unorm-srgb"};function F(r){const t=h[r];if(t)return t;throw new Error(`Unsupported VkFormat: ${r}`)}function U(r){return r.classId===2?F(r.vkFormat):p(r.glInternalformat)}const T={"bc3-rgba-unorm":"BC3_RGBA","bc7-rgba-unorm":"BC7_M5_RGBA","etc2-rgba8unorm":"ETC2_RGBA","astc-4x4-unorm":"ASTC_4x4_RGBA",rgba8unorm:"RGBA32",rg11b10ufloat:"R11F_G11F_B10F"};function y(r){const t=T[r];if(t)return t;throw new Error(`Unsupported transcoderFormat: ${r}`)}const a={jsUrl:"",wasmUrl:""};let l,u,c;async function g(){if(!c){const r=new URL(a.jsUrl,location.origin).href,t=new URL(a.wasmUrl,location.origin).href;importScripts(r),c=new Promise(n=>{LIBKTX({locateFile:o=>t}).then(o=>{n(o)})})}return c}async function v(r,t){const n=await fetch(r);if(n.ok){const o=await n.arrayBuffer();return new t.ktxTexture(new Uint8Array(o))}throw new Error(`Failed to load KTX(2) texture: ${r}`)}const x=["bc7-rgba-unorm","astc-4x4-unorm","etc2-rgba8unorm","bc3-rgba-unorm","rgba8unorm"];async function B(r){const t=await g(),n=await v(r,t);let o;if(n.needsTranscoding){o=u;const R=t.TranscodeTarget[l];if(n.transcodeBasis(R,0)!==t.ErrorCode.SUCCESS)throw new Error("Unable to transcode basis texture.")}else o=U(n);const e=d(n),b={width:n.baseWidth,height:n.baseHeight,format:o,mipLevelCount:n.numLevels,resource:e,alphaMode:"no-premultiply-alpha"};return f(b),b}async function A(r,t,n){r&&(a.jsUrl=r),t&&(a.wasmUrl=t),u=x.filter(o=>n.includes(o))[0],l=y(u),await g()}const m={init:async r=>{const{jsUrl:t,wasmUrl:n,supportedTextures:o}=r;await A(t,n,o)},load:async r=>{var t;try{const n=await B(r.url);return{type:"load",url:r.url,success:!0,textureOptions:n,transferables:(t=n.resource)==null?void 0:t.map(o=>o.buffer)}}catch(n){throw n}}};self.onmessage=async r=>{var t;const n=r.data,o=await((t=m[n.type])==null?void 0:t.call(m,n));o&&self.postMessage(o,o.transferables)}})();\n'
      , Mi = null
      , Bn = class {
        constructor() {
            Mi || (Mi = URL.createObjectURL(new Blob([C_],{
                type: "application/javascript"
            }))),
            this.worker = new Worker(Mi)
        }
    }
    ;
    Bn.revokeObjectURL = function() {
        Mi && (URL.revokeObjectURL(Mi),
        Mi = null)
    }
    ;
    var Hb = {
        jsUrl: "https://files.pixijs.download/transcoders/ktx/libktx.js",
        wasmUrl: "https://files.pixijs.download/transcoders/ktx/libktx.wasm"
    };
    var ps, qp = {};
    function O_(a) {
        return ps || (ps = new Bn().worker,
        ps.onmessage = e => {
            let {success: t, url: i, textureOptions: s} = e.data;
            qp[i](s)
        }
        ,
        ps.postMessage({
            type: "init",
            jsUrl: Hb.jsUrl,
            wasmUrl: Hb.wasmUrl,
            supportedTextures: a
        })),
        ps
    }
    function I_(a, e) {
        let t = O_(e);
        return new Promise(i => {
            qp[a] = i,
            t.postMessage({
                type: "load",
                url: a
            })
        }
        )
    }
    var bS = {
        extension: {
            type: B.LoadParser,
            priority: Rt.High,
            name: "loadKTX2"
        },
        name: "loadKTX2",
        test(a) {
            return zt(a, ".ktx2")
        },
        async load(a, e, t) {
            let i = await Vo()
              , s = await I_(a, i)
              , r = new Di(s);
            return si(r, t, a)
        },
        async unload(a) {
            Array.isArray(a) ? a.forEach(e => e.destroy(!0)) : a.destroy(!0)
        }
    };
    var Of = ["basis", "bc7", "bc6h", "astc", "etc2", "bc5", "bc4", "bc3", "bc2", "bc1", "eac"], pS = {
        extension: B.ResolveParser,
        test: a => zt(a, [".ktx", ".ktx2", ".dds"]),
        parse: a => {
            var e, t;
            let i, s = a.split(".");
            if (s.length > 2) {
                let r = s[s.length - 2];
                Of.includes(r) && (i = r)
            } else
                i = s[s.length - 1];
            return {
                resolution: parseFloat((t = (e = la.RETINA_PREFIX.exec(a)) == null ? void 0 : e[1]) != null ? t : "1"),
                format: i,
                src: a
            }
        }
    }, Gr, gS = {
        extension: {
            type: B.DetectionParser,
            priority: 2
        },
        test: async () => !!(await Ho() || Xo()),
        add: async a => {
            let e = await Vp();
            return Gr = G_(e),
            [...Gr, ...a]
        }
        ,
        remove: async a => Gr ? a.filter(e => !(e in Gr)) : a
    };
    function G_(a) {
        let e = ["basis"]
          , t = {};
        return a.forEach(i => {
            let s = i.split("-")[0];
            s && !t[s] && (t[s] = !0,
            e.push(s))
        }
        ),
        e.sort( (i, s) => {
            let r = Of.indexOf(i)
              , o = Of.indexOf(s);
            return r === -1 ? 1 : o === -1 ? -1 : r - o
        }
        ),
        e
    }
    var B_ = new qe
      , If = class {
        cull(a, e, t=!0) {
            this._cullRecursive(a, e, t)
        }
        _cullRecursive(a, e, t=!0) {
            var i;
            if (a.cullable && a.measurable && a.includeInBuild) {
                let s = (i = a.cullArea) != null ? i : Do(a, t, B_);
                a.culled = s.x >= e.x + e.width || s.y >= e.y + e.height || s.x + s.width <= e.x || s.y + s.height <= e.y
            } else
                a.culled = !1;
            if (!(!a.cullableChildren || a.culled || !a.renderable || !a.measurable || !a.includeInBuild))
                for (let s = 0; s < a.children.length; s++)
                    this._cullRecursive(a.children[s], e, t)
        }
    }
    ;
    If.shared = new If;
    var F_ = If
      , Gf = class {
        static init() {
            this._renderRef = this.render.bind(this),
            this.render = () => {
                F_.shared.cull(this.stage, this.renderer.screen),
                this.renderer.render({
                    container: this.stage
                })
            }
        }
        static destroy() {
            this.render = this._renderRef
        }
    }
    ;
    Gf.extension = {
        priority: 10,
        type: B.Application,
        name: "culler"
    };
    var mS = {
        extension: {
            type: B.Environment,
            name: "browser",
            priority: -1
        },
        test: () => !0,
        load: async () => {
            await Promise.resolve().then(function() {
                return Pg
            })
        }
    }
      , D_ = Object.defineProperty
      , Fn = Object.getOwnPropertySymbols
      , Zp = Object.prototype.hasOwnProperty
      , Qp = Object.prototype.propertyIsEnumerable
      , zb = (a, e, t) => e in a ? D_(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , md = (a, e) => {
        for (var t in e || (e = {}))
            Zp.call(e, t) && zb(a, t, e[t]);
        if (Fn)
            for (var t of Fn(e))
                Qp.call(e, t) && zb(a, t, e[t]);
        return a
    }
      , k_ = (a, e) => {
        var t = {};
        for (var i in a)
            Zp.call(a, i) && e.indexOf(i) < 0 && (t[i] = a[i]);
        if (a != null && Fn)
            for (var i of Fn(a))
                e.indexOf(i) < 0 && Qp.call(a, i) && (t[i] = a[i]);
        return t
    }
      , Jp = class Bf extends ft {
        constructor(e) {
            e = md(md({}, Bf.defaultOptions), e),
            super(e),
            this.enabled = !0,
            this._state = Et.for2d(),
            this.blendMode = e.blendMode,
            this.padding = e.padding,
            typeof e.antialias == "boolean" ? this.antialias = e.antialias ? "on" : "off" : this.antialias = e.antialias,
            this.resolution = e.resolution,
            this.blendRequired = e.blendRequired,
            this.clipToViewport = e.clipToViewport,
            this.addResource("uTexture", 0, 1)
        }
        apply(e, t, i, s) {
            e.applyFilter(this, t, i, s)
        }
        get blendMode() {
            return this._state.blendMode
        }
        set blendMode(e) {
            this._state.blendMode = e
        }
        static from(e) {
            let t = e, {gpu: i, gl: s} = t, r = k_(t, ["gpu", "gl"]), o, d;
            return i && (o = ea.from(i)),
            s && (d = pa.from(s)),
            new Bf(md({
                gpuProgram: o,
                glProgram: d
            }, r))
        }
    }
    ;
    Jp.defaultOptions = {
        blendMode: "normal",
        resolution: 1,
        padding: 0,
        antialias: "off",
        blendRequired: !1,
        clipToViewport: !0
    };
    var er = Jp;
    var e3 = `in vec2 aPosition;
out vec2 vTextureCoord;

uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;

vec4 filterVertexPosition( void )
{
vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;

position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

void main(void)
{
gl_Position = filterVertexPosition();
vTextureCoord = filterTextureCoord();
}
`
      , U_ = `
in vec2 vTextureCoord;

out vec4 finalColor;

uniform float uAlpha;
uniform sampler2D uTexture;

void main()
{
finalColor =  texture(uTexture, vTextureCoord) * uAlpha;
}
`
      , Vb = `struct GlobalFilterUniforms {
uInputSize:vec4<f32>,
uInputPixel:vec4<f32>,
uInputClamp:vec4<f32>,
uOutputFrame:vec4<f32>,
uGlobalFrame:vec4<f32>,
uOutputTexture:vec4<f32>,
};

struct AlphaUniforms {
uAlpha:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> alphaUniforms : AlphaUniforms;

struct VSOutput {
@builtin(position) position: vec4<f32>,
@location(0) uv : vec2<f32>
};

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
return gfu.uGlobalFrame.zw;
}

@vertex
fn mainVertex(
@location(0) aPosition : vec2<f32>, 
) -> VSOutput {
return VSOutput(
filterVertexPosition(aPosition),
filterTextureCoord(aPosition)
);
}

@fragment
fn mainFragment(
@location(0) uv: vec2<f32>,
@builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {

var sample = textureSample(uTexture, uSampler, uv);

return sample * alphaUniforms.uAlpha;
}`
      , L_ = Object.defineProperty
      , N_ = Object.defineProperties
      , j_ = Object.getOwnPropertyDescriptors
      , Dn = Object.getOwnPropertySymbols
      , t3 = Object.prototype.hasOwnProperty
      , a3 = Object.prototype.propertyIsEnumerable
      , Wb = (a, e, t) => e in a ? L_(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , _d = (a, e) => {
        for (var t in e || (e = {}))
            t3.call(e, t) && Wb(a, t, e[t]);
        if (Dn)
            for (var t of Dn(e))
                a3.call(e, t) && Wb(a, t, e[t]);
        return a
    }
      , X_ = (a, e) => N_(a, j_(e))
      , H_ = (a, e) => {
        var t = {};
        for (var i in a)
            t3.call(a, i) && e.indexOf(i) < 0 && (t[i] = a[i]);
        if (a != null && Dn)
            for (var i of Dn(a))
                e.indexOf(i) < 0 && a3.call(a, i) && (t[i] = a[i]);
        return t
    }
      , z_ = class i3 extends er {
        constructor(e) {
            e = _d(_d({}, i3.defaultOptions), e);
            let t = ea.from({
                vertex: {
                    source: Vb,
                    entryPoint: "mainVertex"
                },
                fragment: {
                    source: Vb,
                    entryPoint: "mainFragment"
                }
            })
              , i = pa.from({
                vertex: e3,
                fragment: U_,
                name: "alpha-filter"
            })
              , s = e
              , {alpha: r} = s
              , o = H_(s, ["alpha"])
              , d = new Je({
                uAlpha: {
                    value: r,
                    type: "f32"
                }
            });
            super(X_(_d({}, o), {
                gpuProgram: t,
                glProgram: i,
                resources: {
                    alphaUniforms: d
                }
            }))
        }
        get alpha() {
            return this.resources.alphaUniforms.uniforms.uAlpha
        }
        set alpha(e) {
            this.resources.alphaUniforms.uniforms.uAlpha = e
        }
    }
    ;
    z_.defaultOptions = {
        alpha: 1
    };
    var s3 = {
        5: [.153388, .221461, .250301],
        7: [.071303, .131514, .189879, .214607],
        9: [.028532, .067234, .124009, .179044, .20236],
        11: [.0093, .028002, .065984, .121703, .175713, .198596],
        13: [.002406, .009255, .027867, .065666, .121117, .174868, .197641],
        15: [489e-6, .002403, .009246, .02784, .065602, .120999, .174697, .197448]
    }
      , V_ = ["in vec2 vBlurTexCoords[%size%];", "uniform sampler2D uTexture;", "out vec4 finalColor;", "void main(void)", "{", "    finalColor = vec4(0.0);", "    %blur%", "}"].join(`
`);
    function W_(a) {
        let e = s3[a], t = e.length, i = V_, s = "", r = "finalColor += texture(uTexture, vBlurTexCoords[%index%]) * %value%;", o;
        for (let d = 0; d < a; d++) {
            let f = r.replace("%index%", d.toString());
            o = d,
            d >= t && (o = a - d - 1),
            f = f.replace("%value%", e[o].toString()),
            s += f,
            s += `
`
        }
        return i = i.replace("%blur%", s),
        i = i.replace("%size%", a.toString()),
        i
    }
    var Y_ = `
in vec2 aPosition;

uniform float uStrength;

out vec2 vBlurTexCoords[%size%];

uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;

vec4 filterVertexPosition( void )
{
vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;

position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

void main(void)
{
gl_Position = filterVertexPosition();

float pixelStrength = uInputSize.%dimension% * uStrength;

vec2 textureCoord = filterTextureCoord();
%blur%
}`;
    function $_(a, e) {
        let t = Math.ceil(a / 2), i = Y_, s = "", r;
        e ? r = "vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * pixelStrength, 0.0);" : r = "vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * pixelStrength);";
        for (let o = 0; o < a; o++) {
            let d = r.replace("%index%", o.toString());
            d = d.replace("%sampleIndex%", `${o - (t - 1)}.0`),
            s += d,
            s += `
`
        }
        return i = i.replace("%blur%", s),
        i = i.replace("%size%", a.toString()),
        i = i.replace("%dimension%", e ? "z" : "w"),
        i
    }
    function K_(a, e) {
        let t = $_(e, a)
          , i = W_(e);
        return pa.from({
            vertex: t,
            fragment: i,
            name: `blur-${a ? "horizontal" : "vertical"}-pass-filter`
        })
    }
    var q_ = `

struct GlobalFilterUniforms {
uInputSize:vec4<f32>,
uInputPixel:vec4<f32>,
uInputClamp:vec4<f32>,
uOutputFrame:vec4<f32>,
uGlobalFrame:vec4<f32>,
uOutputTexture:vec4<f32>,
};

struct BlurUniforms {
uStrength:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> blurUniforms : BlurUniforms;


struct VSOutput {
@builtin(position) position: vec4<f32>,
%blur-struct%
};

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
return gfu.uGlobalFrame.zw;
}


@vertex
fn mainVertex(
@location(0) aPosition : vec2<f32>, 
) -> VSOutput {

let filteredCord = filterTextureCoord(aPosition);

let pixelStrength = gfu.uInputSize.%dimension% * blurUniforms.uStrength;

return VSOutput(
filterVertexPosition(aPosition),
%blur-vertex-out%
);
}

@fragment
fn mainFragment(
@builtin(position) position: vec4<f32>,
%blur-fragment-in%
) -> @location(0) vec4<f32> {

var   finalColor = vec4(0.0);

%blur-sampling%

return finalColor;
}`;
    function Z_(a, e) {
        let t = s3[e]
          , i = t.length
          , s = []
          , r = []
          , o = [];
        for (let p = 0; p < e; p++) {
            s[p] = `@location(${p}) offset${p}: vec2<f32>,`,
            a ? r[p] = `filteredCord + vec2(${p - i + 1} * pixelStrength, 0.0),` : r[p] = `filteredCord + vec2(0.0, ${p - i + 1} * pixelStrength),`;
            let x = p < i ? p : e - p - 1
              , _ = t[x].toString();
            o[p] = `finalColor += textureSample(uTexture, uSampler, offset${p}) * ${_};`
        }
        let d = s.join(`
`)
          , f = r.join(`
`)
          , h = o.join(`
`)
          , u = q_.replace("%blur-struct%", d).replace("%blur-vertex-out%", f).replace("%blur-fragment-in%", d).replace("%blur-sampling%", h).replace("%dimension%", a ? "z" : "w");
        return ea.from({
            vertex: {
                source: u,
                entryPoint: "mainVertex"
            },
            fragment: {
                source: u,
                entryPoint: "mainFragment"
            }
        })
    }
    var Q_ = Object.defineProperty
      , Yb = Object.getOwnPropertySymbols
      , J_ = Object.prototype.hasOwnProperty
      , ex = Object.prototype.propertyIsEnumerable
      , $b = (a, e, t) => e in a ? Q_(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , xd = (a, e) => {
        for (var t in e || (e = {}))
            J_.call(e, t) && $b(a, t, e[t]);
        if (Yb)
            for (var t of Yb(e))
                ex.call(e, t) && $b(a, t, e[t]);
        return a
    }
      , r3 = class n3 extends er {
        constructor(e) {
            e = xd(xd({}, n3.defaultOptions), e);
            let t = K_(e.horizontal, e.kernelSize)
              , i = Z_(e.horizontal, e.kernelSize);
            super(xd({
                glProgram: t,
                gpuProgram: i,
                resources: {
                    blurUniforms: {
                        uStrength: {
                            value: 0,
                            type: "f32"
                        }
                    }
                }
            }, e)),
            this.horizontal = e.horizontal,
            this._quality = 0,
            this.quality = e.quality,
            this.blur = e.strength,
            this._uniforms = this.resources.blurUniforms.uniforms
        }
        apply(e, t, i, s) {
            if (this._uniforms.uStrength = this.strength / this.passes,
            this.passes === 1)
                e.applyFilter(this, t, i, s);
            else {
                let r = ze.getSameSizeTexture(t)
                  , o = t
                  , d = r;
                this._state.blend = !1;
                let f = e.renderer.type === xt.WEBGPU;
                for (let h = 0; h < this.passes - 1; h++) {
                    e.applyFilter(this, o, d, h === 0 ? !0 : f);
                    let u = d;
                    d = o,
                    o = u
                }
                this._state.blend = !0,
                e.applyFilter(this, o, i, s),
                ze.returnTexture(r)
            }
        }
        get blur() {
            return this.strength
        }
        set blur(e) {
            this.padding = 1 + Math.abs(e) * 2,
            this.strength = e
        }
        get quality() {
            return this._quality
        }
        set quality(e) {
            this._quality = e,
            this.passes = e
        }
    }
    ;
    r3.defaultOptions = {
        strength: 8,
        quality: 4,
        kernelSize: 5
    };
    var yd = r3
      , tx = Object.defineProperty
      , ax = Object.defineProperties
      , ix = Object.getOwnPropertyDescriptors
      , kn = Object.getOwnPropertySymbols
      , o3 = Object.prototype.hasOwnProperty
      , c3 = Object.prototype.propertyIsEnumerable
      , Kb = (a, e, t) => e in a ? tx(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , gs = (a, e) => {
        for (var t in e || (e = {}))
            o3.call(e, t) && Kb(a, t, e[t]);
        if (kn)
            for (var t of kn(e))
                c3.call(e, t) && Kb(a, t, e[t]);
        return a
    }
      , sx = (a, e) => ax(a, ix(e))
      , rx = (a, e) => {
        var t = {};
        for (var i in a)
            o3.call(a, i) && e.indexOf(i) < 0 && (t[i] = a[i]);
        if (a != null && kn)
            for (var i of kn(a))
                e.indexOf(i) < 0 && c3.call(a, i) && (t[i] = a[i]);
        return t
    }
      , Ff = class extends er {
        constructor(...e) {
            var t;
            let i = (t = e[0]) != null ? t : {};
            typeof i == "number" && (i = {
                strength: i
            },
            e[1] !== void 0 && (i.quality = e[1]),
            e[2] !== void 0 && (i.resolution = e[2] || "inherit"),
            e[3] !== void 0 && (i.kernelSize = e[3])),
            i = gs(gs({}, yd.defaultOptions), i);
            let s = i
              , {strength: r, strengthX: o, strengthY: d, quality: f} = s
              , h = rx(s, ["strength", "strengthX", "strengthY", "quality"]);
            super(sx(gs({}, h), {
                compatibleRenderers: xt.BOTH,
                resources: {}
            })),
            this._repeatEdgePixels = !1,
            this.blurXFilter = new yd(gs({
                horizontal: !0
            }, i)),
            this.blurYFilter = new yd(gs({
                horizontal: !1
            }, i)),
            this.quality = f,
            this.strengthX = o ?? r,
            this.strengthY = d ?? r,
            this.repeatEdgePixels = !1
        }
        apply(e, t, i, s) {
            let r = Math.abs(this.blurXFilter.strength)
              , o = Math.abs(this.blurYFilter.strength);
            if (r && o) {
                let d = ze.getSameSizeTexture(t);
                this.blurXFilter.blendMode = "normal",
                this.blurXFilter.apply(e, t, d, !0),
                this.blurYFilter.blendMode = this.blendMode,
                this.blurYFilter.apply(e, d, i, s),
                ze.returnTexture(d)
            } else
                o ? (this.blurYFilter.blendMode = this.blendMode,
                this.blurYFilter.apply(e, t, i, s)) : (this.blurXFilter.blendMode = this.blendMode,
                this.blurXFilter.apply(e, t, i, s))
        }
        updatePadding() {
            this._repeatEdgePixels ? this.padding = 0 : this.padding = Math.max(Math.abs(this.blurXFilter.blur), Math.abs(this.blurYFilter.blur)) * 2
        }
        get strength() {
            if (this.strengthX !== this.strengthY)
                throw new Error("BlurFilter's strengthX and strengthY are different");
            return this.strengthX
        }
        set strength(e) {
            this.blurXFilter.blur = this.blurYFilter.blur = e,
            this.updatePadding()
        }
        get quality() {
            return this.blurXFilter.quality
        }
        set quality(e) {
            this.blurXFilter.quality = this.blurYFilter.quality = e
        }
        get strengthX() {
            return this.blurXFilter.blur
        }
        set strengthX(e) {
            this.blurXFilter.blur = e,
            this.updatePadding()
        }
        get strengthY() {
            return this.blurYFilter.blur
        }
        set strengthY(e) {
            this.blurYFilter.blur = e,
            this.updatePadding()
        }
        get blur() {
            return this.strength
        }
        set blur(e) {
            this.strength = e
        }
        get blurX() {
            return this.strengthX
        }
        set blurX(e) {
            this.strengthX = e
        }
        get blurY() {
            return this.strengthY
        }
        set blurY(e) {
            this.strengthY = e
        }
        get repeatEdgePixels() {
            return this._repeatEdgePixels
        }
        set repeatEdgePixels(e) {
            this._repeatEdgePixels = e,
            this.updatePadding()
        }
    }
    ;
    Ff.defaultOptions = {
        strength: 8,
        quality: 4,
        kernelSize: 5
    };
    var nx = `
in vec2 vTextureCoord;
in vec4 vColor;

out vec4 finalColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uTexture;

float rand(vec2 co)
{
return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
vec4 color = texture(uTexture, vTextureCoord);
float randomValue = rand(gl_FragCoord.xy * uSeed);
float diff = (randomValue - 0.5) *  uNoise;

// Un-premultiply alpha before applying the color matrix. See issue #3539.
if (color.a > 0.0) {
color.rgb /= color.a;
}

color.r += diff;
color.g += diff;
color.b += diff;

// Premultiply alpha again.
color.rgb *= color.a;

finalColor = color;
}
`
      , qb = `

struct GlobalFilterUniforms {
uInputSize:vec4<f32>,
uInputPixel:vec4<f32>,
uInputClamp:vec4<f32>,
uOutputFrame:vec4<f32>,
uGlobalFrame:vec4<f32>,
uOutputTexture:vec4<f32>,
};

struct NoiseUniforms {
uNoise:f32,
uSeed:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> noiseUniforms : NoiseUniforms;

struct VSOutput {
@builtin(position) position: vec4<f32>,
@location(0) uv : vec2<f32>
};

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
return gfu.uGlobalFrame.zw;
}

@vertex
fn mainVertex(
@location(0) aPosition : vec2<f32>, 
) -> VSOutput {
return VSOutput(
filterVertexPosition(aPosition),
filterTextureCoord(aPosition)
);
}

fn rand(co:vec2<f32>) -> f32
{
return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}



@fragment
fn mainFragment(
@location(0) uv: vec2<f32>,
@builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {

var pixelPosition =  globalTextureCoord(position.xy);// / (getSize());//-  gfu.uOutputFrame.xy);


var sample = textureSample(uTexture, uSampler, uv);
var randomValue =  rand(pixelPosition.xy * noiseUniforms.uSeed);
var diff = (randomValue - 0.5) * noiseUniforms.uNoise;

// Un-premultiply alpha before applying the color matrix. See issue #3539.
if (sample.a > 0.0) {
sample.r /= sample.a;
sample.g /= sample.a;
sample.b /= sample.a;
}

sample.r += diff;
sample.g += diff;
sample.b += diff;

// Premultiply alpha again.
sample.r *= sample.a;
sample.g *= sample.a;
sample.b *= sample.a;

return sample;
}`
      , ox = Object.defineProperty
      , cx = Object.defineProperties
      , dx = Object.getOwnPropertyDescriptors
      , Un = Object.getOwnPropertySymbols
      , d3 = Object.prototype.hasOwnProperty
      , f3 = Object.prototype.propertyIsEnumerable
      , Zb = (a, e, t) => e in a ? ox(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , vd = (a, e) => {
        for (var t in e || (e = {}))
            d3.call(e, t) && Zb(a, t, e[t]);
        if (Un)
            for (var t of Un(e))
                f3.call(e, t) && Zb(a, t, e[t]);
        return a
    }
      , fx = (a, e) => cx(a, dx(e))
      , hx = (a, e) => {
        var t = {};
        for (var i in a)
            d3.call(a, i) && e.indexOf(i) < 0 && (t[i] = a[i]);
        if (a != null && Un)
            for (var i of Un(a))
                e.indexOf(i) < 0 && f3.call(a, i) && (t[i] = a[i]);
        return t
    }
      , lx = class h3 extends er {
        constructor(e={}) {
            e = vd(vd({}, h3.defaultOptions), e);
            let t = ea.from({
                vertex: {
                    source: qb,
                    entryPoint: "mainVertex"
                },
                fragment: {
                    source: qb,
                    entryPoint: "mainFragment"
                }
            })
              , i = pa.from({
                vertex: e3,
                fragment: nx,
                name: "noise-filter"
            })
              , s = e
              , {noise: r, seed: o} = s
              , d = hx(s, ["noise", "seed"]);
            super(fx(vd({}, d), {
                gpuProgram: t,
                glProgram: i,
                resources: {
                    noiseUniforms: new Je({
                        uNoise: {
                            value: 1,
                            type: "f32"
                        },
                        uSeed: {
                            value: 1,
                            type: "f32"
                        }
                    })
                }
            })),
            this.noise = r,
            this.seed = o ?? Math.random()
        }
        get noise() {
            return this.resources.noiseUniforms.uniforms.uNoise
        }
        set noise(e) {
            this.resources.noiseUniforms.uniforms.uNoise = e
        }
        get seed() {
            return this.resources.noiseUniforms.uniforms.uSeed
        }
        set seed(e) {
            this.resources.noiseUniforms.uniforms.uSeed = e
        }
    }
    ;
    lx.defaultOptions = {
        noise: .5
    };
    var ux = `in vec2 vMaskCoord;
in vec2 vTextureCoord;

uniform sampler2D uTexture;
uniform sampler2D uMaskTexture;

uniform float uAlpha;
uniform vec4 uMaskClamp;
uniform float uInverse;

out vec4 finalColor;

void main(void)
{
float clip = step(3.5,
step(uMaskClamp.x, vMaskCoord.x) +
step(uMaskClamp.y, vMaskCoord.y) +
step(vMaskCoord.x, uMaskClamp.z) +
step(vMaskCoord.y, uMaskClamp.w));

// TODO look into why this is needed
float npmAlpha = uAlpha;
vec4 original = texture(uTexture, vTextureCoord);
vec4 masky = texture(uMaskTexture, vMaskCoord);
float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

float a = alphaMul * masky.r * npmAlpha * clip;

if (uInverse == 1.0) {
a = 1.0 - a;
}

finalColor = original * a;
}
`
      , bx = `in vec2 aPosition;

out vec2 vTextureCoord;
out vec2 vMaskCoord;


uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;
uniform mat3 uFilterMatrix;

vec4 filterVertexPosition(  vec2 aPosition )
{
vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;

position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord(  vec2 aPosition )
{
return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

vec2 getFilterCoord( vec2 aPosition )
{
return  ( uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;
}   

void main(void)
{
gl_Position = filterVertexPosition(aPosition);
vTextureCoord = filterTextureCoord(aPosition);
vMaskCoord = getFilterCoord(aPosition);
}
`
      , Qb = `struct GlobalFilterUniforms {
uInputSize:vec4<f32>,
uInputPixel:vec4<f32>,
uInputClamp:vec4<f32>,
uOutputFrame:vec4<f32>,
uGlobalFrame:vec4<f32>,
uOutputTexture:vec4<f32>,
};

struct MaskUniforms {
uFilterMatrix:mat3x3<f32>,
uMaskClamp:vec4<f32>,
uAlpha:f32,
uInverse:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> filterUniforms : MaskUniforms;
@group(1) @binding(1) var uMaskTexture: texture_2d<f32>;

struct VSOutput {
@builtin(position) position: vec4<f32>,
@location(0) uv : vec2<f32>,
@location(1) filterUv : vec2<f32>,
};

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);
}

fn getFilterCoord(aPosition:vec2<f32> ) -> vec2<f32>
{
return ( filterUniforms.uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;
}

fn getSize() -> vec2<f32>
{
return gfu.uGlobalFrame.zw;
}

@vertex
fn mainVertex(
@location(0) aPosition : vec2<f32>,
) -> VSOutput {
return VSOutput(
filterVertexPosition(aPosition),
filterTextureCoord(aPosition),
getFilterCoord(aPosition)
);
}

@fragment
fn mainFragment(
@location(0) uv: vec2<f32>,
@location(1) filterUv: vec2<f32>,
@builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {

var maskClamp = filterUniforms.uMaskClamp;
var uAlpha = filterUniforms.uAlpha;

var clip = step(3.5,
step(maskClamp.x, filterUv.x) +
step(maskClamp.y, filterUv.y) +
step(filterUv.x, maskClamp.z) +
step(filterUv.y, maskClamp.w));

var mask = textureSample(uMaskTexture, uSampler, filterUv);
var source = textureSample(uTexture, uSampler, uv);
var alphaMul = 1.0 - uAlpha * (1.0 - mask.a);

var a: f32 = alphaMul * mask.r * uAlpha * clip;

if (filterUniforms.uInverse == 1.0) {
a = 1.0 - a;
}

return source * a;
}
`
      , px = Object.defineProperty
      , gx = Object.defineProperties
      , mx = Object.getOwnPropertyDescriptors
      , Ln = Object.getOwnPropertySymbols
      , l3 = Object.prototype.hasOwnProperty
      , u3 = Object.prototype.propertyIsEnumerable
      , Jb = (a, e, t) => e in a ? px(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , _x = (a, e) => {
        for (var t in e || (e = {}))
            l3.call(e, t) && Jb(a, t, e[t]);
        if (Ln)
            for (var t of Ln(e))
                u3.call(e, t) && Jb(a, t, e[t]);
        return a
    }
      , xx = (a, e) => gx(a, mx(e))
      , yx = (a, e) => {
        var t = {};
        for (var i in a)
            l3.call(a, i) && e.indexOf(i) < 0 && (t[i] = a[i]);
        if (a != null && Ln)
            for (var i of Ln(a))
                e.indexOf(i) < 0 && u3.call(a, i) && (t[i] = a[i]);
        return t
    }
      , Df = class extends er {
        constructor(e) {
            let t = e
              , {sprite: i} = t
              , s = yx(t, ["sprite"])
              , r = new Yr(i.texture)
              , o = new Je({
                uFilterMatrix: {
                    value: new ie,
                    type: "mat3x3<f32>"
                },
                uMaskClamp: {
                    value: r.uClampFrame,
                    type: "vec4<f32>"
                },
                uAlpha: {
                    value: 1,
                    type: "f32"
                },
                uInverse: {
                    value: e.inverse ? 1 : 0,
                    type: "f32"
                }
            })
              , d = ea.from({
                vertex: {
                    source: Qb,
                    entryPoint: "mainVertex"
                },
                fragment: {
                    source: Qb,
                    entryPoint: "mainFragment"
                }
            })
              , f = pa.from({
                vertex: bx,
                fragment: ux,
                name: "mask-filter"
            });
            super(xx(_x({}, s), {
                gpuProgram: d,
                glProgram: f,
                resources: {
                    filterUniforms: o,
                    uMaskTexture: i.texture.source
                }
            })),
            this.sprite = i,
            this._textureMatrix = r
        }
        set inverse(e) {
            this.resources.filterUniforms.uniforms.uInverse = e ? 1 : 0
        }
        get inverse() {
            return this.resources.filterUniforms.uniforms.uInverse === 1
        }
        apply(e, t, i, s) {
            this._textureMatrix.texture = this.sprite.texture,
            e.calculateSpriteMatrix(this.resources.filterUniforms.uniforms.uFilterMatrix, this.sprite).prepend(this._textureMatrix.mapCoord),
            this.resources.uMaskTexture = this.sprite.texture.source,
            e.applyFilter(this, t, i, s)
        }
    }
    ;
    function e1(a, e, t, i, s, r, o, d) {
        let f = o - t
          , h = d - i
          , u = s - t
          , p = r - i
          , x = a - t
          , _ = e - i
          , T = f * f + h * h
          , S = f * u + h * p
          , A = f * x + h * _
          , P = u * u + p * p
          , O = u * x + p * _
          , F = 1 / (T * P - S * S)
          , k = (P * A - S * O) * F
          , V = (T * O - S * A) * F;
        return k >= 0 && V >= 0 && k + V < 1
    }
    var b3 = class p3 {
        constructor(e) {
            this._tick = () => {
                this.timeout = setTimeout(this._processQueue, 0)
            }
            ,
            this._processQueue = () => {
                let {queue: t} = this
                  , i = 0;
                for (; t.length && i < p3.uploadsPerFrame; ) {
                    let s = t.shift();
                    this.uploadQueueItem(s),
                    i++
                }
                t.length ? tt.system.addOnce(this._tick, this, Ga.UTILITY) : this._resolve()
            }
            ,
            this.renderer = e,
            this.queue = [],
            this.resolves = []
        }
        getQueue() {
            return [...this.queue]
        }
        add(e) {
            let t = Array.isArray(e) ? e : [e];
            for (let i of t)
                i instanceof he ? this._addContainer(i) : this.resolveQueueItem(i, this.queue);
            return this
        }
        _addContainer(e) {
            this.resolveQueueItem(e, this.queue);
            for (let t of e.children)
                this._addContainer(t)
        }
        upload(e) {
            return e && this.add(e),
            new Promise(t => {
                this.queue.length ? (this.resolves.push(t),
                this.dedupeQueue(),
                tt.system.addOnce(this._tick, this, Ga.UTILITY)) : t()
            }
            )
        }
        dedupeQueue() {
            let e = Object.create(null)
              , t = 0;
            for (let i = 0; i < this.queue.length; i++) {
                let s = this.queue[i];
                e[s.uid] || (e[s.uid] = !0,
                this.queue[t++] = s)
            }
            this.queue.length = t
        }
        _resolve() {
            let {resolves: e} = this
              , t = e.slice(0);
            e.length = 0;
            for (let i of t)
                i()
        }
    }
    ;
    b3.uploadsPerFrame = 4;
    var vx = b3
      , Tx = Object.defineProperty
      , Nn = Object.getOwnPropertySymbols
      , g3 = Object.prototype.hasOwnProperty
      , m3 = Object.prototype.propertyIsEnumerable
      , t1 = (a, e, t) => e in a ? Tx(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , Sx = (a, e) => {
        for (var t in e || (e = {}))
            g3.call(e, t) && t1(a, t, e[t]);
        if (Nn)
            for (var t of Nn(e))
                m3.call(e, t) && t1(a, t, e[t]);
        return a
    }
      , wx = (a, e) => {
        var t = {};
        for (var i in a)
            g3.call(a, i) && e.indexOf(i) < 0 && (t[i] = a[i]);
        if (a != null && Nn)
            for (var i of Nn(a))
                e.indexOf(i) < 0 && m3.call(a, i) && (t[i] = a[i]);
        return t
    }
      , ai = class extends ua {
        constructor(...e) {
            var t;
            let i = e[0];
            i instanceof Jt && (i = {
                geometry: i,
                shader: e[1]
            },
            e[3] && (i.geometry.topology = e[3]));
            let s = i
              , {geometry: r, shader: o, texture: d, roundPixels: f, state: h} = s
              , u = wx(s, ["geometry", "shader", "texture", "roundPixels", "state"]);
            super(Sx({
                label: "Mesh"
            }, u)),
            this.renderPipeId = "mesh",
            this._shader = null,
            this.allowChildren = !1,
            this.shader = o ?? null,
            this.texture = (t = d ?? o?.texture) != null ? t : K.WHITE,
            this.state = h ?? Et.for2d(),
            this._geometry = r,
            this._geometry.on("update", this.onViewUpdate, this),
            this.roundPixels = f ?? !1
        }
        get material() {
            return this._shader
        }
        set shader(e) {
            this._shader !== e && (this._shader = e,
            this.onViewUpdate())
        }
        get shader() {
            return this._shader
        }
        set geometry(e) {
            var t;
            this._geometry !== e && ((t = this._geometry) == null || t.off("update", this.onViewUpdate, this),
            e.on("update", this.onViewUpdate, this),
            this._geometry = e,
            this.onViewUpdate())
        }
        get geometry() {
            return this._geometry
        }
        set texture(e) {
            e || (e = K.EMPTY);
            let t = this._texture;
            t !== e && (t && t.dynamic && t.off("update", this.onViewUpdate, this),
            e.dynamic && e.on("update", this.onViewUpdate, this),
            this.shader && (this.shader.texture = e),
            this._texture = e,
            this.onViewUpdate())
        }
        get texture() {
            return this._texture
        }
        get batched() {
            return this._shader || this.state.data & 12 ? !1 : this._geometry instanceof Js ? this._geometry.batchMode === "auto" ? this._geometry.positions.length / 2 <= 100 : this._geometry.batchMode === "batch" : !1
        }
        get bounds() {
            return this._geometry.bounds
        }
        updateBounds() {
            this._bounds = this._geometry.bounds
        }
        containsPoint(e) {
            let {x: t, y: i} = e;
            if (!this.bounds.containsPoint(t, i))
                return !1;
            let s = this.geometry.getBuffer("aPosition").data
              , r = this.geometry.topology === "triangle-strip" ? 3 : 1;
            if (this.geometry.getIndex()) {
                let o = this.geometry.getIndex().data
                  , d = o.length;
                for (let f = 0; f + 2 < d; f += r) {
                    let h = o[f] * 2
                      , u = o[f + 1] * 2
                      , p = o[f + 2] * 2;
                    if (e1(t, i, s[h], s[h + 1], s[u], s[u + 1], s[p], s[p + 1]))
                        return !0
                }
            } else {
                let o = s.length / 2;
                for (let d = 0; d + 2 < o; d += r) {
                    let f = d * 2
                      , h = (d + 1) * 2
                      , u = (d + 2) * 2;
                    if (e1(t, i, s[f], s[f + 1], s[h], s[h + 1], s[u], s[u + 1]))
                        return !0
                }
            }
            return !1
        }
        destroy(e) {
            var t;
            if (super.destroy(e),
            typeof e == "boolean" ? e : e?.texture) {
                let i = typeof e == "boolean" ? e : e?.textureSource;
                this._texture.destroy(i)
            }
            (t = this._geometry) == null || t.off("update", this.onViewUpdate, this),
            this._texture = null,
            this._geometry = null,
            this._shader = null
        }
    }
      , Ax = Object.defineProperty
      , Ex = Object.defineProperties
      , Px = Object.getOwnPropertyDescriptors
      , jn = Object.getOwnPropertySymbols
      , _3 = Object.prototype.hasOwnProperty
      , x3 = Object.prototype.propertyIsEnumerable
      , a1 = (a, e, t) => e in a ? Ax(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , Rx = (a, e) => {
        for (var t in e || (e = {}))
            _3.call(e, t) && a1(a, t, e[t]);
        if (jn)
            for (var t of jn(e))
                x3.call(e, t) && a1(a, t, e[t]);
        return a
    }
      , Mx = (a, e) => Ex(a, Px(e))
      , Cx = (a, e) => {
        var t = {};
        for (var i in a)
            _3.call(a, i) && e.indexOf(i) < 0 && (t[i] = a[i]);
        if (a != null && jn)
            for (var i of jn(a))
                e.indexOf(i) < 0 && x3.call(a, i) && (t[i] = a[i]);
        return t
    }
      , kf = class a extends we {
        constructor(...e) {
            let t = e[0];
            Array.isArray(e[0]) && (t = {
                textures: e[0],
                autoUpdate: e[1]
            });
            let i = t
              , {textures: s, autoUpdate: r} = i
              , o = Cx(i, ["textures", "autoUpdate"])
              , [d] = s;
            super(Mx(Rx({}, o), {
                texture: d instanceof K ? d : d.texture
            })),
            this._textures = null,
            this._durations = null,
            this._autoUpdate = r ?? !0,
            this._isConnectedToTicker = !1,
            this.animationSpeed = 1,
            this.loop = !0,
            this.updateAnchor = !1,
            this.onComplete = null,
            this.onFrameChange = null,
            this.onLoop = null,
            this._currentTime = 0,
            this._playing = !1,
            this._previousFrame = null,
            this.textures = s
        }
        stop() {
            this._playing && (this._playing = !1,
            this._autoUpdate && this._isConnectedToTicker && (tt.shared.remove(this.update, this),
            this._isConnectedToTicker = !1))
        }
        play() {
            this._playing || (this._playing = !0,
            this._autoUpdate && !this._isConnectedToTicker && (tt.shared.add(this.update, this, Ga.HIGH),
            this._isConnectedToTicker = !0))
        }
        gotoAndStop(e) {
            this.stop(),
            this.currentFrame = e
        }
        gotoAndPlay(e) {
            this.currentFrame = e,
            this.play()
        }
        update(e) {
            if (!this._playing)
                return;
            let t = e.deltaTime
              , i = this.animationSpeed * t
              , s = this.currentFrame;
            if (this._durations !== null) {
                let r = this._currentTime % 1 * this._durations[this.currentFrame];
                for (r += i / 60 * 1e3; r < 0; )
                    this._currentTime--,
                    r += this._durations[this.currentFrame];
                let o = Math.sign(this.animationSpeed * t);
                for (this._currentTime = Math.floor(this._currentTime); r >= this._durations[this.currentFrame]; )
                    r -= this._durations[this.currentFrame] * o,
                    this._currentTime += o;
                this._currentTime += r / this._durations[this.currentFrame]
            } else
                this._currentTime += i;
            this._currentTime < 0 && !this.loop ? (this.gotoAndStop(0),
            this.onComplete && this.onComplete()) : this._currentTime >= this._textures.length && !this.loop ? (this.gotoAndStop(this._textures.length - 1),
            this.onComplete && this.onComplete()) : s !== this.currentFrame && (this.loop && this.onLoop && (this.animationSpeed > 0 && this.currentFrame < s || this.animationSpeed < 0 && this.currentFrame > s) && this.onLoop(),
            this._updateTexture())
        }
        _updateTexture() {
            let e = this.currentFrame;
            this._previousFrame !== e && (this._previousFrame = e,
            this.texture = this._textures[e],
            this.updateAnchor && this.anchor.copyFrom(this.texture.defaultAnchor),
            this.onFrameChange && this.onFrameChange(this.currentFrame))
        }
        destroy() {
            this.stop(),
            super.destroy(),
            this.onComplete = null,
            this.onFrameChange = null,
            this.onLoop = null
        }
        static fromFrames(e) {
            let t = [];
            for (let i = 0; i < e.length; ++i)
                t.push(K.from(e[i]));
            return new a(t)
        }
        static fromImages(e) {
            let t = [];
            for (let i = 0; i < e.length; ++i)
                t.push(K.from(e[i]));
            return new a(t)
        }
        get totalFrames() {
            return this._textures.length
        }
        get textures() {
            return this._textures
        }
        set textures(e) {
            if (e[0]instanceof K)
                this._textures = e,
                this._durations = null;
            else {
                this._textures = [],
                this._durations = [];
                for (let t = 0; t < e.length; t++)
                    this._textures.push(e[t].texture),
                    this._durations.push(e[t].time)
            }
            this._previousFrame = null,
            this.gotoAndStop(0),
            this._updateTexture()
        }
        get currentFrame() {
            let e = Math.floor(this._currentTime) % this._textures.length;
            return e < 0 && (e += this._textures.length),
            e
        }
        set currentFrame(e) {
            if (e < 0 || e > this.totalFrames - 1)
                throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);
            let t = this.currentFrame;
            this._currentTime = e,
            t !== this.currentFrame && this._updateTexture()
        }
        get playing() {
            return this._playing
        }
        get autoUpdate() {
            return this._autoUpdate
        }
        set autoUpdate(e) {
            e !== this._autoUpdate && (this._autoUpdate = e,
            !this._autoUpdate && this._isConnectedToTicker ? (tt.shared.remove(this.update, this),
            this._isConnectedToTicker = !1) : this._autoUpdate && !this._isConnectedToTicker && this._playing && (tt.shared.add(this.update, this),
            this._isConnectedToTicker = !0))
        }
    }
      , Uf = class {
        constructor({matrix: e, observer: t}={}) {
            this.dirty = !0,
            this._matrix = e ?? new ie,
            this.observer = t,
            this.position = new We(this,0,0),
            this.scale = new We(this,1,1),
            this.pivot = new We(this,0,0),
            this.skew = new We(this,0,0),
            this._rotation = 0,
            this._cx = 1,
            this._sx = 0,
            this._cy = 0,
            this._sy = 1
        }
        get matrix() {
            let e = this._matrix;
            return this.dirty && (e.a = this._cx * this.scale.x,
            e.b = this._sx * this.scale.x,
            e.c = this._cy * this.scale.y,
            e.d = this._sy * this.scale.y,
            e.tx = this.position.x - (this.pivot.x * e.a + this.pivot.y * e.c),
            e.ty = this.position.y - (this.pivot.x * e.b + this.pivot.y * e.d),
            this.dirty = !1),
            e
        }
        _onUpdate(e) {
            var t;
            this.dirty = !0,
            e === this.skew && this.updateSkew(),
            (t = this.observer) == null || t._onUpdate(this)
        }
        updateSkew() {
            this._cx = Math.cos(this._rotation + this.skew.y),
            this._sx = Math.sin(this._rotation + this.skew.y),
            this._cy = -Math.sin(this._rotation - this.skew.x),
            this._sy = Math.cos(this._rotation - this.skew.x),
            this.dirty = !0
        }
        setFromMatrix(e) {
            e.decompose(this),
            this.dirty = !0
        }
        get rotation() {
            return this._rotation
        }
        set rotation(e) {
            this._rotation !== e && (this._rotation = e,
            this._onUpdate(this.skew))
        }
    }
      , Ox = Object.defineProperty
      , Xn = Object.getOwnPropertySymbols
      , y3 = Object.prototype.hasOwnProperty
      , v3 = Object.prototype.propertyIsEnumerable
      , i1 = (a, e, t) => e in a ? Ox(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , ms = (a, e) => {
        for (var t in e || (e = {}))
            y3.call(e, t) && i1(a, t, e[t]);
        if (Xn)
            for (var t of Xn(e))
                v3.call(e, t) && i1(a, t, e[t]);
        return a
    }
      , Ix = (a, e) => {
        var t = {};
        for (var i in a)
            y3.call(a, i) && e.indexOf(i) < 0 && (t[i] = a[i]);
        if (a != null && Xn)
            for (var i of Xn(a))
                e.indexOf(i) < 0 && v3.call(a, i) && (t[i] = a[i]);
        return t
    }
      , T3 = class Xr extends ua {
        constructor(...e) {
            let t = e[0] || {};
            t instanceof K && (t = {
                texture: t
            }),
            e.length > 1 && (t.width = e[1],
            t.height = e[2]),
            t = ms(ms({}, Xr.defaultOptions), t);
            let i = t ?? {}
              , {texture: s, anchor: r, tilePosition: o, tileScale: d, tileRotation: f, width: h, height: u, applyAnchorToTexture: p, roundPixels: x} = i
              , _ = Ix(i, ["texture", "anchor", "tilePosition", "tileScale", "tileRotation", "width", "height", "applyAnchorToTexture", "roundPixels"]);
            super(ms({
                label: "TilingSprite"
            }, _)),
            this.renderPipeId = "tilingSprite",
            this.batched = !0,
            this.allowChildren = !1,
            this._anchor = new We({
                _onUpdate: () => {
                    this.onViewUpdate()
                }
            }),
            this.applyAnchorToTexture = p,
            this.texture = s,
            this._width = h ?? s.width,
            this._height = u ?? s.height,
            this._tileTransform = new Uf({
                observer: {
                    _onUpdate: () => this.onViewUpdate()
                }
            }),
            r && (this.anchor = r),
            this.tilePosition = o,
            this.tileScale = d,
            this.tileRotation = f,
            this.roundPixels = x ?? !1
        }
        static from(e, t={}) {
            return typeof e == "string" ? new Xr(ms({
                texture: Ie.get(e)
            }, t)) : new Xr(ms({
                texture: e
            }, t))
        }
        get uvRespectAnchor() {
            return ta("uvRespectAnchor is deprecated, please use applyAnchorToTexture instead"),
            this.applyAnchorToTexture
        }
        set uvRespectAnchor(e) {
            ta("uvRespectAnchor is deprecated, please use applyAnchorToTexture instead"),
            this.applyAnchorToTexture = e
        }
        get clampMargin() {
            return this._texture.textureMatrix.clampMargin
        }
        set clampMargin(e) {
            this._texture.textureMatrix.clampMargin = e
        }
        get anchor() {
            return this._anchor
        }
        set anchor(e) {
            typeof e == "number" ? this._anchor.set(e) : this._anchor.copyFrom(e)
        }
        get tilePosition() {
            return this._tileTransform.position
        }
        set tilePosition(e) {
            this._tileTransform.position.copyFrom(e)
        }
        get tileScale() {
            return this._tileTransform.scale
        }
        set tileScale(e) {
            typeof e == "number" ? this._tileTransform.scale.set(e) : this._tileTransform.scale.copyFrom(e)
        }
        set tileRotation(e) {
            this._tileTransform.rotation = e
        }
        get tileRotation() {
            return this._tileTransform.rotation
        }
        get tileTransform() {
            return this._tileTransform
        }
        set texture(e) {
            e || (e = K.EMPTY);
            let t = this._texture;
            t !== e && (t && t.dynamic && t.off("update", this.onViewUpdate, this),
            e.dynamic && e.on("update", this.onViewUpdate, this),
            this._texture = e,
            this.onViewUpdate())
        }
        get texture() {
            return this._texture
        }
        set width(e) {
            this._width = e,
            this.onViewUpdate()
        }
        get width() {
            return this._width
        }
        set height(e) {
            this._height = e,
            this.onViewUpdate()
        }
        get height() {
            return this._height
        }
        setSize(e, t) {
            var i;
            typeof e == "object" && (t = (i = e.height) != null ? i : e.width,
            e = e.width),
            this._width = e,
            this._height = t ?? e,
            this.onViewUpdate()
        }
        getSize(e) {
            return e || (e = {}),
            e.width = this._width,
            e.height = this._height,
            e
        }
        updateBounds() {
            let e = this._bounds
              , t = this._anchor
              , i = this._width
              , s = this._height;
            e.maxX = -t._x * i,
            e.minX = e.maxX + i,
            e.maxY = -t._y * s,
            e.minY = e.maxY + s
        }
        containsPoint(e) {
            let t = this._width
              , i = this._height
              , s = -t * this._anchor._x
              , r = 0;
            return e.x >= s && e.x <= s + t && (r = -i * this._anchor._y,
            e.y >= r && e.y <= r + i)
        }
        destroy(e=!1) {
            if (super.destroy(e),
            this._anchor = null,
            this._tileTransform = null,
            this._bounds = null,
            typeof e == "boolean" ? e : e?.texture) {
                let t = typeof e == "boolean" ? e : e?.textureSource;
                this._texture.destroy(t)
            }
            this._texture = null
        }
    }
    ;
    T3.defaultOptions = {
        texture: K.EMPTY,
        anchor: {
            x: 0,
            y: 0
        },
        tilePosition: {
            x: 0,
            y: 0
        },
        tileScale: {
            x: 1,
            y: 1
        },
        tileRotation: 0,
        applyAnchorToTexture: !1
    };
    var Gx = T3
      , Bx = Object.defineProperty
      , Hn = Object.getOwnPropertySymbols
      , S3 = Object.prototype.hasOwnProperty
      , w3 = Object.prototype.propertyIsEnumerable
      , s1 = (a, e, t) => e in a ? Bx(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , Fx = (a, e) => {
        for (var t in e || (e = {}))
            S3.call(e, t) && s1(a, t, e[t]);
        if (Hn)
            for (var t of Hn(e))
                w3.call(e, t) && s1(a, t, e[t]);
        return a
    }
      , Dx = (a, e) => {
        var t = {};
        for (var i in a)
            S3.call(a, i) && e.indexOf(i) < 0 && (t[i] = a[i]);
        if (a != null && Hn)
            for (var i of Hn(a))
                e.indexOf(i) < 0 && w3.call(a, i) && (t[i] = a[i]);
        return t
    }
      , zs = class extends ua {
        constructor(e, t) {
            let i = e
              , {text: s, resolution: r, style: o, anchor: d, width: f, height: h, roundPixels: u} = i
              , p = Dx(i, ["text", "resolution", "style", "anchor", "width", "height", "roundPixels"]);
            super(Fx({}, p)),
            this.batched = !0,
            this._resolution = null,
            this._autoResolution = !0,
            this._didTextUpdate = !0,
            this._styleClass = t,
            this.text = s ?? "",
            this.style = o,
            this.resolution = r ?? null,
            this.allowChildren = !1,
            this._anchor = new We({
                _onUpdate: () => {
                    this.onViewUpdate()
                }
            }),
            d && (this.anchor = d),
            this.roundPixels = u ?? !1,
            f !== void 0 && (this.width = f),
            h !== void 0 && (this.height = h)
        }
        get anchor() {
            return this._anchor
        }
        set anchor(e) {
            typeof e == "number" ? this._anchor.set(e) : this._anchor.copyFrom(e)
        }
        set text(e) {
            e = e.toString(),
            this._text !== e && (this._text = e,
            this.onViewUpdate())
        }
        get text() {
            return this._text
        }
        set resolution(e) {
            this._autoResolution = e === null,
            this._resolution = e,
            this.onViewUpdate()
        }
        get resolution() {
            return this._resolution
        }
        get style() {
            return this._style
        }
        set style(e) {
            var t;
            e || (e = {}),
            (t = this._style) == null || t.off("update", this.onViewUpdate, this),
            e instanceof this._styleClass ? this._style = e : this._style = new this._styleClass(e),
            this._style.on("update", this.onViewUpdate, this),
            this.onViewUpdate()
        }
        get width() {
            return Math.abs(this.scale.x) * this.bounds.width
        }
        set width(e) {
            this._setWidth(e, this.bounds.width)
        }
        get height() {
            return Math.abs(this.scale.y) * this.bounds.height
        }
        set height(e) {
            this._setHeight(e, this.bounds.height)
        }
        getSize(e) {
            return e || (e = {}),
            e.width = Math.abs(this.scale.x) * this.bounds.width,
            e.height = Math.abs(this.scale.y) * this.bounds.height,
            e
        }
        setSize(e, t) {
            var i;
            typeof e == "object" ? (t = (i = e.height) != null ? i : e.width,
            e = e.width) : t != null || (t = e),
            e !== void 0 && this._setWidth(e, this.bounds.width),
            t !== void 0 && this._setHeight(t, this.bounds.height)
        }
        containsPoint(e) {
            let t = this.bounds.width
              , i = this.bounds.height
              , s = -t * this.anchor.x
              , r = 0;
            return e.x >= s && e.x <= s + t && (r = -i * this.anchor.y,
            e.y >= r && e.y <= r + i)
        }
        onViewUpdate() {
            this.didViewUpdate || (this._didTextUpdate = !0),
            super.onViewUpdate()
        }
        _getKey() {
            return `${this.text}:${this._style.styleKey}:${this._resolution}`
        }
        destroy(e=!1) {
            super.destroy(e),
            this.owner = null,
            this._bounds = null,
            this._anchor = null,
            (typeof e == "boolean" ? e : e != null && e.style) && this._style.destroy(e),
            this._style = null,
            this._text = null
        }
    }
    ;
    function Bh(a, e) {
        var t;
        let i = (t = a[0]) != null ? t : {};
        return (typeof i == "string" || a[1]) && (i = {
            text: i,
            style: a[1]
        }),
        i
    }
    var Oe = class extends zs {
        constructor(...e) {
            let t = Bh(e, "Text");
            super(t, Pt),
            this.renderPipeId = "text"
        }
        updateBounds() {
            let e = this._bounds
              , t = this._anchor
              , i = da.measureText(this._text, this._style)
              , {width: s, height: r} = i;
            e.minX = -t._x * s,
            e.maxX = e.minX + s,
            e.minY = -t._y * r,
            e.maxY = e.minY + r
        }
    }
      , Lf = class extends vx {
        resolveQueueItem(e, t) {
            return e instanceof he ? this.resolveContainerQueueItem(e, t) : e instanceof De || e instanceof K ? t.push(e.source) : e instanceof dt && t.push(e),
            null
        }
        resolveContainerQueueItem(e, t) {
            e instanceof we || e instanceof Gx || e instanceof ai ? t.push(e.texture.source) : e instanceof Oe ? t.push(e) : e instanceof Ve ? t.push(e.context) : e instanceof kf && e.textures.forEach(i => {
                i.source ? t.push(i.source) : t.push(i.texture.source)
            }
            )
        }
        resolveGraphicsContextQueueItem(e) {
            this.renderer.graphicsContext.getContextRenderData(e);
            let {instructions: t} = e;
            for (let i of t)
                if (i.action === "texture") {
                    let {image: s} = i.data;
                    return s.source
                } else if (i.action === "fill") {
                    let {texture: s} = i.data.style;
                    return s.source
                }
            return null
        }
    }
      , Nf = class extends zs {
        constructor(...e) {
            var t, i, s;
            let r = Bh(e, "BitmapText");
            (t = r.style) != null || (r.style = r.style || {}),
            (s = (i = r.style).fill) != null || (i.fill = 16777215),
            super(r, Pt),
            this.renderPipeId = "bitmapText"
        }
        updateBounds() {
            let e = this._bounds
              , t = this._anchor
              , i = xn.measureText(this.text, this._style)
              , s = i.scale
              , r = i.offsetY * s
              , o = i.width * s
              , d = i.height * s
              , f = this._style._stroke;
            f && (o += f.width,
            d += f.width),
            e.minX = -t._x * o,
            e.maxX = e.minX + o,
            e.minY = -t._y * (d + r),
            e.maxY = e.minY + d
        }
        set resolution(e) {}
        get resolution() {
            return this._resolution
        }
    }
      , jf = class extends zs {
        constructor(...e) {
            let t = Bh(e, "HtmlText");
            super(t, Sn),
            this.renderPipeId = "htmlText"
        }
        updateBounds() {
            let e = this._bounds
              , t = this._anchor
              , i = Ep(this.text, this._style)
              , {width: s, height: r} = i;
            e.minX = -t._x * s,
            e.maxX = e.minX + s,
            e.minY = -t._y * r,
            e.maxY = e.minY + r
        }
    }
      , Xf = class extends Lf {
        uploadQueueItem(e) {
            e instanceof De ? this.uploadTextureSource(e) : e instanceof Oe ? this.uploadText(e) : e instanceof jf ? this.uploadHTMLText(e) : e instanceof Nf ? this.uploadBitmapText(e) : e instanceof dt && this.uploadGraphicsContext(e)
        }
        uploadTextureSource(e) {
            this.renderer.texture.initSource(e)
        }
        uploadText(e) {
            this.renderer.renderPipes.text.initGpuText(e)
        }
        uploadBitmapText(e) {
            this.renderer.renderPipes.bitmapText.initGpuText(e)
        }
        uploadHTMLText(e) {
            this.renderer.renderPipes.htmlText.initGpuText(e)
        }
        uploadGraphicsContext(e) {
            this.renderer.graphicsContext.getContextRenderData(e);
            let {instructions: t} = e;
            for (let i of t)
                if (i.action === "texture") {
                    let {image: s} = i.data;
                    this.uploadTextureSource(s.source)
                } else if (i.action === "fill") {
                    let {texture: s} = i.data.style;
                    this.uploadTextureSource(s.source)
                }
            return null
        }
    }
      , Hf = class extends Xf {
        destroy() {
            clearTimeout(this.timeout),
            this.renderer = null,
            this.queue = null,
            this.resolves = null
        }
    }
    ;
    Hf.extension = {
        type: [B.WebGLSystem, B.WebGPUSystem],
        name: "prepare"
    };
    var zn = class {
        constructor() {
            this._tempState = Et.for2d(),
            this._didUploadHash = {}
        }
        init(e) {
            e.renderer.runners.contextChange.add(this)
        }
        contextChange() {
            this._didUploadHash = {}
        }
        start(e, t, i) {
            let s = e.renderer
              , r = this._didUploadHash[i.uid];
            s.shader.bind(i, r),
            r || (this._didUploadHash[i.uid] = !0),
            s.shader.updateUniformGroup(s.globalUniforms.uniformGroup),
            s.geometry.bind(t, i.glProgram)
        }
        execute(e, t) {
            let i = e.renderer;
            this._tempState.blendMode = t.blendMode,
            i.state.set(this._tempState);
            let s = t.textures.textures;
            for (let r = 0; r < t.textures.count; r++)
                i.texture.bind(s[r], r);
            i.geometry.draw(t.topology, t.size, t.start)
        }
    }
    ;
    zn.extension = {
        type: [B.WebGLPipesAdaptor],
        name: "batch"
    };
    var Br = Et.for2d()
      , Vn = class {
        start(e, t, i) {
            let s = e.renderer
              , r = s.encoder
              , o = i.gpuProgram;
            this._shader = i,
            this._geometry = t,
            r.setGeometry(t, o),
            Br.blendMode = "normal",
            s.pipeline.getPipeline(t, o, Br);
            let d = s.globalUniforms.bindGroup;
            r.resetBindGroup(1),
            r.setBindGroup(0, d, o)
        }
        execute(e, t) {
            let i = this._shader.gpuProgram
              , s = e.renderer
              , r = s.encoder;
            if (!t.bindGroup) {
                let f = t.textures;
                t.bindGroup = Sh(f.textures, f.count)
            }
            Br.blendMode = t.blendMode;
            let o = s.bindGroup.getBindGroup(t.bindGroup, i, 1)
              , d = s.pipeline.getPipeline(this._geometry, i, Br, t.topology);
            t.bindGroup._touch(s.textureGC.count),
            r.setPipeline(d),
            r.renderPassEncoder.setBindGroup(1, o),
            r.renderPassEncoder.drawIndexed(t.size, 1, t.start)
        }
    }
    ;
    Vn.extension = {
        type: [B.WebGPUPipesAdaptor],
        name: "batch"
    };
    var zf = class A3 {
        constructor(e, t) {
            this.state = Et.for2d(),
            this._batchersByInstructionSet = Object.create(null),
            this._activeBatches = Object.create(null);
            var i, s;
            this.renderer = e,
            this._adaptor = t,
            (s = (i = this._adaptor).init) == null || s.call(i, this)
        }
        static getBatcher(e) {
            return new this._availableBatchers[e]
        }
        buildStart(e) {
            let t = this._batchersByInstructionSet[e.uid];
            t || (t = this._batchersByInstructionSet[e.uid] = Object.create(null),
            t.default || (t.default = new Mh)),
            this._activeBatches = t,
            this._activeBatch = this._activeBatches.default;
            for (let i in this._activeBatches)
                this._activeBatches[i].begin()
        }
        addToBatch(e, t) {
            if (this._activeBatch.name !== e.batcherName) {
                this._activeBatch.break(t);
                let i = this._activeBatches[e.batcherName];
                i || (i = this._activeBatches[e.batcherName] = A3.getBatcher(e.batcherName),
                i.begin()),
                this._activeBatch = i
            }
            this._activeBatch.add(e)
        }
        break(e) {
            this._activeBatch.break(e)
        }
        buildEnd(e) {
            this._activeBatch.break(e);
            let t = this._activeBatches;
            for (let i in t) {
                let s = t[i]
                  , r = s.geometry;
                r.indexBuffer.setDataWithSize(s.indexBuffer, s.indexSize, !0),
                r.buffers[0].setDataWithSize(s.attributeBuffer.float32View, s.attributeSize, !1)
            }
        }
        upload(e) {
            let t = this._batchersByInstructionSet[e.uid];
            for (let i in t) {
                let s = t[i]
                  , r = s.geometry;
                s.dirty && (s.dirty = !1,
                r.buffers[0].update(s.attributeSize * 4))
            }
        }
        execute(e) {
            if (e.action === "startBatch") {
                let t = e.batcher
                  , i = t.geometry
                  , s = t.shader;
                this._adaptor.start(this, i, s)
            }
            this._adaptor.execute(this, e)
        }
        destroy() {
            this.state = null,
            this.renderer = null,
            this._adaptor = null;
            for (let e in this._activeBatches)
                this._activeBatches[e].destroy();
            this._activeBatches = null
        }
    }
    ;
    zf.extension = {
        type: [B.WebGLPipes, B.WebGPUPipes, B.CanvasPipes],
        name: "batch"
    },
    zf._availableBatchers = Object.create(null);
    var E3 = zf;
    pe.handleByMap(B.Batcher, E3._availableBatchers),
    pe.add(Mh);
    var kx = {
        name: "texture-bit",
        vertex: {
            header: `

struct TextureUniforms {
uTextureMatrix:mat3x3<f32>,
}

@group(2) @binding(2) var<uniform> textureUniforms : TextureUniforms;
`,
            main: `
uv = (textureUniforms.uTextureMatrix * vec3(uv, 1.0)).xy;
`
        },
        fragment: {
            header: `
@group(2) @binding(0) var uTexture: texture_2d<f32>;
@group(2) @binding(1) var uSampler: sampler;


`,
            main: `
outColor = textureSample(uTexture, uSampler, vUV);
`
        }
    }
      , Ux = {
        name: "texture-bit",
        vertex: {
            header: `
uniform mat3 uTextureMatrix;
`,
            main: `
uv = (uTextureMatrix * vec3(uv, 1.0)).xy;
`
        },
        fragment: {
            header: `
uniform sampler2D uTexture;


`,
            main: `
outColor = texture(uTexture, vUV);
`
        }
    }
      , Lx = new qe
      , Nx = class extends Ci {
        constructor() {
            super(),
            this.filters = [new Df({
                sprite: new we(K.EMPTY),
                inverse: !1,
                resolution: "inherit",
                antialias: "inherit"
            })]
        }
        get sprite() {
            return this.filters[0].sprite
        }
        set sprite(a) {
            this.filters[0].sprite = a
        }
        get inverse() {
            return this.filters[0].inverse
        }
        set inverse(a) {
            this.filters[0].inverse = a
        }
    }
      , Wn = class {
        constructor(e) {
            this._activeMaskStage = [],
            this._renderer = e
        }
        push(e, t, i) {
            let s = this._renderer;
            if (s.renderPipes.batch.break(i),
            i.add({
                renderPipeId: "alphaMask",
                action: "pushMaskBegin",
                mask: e,
                inverse: t._maskOptions.inverse,
                canBundle: !1,
                maskedContainer: t
            }),
            e.inverse = t._maskOptions.inverse,
            e.renderMaskToTexture) {
                let r = e.mask;
                r.includeInBuild = !0,
                r.collectRenderables(i, s, null),
                r.includeInBuild = !1
            }
            s.renderPipes.batch.break(i),
            i.add({
                renderPipeId: "alphaMask",
                action: "pushMaskEnd",
                mask: e,
                maskedContainer: t,
                inverse: t._maskOptions.inverse,
                canBundle: !1
            })
        }
        pop(e, t, i) {
            this._renderer.renderPipes.batch.break(i),
            i.add({
                renderPipeId: "alphaMask",
                action: "popMaskEnd",
                mask: e,
                inverse: t._maskOptions.inverse,
                canBundle: !1
            })
        }
        execute(e) {
            let t = this._renderer
              , i = e.mask.renderMaskToTexture;
            if (e.action === "pushMaskBegin") {
                let s = ye.get(Nx);
                if (s.inverse = e.inverse,
                i) {
                    e.mask.mask.measurable = !0;
                    let r = Do(e.mask.mask, !0, Lx);
                    e.mask.mask.measurable = !1,
                    r.ceil();
                    let o = t.renderTarget.renderTarget.colorTexture.source
                      , d = ze.getOptimalTexture(r.width, r.height, o._resolution, o.antialias);
                    t.renderTarget.push(d, !0),
                    t.globalUniforms.push({
                        offset: r,
                        worldColor: 4294967295
                    });
                    let f = s.sprite;
                    f.texture = d,
                    f.worldTransform.tx = r.minX,
                    f.worldTransform.ty = r.minY,
                    this._activeMaskStage.push({
                        filterEffect: s,
                        maskedContainer: e.maskedContainer,
                        filterTexture: d
                    })
                } else
                    s.sprite = e.mask.mask,
                    this._activeMaskStage.push({
                        filterEffect: s,
                        maskedContainer: e.maskedContainer
                    })
            } else if (e.action === "pushMaskEnd") {
                let s = this._activeMaskStage[this._activeMaskStage.length - 1];
                i && (t.type === xt.WEBGL && t.renderTarget.finishRenderPass(),
                t.renderTarget.pop(),
                t.globalUniforms.pop()),
                t.filter.push({
                    renderPipeId: "filter",
                    action: "pushFilter",
                    container: s.maskedContainer,
                    filterEffect: s.filterEffect,
                    canBundle: !1
                })
            } else if (e.action === "popMaskEnd") {
                t.filter.pop();
                let s = this._activeMaskStage.pop();
                i && ze.returnTexture(s.filterTexture),
                ye.return(s.filterEffect)
            }
        }
        destroy() {
            this._renderer = null,
            this._activeMaskStage = null
        }
    }
    ;
    Wn.extension = {
        type: [B.WebGLPipes, B.WebGPUPipes, B.CanvasPipes],
        name: "alphaMask"
    };
    var Yn = class {
        constructor(e) {
            this._colorStack = [],
            this._colorStackIndex = 0,
            this._currentColor = 0,
            this._renderer = e
        }
        buildStart() {
            this._colorStack[0] = 15,
            this._colorStackIndex = 1,
            this._currentColor = 15
        }
        push(e, t, i) {
            this._renderer.renderPipes.batch.break(i);
            let s = this._colorStack;
            s[this._colorStackIndex] = s[this._colorStackIndex - 1] & e.mask;
            let r = this._colorStack[this._colorStackIndex];
            r !== this._currentColor && (this._currentColor = r,
            i.add({
                renderPipeId: "colorMask",
                colorMask: r,
                canBundle: !1
            })),
            this._colorStackIndex++
        }
        pop(e, t, i) {
            this._renderer.renderPipes.batch.break(i);
            let s = this._colorStack;
            this._colorStackIndex--;
            let r = s[this._colorStackIndex - 1];
            r !== this._currentColor && (this._currentColor = r,
            i.add({
                renderPipeId: "colorMask",
                colorMask: r,
                canBundle: !1
            }))
        }
        execute(e) {
            this._renderer.colorMask.setMask(e.colorMask)
        }
        destroy() {
            this._colorStack = null
        }
    }
    ;
    Yn.extension = {
        type: [B.WebGLPipes, B.WebGPUPipes, B.CanvasPipes],
        name: "colorMask"
    };
    var $n = class {
        constructor(e) {
            this._maskStackHash = {},
            this._maskHash = new WeakMap,
            this._renderer = e
        }
        push(e, t, i) {
            var s, r;
            let o = e
              , d = this._renderer;
            d.renderPipes.batch.break(i),
            d.renderPipes.blendMode.setBlendMode(o.mask, "none", i),
            i.add({
                renderPipeId: "stencilMask",
                action: "pushMaskBegin",
                mask: e,
                inverse: t._maskOptions.inverse,
                canBundle: !1
            });
            let f = o.mask;
            f.includeInBuild = !0,
            this._maskHash.has(o) || this._maskHash.set(o, {
                instructionsStart: 0,
                instructionsLength: 0
            });
            let h = this._maskHash.get(o);
            h.instructionsStart = i.instructionSize,
            f.collectRenderables(i, d, null),
            f.includeInBuild = !1,
            d.renderPipes.batch.break(i),
            i.add({
                renderPipeId: "stencilMask",
                action: "pushMaskEnd",
                mask: e,
                inverse: t._maskOptions.inverse,
                canBundle: !1
            });
            let u = i.instructionSize - h.instructionsStart - 1;
            h.instructionsLength = u;
            let p = d.renderTarget.renderTarget.uid;
            (r = (s = this._maskStackHash)[p]) != null || (s[p] = 0)
        }
        pop(e, t, i) {
            let s = e
              , r = this._renderer;
            r.renderPipes.batch.break(i),
            r.renderPipes.blendMode.setBlendMode(s.mask, "none", i),
            i.add({
                renderPipeId: "stencilMask",
                action: "popMaskBegin",
                inverse: t._maskOptions.inverse,
                canBundle: !1
            });
            let o = this._maskHash.get(e);
            for (let d = 0; d < o.instructionsLength; d++)
                i.instructions[i.instructionSize++] = i.instructions[o.instructionsStart++];
            i.add({
                renderPipeId: "stencilMask",
                action: "popMaskEnd",
                canBundle: !1
            })
        }
        execute(e) {
            var t, i;
            let s = this._renderer
              , r = s.renderTarget.renderTarget.uid
              , o = (i = (t = this._maskStackHash)[r]) != null ? i : t[r] = 0;
            e.action === "pushMaskBegin" ? (s.renderTarget.ensureDepthStencil(),
            s.stencil.setStencilMode(je.RENDERING_MASK_ADD, o),
            o++,
            s.colorMask.setMask(0)) : e.action === "pushMaskEnd" ? (e.inverse ? s.stencil.setStencilMode(je.INVERSE_MASK_ACTIVE, o) : s.stencil.setStencilMode(je.MASK_ACTIVE, o),
            s.colorMask.setMask(15)) : e.action === "popMaskBegin" ? (s.colorMask.setMask(0),
            o !== 0 ? s.stencil.setStencilMode(je.RENDERING_MASK_REMOVE, o) : (s.renderTarget.clear(null, mt.STENCIL),
            s.stencil.setStencilMode(je.DISABLED, o)),
            o--) : e.action === "popMaskEnd" && (e.inverse ? s.stencil.setStencilMode(je.INVERSE_MASK_ACTIVE, o) : s.stencil.setStencilMode(je.MASK_ACTIVE, o),
            s.colorMask.setMask(15)),
            this._maskStackHash[r] = o
        }
        destroy() {
            this._renderer = null,
            this._maskStackHash = null,
            this._maskHash = null
        }
    }
    ;
    $n.extension = {
        type: [B.WebGLPipes, B.WebGPUPipes, B.CanvasPipes],
        name: "stencilMask"
    };
    var Hr = (a => (a[a.ELEMENT_ARRAY_BUFFER = 34963] = "ELEMENT_ARRAY_BUFFER",
    a[a.ARRAY_BUFFER = 34962] = "ARRAY_BUFFER",
    a[a.UNIFORM_BUFFER = 35345] = "UNIFORM_BUFFER",
    a))(Hr || {})
      , Vf = class {
        constructor(e, t) {
            this._lastBindBaseLocation = -1,
            this._lastBindCallId = -1,
            this.buffer = e || null,
            this.updateID = -1,
            this.byteLength = -1,
            this.type = t
        }
    }
      , Kn = class {
        constructor(e) {
            this._gpuBuffers = Object.create(null),
            this._boundBufferBases = Object.create(null),
            this._minBaseLocation = 0,
            this._nextBindBaseIndex = this._minBaseLocation,
            this._bindCallId = 0,
            this._renderer = e,
            this._renderer.renderableGC.addManagedHash(this, "_gpuBuffers")
        }
        destroy() {
            this._renderer = null,
            this._gl = null,
            this._gpuBuffers = null,
            this._boundBufferBases = null
        }
        contextChange() {
            let e = this._gl = this._renderer.gl;
            this._gpuBuffers = Object.create(null),
            this._maxBindings = e.MAX_UNIFORM_BUFFER_BINDINGS ? e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS) : 0
        }
        getGlBuffer(e) {
            return this._gpuBuffers[e.uid] || this.createGLBuffer(e)
        }
        bind(e) {
            let {_gl: t} = this
              , i = this.getGlBuffer(e);
            t.bindBuffer(i.type, i.buffer)
        }
        bindBufferBase(e, t) {
            let {_gl: i} = this;
            this._boundBufferBases[t] !== e && (this._boundBufferBases[t] = e,
            e._lastBindBaseLocation = t,
            i.bindBufferBase(i.UNIFORM_BUFFER, t, e.buffer))
        }
        nextBindBase(e) {
            this._bindCallId++,
            this._minBaseLocation = 0,
            e && (this._boundBufferBases[0] = null,
            this._minBaseLocation = 1,
            this._nextBindBaseIndex < 1 && (this._nextBindBaseIndex = 1))
        }
        freeLocationForBufferBase(e) {
            let t = this.getLastBindBaseLocation(e);
            if (t >= this._minBaseLocation)
                return e._lastBindCallId = this._bindCallId,
                t;
            let i = 0
              , s = this._nextBindBaseIndex;
            for (; i < 2; ) {
                s >= this._maxBindings && (s = this._minBaseLocation,
                i++);
                let r = this._boundBufferBases[s];
                if (r && r._lastBindCallId === this._bindCallId) {
                    s++;
                    continue
                }
                break
            }
            return t = s,
            this._nextBindBaseIndex = s + 1,
            i >= 2 ? -1 : (e._lastBindCallId = this._bindCallId,
            this._boundBufferBases[t] = null,
            t)
        }
        getLastBindBaseLocation(e) {
            let t = e._lastBindBaseLocation;
            return this._boundBufferBases[t] === e ? t : -1
        }
        bindBufferRange(e, t, i, s) {
            let {_gl: r} = this;
            i || (i = 0),
            t || (t = 0),
            this._boundBufferBases[t] = null,
            r.bindBufferRange(r.UNIFORM_BUFFER, t || 0, e.buffer, i * 256, s || 256)
        }
        updateBuffer(e) {
            let {_gl: t} = this
              , i = this.getGlBuffer(e);
            if (e._updateID === i.updateID)
                return i;
            i.updateID = e._updateID,
            t.bindBuffer(i.type, i.buffer);
            let s = e.data
              , r = e.descriptor.usage & Te.STATIC ? t.STATIC_DRAW : t.DYNAMIC_DRAW;
            return s ? i.byteLength >= s.byteLength ? t.bufferSubData(i.type, 0, s, 0, e._updateSize / s.BYTES_PER_ELEMENT) : (i.byteLength = s.byteLength,
            t.bufferData(i.type, s, r)) : (i.byteLength = e.descriptor.size,
            t.bufferData(i.type, i.byteLength, r)),
            i
        }
        destroyAll() {
            let e = this._gl;
            for (let t in this._gpuBuffers)
                e.deleteBuffer(this._gpuBuffers[t].buffer);
            this._gpuBuffers = Object.create(null)
        }
        onBufferDestroy(e, t) {
            let i = this._gpuBuffers[e.uid]
              , s = this._gl;
            t || s.deleteBuffer(i.buffer),
            this._gpuBuffers[e.uid] = null
        }
        createGLBuffer(e) {
            let {_gl: t} = this
              , i = Hr.ARRAY_BUFFER;
            e.descriptor.usage & Te.INDEX ? i = Hr.ELEMENT_ARRAY_BUFFER : e.descriptor.usage & Te.UNIFORM && (i = Hr.UNIFORM_BUFFER);
            let s = new Vf(t.createBuffer(),i);
            return this._gpuBuffers[e.uid] = s,
            e.on("destroy", this.onBufferDestroy, this),
            s
        }
        resetState() {
            this._boundBufferBases = Object.create(null)
        }
    }
    ;
    Kn.extension = {
        type: [B.WebGLSystem],
        name: "buffer"
    };
    var jx = Object.defineProperty
      , Xx = Object.defineProperties
      , Hx = Object.getOwnPropertyDescriptors
      , r1 = Object.getOwnPropertySymbols
      , zx = Object.prototype.hasOwnProperty
      , Vx = Object.prototype.propertyIsEnumerable
      , n1 = (a, e, t) => e in a ? jx(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , Fr = (a, e) => {
        for (var t in e || (e = {}))
            zx.call(e, t) && n1(a, t, e[t]);
        if (r1)
            for (var t of r1(e))
                Vx.call(e, t) && n1(a, t, e[t]);
        return a
    }
      , o1 = (a, e) => Xx(a, Hx(e))
      , Wf = class P3 {
        constructor(e) {
            this.supports = {
                uint32Indices: !0,
                uniformBufferObject: !0,
                vertexArrayObject: !0,
                srgbTextures: !0,
                nonPowOf2wrapping: !0,
                msaa: !0,
                nonPowOf2mipmaps: !0
            },
            this._renderer = e,
            this.extensions = Object.create(null),
            this.handleContextLost = this.handleContextLost.bind(this),
            this.handleContextRestored = this.handleContextRestored.bind(this)
        }
        get isLost() {
            return !this.gl || this.gl.isContextLost()
        }
        contextChange(e) {
            this.gl = e,
            this._renderer.gl = e
        }
        init(e) {
            var t, i;
            e = Fr(Fr({}, P3.defaultOptions), e);
            let s = this.multiView = e.multiView;
            if (e.context && s && (ta("Renderer created with both a context and multiview enabled. Disabling multiView as both cannot work together."),
            s = !1),
            s ? this.canvas = ve.get().createCanvas(this._renderer.canvas.width, this._renderer.canvas.height) : this.canvas = this._renderer.view.canvas,
            e.context)
                this.initFromContext(e.context);
            else {
                let r = this._renderer.background.alpha < 1
                  , o = (t = e.premultipliedAlpha) != null ? t : !0
                  , d = e.antialias && !this._renderer.backBuffer.useBackBuffer;
                this.createContext(e.preferWebGLVersion, {
                    alpha: r,
                    premultipliedAlpha: o,
                    antialias: d,
                    stencil: !0,
                    preserveDrawingBuffer: e.preserveDrawingBuffer,
                    powerPreference: (i = e.powerPreference) != null ? i : "default"
                })
            }
        }
        ensureCanvasSize(e) {
            if (!this.multiView) {
                e !== this.canvas && ta("multiView is disabled, but targetCanvas is not the main canvas");
                return
            }
            let {canvas: t} = this;
            (t.width < e.width || t.height < e.height) && (t.width = Math.max(e.width, e.width),
            t.height = Math.max(e.height, e.height))
        }
        initFromContext(e) {
            this.gl = e,
            this.webGLVersion = e instanceof ve.get().getWebGLRenderingContext() ? 1 : 2,
            this.getExtensions(),
            this.validateContext(e),
            this._renderer.runners.contextChange.emit(e);
            let t = this._renderer.view.canvas;
            t.addEventListener("webglcontextlost", this.handleContextLost, !1),
            t.addEventListener("webglcontextrestored", this.handleContextRestored, !1)
        }
        createContext(e, t) {
            let i, s = this.canvas;
            if (e === 2 && (i = s.getContext("webgl2", t)),
            !i && (i = s.getContext("webgl", t),
            !i))
                throw new Error("This browser does not support WebGL. Try using the canvas renderer");
            this.gl = i,
            this.initFromContext(this.gl)
        }
        getExtensions() {
            let {gl: e} = this
              , t = {
                anisotropicFiltering: e.getExtension("EXT_texture_filter_anisotropic"),
                floatTextureLinear: e.getExtension("OES_texture_float_linear"),
                s3tc: e.getExtension("WEBGL_compressed_texture_s3tc"),
                s3tc_sRGB: e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),
                etc: e.getExtension("WEBGL_compressed_texture_etc"),
                etc1: e.getExtension("WEBGL_compressed_texture_etc1"),
                pvrtc: e.getExtension("WEBGL_compressed_texture_pvrtc") || e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),
                atc: e.getExtension("WEBGL_compressed_texture_atc"),
                astc: e.getExtension("WEBGL_compressed_texture_astc"),
                bptc: e.getExtension("EXT_texture_compression_bptc"),
                rgtc: e.getExtension("EXT_texture_compression_rgtc"),
                loseContext: e.getExtension("WEBGL_lose_context")
            };
            if (this.webGLVersion === 1)
                this.extensions = o1(Fr({}, t), {
                    drawBuffers: e.getExtension("WEBGL_draw_buffers"),
                    depthTexture: e.getExtension("WEBGL_depth_texture"),
                    vertexArrayObject: e.getExtension("OES_vertex_array_object") || e.getExtension("MOZ_OES_vertex_array_object") || e.getExtension("WEBKIT_OES_vertex_array_object"),
                    uint32ElementIndex: e.getExtension("OES_element_index_uint"),
                    floatTexture: e.getExtension("OES_texture_float"),
                    floatTextureLinear: e.getExtension("OES_texture_float_linear"),
                    textureHalfFloat: e.getExtension("OES_texture_half_float"),
                    textureHalfFloatLinear: e.getExtension("OES_texture_half_float_linear"),
                    vertexAttribDivisorANGLE: e.getExtension("ANGLE_instanced_arrays"),
                    srgb: e.getExtension("EXT_sRGB")
                });
            else {
                this.extensions = o1(Fr({}, t), {
                    colorBufferFloat: e.getExtension("EXT_color_buffer_float")
                });
                let i = e.getExtension("WEBGL_provoking_vertex");
                i && i.provokingVertexWEBGL(i.FIRST_VERTEX_CONVENTION_WEBGL)
            }
        }
        handleContextLost(e) {
            e.preventDefault(),
            this._contextLossForced && (this._contextLossForced = !1,
            setTimeout( () => {
                var t;
                this.gl.isContextLost() && ((t = this.extensions.loseContext) == null || t.restoreContext())
            }
            , 0))
        }
        handleContextRestored() {
            this._renderer.runners.contextChange.emit(this.gl)
        }
        destroy() {
            var e;
            let t = this._renderer.view.canvas;
            this._renderer = null,
            t.removeEventListener("webglcontextlost", this.handleContextLost),
            t.removeEventListener("webglcontextrestored", this.handleContextRestored),
            this.gl.useProgram(null),
            (e = this.extensions.loseContext) == null || e.loseContext()
        }
        forceContextLoss() {
            var e;
            (e = this.extensions.loseContext) == null || e.loseContext(),
            this._contextLossForced = !0
        }
        validateContext(e) {
            let t = e.getContextAttributes();
            t && t.stencil;
            let i = this.supports
              , s = this.webGLVersion === 2
              , r = this.extensions;
            i.uint32Indices = s || !!r.uint32ElementIndex,
            i.uniformBufferObject = s,
            i.vertexArrayObject = s || !!r.vertexArrayObject,
            i.srgbTextures = s || !!r.srgb,
            i.nonPowOf2wrapping = s,
            i.nonPowOf2mipmaps = s,
            i.msaa = s,
            i.uint32Indices
        }
    }
    ;
    Wf.extension = {
        type: [B.WebGLSystem],
        name: "context"
    },
    Wf.defaultOptions = {
        context: null,
        premultipliedAlpha: !0,
        preserveDrawingBuffer: !1,
        powerPreference: void 0,
        preferWebGLVersion: 2,
        multiView: !1
    };
    var Wx = Wf;
    function R3(a, e) {
        var t, i, s;
        for (let r in a.attributes) {
            let o = a.attributes[r]
              , d = e[r];
            d ? ((t = o.format) != null || (o.format = d.format),
            (i = o.offset) != null || (o.offset = d.offset),
            (s = o.instance) != null || (o.instance = d.instance)) : ta(`Attribute ${r} is not present in the shader, but is present in the geometry. Unable to infer attribute details.`)
        }
        Yx(a)
    }
    function Yx(a) {
        var e, t;
        let {buffers: i, attributes: s} = a
          , r = {}
          , o = {};
        for (let d in i) {
            let f = i[d];
            r[f.uid] = 0,
            o[f.uid] = 0
        }
        for (let d in s) {
            let f = s[d];
            r[f.buffer.uid] += Fa(f.format).stride
        }
        for (let d in s) {
            let f = s[d];
            (e = f.stride) != null || (f.stride = r[f.buffer.uid]),
            (t = f.start) != null || (f.start = o[f.buffer.uid]),
            o[f.buffer.uid] += Fa(f.format).stride
        }
    }
    var Yf = (a => (a[a.RGBA = 6408] = "RGBA",
    a[a.RGB = 6407] = "RGB",
    a[a.RG = 33319] = "RG",
    a[a.RED = 6403] = "RED",
    a[a.RGBA_INTEGER = 36249] = "RGBA_INTEGER",
    a[a.RGB_INTEGER = 36248] = "RGB_INTEGER",
    a[a.RG_INTEGER = 33320] = "RG_INTEGER",
    a[a.RED_INTEGER = 36244] = "RED_INTEGER",
    a[a.ALPHA = 6406] = "ALPHA",
    a[a.LUMINANCE = 6409] = "LUMINANCE",
    a[a.LUMINANCE_ALPHA = 6410] = "LUMINANCE_ALPHA",
    a[a.DEPTH_COMPONENT = 6402] = "DEPTH_COMPONENT",
    a[a.DEPTH_STENCIL = 34041] = "DEPTH_STENCIL",
    a))(Yf || {})
      , M3 = (a => (a[a.TEXTURE_2D = 3553] = "TEXTURE_2D",
    a[a.TEXTURE_CUBE_MAP = 34067] = "TEXTURE_CUBE_MAP",
    a[a.TEXTURE_2D_ARRAY = 35866] = "TEXTURE_2D_ARRAY",
    a[a.TEXTURE_CUBE_MAP_POSITIVE_X = 34069] = "TEXTURE_CUBE_MAP_POSITIVE_X",
    a[a.TEXTURE_CUBE_MAP_NEGATIVE_X = 34070] = "TEXTURE_CUBE_MAP_NEGATIVE_X",
    a[a.TEXTURE_CUBE_MAP_POSITIVE_Y = 34071] = "TEXTURE_CUBE_MAP_POSITIVE_Y",
    a[a.TEXTURE_CUBE_MAP_NEGATIVE_Y = 34072] = "TEXTURE_CUBE_MAP_NEGATIVE_Y",
    a[a.TEXTURE_CUBE_MAP_POSITIVE_Z = 34073] = "TEXTURE_CUBE_MAP_POSITIVE_Z",
    a[a.TEXTURE_CUBE_MAP_NEGATIVE_Z = 34074] = "TEXTURE_CUBE_MAP_NEGATIVE_Z",
    a))(M3 || {})
      , $x = (a => (a[a.CLAMP = 33071] = "CLAMP",
    a[a.REPEAT = 10497] = "REPEAT",
    a[a.MIRRORED_REPEAT = 33648] = "MIRRORED_REPEAT",
    a))($x || {})
      , Se = (a => (a[a.UNSIGNED_BYTE = 5121] = "UNSIGNED_BYTE",
    a[a.UNSIGNED_SHORT = 5123] = "UNSIGNED_SHORT",
    a[a.UNSIGNED_SHORT_5_6_5 = 33635] = "UNSIGNED_SHORT_5_6_5",
    a[a.UNSIGNED_SHORT_4_4_4_4 = 32819] = "UNSIGNED_SHORT_4_4_4_4",
    a[a.UNSIGNED_SHORT_5_5_5_1 = 32820] = "UNSIGNED_SHORT_5_5_5_1",
    a[a.UNSIGNED_INT = 5125] = "UNSIGNED_INT",
    a[a.UNSIGNED_INT_10F_11F_11F_REV = 35899] = "UNSIGNED_INT_10F_11F_11F_REV",
    a[a.UNSIGNED_INT_2_10_10_10_REV = 33640] = "UNSIGNED_INT_2_10_10_10_REV",
    a[a.UNSIGNED_INT_24_8 = 34042] = "UNSIGNED_INT_24_8",
    a[a.UNSIGNED_INT_5_9_9_9_REV = 35902] = "UNSIGNED_INT_5_9_9_9_REV",
    a[a.BYTE = 5120] = "BYTE",
    a[a.SHORT = 5122] = "SHORT",
    a[a.INT = 5124] = "INT",
    a[a.FLOAT = 5126] = "FLOAT",
    a[a.FLOAT_32_UNSIGNED_INT_24_8_REV = 36269] = "FLOAT_32_UNSIGNED_INT_24_8_REV",
    a[a.HALF_FLOAT = 36193] = "HALF_FLOAT",
    a))(Se || {})
      , c1 = {
        uint8x2: Se.UNSIGNED_BYTE,
        uint8x4: Se.UNSIGNED_BYTE,
        sint8x2: Se.BYTE,
        sint8x4: Se.BYTE,
        unorm8x2: Se.UNSIGNED_BYTE,
        unorm8x4: Se.UNSIGNED_BYTE,
        snorm8x2: Se.BYTE,
        snorm8x4: Se.BYTE,
        uint16x2: Se.UNSIGNED_SHORT,
        uint16x4: Se.UNSIGNED_SHORT,
        sint16x2: Se.SHORT,
        sint16x4: Se.SHORT,
        unorm16x2: Se.UNSIGNED_SHORT,
        unorm16x4: Se.UNSIGNED_SHORT,
        snorm16x2: Se.SHORT,
        snorm16x4: Se.SHORT,
        float16x2: Se.HALF_FLOAT,
        float16x4: Se.HALF_FLOAT,
        float32: Se.FLOAT,
        float32x2: Se.FLOAT,
        float32x3: Se.FLOAT,
        float32x4: Se.FLOAT,
        uint32: Se.UNSIGNED_INT,
        uint32x2: Se.UNSIGNED_INT,
        uint32x3: Se.UNSIGNED_INT,
        uint32x4: Se.UNSIGNED_INT,
        sint32: Se.INT,
        sint32x2: Se.INT,
        sint32x3: Se.INT,
        sint32x4: Se.INT
    };
    function Kx(a) {
        var e;
        return (e = c1[a]) != null ? e : c1.float32
    }
    var qx = {
        "point-list": 0,
        "line-list": 1,
        "line-strip": 3,
        "triangle-list": 4,
        "triangle-strip": 5
    }
      , qn = class {
        constructor(e) {
            this._geometryVaoHash = Object.create(null),
            this._renderer = e,
            this._activeGeometry = null,
            this._activeVao = null,
            this.hasVao = !0,
            this.hasInstance = !0,
            this._renderer.renderableGC.addManagedHash(this, "_geometryVaoHash")
        }
        contextChange() {
            let e = this.gl = this._renderer.gl;
            if (!this._renderer.context.supports.vertexArrayObject)
                throw new Error("[PixiJS] Vertex Array Objects are not supported on this device");
            let t = this._renderer.context.extensions.vertexArrayObject;
            t && (e.createVertexArray = () => t.createVertexArrayOES(),
            e.bindVertexArray = s => t.bindVertexArrayOES(s),
            e.deleteVertexArray = s => t.deleteVertexArrayOES(s));
            let i = this._renderer.context.extensions.vertexAttribDivisorANGLE;
            i && (e.drawArraysInstanced = (s, r, o, d) => {
                i.drawArraysInstancedANGLE(s, r, o, d)
            }
            ,
            e.drawElementsInstanced = (s, r, o, d, f) => {
                i.drawElementsInstancedANGLE(s, r, o, d, f)
            }
            ,
            e.vertexAttribDivisor = (s, r) => i.vertexAttribDivisorANGLE(s, r)),
            this._activeGeometry = null,
            this._activeVao = null,
            this._geometryVaoHash = Object.create(null)
        }
        bind(e, t) {
            let i = this.gl;
            this._activeGeometry = e;
            let s = this.getVao(e, t);
            this._activeVao !== s && (this._activeVao = s,
            i.bindVertexArray(s)),
            this.updateBuffers()
        }
        resetState() {
            this.unbind()
        }
        updateBuffers() {
            let e = this._activeGeometry
              , t = this._renderer.buffer;
            for (let i = 0; i < e.buffers.length; i++) {
                let s = e.buffers[i];
                t.updateBuffer(s)
            }
        }
        checkCompatibility(e, t) {
            let i = e.attributes
              , s = t._attributeData;
            for (let r in s)
                if (!i[r])
                    throw new Error(`shader and geometry incompatible, geometry missing the "${r}" attribute`)
        }
        getSignature(e, t) {
            let i = e.attributes
              , s = t._attributeData
              , r = ["g", e.uid];
            for (let o in i)
                s[o] && r.push(o, s[o].location);
            return r.join("-")
        }
        getVao(e, t) {
            var i;
            return ((i = this._geometryVaoHash[e.uid]) == null ? void 0 : i[t._key]) || this.initGeometryVao(e, t)
        }
        initGeometryVao(e, t, i=!0) {
            let s = this._renderer.gl
              , r = this._renderer.buffer;
            this._renderer.shader._getProgramData(t),
            this.checkCompatibility(e, t);
            let o = this.getSignature(e, t);
            this._geometryVaoHash[e.uid] || (this._geometryVaoHash[e.uid] = Object.create(null),
            e.on("destroy", this.onGeometryDestroy, this));
            let d = this._geometryVaoHash[e.uid]
              , f = d[o];
            if (f)
                return d[t._key] = f,
                f;
            R3(e, t._attributeData);
            let h = e.buffers;
            f = s.createVertexArray(),
            s.bindVertexArray(f);
            for (let u = 0; u < h.length; u++) {
                let p = h[u];
                r.bind(p)
            }
            return this.activateVao(e, t),
            d[t._key] = f,
            d[o] = f,
            s.bindVertexArray(null),
            f
        }
        onGeometryDestroy(e, t) {
            let i = this._geometryVaoHash[e.uid]
              , s = this.gl;
            if (i) {
                if (t)
                    for (let r in i)
                        this._activeVao !== i[r] && this.unbind(),
                        s.deleteVertexArray(i[r]);
                this._geometryVaoHash[e.uid] = null
            }
        }
        destroyAll(e=!1) {
            let t = this.gl;
            for (let i in this._geometryVaoHash) {
                if (e)
                    for (let s in this._geometryVaoHash[i]) {
                        let r = this._geometryVaoHash[i];
                        this._activeVao !== r && this.unbind(),
                        t.deleteVertexArray(r[s])
                    }
                this._geometryVaoHash[i] = null
            }
        }
        activateVao(e, t) {
            var i, s;
            let r = this._renderer.gl
              , o = this._renderer.buffer
              , d = e.attributes;
            e.indexBuffer && o.bind(e.indexBuffer);
            let f = null;
            for (let h in d) {
                let u = d[h]
                  , p = u.buffer
                  , x = o.getGlBuffer(p)
                  , _ = t._attributeData[h];
                if (_) {
                    f !== x && (o.bind(p),
                    f = x);
                    let T = _.location;
                    r.enableVertexAttribArray(T);
                    let S = Fa(u.format)
                      , A = Kx(u.format);
                    if (((i = _.format) == null ? void 0 : i.substring(1, 4)) === "int" ? r.vertexAttribIPointer(T, S.size, A, u.stride, u.offset) : r.vertexAttribPointer(T, S.size, A, S.normalised, u.stride, u.offset),
                    u.instance)
                        if (this.hasInstance) {
                            let P = (s = u.divisor) != null ? s : 1;
                            r.vertexAttribDivisor(T, P)
                        } else
                            throw new Error("geometry error, GPU Instancing is not supported on this device")
                }
            }
        }
        draw(e, t, i, s) {
            let {gl: r} = this._renderer
              , o = this._activeGeometry
              , d = qx[e || o.topology];
            if (s != null || (s = o.instanceCount),
            o.indexBuffer) {
                let f = o.indexBuffer.data.BYTES_PER_ELEMENT
                  , h = f === 2 ? r.UNSIGNED_SHORT : r.UNSIGNED_INT;
                s > 1 ? r.drawElementsInstanced(d, t || o.indexBuffer.data.length, h, (i || 0) * f, s) : r.drawElements(d, t || o.indexBuffer.data.length, h, (i || 0) * f)
            } else
                s > 1 ? r.drawArraysInstanced(d, i || 0, t || o.getSize(), s) : r.drawArrays(d, i || 0, t || o.getSize());
            return this
        }
        unbind() {
            this.gl.bindVertexArray(null),
            this._activeVao = null,
            this._activeGeometry = null
        }
        destroy() {
            this._renderer = null,
            this.gl = null,
            this._activeVao = null,
            this._activeGeometry = null
        }
    }
    ;
    qn.extension = {
        type: [B.WebGLSystem],
        name: "geometry"
    };
    var Zx = Object.defineProperty
      , d1 = Object.getOwnPropertySymbols
      , Qx = Object.prototype.hasOwnProperty
      , Jx = Object.prototype.propertyIsEnumerable
      , f1 = (a, e, t) => e in a ? Zx(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , h1 = (a, e) => {
        for (var t in e || (e = {}))
            Qx.call(e, t) && f1(a, t, e[t]);
        if (d1)
            for (var t of d1(e))
                Jx.call(e, t) && f1(a, t, e[t]);
        return a
    }
      , ey = new Jt({
        attributes: {
            aPosition: [-1, -1, 3, -1, -1, 3]
        }
    })
      , $f = class C3 {
        constructor(e) {
            this.useBackBuffer = !1,
            this._useBackBufferThisRender = !1,
            this._renderer = e
        }
        init(e={}) {
            let {useBackBuffer: t, antialias: i} = h1(h1({}, C3.defaultOptions), e);
            this.useBackBuffer = t,
            this._antialias = i,
            this._renderer.context.supports.msaa || (ta("antialiasing, is not supported on when using the back buffer"),
            this._antialias = !1),
            this._state = Et.for2d();
            let s = new pa({
                vertex: `
attribute vec2 aPosition;
out vec2 vUv;

void main() {
gl_Position = vec4(aPosition, 0.0, 1.0);

vUv = (aPosition + 1.0) / 2.0;

// flip dem UVs
vUv.y = 1.0 - vUv.y;
}`,
                fragment: `
in vec2 vUv;
out vec4 finalColor;

uniform sampler2D uTexture;

void main() {
finalColor = texture(uTexture, vUv);
}`,
                name: "big-triangle"
            });
            this._bigTriangleShader = new ft({
                glProgram: s,
                resources: {
                    uTexture: K.WHITE.source
                }
            })
        }
        renderStart(e) {
            let t = this._renderer.renderTarget.getRenderTarget(e.target);
            if (this._useBackBufferThisRender = this.useBackBuffer && !!t.isRoot,
            this._useBackBufferThisRender) {
                let i = this._renderer.renderTarget.getRenderTarget(e.target);
                this._targetTexture = i.colorTexture,
                e.target = this._getBackBufferTexture(i.colorTexture)
            }
        }
        renderEnd() {
            this._presentBackBuffer()
        }
        _presentBackBuffer() {
            let e = this._renderer;
            e.renderTarget.finishRenderPass(),
            this._useBackBufferThisRender && (e.renderTarget.bind(this._targetTexture, !1),
            this._bigTriangleShader.resources.uTexture = this._backBufferTexture.source,
            e.encoder.draw({
                geometry: ey,
                shader: this._bigTriangleShader,
                state: this._state
            }))
        }
        _getBackBufferTexture(e) {
            return this._backBufferTexture = this._backBufferTexture || new K({
                source: new De({
                    width: e.width,
                    height: e.height,
                    resolution: e._resolution,
                    antialias: this._antialias
                })
            }),
            this._backBufferTexture.source.resize(e.width, e.height, e._resolution),
            this._backBufferTexture
        }
        destroy() {
            this._backBufferTexture && (this._backBufferTexture.destroy(),
            this._backBufferTexture = null)
        }
    }
    ;
    $f.extension = {
        type: [B.WebGLSystem],
        name: "backBuffer",
        priority: 1
    },
    $f.defaultOptions = {
        useBackBuffer: !1
    };
    var ty = $f
      , Zn = class {
        constructor(e) {
            this._colorMaskCache = 15,
            this._renderer = e
        }
        setMask(e) {
            this._colorMaskCache !== e && (this._colorMaskCache = e,
            this._renderer.gl.colorMask(!!(e & 8), !!(e & 4), !!(e & 2), !!(e & 1)))
        }
    }
    ;
    Zn.extension = {
        type: [B.WebGLSystem],
        name: "colorMask"
    };
    var Qn = class {
        constructor(e) {
            this.commandFinished = Promise.resolve(),
            this._renderer = e
        }
        setGeometry(e, t) {
            this._renderer.geometry.bind(e, t.glProgram)
        }
        finishRenderPass() {}
        draw(e) {
            let t = this._renderer
              , {geometry: i, shader: s, state: r, skipSync: o, topology: d, size: f, start: h, instanceCount: u} = e;
            t.shader.bind(s, o),
            t.geometry.bind(i, t.shader._activeProgram),
            r && t.state.set(r),
            t.geometry.draw(d, f, h, u ?? i.instanceCount)
        }
        destroy() {
            this._renderer = null
        }
    }
    ;
    Qn.extension = {
        type: [B.WebGLSystem],
        name: "encoder"
    };
    var Kf = class {
        constructor() {
            this.width = -1,
            this.height = -1,
            this.msaa = !1,
            this.msaaRenderBuffer = []
        }
    }
      , Ma = [];
    Ma[je.NONE] = void 0,
    Ma[je.DISABLED] = {
        stencilWriteMask: 0,
        stencilReadMask: 0
    },
    Ma[je.RENDERING_MASK_ADD] = {
        stencilFront: {
            compare: "equal",
            passOp: "increment-clamp"
        },
        stencilBack: {
            compare: "equal",
            passOp: "increment-clamp"
        }
    },
    Ma[je.RENDERING_MASK_REMOVE] = {
        stencilFront: {
            compare: "equal",
            passOp: "decrement-clamp"
        },
        stencilBack: {
            compare: "equal",
            passOp: "decrement-clamp"
        }
    },
    Ma[je.MASK_ACTIVE] = {
        stencilWriteMask: 0,
        stencilFront: {
            compare: "equal",
            passOp: "keep"
        },
        stencilBack: {
            compare: "equal",
            passOp: "keep"
        }
    },
    Ma[je.INVERSE_MASK_ACTIVE] = {
        stencilWriteMask: 0,
        stencilFront: {
            compare: "not-equal",
            passOp: "replace"
        },
        stencilBack: {
            compare: "not-equal",
            passOp: "replace"
        }
    };
    var Jn = class {
        constructor(e) {
            this._stencilCache = {
                enabled: !1,
                stencilReference: 0,
                stencilMode: je.NONE
            },
            this._renderTargetStencilState = Object.create(null),
            e.renderTarget.onRenderTargetChange.add(this)
        }
        contextChange(e) {
            this._gl = e,
            this._comparisonFuncMapping = {
                always: e.ALWAYS,
                never: e.NEVER,
                equal: e.EQUAL,
                "not-equal": e.NOTEQUAL,
                less: e.LESS,
                "less-equal": e.LEQUAL,
                greater: e.GREATER,
                "greater-equal": e.GEQUAL
            },
            this._stencilOpsMapping = {
                keep: e.KEEP,
                zero: e.ZERO,
                replace: e.REPLACE,
                invert: e.INVERT,
                "increment-clamp": e.INCR,
                "decrement-clamp": e.DECR,
                "increment-wrap": e.INCR_WRAP,
                "decrement-wrap": e.DECR_WRAP
            },
            this._stencilCache.enabled = !1,
            this._stencilCache.stencilMode = je.NONE,
            this._stencilCache.stencilReference = 0
        }
        onRenderTargetChange(e) {
            if (this._activeRenderTarget === e)
                return;
            this._activeRenderTarget = e;
            let t = this._renderTargetStencilState[e.uid];
            t || (t = this._renderTargetStencilState[e.uid] = {
                stencilMode: je.DISABLED,
                stencilReference: 0
            }),
            this.setStencilMode(t.stencilMode, t.stencilReference)
        }
        setStencilMode(e, t) {
            let i = this._renderTargetStencilState[this._activeRenderTarget.uid]
              , s = this._gl
              , r = Ma[e]
              , o = this._stencilCache;
            if (i.stencilMode = e,
            i.stencilReference = t,
            e === je.DISABLED) {
                this._stencilCache.enabled && (this._stencilCache.enabled = !1,
                s.disable(s.STENCIL_TEST));
                return
            }
            this._stencilCache.enabled || (this._stencilCache.enabled = !0,
            s.enable(s.STENCIL_TEST)),
            (e !== o.stencilMode || o.stencilReference !== t) && (o.stencilMode = e,
            o.stencilReference = t,
            s.stencilFunc(this._comparisonFuncMapping[r.stencilBack.compare], t, 255),
            s.stencilOp(s.KEEP, s.KEEP, this._stencilOpsMapping[r.stencilBack.passOp]))
        }
    }
    ;
    Jn.extension = {
        type: [B.WebGLSystem],
        name: "stencil"
    };
    var eo = class {
        constructor(e) {
            this._syncFunctionHash = Object.create(null),
            this._adaptor = e,
            this._systemCheck()
        }
        _systemCheck() {
            if (!Bp())
                throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")
        }
        ensureUniformGroup(e) {
            let t = this.getUniformGroupData(e);
            e.buffer || (e.buffer = new st({
                data: new Float32Array(t.layout.size / 4),
                usage: Te.UNIFORM | Te.COPY_DST
            }))
        }
        getUniformGroupData(e) {
            return this._syncFunctionHash[e._signature] || this._initUniformGroup(e)
        }
        _initUniformGroup(e) {
            let t = e._signature
              , i = this._syncFunctionHash[t];
            if (!i) {
                let s = Object.keys(e.uniformStructures).map(d => e.uniformStructures[d])
                  , r = this._adaptor.createUboElements(s)
                  , o = this._generateUboSync(r.uboElements);
                i = this._syncFunctionHash[t] = {
                    layout: r,
                    syncFunction: o
                }
            }
            return this._syncFunctionHash[t]
        }
        _generateUboSync(e) {
            return this._adaptor.generateUboSync(e)
        }
        syncUniformGroup(e, t, i) {
            let s = this.getUniformGroupData(e);
            e.buffer || (e.buffer = new st({
                data: new Float32Array(s.layout.size / 4),
                usage: Te.UNIFORM | Te.COPY_DST
            }));
            let r = null;
            return t || (t = e.buffer.data,
            r = e.buffer.dataInt32),
            i || (i = 0),
            s.syncFunction(e.uniforms, t, r, i),
            !0
        }
        updateUniformGroup(e) {
            if (e.isStatic && !e._dirtyId)
                return !1;
            e._dirtyId = 0;
            let t = this.syncUniformGroup(e);
            return e.buffer.update(),
            t
        }
        destroy() {
            this._syncFunctionHash = null
        }
    }
      , O3 = {
        f32: 4,
        i32: 4,
        "vec2<f32>": 8,
        "vec3<f32>": 12,
        "vec4<f32>": 16,
        "vec2<i32>": 8,
        "vec3<i32>": 12,
        "vec4<i32>": 16,
        "mat2x2<f32>": 32,
        "mat3x3<f32>": 48,
        "mat4x4<f32>": 64
    };
    function ay(a) {
        let e = a.map(r => ({
            data: r,
            offset: 0,
            size: 0
        }))
          , t = 16
          , i = 0
          , s = 0;
        for (let r = 0; r < e.length; r++) {
            let o = e[r];
            if (i = O3[o.data.type],
            !i)
                throw new Error(`Unknown type ${o.data.type}`);
            o.data.size > 1 && (i = Math.max(i, t) * o.data.size);
            let d = i === 12 ? 16 : i;
            o.size = i;
            let f = s % t;
            f > 0 && t - f < d ? s += (t - f) % 16 : s += (i - f % i) % i,
            o.offset = s,
            s += i
        }
        return s = Math.ceil(s / 16) * 16,
        {
            uboElements: e,
            size: s
        }
    }
    var ei = [{
        type: "mat3x3<f32>",
        test: a => a.value.a !== void 0,
        ubo: `
var matrix = uv[name].toArray(true);
data[offset] = matrix[0];
data[offset + 1] = matrix[1];
data[offset + 2] = matrix[2];
data[offset + 4] = matrix[3];
data[offset + 5] = matrix[4];
data[offset + 6] = matrix[5];
data[offset + 8] = matrix[6];
data[offset + 9] = matrix[7];
data[offset + 10] = matrix[8];
`,
        uniform: `
gl.uniformMatrix3fv(ud[name].location, false, uv[name].toArray(true));
`
    }, {
        type: "vec4<f32>",
        test: a => a.type === "vec4<f32>" && a.size === 1 && a.value.width !== void 0,
        ubo: `
v = uv[name];
data[offset] = v.x;
data[offset + 1] = v.y;
data[offset + 2] = v.width;
data[offset + 3] = v.height;
`,
        uniform: `
cv = ud[name].value;
v = uv[name];
if (cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height) {
cv[0] = v.x;
cv[1] = v.y;
cv[2] = v.width;
cv[3] = v.height;
gl.uniform4f(ud[name].location, v.x, v.y, v.width, v.height);
}
`
    }, {
        type: "vec2<f32>",
        test: a => a.type === "vec2<f32>" && a.size === 1 && a.value.x !== void 0,
        ubo: `
v = uv[name];
data[offset] = v.x;
data[offset + 1] = v.y;
`,
        uniform: `
cv = ud[name].value;
v = uv[name];
if (cv[0] !== v.x || cv[1] !== v.y) {
cv[0] = v.x;
cv[1] = v.y;
gl.uniform2f(ud[name].location, v.x, v.y);
}
`
    }, {
        type: "vec4<f32>",
        test: a => a.type === "vec4<f32>" && a.size === 1 && a.value.red !== void 0,
        ubo: `
v = uv[name];
data[offset] = v.red;
data[offset + 1] = v.green;
data[offset + 2] = v.blue;
data[offset + 3] = v.alpha;
`,
        uniform: `
cv = ud[name].value;
v = uv[name];
if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha) {
cv[0] = v.red;
cv[1] = v.green;
cv[2] = v.blue;
cv[3] = v.alpha;
gl.uniform4f(ud[name].location, v.red, v.green, v.blue, v.alpha);
}
`
    }, {
        type: "vec3<f32>",
        test: a => a.type === "vec3<f32>" && a.size === 1 && a.value.red !== void 0,
        ubo: `
v = uv[name];
data[offset] = v.red;
data[offset + 1] = v.green;
data[offset + 2] = v.blue;
`,
        uniform: `
cv = ud[name].value;
v = uv[name];
if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue) {
cv[0] = v.red;
cv[1] = v.green;
cv[2] = v.blue;
gl.uniform3f(ud[name].location, v.red, v.green, v.blue);
}
`
    }];
    function I3(a, e, t, i) {
        let s = [`
var v = null;
var v2 = null;
var t = 0;
var index = 0;
var name = null;
var arrayOffset = null;
`]
          , r = 0;
        for (let d = 0; d < a.length; d++) {
            let f = a[d]
              , h = f.data.name
              , u = !1
              , p = 0;
            for (let x = 0; x < ei.length; x++)
                if (ei[x].test(f.data)) {
                    p = f.offset / 4,
                    s.push(`name = "${h}";`, `offset += ${p - r};`, ei[x][e] || ei[x].ubo),
                    u = !0;
                    break
                }
            if (!u)
                if (f.data.size > 1)
                    p = f.offset / 4,
                    s.push(t(f, p - r));
                else {
                    let x = i[f.data.type];
                    p = f.offset / 4,
                    s.push(`
v = uv.${h};
offset += ${p - r};
${x};
`)
                }
            r = p
        }
        let o = s.join(`
`);
        return new Function("uv","data","dataInt32","offset",o)
    }
    var iy = Object.defineProperty
      , sy = Object.defineProperties
      , ry = Object.getOwnPropertyDescriptors
      , l1 = Object.getOwnPropertySymbols
      , ny = Object.prototype.hasOwnProperty
      , oy = Object.prototype.propertyIsEnumerable
      , u1 = (a, e, t) => e in a ? iy(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , cy = (a, e) => {
        for (var t in e || (e = {}))
            ny.call(e, t) && u1(a, t, e[t]);
        if (l1)
            for (var t of l1(e))
                oy.call(e, t) && u1(a, t, e[t]);
        return a
    }
      , dy = (a, e) => sy(a, ry(e));
    function vi(a, e) {
        return `
for (let i = 0; i < ${a * e}; i++) {
data[offset + (((i / ${a})|0) * 4) + (i % ${a})] = v[i];
}
`
    }
    var G3 = {
        f32: `
data[offset] = v;`,
        i32: `
dataInt32[offset] = v;`,
        "vec2<f32>": `
data[offset] = v[0];
data[offset + 1] = v[1];`,
        "vec3<f32>": `
data[offset] = v[0];
data[offset + 1] = v[1];
data[offset + 2] = v[2];`,
        "vec4<f32>": `
data[offset] = v[0];
data[offset + 1] = v[1];
data[offset + 2] = v[2];
data[offset + 3] = v[3];`,
        "vec2<i32>": `
dataInt32[offset] = v[0];
dataInt32[offset + 1] = v[1];`,
        "vec3<i32>": `
dataInt32[offset] = v[0];
dataInt32[offset + 1] = v[1];
dataInt32[offset + 2] = v[2];`,
        "vec4<i32>": `
dataInt32[offset] = v[0];
dataInt32[offset + 1] = v[1];
dataInt32[offset + 2] = v[2];
dataInt32[offset + 3] = v[3];`,
        "mat2x2<f32>": `
data[offset] = v[0];
data[offset + 1] = v[1];
data[offset + 4] = v[2];
data[offset + 5] = v[3];`,
        "mat3x3<f32>": `
data[offset] = v[0];
data[offset + 1] = v[1];
data[offset + 2] = v[2];
data[offset + 4] = v[3];
data[offset + 5] = v[4];
data[offset + 6] = v[5];
data[offset + 8] = v[6];
data[offset + 9] = v[7];
data[offset + 10] = v[8];`,
        "mat4x4<f32>": `
for (let i = 0; i < 16; i++) {
data[offset + i] = v[i];
}`,
        "mat3x2<f32>": vi(3, 2),
        "mat4x2<f32>": vi(4, 2),
        "mat2x3<f32>": vi(2, 3),
        "mat4x3<f32>": vi(4, 3),
        "mat2x4<f32>": vi(2, 4),
        "mat3x4<f32>": vi(3, 4)
    }
      , fy = dy(cy({}, G3), {
        "mat2x2<f32>": `
data[offset] = v[0];
data[offset + 1] = v[1];
data[offset + 2] = v[2];
data[offset + 3] = v[3];
`
    });
    function hy(a, e) {
        let t = Math.max(O3[a.data.type] / 16, 1)
          , i = a.data.value.length / a.data.size
          , s = (4 - i % 4) % 4
          , r = a.data.type.indexOf("i32") >= 0 ? "dataInt32" : "data";
        return `
v = uv.${a.data.name};
offset += ${e};

arrayOffset = offset;

t = 0;

for(var i=0; i < ${a.data.size * t}; i++)
{
for(var j = 0; j < ${i}; j++)
{
${r}[arrayOffset++] = v[t++];
}
${s !== 0 ? `arrayOffset += ${s};` : ""}
}
`
    }
    function ly(a) {
        return I3(a, "uboStd40", hy, G3)
    }
    var to = class extends eo {
        constructor() {
            super({
                createUboElements: ay,
                generateUboSync: ly
            })
        }
    }
    ;
    to.extension = {
        type: [B.WebGLSystem],
        name: "ubo"
    };
    var qf = class {
        constructor() {
            this._clearColorCache = [0, 0, 0, 0],
            this._viewPortCache = new Pe
        }
        init(e, t) {
            this._renderer = e,
            this._renderTargetSystem = t,
            e.runners.contextChange.add(this)
        }
        contextChange() {
            this._clearColorCache = [0, 0, 0, 0],
            this._viewPortCache = new Pe
        }
        copyToTexture(e, t, i, s, r) {
            let o = this._renderTargetSystem
              , d = this._renderer
              , f = o.getGpuRenderTarget(e)
              , h = d.gl;
            return this.finishRenderPass(e),
            h.bindFramebuffer(h.FRAMEBUFFER, f.resolveTargetFramebuffer),
            d.texture.bind(t, 0),
            h.copyTexSubImage2D(h.TEXTURE_2D, 0, r.x, r.y, i.x, i.y, s.width, s.height),
            t
        }
        startRenderPass(e, t=!0, i, s) {
            let r = this._renderTargetSystem
              , o = e.colorTexture
              , d = r.getGpuRenderTarget(e)
              , f = s.y;
            e.isRoot && (f = o.pixelHeight - s.height),
            e.colorTextures.forEach(p => {
                this._renderer.texture.unbind(p)
            }
            );
            let h = this._renderer.gl;
            h.bindFramebuffer(h.FRAMEBUFFER, d.framebuffer);
            let u = this._viewPortCache;
            (u.x !== s.x || u.y !== f || u.width !== s.width || u.height !== s.height) && (u.x = s.x,
            u.y = f,
            u.width = s.width,
            u.height = s.height,
            h.viewport(s.x, f, s.width, s.height)),
            !d.depthStencilRenderBuffer && (e.stencil || e.depth) && this._initStencil(d),
            this.clear(e, t, i)
        }
        finishRenderPass(e) {
            let t = this._renderTargetSystem.getGpuRenderTarget(e);
            if (!t.msaa)
                return;
            let i = this._renderer.gl;
            i.bindFramebuffer(i.FRAMEBUFFER, t.resolveTargetFramebuffer),
            i.bindFramebuffer(i.READ_FRAMEBUFFER, t.framebuffer),
            i.blitFramebuffer(0, 0, t.width, t.height, 0, 0, t.width, t.height, i.COLOR_BUFFER_BIT, i.NEAREST),
            i.bindFramebuffer(i.FRAMEBUFFER, t.framebuffer)
        }
        initGpuRenderTarget(e) {
            let t = this._renderer
              , i = t.gl
              , s = new Kf;
            return e.colorTexture.resource === t.canvas ? (this._renderer.context.ensureCanvasSize(e.colorTexture.resource),
            s.framebuffer = null,
            s) : (this._initColor(e, s),
            i.bindFramebuffer(i.FRAMEBUFFER, null),
            s)
        }
        destroyGpuRenderTarget(e) {
            let t = this._renderer.gl;
            e.framebuffer && (t.deleteFramebuffer(e.framebuffer),
            e.framebuffer = null),
            e.resolveTargetFramebuffer && (t.deleteFramebuffer(e.resolveTargetFramebuffer),
            e.resolveTargetFramebuffer = null),
            e.depthStencilRenderBuffer && (t.deleteRenderbuffer(e.depthStencilRenderBuffer),
            e.depthStencilRenderBuffer = null),
            e.msaaRenderBuffer.forEach(i => {
                t.deleteRenderbuffer(i)
            }
            ),
            e.msaaRenderBuffer = null
        }
        clear(e, t, i) {
            if (!t)
                return;
            let s = this._renderTargetSystem;
            typeof t == "boolean" && (t = t ? mt.ALL : mt.NONE);
            let r = this._renderer.gl;
            if (t & mt.COLOR) {
                i != null || (i = s.defaultClearColor);
                let o = this._clearColorCache
                  , d = i;
                (o[0] !== d[0] || o[1] !== d[1] || o[2] !== d[2] || o[3] !== d[3]) && (o[0] = d[0],
                o[1] = d[1],
                o[2] = d[2],
                o[3] = d[3],
                r.clearColor(d[0], d[1], d[2], d[3]))
            }
            r.clear(t)
        }
        resizeGpuRenderTarget(e) {
            if (e.isRoot)
                return;
            let t = this._renderTargetSystem.getGpuRenderTarget(e);
            this._resizeColor(e, t),
            (e.stencil || e.depth) && this._resizeStencil(t)
        }
        _initColor(e, t) {
            let i = this._renderer
              , s = i.gl
              , r = s.createFramebuffer();
            if (t.resolveTargetFramebuffer = r,
            s.bindFramebuffer(s.FRAMEBUFFER, r),
            t.width = e.colorTexture.source.pixelWidth,
            t.height = e.colorTexture.source.pixelHeight,
            e.colorTextures.forEach( (o, d) => {
                let f = o.source;
                f.antialias && (i.context.supports.msaa ? t.msaa = !0 : ta("[RenderTexture] Antialiasing on textures is not supported in WebGL1")),
                i.texture.bindSource(f, 0);
                let h = i.texture.getGlSource(f).texture;
                s.framebufferTexture2D(s.FRAMEBUFFER, s.COLOR_ATTACHMENT0 + d, 3553, h, 0)
            }
            ),
            t.msaa) {
                let o = s.createFramebuffer();
                t.framebuffer = o,
                s.bindFramebuffer(s.FRAMEBUFFER, o),
                e.colorTextures.forEach( (d, f) => {
                    let h = s.createRenderbuffer();
                    t.msaaRenderBuffer[f] = h
                }
                )
            } else
                t.framebuffer = r;
            this._resizeColor(e, t)
        }
        _resizeColor(e, t) {
            let i = e.colorTexture.source;
            if (t.width = i.pixelWidth,
            t.height = i.pixelHeight,
            e.colorTextures.forEach( (s, r) => {
                r !== 0 && s.source.resize(i.width, i.height, i._resolution)
            }
            ),
            t.msaa) {
                let s = this._renderer
                  , r = s.gl
                  , o = t.framebuffer;
                r.bindFramebuffer(r.FRAMEBUFFER, o),
                e.colorTextures.forEach( (d, f) => {
                    let h = d.source;
                    s.texture.bindSource(h, 0);
                    let u = s.texture.getGlSource(h).internalFormat
                      , p = t.msaaRenderBuffer[f];
                    r.bindRenderbuffer(r.RENDERBUFFER, p),
                    r.renderbufferStorageMultisample(r.RENDERBUFFER, 4, u, h.pixelWidth, h.pixelHeight),
                    r.framebufferRenderbuffer(r.FRAMEBUFFER, r.COLOR_ATTACHMENT0 + f, r.RENDERBUFFER, p)
                }
                )
            }
        }
        _initStencil(e) {
            if (e.framebuffer === null)
                return;
            let t = this._renderer.gl
              , i = t.createRenderbuffer();
            e.depthStencilRenderBuffer = i,
            t.bindRenderbuffer(t.RENDERBUFFER, i),
            t.framebufferRenderbuffer(t.FRAMEBUFFER, t.DEPTH_STENCIL_ATTACHMENT, t.RENDERBUFFER, i),
            this._resizeStencil(e)
        }
        _resizeStencil(e) {
            let t = this._renderer.gl;
            t.bindRenderbuffer(t.RENDERBUFFER, e.depthStencilRenderBuffer),
            e.msaa ? t.renderbufferStorageMultisample(t.RENDERBUFFER, 4, t.DEPTH24_STENCIL8, e.width, e.height) : t.renderbufferStorage(t.RENDERBUFFER, this._renderer.context.webGLVersion === 2 ? t.DEPTH24_STENCIL8 : t.DEPTH_STENCIL, e.width, e.height)
        }
        prerender(e) {
            let t = e.colorTexture.resource;
            this._renderer.context.multiView && Qt.test(t) && this._renderer.context.ensureCanvasSize(t)
        }
        postrender(e) {
            if (this._renderer.context.multiView && Qt.test(e.colorTexture.resource)) {
                let t = this._renderer.context.canvas
                  , i = e.colorTexture;
                i.context2D.drawImage(t, 0, i.pixelHeight - t.height)
            }
        }
    }
    ;
    function uy(a, e, t, i, s, r) {
        let o = r ? 1 : -1;
        return a.identity(),
        a.a = 1 / i * 2,
        a.d = o * (1 / s * 2),
        a.tx = -1 - e * a.a,
        a.ty = -o - t * a.d,
        a
    }
    var by = Object.defineProperty
      , b1 = Object.getOwnPropertySymbols
      , py = Object.prototype.hasOwnProperty
      , gy = Object.prototype.propertyIsEnumerable
      , p1 = (a, e, t) => e in a ? by(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , my = (a, e) => {
        for (var t in e || (e = {}))
            py.call(e, t) && p1(a, t, e[t]);
        if (b1)
            for (var t of b1(e))
                gy.call(e, t) && p1(a, t, e[t]);
        return a
    }
      , _s = new Map;
    function B3(a, e) {
        if (!_s.has(a)) {
            let t = new K({
                source: new Qt(my({
                    resource: a
                }, e))
            })
              , i = () => {
                _s.get(a) === t && _s.delete(a)
            }
            ;
            t.once("destroy", i),
            t.source.once("destroy", i),
            _s.set(a, t)
        }
        return _s.get(a)
    }
    function _y(a) {
        let e = a.colorTexture.source.resource;
        return globalThis.HTMLCanvasElement && e instanceof HTMLCanvasElement && document.body.contains(e)
    }
    var xy = Object.defineProperty
      , g1 = Object.getOwnPropertySymbols
      , yy = Object.prototype.hasOwnProperty
      , vy = Object.prototype.propertyIsEnumerable
      , m1 = (a, e, t) => e in a ? xy(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , _1 = (a, e) => {
        for (var t in e || (e = {}))
            yy.call(e, t) && m1(a, t, e[t]);
        if (g1)
            for (var t of g1(e))
                vy.call(e, t) && m1(a, t, e[t]);
        return a
    }
      , F3 = class D3 {
        constructor(e={}) {
            if (this.uid = Fe("renderTarget"),
            this.colorTextures = [],
            this.dirtyId = 0,
            this.isRoot = !1,
            this._size = new Float32Array(2),
            this._managedColorTextures = !1,
            e = _1(_1({}, D3.defaultOptions), e),
            this.stencil = e.stencil,
            this.depth = e.depth,
            this.isRoot = e.isRoot,
            typeof e.colorTextures == "number") {
                this._managedColorTextures = !0;
                for (let t = 0; t < e.colorTextures; t++)
                    this.colorTextures.push(new De({
                        width: e.width,
                        height: e.height,
                        resolution: e.resolution,
                        antialias: e.antialias
                    }))
            } else {
                this.colorTextures = [...e.colorTextures.map(i => i.source)];
                let t = this.colorTexture.source;
                this.resize(t.width, t.height, t._resolution)
            }
            this.colorTexture.source.on("resize", this.onSourceResize, this),
            (e.depthStencilTexture || this.stencil) && (e.depthStencilTexture instanceof K || e.depthStencilTexture instanceof De ? this.depthStencilTexture = e.depthStencilTexture.source : this.ensureDepthStencilTexture())
        }
        get size() {
            let e = this._size;
            return e[0] = this.pixelWidth,
            e[1] = this.pixelHeight,
            e
        }
        get width() {
            return this.colorTexture.source.width
        }
        get height() {
            return this.colorTexture.source.height
        }
        get pixelWidth() {
            return this.colorTexture.source.pixelWidth
        }
        get pixelHeight() {
            return this.colorTexture.source.pixelHeight
        }
        get resolution() {
            return this.colorTexture.source._resolution
        }
        get colorTexture() {
            return this.colorTextures[0]
        }
        onSourceResize(e) {
            this.resize(e.width, e.height, e._resolution, !0)
        }
        ensureDepthStencilTexture() {
            this.depthStencilTexture || (this.depthStencilTexture = new De({
                width: this.width,
                height: this.height,
                resolution: this.resolution,
                format: "depth24plus-stencil8",
                autoGenerateMipmaps: !1,
                antialias: !1,
                mipLevelCount: 1
            }))
        }
        resize(e, t, i=this.resolution, s=!1) {
            this.dirtyId++,
            this.colorTextures.forEach( (r, o) => {
                s && o === 0 || r.source.resize(e, t, i)
            }
            ),
            this.depthStencilTexture && this.depthStencilTexture.source.resize(e, t, i)
        }
        destroy() {
            this.colorTexture.source.off("resize", this.onSourceResize, this),
            this._managedColorTextures && this.colorTextures.forEach(e => {
                e.destroy()
            }
            ),
            this.depthStencilTexture && (this.depthStencilTexture.destroy(),
            delete this.depthStencilTexture)
        }
    }
    ;
    F3.defaultOptions = {
        width: 0,
        height: 0,
        resolution: 1,
        colorTextures: 1,
        stencil: !1,
        depth: !1,
        antialias: !1,
        isRoot: !1
    };
    var Zf = F3
      , ao = class {
        constructor(e) {
            this.rootViewPort = new Pe,
            this.viewport = new Pe,
            this.onRenderTargetChange = new Rn("onRenderTargetChange"),
            this.projectionMatrix = new ie,
            this.defaultClearColor = [0, 0, 0, 0],
            this._renderSurfaceToRenderTargetHash = new Map,
            this._gpuRenderTargetHash = Object.create(null),
            this._renderTargetStack = [],
            this._renderer = e,
            e.renderableGC.addManagedHash(this, "_gpuRenderTargetHash")
        }
        finishRenderPass() {
            this.adaptor.finishRenderPass(this.renderTarget)
        }
        renderStart({target: e, clear: t, clearColor: i, frame: s}) {
            var r, o;
            this._renderTargetStack.length = 0,
            this.push(e, t, i, s),
            this.rootViewPort.copyFrom(this.viewport),
            this.rootRenderTarget = this.renderTarget,
            this.renderingToScreen = _y(this.rootRenderTarget),
            (o = (r = this.adaptor).prerender) == null || o.call(r, this.rootRenderTarget)
        }
        postrender() {
            var e, t;
            (t = (e = this.adaptor).postrender) == null || t.call(e, this.rootRenderTarget)
        }
        bind(e, t=!0, i, s) {
            let r = this.getRenderTarget(e)
              , o = this.renderTarget !== r;
            this.renderTarget = r,
            this.renderSurface = e;
            let d = this.getGpuRenderTarget(r);
            (r.pixelWidth !== d.width || r.pixelHeight !== d.height) && (this.adaptor.resizeGpuRenderTarget(r),
            d.width = r.pixelWidth,
            d.height = r.pixelHeight);
            let f = r.colorTexture
              , h = this.viewport
              , u = f.pixelWidth
              , p = f.pixelHeight;
            if (!s && e instanceof K && (s = e.frame),
            s) {
                let x = f._resolution;
                h.x = s.x * x + .5 | 0,
                h.y = s.y * x + .5 | 0,
                h.width = s.width * x + .5 | 0,
                h.height = s.height * x + .5 | 0
            } else
                h.x = 0,
                h.y = 0,
                h.width = u,
                h.height = p;
            return uy(this.projectionMatrix, 0, 0, h.width / f.resolution, h.height / f.resolution, !r.isRoot),
            this.adaptor.startRenderPass(r, t, i, h),
            o && this.onRenderTargetChange.emit(r),
            r
        }
        clear(e, t=mt.ALL, i) {
            t && (e && (e = this.getRenderTarget(e)),
            this.adaptor.clear(e || this.renderTarget, t, i, this.viewport))
        }
        contextChange() {
            this._gpuRenderTargetHash = Object.create(null)
        }
        push(e, t=mt.ALL, i, s) {
            let r = this.bind(e, t, i, s);
            return this._renderTargetStack.push({
                renderTarget: r,
                frame: s
            }),
            r
        }
        pop() {
            this._renderTargetStack.pop();
            let e = this._renderTargetStack[this._renderTargetStack.length - 1];
            this.bind(e.renderTarget, !1, null, e.frame)
        }
        getRenderTarget(e) {
            var t;
            return e.isTexture && (e = e.source),
            (t = this._renderSurfaceToRenderTargetHash.get(e)) != null ? t : this._initRenderTarget(e)
        }
        copyToTexture(e, t, i, s, r) {
            i.x < 0 && (s.width += i.x,
            r.x -= i.x,
            i.x = 0),
            i.y < 0 && (s.height += i.y,
            r.y -= i.y,
            i.y = 0);
            let {pixelWidth: o, pixelHeight: d} = e;
            return s.width = Math.min(s.width, o - i.x),
            s.height = Math.min(s.height, d - i.y),
            this.adaptor.copyToTexture(e, t, i, s, r)
        }
        ensureDepthStencil() {
            this.renderTarget.stencil || (this.renderTarget.stencil = !0,
            this.adaptor.startRenderPass(this.renderTarget, !1, null, this.viewport))
        }
        destroy() {
            this._renderer = null,
            this._renderSurfaceToRenderTargetHash.forEach( (e, t) => {
                e !== t && e.destroy()
            }
            ),
            this._renderSurfaceToRenderTargetHash.clear(),
            this._gpuRenderTargetHash = Object.create(null)
        }
        _initRenderTarget(e) {
            let t = null;
            return Qt.test(e) && (e = B3(e).source),
            e instanceof Zf ? t = e : e instanceof De && (t = new Zf({
                colorTextures: [e]
            }),
            Qt.test(e.source.resource) && (t.isRoot = !0),
            e.once("destroy", () => {
                t.destroy(),
                this._renderSurfaceToRenderTargetHash.delete(e);
                let i = this._gpuRenderTargetHash[t.uid];
                i && (this._gpuRenderTargetHash[t.uid] = null,
                this.adaptor.destroyGpuRenderTarget(i))
            }
            )),
            this._renderSurfaceToRenderTargetHash.set(e, t),
            t
        }
        getGpuRenderTarget(e) {
            return this._gpuRenderTargetHash[e.uid] || (this._gpuRenderTargetHash[e.uid] = this.adaptor.initGpuRenderTarget(e))
        }
        resetState() {
            this.renderTarget = null,
            this.renderSurface = null
        }
    }
      , io = class extends ao {
        constructor(e) {
            super(e),
            this.adaptor = new qf,
            this.adaptor.init(e, this)
        }
    }
    ;
    io.extension = {
        type: [B.WebGLSystem],
        name: "renderTarget"
    };
    var Vs = class extends yt {
        constructor({buffer: e, offset: t, size: i}) {
            super(),
            this.uid = Fe("buffer"),
            this._resourceType = "bufferResource",
            this._touched = 0,
            this._resourceId = Fe("resource"),
            this._bufferResource = !0,
            this.destroyed = !1,
            this.buffer = e,
            this.offset = t | 0,
            this.size = i,
            this.buffer.on("change", this.onBufferChange, this)
        }
        onBufferChange() {
            this._resourceId = Fe("resource"),
            this.emit("change", this)
        }
        destroy(e=!1) {
            this.destroyed = !0,
            e && this.buffer.destroy(),
            this.emit("change", this),
            this.buffer = null
        }
    }
    ;
    function Ty(a, e) {
        let t = []
          , i = [`
var g = s.groups;
var sS = r.shader;
var p = s.glProgram;
var ugS = r.uniformGroup;
var resources;
`]
          , s = !1
          , r = 0
          , o = e._getProgramData(a.glProgram);
        for (let f in a.groups) {
            let h = a.groups[f];
            t.push(`
resources = g[${f}].resources;
`);
            for (let u in h.resources) {
                let p = h.resources[u];
                if (p instanceof Je)
                    if (p.ubo) {
                        let x = a._uniformBindMap[f][Number(u)];
                        t.push(`
    sS.bindUniformBlock(
        resources[${u}],
        '${x}',
        ${a.glProgram._uniformBlockData[x].index}
    );
`)
                    } else
                        t.push(`
    ugS.updateUniformGroup(resources[${u}], p, sD);
`);
                else if (p instanceof Vs) {
                    let x = a._uniformBindMap[f][Number(u)];
                    t.push(`
sS.bindUniformBlock(
    resources[${u}],
    '${x}',
    ${a.glProgram._uniformBlockData[x].index}
);
`)
                } else if (p instanceof De) {
                    let x = a._uniformBindMap[f][u]
                      , _ = o.uniformData[x];
                    _ && (s || (s = !0,
                    i.push(`
    var tS = r.texture;
    `)),
                    e._gl.uniform1i(_.location, r),
                    t.push(`
    tS.bind(resources[${u}], ${r});
`),
                    r++)
                }
            }
        }
        let d = [...i, ...t].join(`
`);
        return new Function("r","s","sD",d)
    }
    var Qf = class {
        constructor(e, t) {
            this.program = e,
            this.uniformData = t,
            this.uniformGroups = {},
            this.uniformDirtyGroups = {},
            this.uniformBlockBindings = {}
        }
        destroy() {
            this.uniformData = null,
            this.uniformGroups = null,
            this.uniformDirtyGroups = null,
            this.uniformBlockBindings = null,
            this.program = null
        }
    }
    ;
    function x1(a, e, t) {
        let i = a.createShader(e);
        return a.shaderSource(i, t),
        a.compileShader(i),
        i
    }
    function Td(a) {
        let e = new Array(a);
        for (let t = 0; t < e.length; t++)
            e[t] = !1;
        return e
    }
    function k3(a, e) {
        switch (a) {
        case "float":
            return 0;
        case "vec2":
            return new Float32Array(2 * e);
        case "vec3":
            return new Float32Array(3 * e);
        case "vec4":
            return new Float32Array(4 * e);
        case "int":
        case "uint":
        case "sampler2D":
        case "sampler2DArray":
            return 0;
        case "ivec2":
            return new Int32Array(2 * e);
        case "ivec3":
            return new Int32Array(3 * e);
        case "ivec4":
            return new Int32Array(4 * e);
        case "uvec2":
            return new Uint32Array(2 * e);
        case "uvec3":
            return new Uint32Array(3 * e);
        case "uvec4":
            return new Uint32Array(4 * e);
        case "bool":
            return !1;
        case "bvec2":
            return Td(2 * e);
        case "bvec3":
            return Td(3 * e);
        case "bvec4":
            return Td(4 * e);
        case "mat2":
            return new Float32Array([1, 0, 0, 1]);
        case "mat3":
            return new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]);
        case "mat4":
            return new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1])
        }
        return null
    }
    var Dr = null
      , y1 = {
        FLOAT: "float",
        FLOAT_VEC2: "vec2",
        FLOAT_VEC3: "vec3",
        FLOAT_VEC4: "vec4",
        INT: "int",
        INT_VEC2: "ivec2",
        INT_VEC3: "ivec3",
        INT_VEC4: "ivec4",
        UNSIGNED_INT: "uint",
        UNSIGNED_INT_VEC2: "uvec2",
        UNSIGNED_INT_VEC3: "uvec3",
        UNSIGNED_INT_VEC4: "uvec4",
        BOOL: "bool",
        BOOL_VEC2: "bvec2",
        BOOL_VEC3: "bvec3",
        BOOL_VEC4: "bvec4",
        FLOAT_MAT2: "mat2",
        FLOAT_MAT3: "mat3",
        FLOAT_MAT4: "mat4",
        SAMPLER_2D: "sampler2D",
        INT_SAMPLER_2D: "sampler2D",
        UNSIGNED_INT_SAMPLER_2D: "sampler2D",
        SAMPLER_CUBE: "samplerCube",
        INT_SAMPLER_CUBE: "samplerCube",
        UNSIGNED_INT_SAMPLER_CUBE: "samplerCube",
        SAMPLER_2D_ARRAY: "sampler2DArray",
        INT_SAMPLER_2D_ARRAY: "sampler2DArray",
        UNSIGNED_INT_SAMPLER_2D_ARRAY: "sampler2DArray"
    }
      , Sy = {
        float: "float32",
        vec2: "float32x2",
        vec3: "float32x3",
        vec4: "float32x4",
        int: "sint32",
        ivec2: "sint32x2",
        ivec3: "sint32x3",
        ivec4: "sint32x4",
        uint: "uint32",
        uvec2: "uint32x2",
        uvec3: "uint32x3",
        uvec4: "uint32x4",
        bool: "uint32",
        bvec2: "uint32x2",
        bvec3: "uint32x3",
        bvec4: "uint32x4"
    };
    function U3(a, e) {
        if (!Dr) {
            let t = Object.keys(y1);
            Dr = {};
            for (let i = 0; i < t.length; ++i) {
                let s = t[i];
                Dr[a[s]] = y1[s]
            }
        }
        return Dr[e]
    }
    function wy(a, e) {
        let t = U3(a, e);
        return Sy[t] || "float32"
    }
    function Ay(a, e, t=!1) {
        let i = {}
          , s = e.getProgramParameter(a, e.ACTIVE_ATTRIBUTES);
        for (let o = 0; o < s; o++) {
            let d = e.getActiveAttrib(a, o);
            if (d.name.startsWith("gl_"))
                continue;
            let f = wy(e, d.type);
            i[d.name] = {
                location: 0,
                format: f,
                stride: Fa(f).stride,
                offset: 0,
                instance: !1,
                start: 0
            }
        }
        let r = Object.keys(i);
        if (t) {
            r.sort( (o, d) => o > d ? 1 : -1);
            for (let o = 0; o < r.length; o++)
                i[r[o]].location = o,
                e.bindAttribLocation(a, o, r[o]);
            e.linkProgram(a)
        } else
            for (let o = 0; o < r.length; o++)
                i[r[o]].location = e.getAttribLocation(a, r[o]);
        return i
    }
    function Ey(a, e) {
        if (!e.ACTIVE_UNIFORM_BLOCKS)
            return {};
        let t = {}
          , i = e.getProgramParameter(a, e.ACTIVE_UNIFORM_BLOCKS);
        for (let s = 0; s < i; s++) {
            let r = e.getActiveUniformBlockName(a, s)
              , o = e.getUniformBlockIndex(a, r)
              , d = e.getActiveUniformBlockParameter(a, s, e.UNIFORM_BLOCK_DATA_SIZE);
            t[r] = {
                name: r,
                index: o,
                size: d
            }
        }
        return t
    }
    function Py(a, e) {
        let t = {}
          , i = e.getProgramParameter(a, e.ACTIVE_UNIFORMS);
        for (let s = 0; s < i; s++) {
            let r = e.getActiveUniform(a, s)
              , o = r.name.replace(/\[.*?\]$/, "")
              , d = !!r.name.match(/\[.*?\]$/)
              , f = U3(e, r.type);
            t[o] = {
                name: o,
                index: s,
                type: f,
                size: r.size,
                isArray: d,
                value: k3(f, r.size)
            }
        }
        return t
    }
    function v1(a, e) {
        let t = a.getShaderSource(e).split(`
`).map( (h, u) => `${u}: ${h}`)
          , i = a.getShaderInfoLog(e)
          , s = i.split(`
`)
          , r = {}
          , o = s.map(h => parseFloat(h.replace(/^ERROR\: 0\:([\d]+)\:.*$/, "$1"))).filter(h => h && !r[h] ? (r[h] = !0,
        !0) : !1)
          , d = [""];
        o.forEach(h => {
            t[h - 1] = `%c${t[h - 1]}%c`,
            d.push("background: #FF0000; color:#FFFFFF; font-size: 10px", "font-size: 10px")
        }
        );
        let f = t.join(`
`);
        d[0] = f
    }
    function Ry(a, e, t, i) {
        a.getProgramParameter(e, a.LINK_STATUS) || (a.getShaderParameter(t, a.COMPILE_STATUS) || v1(a, t),
        a.getShaderParameter(i, a.COMPILE_STATUS) || v1(a, i),
        a.getProgramInfoLog(e))
    }
    function My(a, e) {
        let t = x1(a, a.VERTEX_SHADER, e.vertex)
          , i = x1(a, a.FRAGMENT_SHADER, e.fragment)
          , s = a.createProgram();
        a.attachShader(s, t),
        a.attachShader(s, i);
        let r = e.transformFeedbackVaryings;
        r && (typeof a.transformFeedbackVaryings != "function" || a.transformFeedbackVaryings(s, r.names, r.bufferMode === "separate" ? a.SEPARATE_ATTRIBS : a.INTERLEAVED_ATTRIBS)),
        a.linkProgram(s),
        a.getProgramParameter(s, a.LINK_STATUS) || Ry(a, s, t, i),
        e._attributeData = Ay(s, a, !/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertex)),
        e._uniformData = Py(s, a),
        e._uniformBlockData = Ey(s, a),
        a.deleteShader(t),
        a.deleteShader(i);
        let o = {};
        for (let d in e._uniformData) {
            let f = e._uniformData[d];
            o[d] = {
                location: a.getUniformLocation(s, d),
                value: k3(f.type, f.size)
            }
        }
        return new Qf(s,o)
    }
    var kr = {
        textureCount: 0,
        blockIndex: 0
    }
      , so = class {
        constructor(e) {
            this._activeProgram = null,
            this._programDataHash = Object.create(null),
            this._shaderSyncFunctions = Object.create(null),
            this._renderer = e,
            this._renderer.renderableGC.addManagedHash(this, "_programDataHash")
        }
        contextChange(e) {
            this._gl = e,
            this._programDataHash = Object.create(null),
            this._shaderSyncFunctions = Object.create(null),
            this._activeProgram = null,
            this.maxTextures = ki()
        }
        bind(e, t) {
            if (this._setProgram(e.glProgram),
            t)
                return;
            kr.textureCount = 0,
            kr.blockIndex = 0;
            let i = this._shaderSyncFunctions[e.glProgram._key];
            i || (i = this._shaderSyncFunctions[e.glProgram._key] = this._generateShaderSync(e, this)),
            this._renderer.buffer.nextBindBase(!!e.glProgram.transformFeedbackVaryings),
            i(this._renderer, e, kr)
        }
        updateUniformGroup(e) {
            this._renderer.uniformGroup.updateUniformGroup(e, this._activeProgram, kr)
        }
        bindUniformBlock(e, t, i=0) {
            let s = this._renderer.buffer
              , r = this._getProgramData(this._activeProgram)
              , o = e._bufferResource;
            o || this._renderer.ubo.updateUniformGroup(e);
            let d = e.buffer
              , f = s.updateBuffer(d)
              , h = s.freeLocationForBufferBase(f);
            if (o) {
                let {offset: p, size: x} = e;
                p === 0 && x === d.data.byteLength ? s.bindBufferBase(f, h) : s.bindBufferRange(f, h, p)
            } else
                s.getLastBindBaseLocation(f) !== h && s.bindBufferBase(f, h);
            let u = this._activeProgram._uniformBlockData[t].index;
            r.uniformBlockBindings[i] !== h && (r.uniformBlockBindings[i] = h,
            this._renderer.gl.uniformBlockBinding(r.program, u, h))
        }
        _setProgram(e) {
            if (this._activeProgram === e)
                return;
            this._activeProgram = e;
            let t = this._getProgramData(e);
            this._gl.useProgram(t.program)
        }
        _getProgramData(e) {
            return this._programDataHash[e._key] || this._createProgramData(e)
        }
        _createProgramData(e) {
            let t = e._key;
            return this._programDataHash[t] = My(this._gl, e),
            this._programDataHash[t]
        }
        destroy() {
            for (let e of Object.keys(this._programDataHash))
                this._programDataHash[e].destroy(),
                this._programDataHash[e] = null;
            this._programDataHash = null
        }
        _generateShaderSync(e, t) {
            return Ty(e, t)
        }
        resetState() {
            this._activeProgram = null
        }
    }
    ;
    so.extension = {
        type: [B.WebGLSystem],
        name: "shader"
    };
    var Cy = {
        f32: `if (cv !== v) {
cu.value = v;
gl.uniform1f(location, v);
}`,
        "vec2<f32>": `if (cv[0] !== v[0] || cv[1] !== v[1]) {
cv[0] = v[0];
cv[1] = v[1];
gl.uniform2f(location, v[0], v[1]);
}`,
        "vec3<f32>": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
cv[0] = v[0];
cv[1] = v[1];
cv[2] = v[2];
gl.uniform3f(location, v[0], v[1], v[2]);
}`,
        "vec4<f32>": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
cv[0] = v[0];
cv[1] = v[1];
cv[2] = v[2];
cv[3] = v[3];
gl.uniform4f(location, v[0], v[1], v[2], v[3]);
}`,
        i32: `if (cv !== v) {
cu.value = v;
gl.uniform1i(location, v);
}`,
        "vec2<i32>": `if (cv[0] !== v[0] || cv[1] !== v[1]) {
cv[0] = v[0];
cv[1] = v[1];
gl.uniform2i(location, v[0], v[1]);
}`,
        "vec3<i32>": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
cv[0] = v[0];
cv[1] = v[1];
cv[2] = v[2];
gl.uniform3i(location, v[0], v[1], v[2]);
}`,
        "vec4<i32>": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
cv[0] = v[0];
cv[1] = v[1];
cv[2] = v[2];
cv[3] = v[3];
gl.uniform4i(location, v[0], v[1], v[2], v[3]);
}`,
        u32: `if (cv !== v) {
cu.value = v;
gl.uniform1ui(location, v);
}`,
        "vec2<u32>": `if (cv[0] !== v[0] || cv[1] !== v[1]) {
cv[0] = v[0];
cv[1] = v[1];
gl.uniform2ui(location, v[0], v[1]);
}`,
        "vec3<u32>": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
cv[0] = v[0];
cv[1] = v[1];
cv[2] = v[2];
gl.uniform3ui(location, v[0], v[1], v[2]);
}`,
        "vec4<u32>": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
cv[0] = v[0];
cv[1] = v[1];
cv[2] = v[2];
cv[3] = v[3];
gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
}`,
        bool: `if (cv !== v) {
cu.value = v;
gl.uniform1i(location, v);
}`,
        "vec2<bool>": `if (cv[0] !== v[0] || cv[1] !== v[1]) {
cv[0] = v[0];
cv[1] = v[1];
gl.uniform2i(location, v[0], v[1]);
}`,
        "vec3<bool>": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
cv[0] = v[0];
cv[1] = v[1];
cv[2] = v[2];
gl.uniform3i(location, v[0], v[1], v[2]);
}`,
        "vec4<bool>": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
cv[0] = v[0];
cv[1] = v[1];
cv[2] = v[2];
cv[3] = v[3];
gl.uniform4i(location, v[0], v[1], v[2], v[3]);
}`,
        "mat2x2<f32>": "gl.uniformMatrix2fv(location, false, v);",
        "mat3x3<f32>": "gl.uniformMatrix3fv(location, false, v);",
        "mat4x4<f32>": "gl.uniformMatrix4fv(location, false, v);"
    }
      , Oy = {
        f32: "gl.uniform1fv(location, v);",
        "vec2<f32>": "gl.uniform2fv(location, v);",
        "vec3<f32>": "gl.uniform3fv(location, v);",
        "vec4<f32>": "gl.uniform4fv(location, v);",
        "mat2x2<f32>": "gl.uniformMatrix2fv(location, false, v);",
        "mat3x3<f32>": "gl.uniformMatrix3fv(location, false, v);",
        "mat4x4<f32>": "gl.uniformMatrix4fv(location, false, v);",
        i32: "gl.uniform1iv(location, v);",
        "vec2<i32>": "gl.uniform2iv(location, v);",
        "vec3<i32>": "gl.uniform3iv(location, v);",
        "vec4<i32>": "gl.uniform4iv(location, v);",
        u32: "gl.uniform1iv(location, v);",
        "vec2<u32>": "gl.uniform2iv(location, v);",
        "vec3<u32>": "gl.uniform3iv(location, v);",
        "vec4<u32>": "gl.uniform4iv(location, v);",
        bool: "gl.uniform1iv(location, v);",
        "vec2<bool>": "gl.uniform2iv(location, v);",
        "vec3<bool>": "gl.uniform3iv(location, v);",
        "vec4<bool>": "gl.uniform4iv(location, v);"
    };
    function Iy(a, e) {
        let t = [`
var v = null;
var cv = null;
var cu = null;
var t = 0;
var gl = renderer.gl;
var name = null;
`];
        for (let i in a.uniforms) {
            if (!e[i]) {
                a.uniforms[i]instanceof Je ? a.uniforms[i].ubo ? t.push(`
    renderer.shader.bindUniformBlock(uv.${i}, "${i}");
`) : t.push(`
    renderer.shader.updateUniformGroup(uv.${i});
`) : a.uniforms[i]instanceof Vs && t.push(`
    renderer.shader.bindBufferResource(uv.${i}, "${i}");
`);
                continue
            }
            let s = a.uniformStructures[i]
              , r = !1;
            for (let o = 0; o < ei.length; o++) {
                let d = ei[o];
                if (s.type === d.type && d.test(s)) {
                    t.push(`name = "${i}";`, ei[o].uniform),
                    r = !0;
                    break
                }
            }
            if (!r) {
                let o = (s.size === 1 ? Cy : Oy)[s.type].replace("location", `ud["${i}"].location`);
                t.push(`
cu = ud["${i}"];
cv = cu.value;
v = uv["${i}"];
${o};`)
            }
        }
        return new Function("ud","uv","renderer","syncData",t.join(`
`))
    }
    var ro = class {
        constructor(e) {
            this._cache = {},
            this._uniformGroupSyncHash = {},
            this._renderer = e,
            this.gl = null,
            this._cache = {}
        }
        contextChange(e) {
            this.gl = e
        }
        updateUniformGroup(e, t, i) {
            let s = this._renderer.shader._getProgramData(t);
            (!e.isStatic || e._dirtyId !== s.uniformDirtyGroups[e.uid]) && (s.uniformDirtyGroups[e.uid] = e._dirtyId,
            this._getUniformSyncFunction(e, t)(s.uniformData, e.uniforms, this._renderer, i))
        }
        _getUniformSyncFunction(e, t) {
            var i;
            return ((i = this._uniformGroupSyncHash[e._signature]) == null ? void 0 : i[t._key]) || this._createUniformSyncFunction(e, t)
        }
        _createUniformSyncFunction(e, t) {
            let i = this._uniformGroupSyncHash[e._signature] || (this._uniformGroupSyncHash[e._signature] = {})
              , s = this._getSignature(e, t._uniformData, "u");
            return this._cache[s] || (this._cache[s] = this._generateUniformsSync(e, t._uniformData)),
            i[t._key] = this._cache[s],
            i[t._key]
        }
        _generateUniformsSync(e, t) {
            return Iy(e, t)
        }
        _getSignature(e, t, i) {
            let s = e.uniforms
              , r = [`${i}-`];
            for (let o in s)
                r.push(o),
                t[o] && r.push(t[o].type);
            return r.join("-")
        }
        destroy() {
            this._renderer = null,
            this._cache = null
        }
    }
    ;
    ro.extension = {
        type: [B.WebGLSystem],
        name: "uniformGroup"
    };
    function Gy(a) {
        let e = {};
        if (e.normal = [a.ONE, a.ONE_MINUS_SRC_ALPHA],
        e.add = [a.ONE, a.ONE],
        e.multiply = [a.DST_COLOR, a.ONE_MINUS_SRC_ALPHA, a.ONE, a.ONE_MINUS_SRC_ALPHA],
        e.screen = [a.ONE, a.ONE_MINUS_SRC_COLOR, a.ONE, a.ONE_MINUS_SRC_ALPHA],
        e.none = [0, 0],
        e["normal-npm"] = [a.SRC_ALPHA, a.ONE_MINUS_SRC_ALPHA, a.ONE, a.ONE_MINUS_SRC_ALPHA],
        e["add-npm"] = [a.SRC_ALPHA, a.ONE, a.ONE, a.ONE],
        e["screen-npm"] = [a.SRC_ALPHA, a.ONE_MINUS_SRC_COLOR, a.ONE, a.ONE_MINUS_SRC_ALPHA],
        e.erase = [a.ZERO, a.ONE_MINUS_SRC_ALPHA],
        !(a instanceof ve.get().getWebGLRenderingContext()))
            e.min = [a.ONE, a.ONE, a.ONE, a.ONE, a.MIN, a.MIN],
            e.max = [a.ONE, a.ONE, a.ONE, a.ONE, a.MAX, a.MAX];
        else {
            let t = a.getExtension("EXT_blend_minmax");
            t && (e.min = [a.ONE, a.ONE, a.ONE, a.ONE, t.MIN_EXT, t.MIN_EXT],
            e.max = [a.ONE, a.ONE, a.ONE, a.ONE, t.MAX_EXT, t.MAX_EXT])
        }
        return e
    }
    var By = 0
      , Fy = 1
      , Dy = 2
      , ky = 3
      , Uy = 4
      , Ly = 5
      , L3 = class Jf {
        constructor() {
            this.gl = null,
            this.stateId = 0,
            this.polygonOffset = 0,
            this.blendMode = "none",
            this._blendEq = !1,
            this.map = [],
            this.map[By] = this.setBlend,
            this.map[Fy] = this.setOffset,
            this.map[Dy] = this.setCullFace,
            this.map[ky] = this.setDepthTest,
            this.map[Uy] = this.setFrontFace,
            this.map[Ly] = this.setDepthMask,
            this.checks = [],
            this.defaultState = Et.for2d()
        }
        contextChange(e) {
            this.gl = e,
            this.blendModesMap = Gy(e),
            this.resetState()
        }
        set(e) {
            if (e || (e = this.defaultState),
            this.stateId !== e.data) {
                let t = this.stateId ^ e.data
                  , i = 0;
                for (; t; )
                    t & 1 && this.map[i].call(this, !!(e.data & 1 << i)),
                    t >>= 1,
                    i++;
                this.stateId = e.data
            }
            for (let t = 0; t < this.checks.length; t++)
                this.checks[t](this, e)
        }
        forceState(e) {
            e || (e = this.defaultState);
            for (let t = 0; t < this.map.length; t++)
                this.map[t].call(this, !!(e.data & 1 << t));
            for (let t = 0; t < this.checks.length; t++)
                this.checks[t](this, e);
            this.stateId = e.data
        }
        setBlend(e) {
            this._updateCheck(Jf._checkBlendMode, e),
            this.gl[e ? "enable" : "disable"](this.gl.BLEND)
        }
        setOffset(e) {
            this._updateCheck(Jf._checkPolygonOffset, e),
            this.gl[e ? "enable" : "disable"](this.gl.POLYGON_OFFSET_FILL)
        }
        setDepthTest(e) {
            this.gl[e ? "enable" : "disable"](this.gl.DEPTH_TEST)
        }
        setDepthMask(e) {
            this.gl.depthMask(e)
        }
        setCullFace(e) {
            this.gl[e ? "enable" : "disable"](this.gl.CULL_FACE)
        }
        setFrontFace(e) {
            this.gl.frontFace(this.gl[e ? "CW" : "CCW"])
        }
        setBlendMode(e) {
            if (this.blendModesMap[e] || (e = "normal"),
            e === this.blendMode)
                return;
            this.blendMode = e;
            let t = this.blendModesMap[e]
              , i = this.gl;
            t.length === 2 ? i.blendFunc(t[0], t[1]) : i.blendFuncSeparate(t[0], t[1], t[2], t[3]),
            t.length === 6 ? (this._blendEq = !0,
            i.blendEquationSeparate(t[4], t[5])) : this._blendEq && (this._blendEq = !1,
            i.blendEquationSeparate(i.FUNC_ADD, i.FUNC_ADD))
        }
        setPolygonOffset(e, t) {
            this.gl.polygonOffset(e, t)
        }
        resetState() {
            this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, !1),
            this.forceState(this.defaultState),
            this._blendEq = !0,
            this.blendMode = "",
            this.setBlendMode("normal")
        }
        _updateCheck(e, t) {
            let i = this.checks.indexOf(e);
            t && i === -1 ? this.checks.push(e) : !t && i !== -1 && this.checks.splice(i, 1)
        }
        static _checkBlendMode(e, t) {
            e.setBlendMode(t.blendMode)
        }
        static _checkPolygonOffset(e, t) {
            e.setPolygonOffset(1, t.polygonOffset)
        }
        destroy() {
            this.gl = null,
            this.checks.length = 0
        }
    }
    ;
    L3.extension = {
        type: [B.WebGLSystem],
        name: "state"
    };
    var Ny = L3
      , eh = class {
        constructor(e) {
            this.target = M3.TEXTURE_2D,
            this.texture = e,
            this.width = -1,
            this.height = -1,
            this.type = Se.UNSIGNED_BYTE,
            this.internalFormat = Yf.RGBA,
            this.format = Yf.RGBA,
            this.samplerType = 0
        }
    }
      , jy = {
        id: "buffer",
        upload(a, e, t) {
            e.width === a.width || e.height === a.height ? t.texSubImage2D(t.TEXTURE_2D, 0, 0, 0, a.width, a.height, e.format, e.type, a.resource) : t.texImage2D(e.target, 0, e.internalFormat, a.width, a.height, 0, e.format, e.type, a.resource),
            e.width = a.width,
            e.height = a.height
        }
    }
      , Xy = {
        "bc1-rgba-unorm": !0,
        "bc1-rgba-unorm-srgb": !0,
        "bc2-rgba-unorm": !0,
        "bc2-rgba-unorm-srgb": !0,
        "bc3-rgba-unorm": !0,
        "bc3-rgba-unorm-srgb": !0,
        "bc4-r-unorm": !0,
        "bc4-r-snorm": !0,
        "bc5-rg-unorm": !0,
        "bc5-rg-snorm": !0,
        "bc6h-rgb-ufloat": !0,
        "bc6h-rgb-float": !0,
        "bc7-rgba-unorm": !0,
        "bc7-rgba-unorm-srgb": !0,
        "etc2-rgb8unorm": !0,
        "etc2-rgb8unorm-srgb": !0,
        "etc2-rgb8a1unorm": !0,
        "etc2-rgb8a1unorm-srgb": !0,
        "etc2-rgba8unorm": !0,
        "etc2-rgba8unorm-srgb": !0,
        "eac-r11unorm": !0,
        "eac-r11snorm": !0,
        "eac-rg11unorm": !0,
        "eac-rg11snorm": !0,
        "astc-4x4-unorm": !0,
        "astc-4x4-unorm-srgb": !0,
        "astc-5x4-unorm": !0,
        "astc-5x4-unorm-srgb": !0,
        "astc-5x5-unorm": !0,
        "astc-5x5-unorm-srgb": !0,
        "astc-6x5-unorm": !0,
        "astc-6x5-unorm-srgb": !0,
        "astc-6x6-unorm": !0,
        "astc-6x6-unorm-srgb": !0,
        "astc-8x5-unorm": !0,
        "astc-8x5-unorm-srgb": !0,
        "astc-8x6-unorm": !0,
        "astc-8x6-unorm-srgb": !0,
        "astc-8x8-unorm": !0,
        "astc-8x8-unorm-srgb": !0,
        "astc-10x5-unorm": !0,
        "astc-10x5-unorm-srgb": !0,
        "astc-10x6-unorm": !0,
        "astc-10x6-unorm-srgb": !0,
        "astc-10x8-unorm": !0,
        "astc-10x8-unorm-srgb": !0,
        "astc-10x10-unorm": !0,
        "astc-10x10-unorm-srgb": !0,
        "astc-12x10-unorm": !0,
        "astc-12x10-unorm-srgb": !0,
        "astc-12x12-unorm": !0,
        "astc-12x12-unorm-srgb": !0
    }
      , Hy = {
        id: "compressed",
        upload(a, e, t) {
            t.pixelStorei(t.UNPACK_ALIGNMENT, 4);
            let i = a.pixelWidth
              , s = a.pixelHeight
              , r = !!Xy[a.format];
            for (let o = 0; o < a.resource.length; o++) {
                let d = a.resource[o];
                r ? t.compressedTexImage2D(t.TEXTURE_2D, o, e.internalFormat, i, s, 0, d) : t.texImage2D(t.TEXTURE_2D, o, e.internalFormat, i, s, 0, e.format, e.type, d),
                i = Math.max(i >> 1, 1),
                s = Math.max(s >> 1, 1)
            }
        }
    }
      , N3 = {
        id: "image",
        upload(a, e, t, i) {
            let s = e.width
              , r = e.height
              , o = a.pixelWidth
              , d = a.pixelHeight
              , f = a.resourceWidth
              , h = a.resourceHeight;
            f < o || h < d ? ((s !== o || r !== d) && t.texImage2D(e.target, 0, e.internalFormat, o, d, 0, e.format, e.type, null),
            i === 2 ? t.texSubImage2D(t.TEXTURE_2D, 0, 0, 0, f, h, e.format, e.type, a.resource) : t.texSubImage2D(t.TEXTURE_2D, 0, 0, 0, e.format, e.type, a.resource)) : s === o && r === d ? t.texSubImage2D(t.TEXTURE_2D, 0, 0, 0, e.format, e.type, a.resource) : i === 2 ? t.texImage2D(e.target, 0, e.internalFormat, o, d, 0, e.format, e.type, a.resource) : t.texImage2D(e.target, 0, e.internalFormat, e.format, e.type, a.resource),
            e.width = o,
            e.height = d
        }
    }
      , zy = {
        id: "video",
        upload(a, e, t, i) {
            if (!a.isValid) {
                t.texImage2D(e.target, 0, e.internalFormat, 1, 1, 0, e.format, e.type, null);
                return
            }
            N3.upload(a, e, t, i)
        }
    }
      , T1 = {
        linear: 9729,
        nearest: 9728
    }
      , Vy = {
        linear: {
            linear: 9987,
            nearest: 9985
        },
        nearest: {
            linear: 9986,
            nearest: 9984
        }
    }
      , Sd = {
        "clamp-to-edge": 33071,
        repeat: 10497,
        "mirror-repeat": 33648
    }
      , Wy = {
        never: 512,
        less: 513,
        equal: 514,
        "less-equal": 515,
        greater: 516,
        "not-equal": 517,
        "greater-equal": 518,
        always: 519
    };
    function S1(a, e, t, i, s, r, o, d) {
        let f = r;
        if (!d || a.addressModeU !== "repeat" || a.addressModeV !== "repeat" || a.addressModeW !== "repeat") {
            let h = Sd[o ? "clamp-to-edge" : a.addressModeU]
              , u = Sd[o ? "clamp-to-edge" : a.addressModeV]
              , p = Sd[o ? "clamp-to-edge" : a.addressModeW];
            e[s](f, e.TEXTURE_WRAP_S, h),
            e[s](f, e.TEXTURE_WRAP_T, u),
            e.TEXTURE_WRAP_R && e[s](f, e.TEXTURE_WRAP_R, p)
        }
        if ((!d || a.magFilter !== "linear") && e[s](f, e.TEXTURE_MAG_FILTER, T1[a.magFilter]),
        t) {
            if (!d || a.mipmapFilter !== "linear") {
                let h = Vy[a.minFilter][a.mipmapFilter];
                e[s](f, e.TEXTURE_MIN_FILTER, h)
            }
        } else
            e[s](f, e.TEXTURE_MIN_FILTER, T1[a.minFilter]);
        if (i && a.maxAnisotropy > 1) {
            let h = Math.min(a.maxAnisotropy, e.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));
            e[s](f, i.TEXTURE_MAX_ANISOTROPY_EXT, h)
        }
        a.compare && e[s](f, e.TEXTURE_COMPARE_FUNC, Wy[a.compare])
    }
    function Yy(a) {
        return {
            r8unorm: a.RED,
            r8snorm: a.RED,
            r8uint: a.RED,
            r8sint: a.RED,
            r16uint: a.RED,
            r16sint: a.RED,
            r16float: a.RED,
            rg8unorm: a.RG,
            rg8snorm: a.RG,
            rg8uint: a.RG,
            rg8sint: a.RG,
            r32uint: a.RED,
            r32sint: a.RED,
            r32float: a.RED,
            rg16uint: a.RG,
            rg16sint: a.RG,
            rg16float: a.RG,
            rgba8unorm: a.RGBA,
            "rgba8unorm-srgb": a.RGBA,
            rgba8snorm: a.RGBA,
            rgba8uint: a.RGBA,
            rgba8sint: a.RGBA,
            bgra8unorm: a.RGBA,
            "bgra8unorm-srgb": a.RGBA,
            rgb9e5ufloat: a.RGB,
            rgb10a2unorm: a.RGBA,
            rg11b10ufloat: a.RGB,
            rg32uint: a.RG,
            rg32sint: a.RG,
            rg32float: a.RG,
            rgba16uint: a.RGBA,
            rgba16sint: a.RGBA,
            rgba16float: a.RGBA,
            rgba32uint: a.RGBA,
            rgba32sint: a.RGBA,
            rgba32float: a.RGBA,
            stencil8: a.STENCIL_INDEX8,
            depth16unorm: a.DEPTH_COMPONENT,
            depth24plus: a.DEPTH_COMPONENT,
            "depth24plus-stencil8": a.DEPTH_STENCIL,
            depth32float: a.DEPTH_COMPONENT,
            "depth32float-stencil8": a.DEPTH_STENCIL
        }
    }
    var $y = Object.defineProperty
      , Ky = Object.defineProperties
      , qy = Object.getOwnPropertyDescriptors
      , w1 = Object.getOwnPropertySymbols
      , Zy = Object.prototype.hasOwnProperty
      , Qy = Object.prototype.propertyIsEnumerable
      , A1 = (a, e, t) => e in a ? $y(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , Wa = (a, e) => {
        for (var t in e || (e = {}))
            Zy.call(e, t) && A1(a, t, e[t]);
        if (w1)
            for (var t of w1(e))
                Qy.call(e, t) && A1(a, t, e[t]);
        return a
    }
      , Jy = (a, e) => Ky(a, qy(e));
    function ev(a, e) {
        let t = {}
          , i = a.RGBA;
        return a instanceof ve.get().getWebGLRenderingContext() ? e.srgb && (t = {
            "rgba8unorm-srgb": e.srgb.SRGB8_ALPHA8_EXT,
            "bgra8unorm-srgb": e.srgb.SRGB8_ALPHA8_EXT
        }) : (t = {
            "rgba8unorm-srgb": a.SRGB8_ALPHA8,
            "bgra8unorm-srgb": a.SRGB8_ALPHA8
        },
        i = a.RGBA8),
        Wa(Wa(Wa(Wa(Wa(Wa(Jy(Wa({
            r8unorm: a.R8,
            r8snorm: a.R8_SNORM,
            r8uint: a.R8UI,
            r8sint: a.R8I,
            r16uint: a.R16UI,
            r16sint: a.R16I,
            r16float: a.R16F,
            rg8unorm: a.RG8,
            rg8snorm: a.RG8_SNORM,
            rg8uint: a.RG8UI,
            rg8sint: a.RG8I,
            r32uint: a.R32UI,
            r32sint: a.R32I,
            r32float: a.R32F,
            rg16uint: a.RG16UI,
            rg16sint: a.RG16I,
            rg16float: a.RG16F,
            rgba8unorm: a.RGBA
        }, t), {
            rgba8snorm: a.RGBA8_SNORM,
            rgba8uint: a.RGBA8UI,
            rgba8sint: a.RGBA8I,
            bgra8unorm: i,
            rgb9e5ufloat: a.RGB9_E5,
            rgb10a2unorm: a.RGB10_A2,
            rg11b10ufloat: a.R11F_G11F_B10F,
            rg32uint: a.RG32UI,
            rg32sint: a.RG32I,
            rg32float: a.RG32F,
            rgba16uint: a.RGBA16UI,
            rgba16sint: a.RGBA16I,
            rgba16float: a.RGBA16F,
            rgba32uint: a.RGBA32UI,
            rgba32sint: a.RGBA32I,
            rgba32float: a.RGBA32F,
            stencil8: a.STENCIL_INDEX8,
            depth16unorm: a.DEPTH_COMPONENT16,
            depth24plus: a.DEPTH_COMPONENT24,
            "depth24plus-stencil8": a.DEPTH24_STENCIL8,
            depth32float: a.DEPTH_COMPONENT32F,
            "depth32float-stencil8": a.DEPTH32F_STENCIL8
        }), e.s3tc ? {
            "bc1-rgba-unorm": e.s3tc.COMPRESSED_RGBA_S3TC_DXT1_EXT,
            "bc2-rgba-unorm": e.s3tc.COMPRESSED_RGBA_S3TC_DXT3_EXT,
            "bc3-rgba-unorm": e.s3tc.COMPRESSED_RGBA_S3TC_DXT5_EXT
        } : {}), e.s3tc_sRGB ? {
            "bc1-rgba-unorm-srgb": e.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,
            "bc2-rgba-unorm-srgb": e.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,
            "bc3-rgba-unorm-srgb": e.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT
        } : {}), e.rgtc ? {
            "bc4-r-unorm": e.rgtc.COMPRESSED_RED_RGTC1_EXT,
            "bc4-r-snorm": e.rgtc.COMPRESSED_SIGNED_RED_RGTC1_EXT,
            "bc5-rg-unorm": e.rgtc.COMPRESSED_RED_GREEN_RGTC2_EXT,
            "bc5-rg-snorm": e.rgtc.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT
        } : {}), e.bptc ? {
            "bc6h-rgb-float": e.bptc.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,
            "bc6h-rgb-ufloat": e.bptc.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,
            "bc7-rgba-unorm": e.bptc.COMPRESSED_RGBA_BPTC_UNORM_EXT,
            "bc7-rgba-unorm-srgb": e.bptc.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT
        } : {}), e.etc ? {
            "etc2-rgb8unorm": e.etc.COMPRESSED_RGB8_ETC2,
            "etc2-rgb8unorm-srgb": e.etc.COMPRESSED_SRGB8_ETC2,
            "etc2-rgb8a1unorm": e.etc.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2,
            "etc2-rgb8a1unorm-srgb": e.etc.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2,
            "etc2-rgba8unorm": e.etc.COMPRESSED_RGBA8_ETC2_EAC,
            "etc2-rgba8unorm-srgb": e.etc.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC,
            "eac-r11unorm": e.etc.COMPRESSED_R11_EAC,
            "eac-rg11unorm": e.etc.COMPRESSED_SIGNED_RG11_EAC
        } : {}), e.astc ? {
            "astc-4x4-unorm": e.astc.COMPRESSED_RGBA_ASTC_4x4_KHR,
            "astc-4x4-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR,
            "astc-5x4-unorm": e.astc.COMPRESSED_RGBA_ASTC_5x4_KHR,
            "astc-5x4-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR,
            "astc-5x5-unorm": e.astc.COMPRESSED_RGBA_ASTC_5x5_KHR,
            "astc-5x5-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR,
            "astc-6x5-unorm": e.astc.COMPRESSED_RGBA_ASTC_6x5_KHR,
            "astc-6x5-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR,
            "astc-6x6-unorm": e.astc.COMPRESSED_RGBA_ASTC_6x6_KHR,
            "astc-6x6-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR,
            "astc-8x5-unorm": e.astc.COMPRESSED_RGBA_ASTC_8x5_KHR,
            "astc-8x5-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR,
            "astc-8x6-unorm": e.astc.COMPRESSED_RGBA_ASTC_8x6_KHR,
            "astc-8x6-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR,
            "astc-8x8-unorm": e.astc.COMPRESSED_RGBA_ASTC_8x8_KHR,
            "astc-8x8-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR,
            "astc-10x5-unorm": e.astc.COMPRESSED_RGBA_ASTC_10x5_KHR,
            "astc-10x5-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR,
            "astc-10x6-unorm": e.astc.COMPRESSED_RGBA_ASTC_10x6_KHR,
            "astc-10x6-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR,
            "astc-10x8-unorm": e.astc.COMPRESSED_RGBA_ASTC_10x8_KHR,
            "astc-10x8-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR,
            "astc-10x10-unorm": e.astc.COMPRESSED_RGBA_ASTC_10x10_KHR,
            "astc-10x10-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR,
            "astc-12x10-unorm": e.astc.COMPRESSED_RGBA_ASTC_12x10_KHR,
            "astc-12x10-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR,
            "astc-12x12-unorm": e.astc.COMPRESSED_RGBA_ASTC_12x12_KHR,
            "astc-12x12-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR
        } : {})
    }
    function tv(a) {
        return {
            r8unorm: a.UNSIGNED_BYTE,
            r8snorm: a.BYTE,
            r8uint: a.UNSIGNED_BYTE,
            r8sint: a.BYTE,
            r16uint: a.UNSIGNED_SHORT,
            r16sint: a.SHORT,
            r16float: a.HALF_FLOAT,
            rg8unorm: a.UNSIGNED_BYTE,
            rg8snorm: a.BYTE,
            rg8uint: a.UNSIGNED_BYTE,
            rg8sint: a.BYTE,
            r32uint: a.UNSIGNED_INT,
            r32sint: a.INT,
            r32float: a.FLOAT,
            rg16uint: a.UNSIGNED_SHORT,
            rg16sint: a.SHORT,
            rg16float: a.HALF_FLOAT,
            rgba8unorm: a.UNSIGNED_BYTE,
            "rgba8unorm-srgb": a.UNSIGNED_BYTE,
            rgba8snorm: a.BYTE,
            rgba8uint: a.UNSIGNED_BYTE,
            rgba8sint: a.BYTE,
            bgra8unorm: a.UNSIGNED_BYTE,
            "bgra8unorm-srgb": a.UNSIGNED_BYTE,
            rgb9e5ufloat: a.UNSIGNED_INT_5_9_9_9_REV,
            rgb10a2unorm: a.UNSIGNED_INT_2_10_10_10_REV,
            rg11b10ufloat: a.UNSIGNED_INT_10F_11F_11F_REV,
            rg32uint: a.UNSIGNED_INT,
            rg32sint: a.INT,
            rg32float: a.FLOAT,
            rgba16uint: a.UNSIGNED_SHORT,
            rgba16sint: a.SHORT,
            rgba16float: a.HALF_FLOAT,
            rgba32uint: a.UNSIGNED_INT,
            rgba32sint: a.INT,
            rgba32float: a.FLOAT,
            stencil8: a.UNSIGNED_BYTE,
            depth16unorm: a.UNSIGNED_SHORT,
            depth24plus: a.UNSIGNED_INT,
            "depth24plus-stencil8": a.UNSIGNED_INT_24_8,
            depth32float: a.FLOAT,
            "depth32float-stencil8": a.FLOAT_32_UNSIGNED_INT_24_8_REV
        }
    }
    var av = 4
      , no = class {
        constructor(e) {
            this.managedTextures = [],
            this._glTextures = Object.create(null),
            this._glSamplers = Object.create(null),
            this._boundTextures = [],
            this._activeTextureLocation = -1,
            this._boundSamplers = Object.create(null),
            this._uploads = {
                image: N3,
                buffer: jy,
                video: zy,
                compressed: Hy
            },
            this._premultiplyAlpha = !1,
            this._useSeparateSamplers = !1,
            this._renderer = e,
            this._renderer.renderableGC.addManagedHash(this, "_glTextures"),
            this._renderer.renderableGC.addManagedHash(this, "_glSamplers")
        }
        contextChange(e) {
            this._gl = e,
            this._mapFormatToInternalFormat || (this._mapFormatToInternalFormat = ev(e, this._renderer.context.extensions),
            this._mapFormatToType = tv(e),
            this._mapFormatToFormat = Yy(e)),
            this._glTextures = Object.create(null),
            this._glSamplers = Object.create(null),
            this._boundSamplers = Object.create(null),
            this._premultiplyAlpha = !1;
            for (let t = 0; t < 16; t++)
                this.bind(K.EMPTY, t)
        }
        initSource(e) {
            this.bind(e)
        }
        bind(e, t=0) {
            let i = e.source;
            e ? (this.bindSource(i, t),
            this._useSeparateSamplers && this._bindSampler(i.style, t)) : (this.bindSource(null, t),
            this._useSeparateSamplers && this._bindSampler(null, t))
        }
        bindSource(e, t=0) {
            let i = this._gl;
            if (e._touched = this._renderer.textureGC.count,
            this._boundTextures[t] !== e) {
                this._boundTextures[t] = e,
                this._activateLocation(t),
                e || (e = K.EMPTY.source);
                let s = this.getGlSource(e);
                i.bindTexture(s.target, s.texture)
            }
        }
        _bindSampler(e, t=0) {
            let i = this._gl;
            if (!e) {
                this._boundSamplers[t] = null,
                i.bindSampler(t, null);
                return
            }
            let s = this._getGlSampler(e);
            this._boundSamplers[t] !== s && (this._boundSamplers[t] = s,
            i.bindSampler(t, s))
        }
        unbind(e) {
            let t = e.source
              , i = this._boundTextures
              , s = this._gl;
            for (let r = 0; r < i.length; r++)
                if (i[r] === t) {
                    this._activateLocation(r);
                    let o = this.getGlSource(t);
                    s.bindTexture(o.target, null),
                    i[r] = null
                }
        }
        _activateLocation(e) {
            this._activeTextureLocation !== e && (this._activeTextureLocation = e,
            this._gl.activeTexture(this._gl.TEXTURE0 + e))
        }
        _initSource(e) {
            let t = this._gl
              , i = new eh(t.createTexture());
            if (i.type = this._mapFormatToType[e.format],
            i.internalFormat = this._mapFormatToInternalFormat[e.format],
            i.format = this._mapFormatToFormat[e.format],
            e.autoGenerateMipmaps && (this._renderer.context.supports.nonPowOf2mipmaps || e.isPowerOfTwo)) {
                let s = Math.max(e.width, e.height);
                e.mipLevelCount = Math.floor(Math.log2(s)) + 1
            }
            return this._glTextures[e.uid] = i,
            this.managedTextures.includes(e) || (e.on("update", this.onSourceUpdate, this),
            e.on("resize", this.onSourceUpdate, this),
            e.on("styleChange", this.onStyleChange, this),
            e.on("destroy", this.onSourceDestroy, this),
            e.on("unload", this.onSourceUnload, this),
            e.on("updateMipmaps", this.onUpdateMipmaps, this),
            this.managedTextures.push(e)),
            this.onSourceUpdate(e),
            this.updateStyle(e, !1),
            i
        }
        onStyleChange(e) {
            this.updateStyle(e, !1)
        }
        updateStyle(e, t) {
            let i = this._gl
              , s = this.getGlSource(e);
            i.bindTexture(i.TEXTURE_2D, s.texture),
            this._boundTextures[this._activeTextureLocation] = e,
            S1(e.style, i, e.mipLevelCount > 1, this._renderer.context.extensions.anisotropicFiltering, "texParameteri", i.TEXTURE_2D, !this._renderer.context.supports.nonPowOf2wrapping && !e.isPowerOfTwo, t)
        }
        onSourceUnload(e) {
            let t = this._glTextures[e.uid];
            t && (this.unbind(e),
            this._glTextures[e.uid] = null,
            this._gl.deleteTexture(t.texture))
        }
        onSourceUpdate(e) {
            let t = this._gl
              , i = this.getGlSource(e);
            t.bindTexture(t.TEXTURE_2D, i.texture),
            this._boundTextures[this._activeTextureLocation] = e;
            let s = e.alphaMode === "premultiply-alpha-on-upload";
            this._premultiplyAlpha !== s && (this._premultiplyAlpha = s,
            t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL, s)),
            this._uploads[e.uploadMethodId] ? this._uploads[e.uploadMethodId].upload(e, i, t, this._renderer.context.webGLVersion) : t.texImage2D(t.TEXTURE_2D, 0, t.RGBA, e.pixelWidth, e.pixelHeight, 0, t.RGBA, t.UNSIGNED_BYTE, null),
            e.autoGenerateMipmaps && e.mipLevelCount > 1 && this.onUpdateMipmaps(e, !1)
        }
        onUpdateMipmaps(e, t=!0) {
            t && this.bindSource(e, 0);
            let i = this.getGlSource(e);
            this._gl.generateMipmap(i.target)
        }
        onSourceDestroy(e) {
            e.off("destroy", this.onSourceDestroy, this),
            e.off("update", this.onSourceUpdate, this),
            e.off("resize", this.onSourceUpdate, this),
            e.off("unload", this.onSourceUnload, this),
            e.off("styleChange", this.onStyleChange, this),
            e.off("updateMipmaps", this.onUpdateMipmaps, this),
            this.managedTextures.splice(this.managedTextures.indexOf(e), 1),
            this.onSourceUnload(e)
        }
        _initSampler(e) {
            let t = this._gl
              , i = this._gl.createSampler();
            return this._glSamplers[e._resourceId] = i,
            S1(e, t, this._boundTextures[this._activeTextureLocation].mipLevelCount > 1, this._renderer.context.extensions.anisotropicFiltering, "samplerParameteri", i, !1, !0),
            this._glSamplers[e._resourceId]
        }
        _getGlSampler(e) {
            return this._glSamplers[e._resourceId] || this._initSampler(e)
        }
        getGlSource(e) {
            return this._glTextures[e.uid] || this._initSource(e)
        }
        generateCanvas(e) {
            let {pixels: t, width: i, height: s} = this.getPixels(e)
              , r = ve.get().createCanvas();
            r.width = i,
            r.height = s;
            let o = r.getContext("2d");
            if (o) {
                let d = o.createImageData(i, s);
                d.data.set(t),
                o.putImageData(d, 0, 0)
            }
            return r
        }
        getPixels(e) {
            let t = e.source.resolution
              , i = e.frame
              , s = Math.max(Math.round(i.width * t), 1)
              , r = Math.max(Math.round(i.height * t), 1)
              , o = new Uint8Array(av * s * r)
              , d = this._renderer
              , f = d.renderTarget.getRenderTarget(e)
              , h = d.renderTarget.getGpuRenderTarget(f)
              , u = d.gl;
            return u.bindFramebuffer(u.FRAMEBUFFER, h.resolveTargetFramebuffer),
            u.readPixels(Math.round(i.x * t), Math.round(i.y * t), s, r, u.RGBA, u.UNSIGNED_BYTE, o),
            {
                pixels: new Uint8ClampedArray(o.buffer),
                width: s,
                height: r
            }
        }
        destroy() {
            this.managedTextures.slice().forEach(e => this.onSourceDestroy(e)),
            this.managedTextures = null,
            this._renderer = null
        }
        resetState() {
            this._activeTextureLocation = -1,
            this._boundTextures.fill(K.EMPTY.source),
            this._boundSamplers = Object.create(null)
        }
    }
    ;
    no.extension = {
        type: [B.WebGLSystem],
        name: "texture"
    };
    var oo = class {
        init() {
            let e = new Je({
                uColor: {
                    value: new Float32Array([1, 1, 1, 1]),
                    type: "vec4<f32>"
                },
                uTransformMatrix: {
                    value: new ie,
                    type: "mat3x3<f32>"
                },
                uRound: {
                    value: 0,
                    type: "f32"
                }
            })
              , t = ki()
              , i = Ks({
                name: "graphics",
                bits: [Ah, Ph(t), Oh, Zs]
            });
            this.shader = new ft({
                glProgram: i,
                resources: {
                    localUniforms: e,
                    batchSamplers: Rh(t)
                }
            })
        }
        execute(e, t) {
            let i = t.context
              , s = i.customShader || this.shader
              , r = e.renderer
              , o = r.graphicsContext
              , {batcher: d, instructions: f} = o.getContextRenderData(i);
            s.groups[0] = r.globalUniforms.bindGroup,
            r.state.set(e.state),
            r.shader.bind(s),
            r.geometry.bind(d.geometry, s.glProgram);
            let h = f.instructions;
            for (let u = 0; u < f.instructionSize; u++) {
                let p = h[u];
                if (p.size) {
                    for (let x = 0; x < p.textures.count; x++)
                        r.texture.bind(p.textures.textures[x], x);
                    r.geometry.draw(p.topology, p.size, p.start)
                }
            }
        }
        destroy() {
            this.shader.destroy(!0),
            this.shader = null
        }
    }
    ;
    oo.extension = {
        type: [B.WebGLPipesAdaptor],
        name: "graphics"
    };
    var co = class {
        init() {
            let e = Ks({
                name: "mesh",
                bits: [Oh, Ux, Zs]
            });
            this._shader = new ft({
                glProgram: e,
                resources: {
                    uTexture: K.EMPTY.source,
                    textureUniforms: {
                        uTextureMatrix: {
                            type: "mat3x3<f32>",
                            value: new ie
                        }
                    }
                }
            })
        }
        execute(e, t) {
            let i = e.renderer
              , s = t._shader;
            if (s) {
                if (!s.glProgram)
                    return
            } else {
                s = this._shader;
                let r = t.texture
                  , o = r.source;
                s.resources.uTexture = o,
                s.resources.uSampler = o.style,
                s.resources.textureUniforms.uniforms.uTextureMatrix = r.textureMatrix.mapCoord
            }
            s.groups[100] = i.globalUniforms.bindGroup,
            s.groups[101] = e.localUniformsBindGroup,
            i.encoder.draw({
                geometry: t._geometry,
                shader: s,
                state: t.state
            })
        }
        destroy() {
            this._shader.destroy(!0),
            this._shader = null
        }
    }
    ;
    co.extension = {
        type: [B.WebGLPipesAdaptor],
        name: "mesh"
    };
    var fo = class {
        constructor(e) {
            this._renderer = e
        }
        updateRenderable() {}
        destroyRenderable() {}
        validateRenderable() {
            return !1
        }
        addRenderable(e, t) {
            this._renderer.renderPipes.batch.break(t),
            t.add(e)
        }
        execute(e) {
            e.isRenderable && e.render(this._renderer)
        }
        destroy() {
            this._renderer = null
        }
    }
    ;
    fo.extension = {
        type: [B.WebGLPipes, B.WebGPUPipes, B.CanvasPipes],
        name: "customRender"
    };
    function th(a, e) {
        let t = a.instructionSet
          , i = t.instructions;
        for (let s = 0; s < t.instructionSize; s++) {
            let r = i[s];
            e[r.renderPipeId].execute(r)
        }
    }
    var iv = new ie
      , ho = class {
        constructor(e) {
            this._renderer = e
        }
        addRenderGroup(e, t) {
            e.isCachedAsTexture ? this._addRenderableCacheAsTexture(e, t) : this._addRenderableDirect(e, t)
        }
        execute(e) {
            e.isRenderable && (e.isCachedAsTexture ? this._executeCacheAsTexture(e) : this._executeDirect(e))
        }
        destroy() {
            this._renderer = null
        }
        _addRenderableDirect(e, t) {
            this._renderer.renderPipes.batch.break(t),
            e._batchableRenderGroup && (ye.return(e._batchableRenderGroup),
            e._batchableRenderGroup = null),
            t.add(e)
        }
        _addRenderableCacheAsTexture(e, t) {
            var i;
            let s = (i = e._batchableRenderGroup) != null ? i : e._batchableRenderGroup = ye.get(Gi);
            s.renderable = e.root,
            s.transform = e.root.relativeGroupTransform,
            s.texture = e.texture,
            s.bounds = e._textureBounds,
            t.add(e),
            this._renderer.renderPipes.batch.addToBatch(s, t)
        }
        _executeCacheAsTexture(e) {
            if (e.textureNeedsUpdate) {
                e.textureNeedsUpdate = !1;
                let t = iv.identity().translate(-e._textureBounds.x, -e._textureBounds.y);
                this._renderer.renderTarget.push(e.texture, !0, null, e.texture.frame),
                this._renderer.globalUniforms.push({
                    worldTransformMatrix: t,
                    worldColor: 4294967295
                }),
                th(e, this._renderer.renderPipes),
                this._renderer.renderTarget.finishRenderPass(),
                this._renderer.renderTarget.pop(),
                this._renderer.globalUniforms.pop()
            }
            e._batchableRenderGroup._batcher.updateElement(e._batchableRenderGroup),
            e._batchableRenderGroup._batcher.geometry.buffers[0].update()
        }
        _executeDirect(e) {
            this._renderer.globalUniforms.push({
                worldTransformMatrix: e.inverseParentTextureTransform,
                worldColor: e.worldColorAlpha
            }),
            th(e, this._renderer.renderPipes),
            this._renderer.globalUniforms.pop()
        }
    }
    ;
    ho.extension = {
        type: [B.WebGLPipes, B.WebGPUPipes, B.CanvasPipes],
        name: "renderGroup"
    };
    function ah(a, e) {
        e || (e = 0);
        for (let t = e; t < a.length && a[t]; t++)
            a[t] = null
    }
    var sv = new he
      , E1 = ws | $r | Th;
    function j3(a, e=!1) {
        rv(a);
        let t = a.childrenToUpdate
          , i = a.updateTick++;
        for (let s in t) {
            let r = Number(s)
              , o = t[s]
              , d = o.list
              , f = o.index;
            for (let h = 0; h < f; h++) {
                let u = d[h];
                u.parentRenderGroup === a && u.relativeRenderGroupDepth === r && X3(u, i, 0)
            }
            ah(d, f),
            o.index = 0
        }
        if (e)
            for (let s = 0; s < a.renderGroupChildren.length; s++)
                j3(a.renderGroupChildren[s], e)
    }
    function rv(a) {
        let e = a.root, t;
        if (a.renderGroupParent) {
            let i = a.renderGroupParent;
            a.worldTransform.appendFrom(e.relativeGroupTransform, i.worldTransform),
            a.worldColor = Vr(e.groupColor, i.worldColor),
            t = e.groupAlpha * i.worldAlpha
        } else
            a.worldTransform.copyFrom(e.localTransform),
            a.worldColor = e.localColor,
            t = e.localAlpha;
        t = t < 0 ? 0 : t > 1 ? 1 : t,
        a.worldAlpha = t,
        a.worldColorAlpha = a.worldColor + ((t * 255 | 0) << 24)
    }
    function X3(a, e, t) {
        if (e === a.updateTick)
            return;
        a.updateTick = e,
        a.didChange = !1;
        let i = a.localTransform;
        a.updateLocalTransform();
        let s = a.parent;
        if (s && !s.renderGroup ? (t |= a._updateFlags,
        a.relativeGroupTransform.appendFrom(i, s.relativeGroupTransform),
        t & E1 && P1(a, s, t)) : (t = a._updateFlags,
        a.relativeGroupTransform.copyFrom(i),
        t & E1 && P1(a, sv, t)),
        !a.renderGroup) {
            let r = a.children
              , o = r.length;
            for (let h = 0; h < o; h++)
                X3(r[h], e, t);
            let d = a.parentRenderGroup
              , f = a;
            f.renderPipeId && !d.structureDidChange && d.updateRenderable(f)
        }
    }
    function P1(a, e, t) {
        if (t & $r) {
            a.groupColor = Vr(a.localColor, e.groupColor);
            let i = a.localAlpha * e.groupAlpha;
            i = i < 0 ? 0 : i > 1 ? 1 : i,
            a.groupAlpha = i,
            a.groupColorAlpha = a.groupColor + ((i * 255 | 0) << 24)
        }
        t & Th && (a.groupBlendMode = a.localBlendMode === "inherit" ? e.groupBlendMode : a.localBlendMode),
        t & ws && (a.globalDisplayStatus = a.localDisplayStatus & e.globalDisplayStatus),
        a._updateFlags = 0
    }
    function nv(a, e) {
        let {list: t, index: i} = a.childrenRenderablesToUpdate
          , s = !1;
        for (let r = 0; r < i; r++) {
            let o = t[r];
            if (s = e[o.renderPipeId].validateRenderable(o),
            s)
                break
        }
        return a.structureDidChange = s,
        s
    }
    var ov = new ie
      , lo = class {
        constructor(e) {
            this._renderer = e
        }
        render({container: e, transform: t}) {
            let i = e.parent
              , s = e.renderGroup.renderGroupParent;
            e.parent = null,
            e.renderGroup.renderGroupParent = null;
            let r = this._renderer
              , o = ov;
            t && (o = o.copyFrom(e.renderGroup.localTransform),
            e.renderGroup.localTransform.copyFrom(t));
            let d = r.renderPipes;
            this._updateCachedRenderGroups(e.renderGroup, null),
            this._updateRenderGroups(e.renderGroup),
            r.globalUniforms.start({
                worldTransformMatrix: t ? e.renderGroup.localTransform : e.renderGroup.worldTransform,
                worldColor: e.renderGroup.worldColorAlpha
            }),
            th(e.renderGroup, d),
            d.uniformBatch && d.uniformBatch.renderEnd(),
            t && e.renderGroup.localTransform.copyFrom(o),
            e.parent = i,
            e.renderGroup.renderGroupParent = s
        }
        destroy() {
            this._renderer = null
        }
        _updateCachedRenderGroups(e, t) {
            var i;
            if (e.isCachedAsTexture) {
                if (!e.updateCacheTexture)
                    return;
                t = e
            }
            e._parentCacheAsTextureRenderGroup = t;
            for (let s = e.renderGroupChildren.length - 1; s >= 0; s--)
                this._updateCachedRenderGroups(e.renderGroupChildren[s], t);
            if (e.invalidateMatrices(),
            e.isCachedAsTexture) {
                if (e.textureNeedsUpdate) {
                    let s = e.root.getLocalBounds();
                    s.ceil();
                    let r = e.texture;
                    e.texture && ze.returnTexture(e.texture);
                    let o = this._renderer
                      , d = e.textureOptions.resolution || o.view.resolution
                      , f = (i = e.textureOptions.antialias) != null ? i : o.view.antialias;
                    e.texture = ze.getOptimalTexture(s.width, s.height, d, f),
                    e._textureBounds || (e._textureBounds = new qe),
                    e._textureBounds.copyFrom(s),
                    r !== e.texture && e.renderGroupParent && (e.renderGroupParent.structureDidChange = !0)
                }
            } else
                e.texture && (ze.returnTexture(e.texture),
                e.texture = null)
        }
        _updateRenderGroups(e) {
            let t = this._renderer
              , i = t.renderPipes;
            if (e.runOnRender(t),
            e.instructionSet.renderPipes = i,
            e.structureDidChange ? ah(e.childrenRenderablesToUpdate.list, 0) : nv(e, i),
            j3(e),
            e.structureDidChange ? (e.structureDidChange = !1,
            this._buildInstructions(e, t)) : this._updateRenderables(e),
            e.childrenRenderablesToUpdate.index = 0,
            t.renderPipes.batch.upload(e.instructionSet),
            !(e.isCachedAsTexture && !e.textureNeedsUpdate))
                for (let s = 0; s < e.renderGroupChildren.length; s++)
                    this._updateRenderGroups(e.renderGroupChildren[s])
        }
        _updateRenderables(e) {
            let {list: t, index: i} = e.childrenRenderablesToUpdate;
            for (let s = 0; s < i; s++) {
                let r = t[s];
                r.didViewUpdate && e.updateRenderable(r)
            }
            ah(t, i)
        }
        _buildInstructions(e, t) {
            let i = e.root
              , s = e.instructionSet;
            s.reset();
            let r = t.renderPipes ? t : t.batch.renderer
              , o = r.renderPipes;
            o.batch.buildStart(s),
            o.blendMode.buildStart(),
            o.colorMask.buildStart(),
            i.sortableChildren && i.sortChildren(),
            i.collectRenderablesWithEffects(s, r, null),
            o.batch.buildEnd(s),
            o.blendMode.buildEnd(s)
        }
    }
    ;
    lo.extension = {
        type: [B.WebGLSystem, B.WebGPUSystem, B.CanvasSystem],
        name: "renderGroup"
    };
    var uo = class {
        constructor(e) {
            this._gpuSpriteHash = Object.create(null),
            this._destroyRenderableBound = this.destroyRenderable.bind(this),
            this._renderer = e,
            this._renderer.renderableGC.addManagedHash(this, "_gpuSpriteHash")
        }
        addRenderable(e, t) {
            let i = this._getGpuSprite(e);
            e.didViewUpdate && this._updateBatchableSprite(e, i),
            this._renderer.renderPipes.batch.addToBatch(i, t)
        }
        updateRenderable(e) {
            let t = this._gpuSpriteHash[e.uid];
            e.didViewUpdate && this._updateBatchableSprite(e, t),
            t._batcher.updateElement(t)
        }
        validateRenderable(e) {
            let t = this._getGpuSprite(e);
            return !t._batcher.checkAndUpdateTexture(t, e._texture)
        }
        destroyRenderable(e) {
            let t = this._gpuSpriteHash[e.uid];
            ye.return(t),
            this._gpuSpriteHash[e.uid] = null,
            e.off("destroyed", this._destroyRenderableBound)
        }
        _updateBatchableSprite(e, t) {
            t.bounds = e.visualBounds,
            t.texture = e._texture
        }
        _getGpuSprite(e) {
            return this._gpuSpriteHash[e.uid] || this._initGPUSprite(e)
        }
        _initGPUSprite(e) {
            let t = ye.get(Gi);
            return t.renderable = e,
            t.transform = e.groupTransform,
            t.texture = e._texture,
            t.bounds = e.visualBounds,
            t.roundPixels = this._renderer._roundPixels | e._roundPixels,
            this._gpuSpriteHash[e.uid] = t,
            e.on("destroyed", this._destroyRenderableBound),
            t
        }
        destroy() {
            for (let e in this._gpuSpriteHash)
                ye.return(this._gpuSpriteHash[e]);
            this._gpuSpriteHash = null,
            this._renderer = null
        }
    }
    ;
    uo.extension = {
        type: [B.WebGLPipes, B.WebGPUPipes, B.CanvasPipes],
        name: "sprite"
    };
    var cv = Object.defineProperty
      , R1 = Object.getOwnPropertySymbols
      , dv = Object.prototype.hasOwnProperty
      , fv = Object.prototype.propertyIsEnumerable
      , M1 = (a, e, t) => e in a ? cv(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , C1 = (a, e) => {
        for (var t in e || (e = {}))
            dv.call(e, t) && M1(a, t, e[t]);
        if (R1)
            for (var t of R1(e))
                fv.call(e, t) && M1(a, t, e[t]);
        return a
    }
      , ih = class H3 {
        constructor() {
            this.clearBeforeRender = !0,
            this._backgroundColor = new Ee(0),
            this.color = this._backgroundColor,
            this.alpha = 1
        }
        init(e) {
            e = C1(C1({}, H3.defaultOptions), e),
            this.clearBeforeRender = e.clearBeforeRender,
            this.color = e.background || e.backgroundColor || this._backgroundColor,
            this.alpha = e.backgroundAlpha,
            this._backgroundColor.setAlpha(e.backgroundAlpha)
        }
        get color() {
            return this._backgroundColor
        }
        set color(e) {
            this._backgroundColor.setValue(e)
        }
        get alpha() {
            return this._backgroundColor.alpha
        }
        set alpha(e) {
            this._backgroundColor.setAlpha(e)
        }
        get colorRgba() {
            return this._backgroundColor.toArray()
        }
        destroy() {}
    }
    ;
    ih.extension = {
        type: [B.WebGLSystem, B.WebGPUSystem, B.CanvasSystem],
        name: "background",
        priority: 0
    },
    ih.defaultOptions = {
        backgroundAlpha: 1,
        backgroundColor: 0,
        clearBeforeRender: !0
    };
    var hv = ih
      , Cs = {};
    pe.handle(B.BlendMode, a => {
        if (!a.name)
            throw new Error("BlendMode extension must have a name property");
        Cs[a.name] = a.ref
    }
    , a => {
        delete Cs[a.name]
    }
    );
    var bo = class {
        constructor(e) {
            this._isAdvanced = !1,
            this._filterHash = Object.create(null),
            this._renderer = e,
            this._renderer.runners.prerender.add(this)
        }
        prerender() {
            this._activeBlendMode = "normal",
            this._isAdvanced = !1
        }
        setBlendMode(e, t, i) {
            if (this._activeBlendMode === t) {
                this._isAdvanced && this._renderableList.push(e);
                return
            }
            this._activeBlendMode = t,
            this._isAdvanced && this._endAdvancedBlendMode(i),
            this._isAdvanced = !!Cs[t],
            this._isAdvanced && (this._beginAdvancedBlendMode(i),
            this._renderableList.push(e))
        }
        _beginAdvancedBlendMode(e) {
            this._renderer.renderPipes.batch.break(e);
            let t = this._activeBlendMode;
            if (!Cs[t])
                return;
            let i = this._filterHash[t];
            i || (i = this._filterHash[t] = new Ci,
            i.filters = [new Cs[t]]);
            let s = {
                renderPipeId: "filter",
                action: "pushFilter",
                renderables: [],
                filterEffect: i,
                canBundle: !1
            };
            this._renderableList = s.renderables,
            e.add(s)
        }
        _endAdvancedBlendMode(e) {
            this._renderableList = null,
            this._renderer.renderPipes.batch.break(e),
            e.add({
                renderPipeId: "filter",
                action: "popFilter",
                canBundle: !1
            })
        }
        buildStart() {
            this._isAdvanced = !1
        }
        buildEnd(e) {
            this._isAdvanced && this._endAdvancedBlendMode(e)
        }
        destroy() {
            this._renderer = null,
            this._renderableList = null;
            for (let e in this._filterHash)
                this._filterHash[e].destroy();
            this._filterHash = null
        }
    }
    ;
    bo.extension = {
        type: [B.WebGLPipes, B.WebGPUPipes, B.CanvasPipes],
        name: "blendMode"
    };
    var lv = Object.defineProperty
      , O1 = Object.getOwnPropertySymbols
      , uv = Object.prototype.hasOwnProperty
      , bv = Object.prototype.propertyIsEnumerable
      , I1 = (a, e, t) => e in a ? lv(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , wd = (a, e) => {
        for (var t in e || (e = {}))
            uv.call(e, t) && I1(a, t, e[t]);
        if (O1)
            for (var t of O1(e))
                bv.call(e, t) && I1(a, t, e[t]);
        return a
    }
      , Ad = {
        png: "image/png",
        jpg: "image/jpeg",
        webp: "image/webp"
    }
      , sh = class z3 {
        constructor(e) {
            this._renderer = e
        }
        _normalizeOptions(e, t={}) {
            return e instanceof he || e instanceof K ? wd({
                target: e
            }, t) : wd(wd({}, t), e)
        }
        async image(e) {
            let t = new Image;
            return t.src = await this.base64(e),
            t
        }
        async base64(e) {
            e = this._normalizeOptions(e, z3.defaultImageOptions);
            let {format: t, quality: i} = e
              , s = this.canvas(e);
            if (s.toBlob !== void 0)
                return new Promise( (r, o) => {
                    s.toBlob(d => {
                        if (!d) {
                            o(new Error("ICanvas.toBlob failed!"));
                            return
                        }
                        let f = new FileReader;
                        f.onload = () => r(f.result),
                        f.onerror = o,
                        f.readAsDataURL(d)
                    }
                    , Ad[t], i)
                }
                );
            if (s.toDataURL !== void 0)
                return s.toDataURL(Ad[t], i);
            if (s.convertToBlob !== void 0) {
                let r = await s.convertToBlob({
                    type: Ad[t],
                    quality: i
                });
                return new Promise( (o, d) => {
                    let f = new FileReader;
                    f.onload = () => o(f.result),
                    f.onerror = d,
                    f.readAsDataURL(r)
                }
                )
            }
            throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")
        }
        canvas(e) {
            e = this._normalizeOptions(e);
            let t = e.target
              , i = this._renderer;
            if (t instanceof K)
                return i.texture.generateCanvas(t);
            let s = i.textureGenerator.generateTexture(e)
              , r = i.texture.generateCanvas(s);
            return s.destroy(!0),
            r
        }
        pixels(e) {
            e = this._normalizeOptions(e);
            let t = e.target
              , i = this._renderer
              , s = t instanceof K ? t : i.textureGenerator.generateTexture(e)
              , r = i.texture.getPixels(s);
            return t instanceof he && s.destroy(!0),
            r
        }
        texture(e) {
            return e = this._normalizeOptions(e),
            e.target instanceof K ? e.target : this._renderer.textureGenerator.generateTexture(e)
        }
        download(e) {
            var t;
            e = this._normalizeOptions(e);
            let i = this.canvas(e)
              , s = document.createElement("a");
            s.download = (t = e.filename) != null ? t : "image.png",
            s.href = i.toDataURL("image/png"),
            document.body.appendChild(s),
            s.click(),
            document.body.removeChild(s)
        }
        log(e) {
            var t;
            let i = (t = e.width) != null ? t : 200;
            e = this._normalizeOptions(e);
            let s = this.canvas(e)
              , r = s.toDataURL()
              , o = ["font-size: 1px;", `padding: ${i}px 300px;`, `background: url(${r}) no-repeat;`, "background-size: contain;"].join(" ")
        }
        destroy() {
            this._renderer = null
        }
    }
    ;
    sh.extension = {
        type: [B.WebGLSystem, B.WebGPUSystem],
        name: "extract"
    },
    sh.defaultImageOptions = {
        format: "png",
        quality: 1
    };
    var pv = sh
      , rh = class a extends K {
        static create(e) {
            return new a({
                source: new De(e)
            })
        }
        resize(e, t, i) {
            return this.source.resize(e, t, i),
            this
        }
    }
      , gv = Object.defineProperty
      , mv = Object.defineProperties
      , _v = Object.getOwnPropertyDescriptors
      , G1 = Object.getOwnPropertySymbols
      , xv = Object.prototype.hasOwnProperty
      , yv = Object.prototype.propertyIsEnumerable
      , B1 = (a, e, t) => e in a ? gv(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , vv = (a, e) => {
        for (var t in e || (e = {}))
            xv.call(e, t) && B1(a, t, e[t]);
        if (G1)
            for (var t of G1(e))
                yv.call(e, t) && B1(a, t, e[t]);
        return a
    }
      , Tv = (a, e) => mv(a, _v(e))
      , Sv = new Pe
      , wv = new qe
      , Av = [0, 0, 0, 0]
      , po = class {
        constructor(e) {
            this._renderer = e
        }
        generateTexture(e) {
            var t;
            e instanceof he && (e = {
                target: e,
                frame: void 0,
                textureSourceOptions: {},
                resolution: void 0
            });
            let i = e.resolution || this._renderer.resolution
              , s = e.antialias || this._renderer.view.antialias
              , r = e.target
              , o = e.clearColor;
            o ? o = Array.isArray(o) && o.length === 4 ? o : Ee.shared.setValue(o).toArray() : o = Av;
            let d = ((t = e.frame) == null ? void 0 : t.copyTo(Sv)) || vh(r, wv).rectangle;
            d.width = Math.max(d.width, 1 / i) | 0,
            d.height = Math.max(d.height, 1 / i) | 0;
            let f = rh.create(Tv(vv({}, e.textureSourceOptions), {
                width: d.width,
                height: d.height,
                resolution: i,
                antialias: s
            }))
              , h = ie.shared.translate(-d.x, -d.y);
            return this._renderer.render({
                container: r,
                transform: h,
                target: f,
                clearColor: o
            }),
            f.source.updateMipmaps(),
            f
        }
        destroy() {
            this._renderer = null
        }
    }
    ;
    po.extension = {
        type: [B.WebGLSystem, B.WebGPUSystem],
        name: "textureGenerator"
    };
    var go = class {
        constructor(e) {
            this._stackIndex = 0,
            this._globalUniformDataStack = [],
            this._uniformsPool = [],
            this._activeUniforms = [],
            this._bindGroupPool = [],
            this._activeBindGroups = [],
            this._renderer = e
        }
        reset() {
            this._stackIndex = 0;
            for (let e = 0; e < this._activeUniforms.length; e++)
                this._uniformsPool.push(this._activeUniforms[e]);
            for (let e = 0; e < this._activeBindGroups.length; e++)
                this._bindGroupPool.push(this._activeBindGroups[e]);
            this._activeUniforms.length = 0,
            this._activeBindGroups.length = 0
        }
        start(e) {
            this.reset(),
            this.push(e)
        }
        bind({size: e, projectionMatrix: t, worldTransformMatrix: i, worldColor: s, offset: r}) {
            let o = this._renderer.renderTarget.renderTarget
              , d = this._stackIndex ? this._globalUniformDataStack[this._stackIndex - 1] : {
                projectionData: o,
                worldTransformMatrix: new ie,
                worldColor: 4294967295,
                offset: new Ce
            }
              , f = {
                projectionMatrix: t || this._renderer.renderTarget.projectionMatrix,
                resolution: e || o.size,
                worldTransformMatrix: i || d.worldTransformMatrix,
                worldColor: s || d.worldColor,
                offset: r || d.offset,
                bindGroup: null
            }
              , h = this._uniformsPool.pop() || this._createUniforms();
            this._activeUniforms.push(h);
            let u = h.uniforms;
            u.uProjectionMatrix = f.projectionMatrix,
            u.uResolution = f.resolution,
            u.uWorldTransformMatrix.copyFrom(f.worldTransformMatrix),
            u.uWorldTransformMatrix.tx -= f.offset.x,
            u.uWorldTransformMatrix.ty -= f.offset.y,
            Qs(f.worldColor, u.uWorldColorAlpha, 0),
            h.update();
            let p;
            this._renderer.renderPipes.uniformBatch ? p = this._renderer.renderPipes.uniformBatch.getUniformBindGroup(h, !1) : (p = this._bindGroupPool.pop() || new Ht,
            this._activeBindGroups.push(p),
            p.setResource(h, 0)),
            f.bindGroup = p,
            this._currentGlobalUniformData = f
        }
        push(e) {
            this.bind(e),
            this._globalUniformDataStack[this._stackIndex++] = this._currentGlobalUniformData
        }
        pop() {
            this._currentGlobalUniformData = this._globalUniformDataStack[--this._stackIndex - 1],
            this._renderer.type === xt.WEBGL && this._currentGlobalUniformData.bindGroup.resources[0].update()
        }
        get bindGroup() {
            return this._currentGlobalUniformData.bindGroup
        }
        get globalUniformData() {
            return this._currentGlobalUniformData
        }
        get uniformGroup() {
            return this._currentGlobalUniformData.bindGroup.resources[0]
        }
        _createUniforms() {
            return new Je({
                uProjectionMatrix: {
                    value: new ie,
                    type: "mat3x3<f32>"
                },
                uWorldTransformMatrix: {
                    value: new ie,
                    type: "mat3x3<f32>"
                },
                uWorldColorAlpha: {
                    value: new Float32Array(4),
                    type: "vec4<f32>"
                },
                uResolution: {
                    value: [0, 0],
                    type: "vec2<f32>"
                }
            },{
                isStatic: !0
            })
        }
        destroy() {
            this._renderer = null
        }
    }
    ;
    go.extension = {
        type: [B.WebGLSystem, B.WebGPUSystem, B.CanvasSystem],
        name: "globalUniforms"
    };
    var Ev = 1
      , mo = class {
        constructor() {
            this._tasks = [],
            this._offset = 0
        }
        init() {
            tt.system.add(this._update, this)
        }
        repeat(e, t, i=!0) {
            let s = Ev++
              , r = 0;
            return i && (this._offset += 1e3,
            r = this._offset),
            this._tasks.push({
                func: e,
                duration: t,
                start: performance.now(),
                offset: r,
                last: performance.now(),
                repeat: !0,
                id: s
            }),
            s
        }
        cancel(e) {
            for (let t = 0; t < this._tasks.length; t++)
                if (this._tasks[t].id === e) {
                    this._tasks.splice(t, 1);
                    return
                }
        }
        _update() {
            let e = performance.now();
            for (let t = 0; t < this._tasks.length; t++) {
                let i = this._tasks[t];
                if (e - i.offset - i.last >= i.duration) {
                    let s = e - i.start;
                    i.func(s),
                    i.last = e
                }
            }
        }
        destroy() {
            tt.system.remove(this._update, this),
            this._tasks.length = 0
        }
    }
    ;
    mo.extension = {
        type: [B.WebGLSystem, B.WebGPUSystem, B.CanvasSystem],
        name: "scheduler",
        priority: 0
    };
    var F1 = !1;
    function Pv(a) {
        if (!F1) {
            if (ve.get().getNavigator().userAgent.toLowerCase().indexOf("chrome") > -1) {
                let e = [`%c  %c  %c  %c  %c PixiJS %c v${Mn} (${a}) http://www.pixijs.com/

`, "background: #E72264; padding:5px 0;", "background: #6CA2EA; padding:5px 0;", "background: #B5D33D; padding:5px 0;", "background: #FED23F; padding:5px 0;", "color: #FFFFFF; background: #E72264; padding:5px 0;", "color: #E72264; background: #FFFFFF; padding:5px 0;"];
                globalThis.console.log(...e)
            } else
                globalThis.console && globalThis.console.log(`PixiJS ${Mn} - ${a} - http://www.pixijs.com/`);
            F1 = !0
        }
    }
    var Ws = class {
        constructor(e) {
            this._renderer = e
        }
        init(e) {
            if (e.hello) {
                let t = this._renderer.name;
                this._renderer.type === xt.WEBGL && (t += ` ${this._renderer.context.webGLVersion}`),
                Pv(t)
            }
        }
    }
    ;
    Ws.extension = {
        type: [B.WebGLSystem, B.WebGPUSystem, B.CanvasSystem],
        name: "hello",
        priority: -2
    },
    Ws.defaultOptions = {
        hello: !1
    };
    function Rv(a) {
        let e = !1;
        for (let i in a)
            if (a[i] == null) {
                e = !0;
                break
            }
        if (!e)
            return a;
        let t = Object.create(null);
        for (let i in a) {
            let s = a[i];
            s && (t[i] = s)
        }
        return t
    }
    function Mv(a) {
        let e = 0;
        for (let t = 0; t < a.length; t++)
            a[t] == null ? e++ : a[t - e] = a[t];
        return a.length -= e,
        a
    }
    var Cv = Object.defineProperty
      , D1 = Object.getOwnPropertySymbols
      , Ov = Object.prototype.hasOwnProperty
      , Iv = Object.prototype.propertyIsEnumerable
      , k1 = (a, e, t) => e in a ? Cv(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , U1 = (a, e) => {
        for (var t in e || (e = {}))
            Ov.call(e, t) && k1(a, t, e[t]);
        if (D1)
            for (var t of D1(e))
                Iv.call(e, t) && k1(a, t, e[t]);
        return a
    }
      , Gv = 0
      , nh = class V3 {
        constructor(e) {
            this._managedRenderables = [],
            this._managedHashes = [],
            this._managedArrays = [],
            this._renderer = e
        }
        init(e) {
            e = U1(U1({}, V3.defaultOptions), e),
            this.maxUnusedTime = e.renderableGCMaxUnusedTime,
            this._frequency = e.renderableGCFrequency,
            this.enabled = e.renderableGCActive
        }
        get enabled() {
            return !!this._handler
        }
        set enabled(e) {
            this.enabled !== e && (e ? (this._handler = this._renderer.scheduler.repeat( () => this.run(), this._frequency, !1),
            this._hashHandler = this._renderer.scheduler.repeat( () => {
                for (let t of this._managedHashes)
                    t.context[t.hash] = Rv(t.context[t.hash])
            }
            , this._frequency),
            this._arrayHandler = this._renderer.scheduler.repeat( () => {
                for (let t of this._managedArrays)
                    Mv(t.context[t.hash])
            }
            , this._frequency)) : (this._renderer.scheduler.cancel(this._handler),
            this._renderer.scheduler.cancel(this._hashHandler),
            this._renderer.scheduler.cancel(this._arrayHandler)))
        }
        addManagedHash(e, t) {
            this._managedHashes.push({
                context: e,
                hash: t
            })
        }
        addManagedArray(e, t) {
            this._managedArrays.push({
                context: e,
                hash: t
            })
        }
        prerender({container: e}) {
            this._now = performance.now(),
            e.renderGroup.gcTick = Gv++,
            this._updateInstructionGCTick(e.renderGroup, e.renderGroup.gcTick)
        }
        addRenderable(e) {
            this.enabled && (e._lastUsed === -1 && (this._managedRenderables.push(e),
            e.once("destroyed", this._removeRenderable, this)),
            e._lastUsed = this._now)
        }
        run() {
            var e, t, i, s;
            let r = this._now
              , o = this._managedRenderables
              , d = this._renderer.renderPipes
              , f = 0;
            for (let h = 0; h < o.length; h++) {
                let u = o[h];
                if (u === null) {
                    f++;
                    continue
                }
                let p = (e = u.renderGroup) != null ? e : u.parentRenderGroup
                  , x = (i = (t = p?.instructionSet) == null ? void 0 : t.gcTick) != null ? i : -1;
                if (((s = p?.gcTick) != null ? s : 0) === x && (u._lastUsed = r),
                r - u._lastUsed > this.maxUnusedTime) {
                    if (!u.destroyed) {
                        let _ = d;
                        p && (p.structureDidChange = !0),
                        _[u.renderPipeId].destroyRenderable(u)
                    }
                    u._lastUsed = -1,
                    f++,
                    u.off("destroyed", this._removeRenderable, this)
                } else
                    o[h - f] = u
            }
            o.length -= f
        }
        destroy() {
            this.enabled = !1,
            this._renderer = null,
            this._managedRenderables.length = 0,
            this._managedHashes.length = 0,
            this._managedArrays.length = 0
        }
        _removeRenderable(e) {
            let t = this._managedRenderables.indexOf(e);
            t >= 0 && (e.off("destroyed", this._removeRenderable, this),
            this._managedRenderables[t] = null)
        }
        _updateInstructionGCTick(e, t) {
            e.instructionSet.gcTick = t;
            for (let i of e.renderGroupChildren)
                this._updateInstructionGCTick(i, t)
        }
    }
    ;
    nh.extension = {
        type: [B.WebGLSystem, B.WebGPUSystem],
        name: "renderableGC",
        priority: 0
    },
    nh.defaultOptions = {
        renderableGCActive: !0,
        renderableGCMaxUnusedTime: 6e4,
        renderableGCFrequency: 3e4
    };
    var Bv = nh
      , Fv = Object.defineProperty
      , L1 = Object.getOwnPropertySymbols
      , Dv = Object.prototype.hasOwnProperty
      , kv = Object.prototype.propertyIsEnumerable
      , N1 = (a, e, t) => e in a ? Fv(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , j1 = (a, e) => {
        for (var t in e || (e = {}))
            Dv.call(e, t) && N1(a, t, e[t]);
        if (L1)
            for (var t of L1(e))
                kv.call(e, t) && N1(a, t, e[t]);
        return a
    }
      , oh = class W3 {
        constructor(e) {
            this._renderer = e,
            this.count = 0,
            this.checkCount = 0
        }
        init(e) {
            var t;
            e = j1(j1({}, W3.defaultOptions), e),
            this.checkCountMax = e.textureGCCheckCountMax,
            this.maxIdle = (t = e.textureGCAMaxIdle) != null ? t : e.textureGCMaxIdle,
            this.active = e.textureGCActive
        }
        postrender() {
            this._renderer.renderingToScreen && (this.count++,
            this.active && (this.checkCount++,
            this.checkCount > this.checkCountMax && (this.checkCount = 0,
            this.run())))
        }
        run() {
            let e = this._renderer.texture.managedTextures;
            for (let t = 0; t < e.length; t++) {
                let i = e[t];
                i.autoGarbageCollect && i.resource && i._touched > -1 && this.count - i._touched > this.maxIdle && (i._touched = -1,
                i.unload())
            }
        }
        destroy() {
            this._renderer = null
        }
    }
    ;
    oh.extension = {
        type: [B.WebGLSystem, B.WebGPUSystem],
        name: "textureGC"
    },
    oh.defaultOptions = {
        textureGCActive: !0,
        textureGCAMaxIdle: null,
        textureGCMaxIdle: 60 * 60,
        textureGCCheckCountMax: 600
    };
    var Uv = oh
      , Lv = Object.defineProperty
      , X1 = Object.getOwnPropertySymbols
      , Nv = Object.prototype.hasOwnProperty
      , jv = Object.prototype.propertyIsEnumerable
      , H1 = (a, e, t) => e in a ? Lv(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , z1 = (a, e) => {
        for (var t in e || (e = {}))
            Nv.call(e, t) && H1(a, t, e[t]);
        if (X1)
            for (var t of X1(e))
                jv.call(e, t) && H1(a, t, e[t]);
        return a
    }
      , ch = class Y3 {
        get autoDensity() {
            return this.texture.source.autoDensity
        }
        set autoDensity(e) {
            this.texture.source.autoDensity = e
        }
        get resolution() {
            return this.texture.source._resolution
        }
        set resolution(e) {
            this.texture.source.resize(this.texture.source.width, this.texture.source.height, e)
        }
        init(e) {
            e = z1(z1({}, Y3.defaultOptions), e),
            e.view && (e.canvas = e.view),
            this.screen = new Pe(0,0,e.width,e.height),
            this.canvas = e.canvas || ve.get().createCanvas(),
            this.antialias = !!e.antialias,
            this.texture = B3(this.canvas, e),
            this.renderTarget = new Zf({
                colorTextures: [this.texture],
                depth: !!e.depth,
                isRoot: !0
            }),
            this.texture.source.transparent = e.backgroundAlpha < 1,
            this.resolution = e.resolution
        }
        resize(e, t, i) {
            this.texture.source.resize(e, t, i),
            this.screen.width = this.texture.frame.width,
            this.screen.height = this.texture.frame.height
        }
        destroy(e=!1) {
            (typeof e == "boolean" ? e : e != null && e.removeView) && this.canvas.parentNode && this.canvas.parentNode.removeChild(this.canvas)
        }
    }
    ;
    ch.extension = {
        type: [B.WebGLSystem, B.WebGPUSystem, B.CanvasSystem],
        name: "view",
        priority: 0
    },
    ch.defaultOptions = {
        width: 800,
        height: 600,
        autoDensity: !1,
        antialias: !1
    };
    var Xv = ch
      , $3 = [hv, go, Ws, Xv, lo, Uv, po, pv, On, Bv, mo]
      , K3 = [bo, E3, uo, ho, Wn, $n, Yn, fo]
      , Hv = [...$3, to, ty, Wx, Kn, no, io, qn, ro, so, Qn, Ny, Jn, Zn]
      , zv = [...K3]
      , Vv = [zn, co, oo]
      , q3 = []
      , Z3 = []
      , Q3 = [];
    pe.handleByNamedList(B.WebGLSystem, q3),
    pe.handleByNamedList(B.WebGLPipes, Z3),
    pe.handleByNamedList(B.WebGLPipesAdaptor, Q3),
    pe.add(...Hv, ...zv, ...Vv);
    var dh = class extends jo {
        constructor() {
            let e = {
                name: "webgl",
                type: xt.WEBGL,
                systems: q3,
                renderPipes: Z3,
                renderPipeAdaptors: Q3
            };
            super(e)
        }
    }
      , Wv = {
        __proto__: null,
        WebGLRenderer: dh
    }
      , _o = class {
        constructor(e) {
            this._hash = Object.create(null),
            this._renderer = e,
            this._renderer.renderableGC.addManagedHash(this, "_hash")
        }
        contextChange(e) {
            this._gpu = e
        }
        getBindGroup(e, t, i) {
            return e._updateKey(),
            this._hash[e._key] || this._createBindGroup(e, t, i)
        }
        _createBindGroup(e, t, i) {
            var s;
            let r = this._gpu.device
              , o = t.layout[i]
              , d = []
              , f = this._renderer;
            for (let p in o) {
                let x = (s = e.resources[p]) != null ? s : e.resources[o[p]], _;
                if (x._resourceType === "uniformGroup") {
                    let T = x;
                    f.ubo.updateUniformGroup(T);
                    let S = T.buffer;
                    _ = {
                        buffer: f.buffer.getGPUBuffer(S),
                        offset: 0,
                        size: S.descriptor.size
                    }
                } else if (x._resourceType === "buffer") {
                    let T = x;
                    _ = {
                        buffer: f.buffer.getGPUBuffer(T),
                        offset: 0,
                        size: T.descriptor.size
                    }
                } else if (x._resourceType === "bufferResource") {
                    let T = x;
                    _ = {
                        buffer: f.buffer.getGPUBuffer(T.buffer),
                        offset: T.offset,
                        size: T.size
                    }
                } else if (x._resourceType === "textureSampler") {
                    let T = x;
                    _ = f.texture.getGpuSampler(T)
                } else if (x._resourceType === "textureSource") {
                    let T = x;
                    _ = f.texture.getGpuSource(T).createView({})
                }
                d.push({
                    binding: o[p],
                    resource: _
                })
            }
            let h = f.shader.getProgramData(t).bindGroups[i]
              , u = r.createBindGroup({
                layout: h,
                entries: d
            });
            return this._hash[e._key] = u,
            u
        }
        destroy() {
            for (let e of Object.keys(this._hash))
                this._hash[e] = null;
            this._hash = null,
            this._renderer = null
        }
    }
    ;
    _o.extension = {
        type: [B.WebGPUSystem],
        name: "bindGroup"
    };
    var xo = class {
        constructor(e) {
            this._gpuBuffers = Object.create(null),
            this._managedBuffers = [],
            e.renderableGC.addManagedHash(this, "_gpuBuffers")
        }
        contextChange(e) {
            this._gpu = e
        }
        getGPUBuffer(e) {
            return this._gpuBuffers[e.uid] || this.createGPUBuffer(e)
        }
        updateBuffer(e) {
            let t = this._gpuBuffers[e.uid] || this.createGPUBuffer(e)
              , i = e.data;
            return e._updateID && i && (e._updateID = 0,
            this._gpu.device.queue.writeBuffer(t, 0, i.buffer, 0, (e._updateSize || i.byteLength) + 3 & -4)),
            t
        }
        destroyAll() {
            for (let e in this._gpuBuffers)
                this._gpuBuffers[e].destroy();
            this._gpuBuffers = {}
        }
        createGPUBuffer(e) {
            this._gpuBuffers[e.uid] || (e.on("update", this.updateBuffer, this),
            e.on("change", this.onBufferChange, this),
            e.on("destroy", this.onBufferDestroy, this),
            this._managedBuffers.push(e));
            let t = this._gpu.device.createBuffer(e.descriptor);
            return e._updateID = 0,
            e.data && (Vd(e.data.buffer, t.getMappedRange()),
            t.unmap()),
            this._gpuBuffers[e.uid] = t,
            t
        }
        onBufferChange(e) {
            this._gpuBuffers[e.uid].destroy(),
            e._updateID = 0,
            this._gpuBuffers[e.uid] = this.createGPUBuffer(e)
        }
        onBufferDestroy(e) {
            this._managedBuffers.splice(this._managedBuffers.indexOf(e), 1),
            this._destroyBuffer(e)
        }
        destroy() {
            this._managedBuffers.forEach(e => this._destroyBuffer(e)),
            this._managedBuffers = null,
            this._gpuBuffers = null
        }
        _destroyBuffer(e) {
            this._gpuBuffers[e.uid].destroy(),
            e.off("update", this.updateBuffer, this),
            e.off("change", this.onBufferChange, this),
            e.off("destroy", this.onBufferDestroy, this),
            this._gpuBuffers[e.uid] = null
        }
    }
    ;
    xo.extension = {
        type: [B.WebGPUSystem],
        name: "buffer"
    };
    var fh = class {
        constructor({minUniformOffsetAlignment: e}) {
            this._minUniformOffsetAlignment = 256,
            this.byteIndex = 0,
            this._minUniformOffsetAlignment = e,
            this.data = new Float32Array(65535)
        }
        clear() {
            this.byteIndex = 0
        }
        addEmptyGroup(e) {
            if (e > this._minUniformOffsetAlignment / 4)
                throw new Error(`UniformBufferBatch: array is too large: ${e * 4}`);
            let t = this.byteIndex
              , i = t + e * 4;
            if (i = Math.ceil(i / this._minUniformOffsetAlignment) * this._minUniformOffsetAlignment,
            i > this.data.length * 4)
                throw new Error("UniformBufferBatch: ubo batch got too big");
            return this.byteIndex = i,
            t
        }
        addGroup(e) {
            let t = this.addEmptyGroup(e.length);
            for (let i = 0; i < e.length; i++)
                this.data[t / 4 + i] = e[i];
            return t
        }
        destroy() {
            this.data = null
        }
    }
      , yo = class {
        constructor(e) {
            this._colorMaskCache = 15,
            this._renderer = e
        }
        setMask(e) {
            this._colorMaskCache !== e && (this._colorMaskCache = e,
            this._renderer.pipeline.setColorMask(e))
        }
        destroy() {
            this._renderer = null,
            this._colorMaskCache = null
        }
    }
    ;
    yo.extension = {
        type: [B.WebGPUSystem],
        name: "colorMask"
    };
    var Ys = class {
        constructor(e) {
            this._renderer = e
        }
        async init(e) {
            return this._initPromise ? this._initPromise : (this._initPromise = this._createDeviceAndAdaptor(e).then(t => {
                this.gpu = t,
                this._renderer.runners.contextChange.emit(this.gpu)
            }
            ),
            this._initPromise)
        }
        contextChange(e) {
            this._renderer.gpu = e
        }
        async _createDeviceAndAdaptor(e) {
            let t = await ve.get().getNavigator().gpu.requestAdapter({
                powerPreference: e.powerPreference,
                forceFallbackAdapter: e.forceFallbackAdapter
            })
              , i = ["texture-compression-bc", "texture-compression-astc", "texture-compression-etc2"].filter(r => t.features.has(r))
              , s = await t.requestDevice({
                requiredFeatures: i
            });
            return {
                adapter: t,
                device: s
            }
        }
        destroy() {
            this.gpu = null,
            this._renderer = null
        }
    }
    ;
    Ys.extension = {
        type: [B.WebGPUSystem],
        name: "device"
    },
    Ys.defaultOptions = {
        powerPreference: void 0,
        forceFallbackAdapter: !1
    };
    var Yv = Object.defineProperty
      , V1 = Object.getOwnPropertySymbols
      , $v = Object.prototype.hasOwnProperty
      , Kv = Object.prototype.propertyIsEnumerable
      , W1 = (a, e, t) => e in a ? Yv(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , Y1 = (a, e) => {
        for (var t in e || (e = {}))
            $v.call(e, t) && W1(a, t, e[t]);
        if (V1)
            for (var t of V1(e))
                Kv.call(e, t) && W1(a, t, e[t]);
        return a
    }
      , vo = class {
        constructor(e) {
            this._boundBindGroup = Object.create(null),
            this._boundVertexBuffer = Object.create(null),
            this._renderer = e
        }
        renderStart() {
            this.commandFinished = new Promise(e => {
                this._resolveCommandFinished = e
            }
            ),
            this.commandEncoder = this._renderer.gpu.device.createCommandEncoder()
        }
        beginRenderPass(e) {
            this.endRenderPass(),
            this._clearCache(),
            this.renderPassEncoder = this.commandEncoder.beginRenderPass(e.descriptor)
        }
        endRenderPass() {
            this.renderPassEncoder && this.renderPassEncoder.end(),
            this.renderPassEncoder = null
        }
        setViewport(e) {
            this.renderPassEncoder.setViewport(e.x, e.y, e.width, e.height, 0, 1)
        }
        setPipelineFromGeometryProgramAndState(e, t, i, s) {
            let r = this._renderer.pipeline.getPipeline(e, t, i, s);
            this.setPipeline(r)
        }
        setPipeline(e) {
            this._boundPipeline !== e && (this._boundPipeline = e,
            this.renderPassEncoder.setPipeline(e))
        }
        _setVertexBuffer(e, t) {
            this._boundVertexBuffer[e] !== t && (this._boundVertexBuffer[e] = t,
            this.renderPassEncoder.setVertexBuffer(e, this._renderer.buffer.updateBuffer(t)))
        }
        _setIndexBuffer(e) {
            if (this._boundIndexBuffer === e)
                return;
            this._boundIndexBuffer = e;
            let t = e.data.BYTES_PER_ELEMENT === 2 ? "uint16" : "uint32";
            this.renderPassEncoder.setIndexBuffer(this._renderer.buffer.updateBuffer(e), t)
        }
        resetBindGroup(e) {
            this._boundBindGroup[e] = null
        }
        setBindGroup(e, t, i) {
            if (this._boundBindGroup[e] === t)
                return;
            this._boundBindGroup[e] = t,
            t._touch(this._renderer.textureGC.count);
            let s = this._renderer.bindGroup.getBindGroup(t, i, e);
            this.renderPassEncoder.setBindGroup(e, s)
        }
        setGeometry(e, t) {
            let i = this._renderer.pipeline.getBufferNamesToBind(e, t);
            for (let s in i)
                this._setVertexBuffer(s, e.attributes[i[s]].buffer);
            e.indexBuffer && this._setIndexBuffer(e.indexBuffer)
        }
        _setShaderBindGroups(e, t) {
            for (let i in e.groups) {
                let s = e.groups[i];
                t || this._syncBindGroup(s),
                this.setBindGroup(i, s, e.gpuProgram)
            }
        }
        _syncBindGroup(e) {
            for (let t in e.resources) {
                let i = e.resources[t];
                i.isUniformGroup && this._renderer.ubo.updateUniformGroup(i)
            }
        }
        draw(e) {
            let {geometry: t, shader: i, state: s, topology: r, size: o, start: d, instanceCount: f, skipSync: h} = e;
            this.setPipelineFromGeometryProgramAndState(t, i.gpuProgram, s, r),
            this.setGeometry(t, i.gpuProgram),
            this._setShaderBindGroups(i, h),
            t.indexBuffer ? this.renderPassEncoder.drawIndexed(o || t.indexBuffer.data.length, f ?? t.instanceCount, d || 0) : this.renderPassEncoder.draw(o || t.getSize(), f ?? t.instanceCount, d || 0)
        }
        finishRenderPass() {
            this.renderPassEncoder && (this.renderPassEncoder.end(),
            this.renderPassEncoder = null)
        }
        postrender() {
            this.finishRenderPass(),
            this._gpu.device.queue.submit([this.commandEncoder.finish()]),
            this._resolveCommandFinished(),
            this.commandEncoder = null
        }
        restoreRenderPass() {
            let e = this._renderer.renderTarget.adaptor.getDescriptor(this._renderer.renderTarget.renderTarget, !1, [0, 0, 0, 1]);
            this.renderPassEncoder = this.commandEncoder.beginRenderPass(e);
            let t = this._boundPipeline
              , i = Y1({}, this._boundVertexBuffer)
              , s = this._boundIndexBuffer
              , r = Y1({}, this._boundBindGroup);
            this._clearCache();
            let o = this._renderer.renderTarget.viewport;
            this.renderPassEncoder.setViewport(o.x, o.y, o.width, o.height, 0, 1),
            this.setPipeline(t);
            for (let d in i)
                this._setVertexBuffer(d, i[d]);
            for (let d in r)
                this.setBindGroup(d, r[d], null);
            this._setIndexBuffer(s)
        }
        _clearCache() {
            for (let e = 0; e < 16; e++)
                this._boundBindGroup[e] = null,
                this._boundVertexBuffer[e] = null;
            this._boundIndexBuffer = null,
            this._boundPipeline = null
        }
        destroy() {
            this._renderer = null,
            this._gpu = null,
            this._boundBindGroup = null,
            this._boundVertexBuffer = null,
            this._boundIndexBuffer = null,
            this._boundPipeline = null
        }
        contextChange(e) {
            this._gpu = e
        }
    }
    ;
    vo.extension = {
        type: [B.WebGPUSystem],
        name: "encoder",
        priority: 1
    };
    var To = class {
        constructor(e) {
            this._renderTargetStencilState = Object.create(null),
            this._renderer = e,
            e.renderTarget.onRenderTargetChange.add(this)
        }
        onRenderTargetChange(e) {
            let t = this._renderTargetStencilState[e.uid];
            t || (t = this._renderTargetStencilState[e.uid] = {
                stencilMode: je.DISABLED,
                stencilReference: 0
            }),
            this._activeRenderTarget = e,
            this.setStencilMode(t.stencilMode, t.stencilReference)
        }
        setStencilMode(e, t) {
            let i = this._renderTargetStencilState[this._activeRenderTarget.uid];
            i.stencilMode = e,
            i.stencilReference = t;
            let s = this._renderer;
            s.pipeline.setStencilMode(e),
            s.encoder.renderPassEncoder.setStencilReference(t)
        }
        destroy() {
            this._renderer.renderTarget.onRenderTargetChange.remove(this),
            this._renderer = null,
            this._activeRenderTarget = null,
            this._renderTargetStencilState = null
        }
    }
    ;
    To.extension = {
        type: [B.WebGPUSystem],
        name: "stencil"
    };
    var zr = {
        i32: {
            align: 4,
            size: 4
        },
        u32: {
            align: 4,
            size: 4
        },
        f32: {
            align: 4,
            size: 4
        },
        f16: {
            align: 2,
            size: 2
        },
        "vec2<i32>": {
            align: 8,
            size: 8
        },
        "vec2<u32>": {
            align: 8,
            size: 8
        },
        "vec2<f32>": {
            align: 8,
            size: 8
        },
        "vec2<f16>": {
            align: 4,
            size: 4
        },
        "vec3<i32>": {
            align: 16,
            size: 12
        },
        "vec3<u32>": {
            align: 16,
            size: 12
        },
        "vec3<f32>": {
            align: 16,
            size: 12
        },
        "vec3<f16>": {
            align: 8,
            size: 6
        },
        "vec4<i32>": {
            align: 16,
            size: 16
        },
        "vec4<u32>": {
            align: 16,
            size: 16
        },
        "vec4<f32>": {
            align: 16,
            size: 16
        },
        "vec4<f16>": {
            align: 8,
            size: 8
        },
        "mat2x2<f32>": {
            align: 8,
            size: 16
        },
        "mat2x2<f16>": {
            align: 4,
            size: 8
        },
        "mat3x2<f32>": {
            align: 8,
            size: 24
        },
        "mat3x2<f16>": {
            align: 4,
            size: 12
        },
        "mat4x2<f32>": {
            align: 8,
            size: 32
        },
        "mat4x2<f16>": {
            align: 4,
            size: 16
        },
        "mat2x3<f32>": {
            align: 16,
            size: 32
        },
        "mat2x3<f16>": {
            align: 8,
            size: 16
        },
        "mat3x3<f32>": {
            align: 16,
            size: 48
        },
        "mat3x3<f16>": {
            align: 8,
            size: 24
        },
        "mat4x3<f32>": {
            align: 16,
            size: 64
        },
        "mat4x3<f16>": {
            align: 8,
            size: 32
        },
        "mat2x4<f32>": {
            align: 16,
            size: 32
        },
        "mat2x4<f16>": {
            align: 8,
            size: 16
        },
        "mat3x4<f32>": {
            align: 16,
            size: 48
        },
        "mat3x4<f16>": {
            align: 8,
            size: 24
        },
        "mat4x4<f32>": {
            align: 16,
            size: 64
        },
        "mat4x4<f16>": {
            align: 8,
            size: 32
        }
    };
    function qv(a) {
        let e = a.map(i => ({
            data: i,
            offset: 0,
            size: 0
        }))
          , t = 0;
        for (let i = 0; i < e.length; i++) {
            let s = e[i]
              , r = zr[s.data.type].size
              , o = zr[s.data.type].align;
            if (!zr[s.data.type])
                throw new Error(`[Pixi.js] WebGPU UniformBuffer: Unknown type ${s.data.type}`);
            s.data.size > 1 && (r = Math.max(r, o) * s.data.size),
            t = Math.ceil(t / o) * o,
            s.size = r,
            s.offset = t,
            t += r
        }
        return t = Math.ceil(t / 16) * 16,
        {
            uboElements: e,
            size: t
        }
    }
    function Zv(a, e) {
        let {size: t, align: i} = zr[a.data.type]
          , s = (i - t) / 4
          , r = a.data.type.indexOf("i32") >= 0 ? "dataInt32" : "data";
        return `
v = uv.${a.data.name};
${e !== 0 ? `offset += ${e};` : ""}

arrayOffset = offset;

t = 0;

for(var i=0; i < ${a.data.size * (t / 4)}; i++)
{
for(var j = 0; j < ${t / 4}; j++)
{
${r}[arrayOffset++] = v[t++];
}
${s !== 0 ? `arrayOffset += ${s};` : ""}
}
`
    }
    function Qv(a) {
        return I3(a, "uboWgsl", Zv, fy)
    }
    var So = class extends eo {
        constructor() {
            super({
                createUboElements: qv,
                generateUboSync: Qv
            })
        }
    }
    ;
    So.extension = {
        type: [B.WebGPUSystem],
        name: "ubo"
    };
    var Ra = 128
      , wo = class {
        constructor(e) {
            this._bindGroupHash = Object.create(null),
            this._buffers = [],
            this._bindGroups = [],
            this._bufferResources = [],
            this._renderer = e,
            this._renderer.renderableGC.addManagedHash(this, "_bindGroupHash"),
            this._batchBuffer = new fh({
                minUniformOffsetAlignment: Ra
            });
            let t = 256 / Ra;
            for (let i = 0; i < t; i++) {
                let s = Te.UNIFORM | Te.COPY_DST;
                i === 0 && (s |= Te.COPY_SRC),
                this._buffers.push(new st({
                    data: this._batchBuffer.data,
                    usage: s
                }))
            }
        }
        renderEnd() {
            this._uploadBindGroups(),
            this._resetBindGroups()
        }
        _resetBindGroups() {
            for (let e in this._bindGroupHash)
                this._bindGroupHash[e] = null;
            this._batchBuffer.clear()
        }
        getUniformBindGroup(e, t) {
            if (!t && this._bindGroupHash[e.uid])
                return this._bindGroupHash[e.uid];
            this._renderer.ubo.ensureUniformGroup(e);
            let i = e.buffer.data
              , s = this._batchBuffer.addEmptyGroup(i.length);
            return this._renderer.ubo.syncUniformGroup(e, this._batchBuffer.data, s / 4),
            this._bindGroupHash[e.uid] = this._getBindGroup(s / Ra),
            this._bindGroupHash[e.uid]
        }
        getUboResource(e) {
            this._renderer.ubo.updateUniformGroup(e);
            let t = e.buffer.data
              , i = this._batchBuffer.addGroup(t);
            return this._getBufferResource(i / Ra)
        }
        getArrayBindGroup(e) {
            let t = this._batchBuffer.addGroup(e);
            return this._getBindGroup(t / Ra)
        }
        getArrayBufferResource(e) {
            let t = this._batchBuffer.addGroup(e) / Ra;
            return this._getBufferResource(t)
        }
        _getBufferResource(e) {
            if (!this._bufferResources[e]) {
                let t = this._buffers[e % 2];
                this._bufferResources[e] = new Vs({
                    buffer: t,
                    offset: (e / 2 | 0) * 256,
                    size: Ra
                })
            }
            return this._bufferResources[e]
        }
        _getBindGroup(e) {
            if (!this._bindGroups[e]) {
                let t = new Ht({
                    0: this._getBufferResource(e)
                });
                this._bindGroups[e] = t
            }
            return this._bindGroups[e]
        }
        _uploadBindGroups() {
            let e = this._renderer.buffer
              , t = this._buffers[0];
            t.update(this._batchBuffer.byteIndex),
            e.updateBuffer(t);
            let i = this._renderer.gpu.device.createCommandEncoder();
            for (let s = 1; s < this._buffers.length; s++) {
                let r = this._buffers[s];
                i.copyBufferToBuffer(e.getGPUBuffer(t), Ra, e.getGPUBuffer(r), 0, this._batchBuffer.byteIndex)
            }
            this._renderer.gpu.device.queue.submit([i.finish()])
        }
        destroy() {
            for (let e = 0; e < this._bindGroups.length; e++)
                this._bindGroups[e].destroy();
            this._bindGroups = null,
            this._bindGroupHash = null;
            for (let e = 0; e < this._buffers.length; e++)
                this._buffers[e].destroy();
            this._buffers = null;
            for (let e = 0; e < this._bufferResources.length; e++)
                this._bufferResources[e].destroy();
            this._bufferResources = null,
            this._batchBuffer.destroy(),
            this._bindGroupHash = null,
            this._renderer = null
        }
    }
    ;
    wo.extension = {
        type: [B.WebGPUPipes],
        name: "uniformBatch"
    };
    var Jv = Object.defineProperty
      , eT = Object.defineProperties
      , tT = Object.getOwnPropertyDescriptors
      , $1 = Object.getOwnPropertySymbols
      , aT = Object.prototype.hasOwnProperty
      , iT = Object.prototype.propertyIsEnumerable
      , K1 = (a, e, t) => e in a ? Jv(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , sT = (a, e) => {
        for (var t in e || (e = {}))
            aT.call(e, t) && K1(a, t, e[t]);
        if ($1)
            for (var t of $1(e))
                iT.call(e, t) && K1(a, t, e[t]);
        return a
    }
      , rT = (a, e) => eT(a, tT(e))
      , nT = {
        "point-list": 0,
        "line-list": 1,
        "line-strip": 2,
        "triangle-list": 3,
        "triangle-strip": 4
    };
    function oT(a, e, t, i, s) {
        return a << 24 | e << 16 | t << 10 | i << 5 | s
    }
    function cT(a, e, t, i) {
        return t << 6 | a << 3 | i << 1 | e
    }
    var Ao = class {
        constructor(e) {
            this._moduleCache = Object.create(null),
            this._bufferLayoutsCache = Object.create(null),
            this._bindingNamesCache = Object.create(null),
            this._pipeCache = Object.create(null),
            this._pipeStateCaches = Object.create(null),
            this._colorMask = 15,
            this._multisampleCount = 1,
            this._renderer = e
        }
        contextChange(e) {
            this._gpu = e,
            this.setStencilMode(je.DISABLED),
            this._updatePipeHash()
        }
        setMultisampleCount(e) {
            this._multisampleCount !== e && (this._multisampleCount = e,
            this._updatePipeHash())
        }
        setRenderTarget(e) {
            this._multisampleCount = e.msaaSamples,
            this._depthStencilAttachment = e.descriptor.depthStencilAttachment ? 1 : 0,
            this._updatePipeHash()
        }
        setColorMask(e) {
            this._colorMask !== e && (this._colorMask = e,
            this._updatePipeHash())
        }
        setStencilMode(e) {
            this._stencilMode !== e && (this._stencilMode = e,
            this._stencilState = Ma[e],
            this._updatePipeHash())
        }
        setPipeline(e, t, i, s) {
            let r = this.getPipeline(e, t, i);
            s.setPipeline(r)
        }
        getPipeline(e, t, i, s) {
            e._layoutKey || (R3(e, t.attributeData),
            this._generateBufferKey(e)),
            s || (s = e.topology);
            let r = oT(e._layoutKey, t._layoutKey, i.data, i._blendModeId, nT[s]);
            return this._pipeCache[r] ? this._pipeCache[r] : (this._pipeCache[r] = this._createPipeline(e, t, i, s),
            this._pipeCache[r])
        }
        _createPipeline(e, t, i, s) {
            let r = this._gpu.device
              , o = this._createVertexBufferLayouts(e, t)
              , d = this._renderer.state.getColorTargets(i);
            d[0].writeMask = this._stencilMode === je.RENDERING_MASK_ADD ? 0 : this._colorMask;
            let f = this._renderer.shader.getProgramData(t).pipeline
              , h = {
                vertex: {
                    module: this._getModule(t.vertex.source),
                    entryPoint: t.vertex.entryPoint,
                    buffers: o
                },
                fragment: {
                    module: this._getModule(t.fragment.source),
                    entryPoint: t.fragment.entryPoint,
                    targets: d
                },
                primitive: {
                    topology: s,
                    cullMode: i.cullMode
                },
                layout: f,
                multisample: {
                    count: this._multisampleCount
                },
                label: "PIXI Pipeline"
            };
            return this._depthStencilAttachment && (h.depthStencil = rT(sT({}, this._stencilState), {
                format: "depth24plus-stencil8",
                depthWriteEnabled: i.depthTest,
                depthCompare: i.depthTest ? "less" : "always"
            })),
            r.createRenderPipeline(h)
        }
        _getModule(e) {
            return this._moduleCache[e] || this._createModule(e)
        }
        _createModule(e) {
            let t = this._gpu.device;
            return this._moduleCache[e] = t.createShaderModule({
                code: e
            }),
            this._moduleCache[e]
        }
        _generateBufferKey(e) {
            let t = []
              , i = 0
              , s = Object.keys(e.attributes).sort();
            for (let o = 0; o < s.length; o++) {
                let d = e.attributes[s[o]];
                t[i++] = d.offset,
                t[i++] = d.format,
                t[i++] = d.stride,
                t[i++] = d.instance
            }
            let r = t.join("|");
            return e._layoutKey = Ds(r, "geometry"),
            e._layoutKey
        }
        _generateAttributeLocationsKey(e) {
            let t = []
              , i = 0
              , s = Object.keys(e.attributeData).sort();
            for (let o = 0; o < s.length; o++) {
                let d = e.attributeData[s[o]];
                t[i++] = d.location
            }
            let r = t.join("|");
            return e._attributeLocationsKey = Ds(r, "programAttributes"),
            e._attributeLocationsKey
        }
        getBufferNamesToBind(e, t) {
            let i = e._layoutKey << 16 | t._attributeLocationsKey;
            if (this._bindingNamesCache[i])
                return this._bindingNamesCache[i];
            let s = this._createVertexBufferLayouts(e, t)
              , r = Object.create(null)
              , o = t.attributeData;
            for (let d = 0; d < s.length; d++) {
                let f = Object.values(s[d].attributes)[0].shaderLocation;
                for (let h in o)
                    if (o[h].location === f) {
                        r[d] = h;
                        break
                    }
            }
            return this._bindingNamesCache[i] = r,
            r
        }
        _createVertexBufferLayouts(e, t) {
            t._attributeLocationsKey || this._generateAttributeLocationsKey(t);
            let i = e._layoutKey << 16 | t._attributeLocationsKey;
            if (this._bufferLayoutsCache[i])
                return this._bufferLayoutsCache[i];
            let s = [];
            return e.buffers.forEach(r => {
                var o;
                let d = {
                    arrayStride: 0,
                    stepMode: "vertex",
                    attributes: []
                }
                  , f = d.attributes;
                for (let h in t.attributeData) {
                    let u = e.attributes[h];
                    ((o = u.divisor) != null ? o : 1) !== 1 && ta(`Attribute ${h} has an invalid divisor value of '${u.divisor}'. WebGPU only supports a divisor value of 1`),
                    u.buffer === r && (d.arrayStride = u.stride,
                    d.stepMode = u.instance ? "instance" : "vertex",
                    f.push({
                        shaderLocation: t.attributeData[h].location,
                        offset: u.offset,
                        format: u.format
                    }))
                }
                f.length && s.push(d)
            }
            ),
            this._bufferLayoutsCache[i] = s,
            s
        }
        _updatePipeHash() {
            let e = cT(this._stencilMode, this._multisampleCount, this._colorMask, this._depthStencilAttachment);
            this._pipeStateCaches[e] || (this._pipeStateCaches[e] = Object.create(null)),
            this._pipeCache = this._pipeStateCaches[e]
        }
        destroy() {
            this._renderer = null,
            this._bufferLayoutsCache = null
        }
    }
    ;
    Ao.extension = {
        type: [B.WebGPUSystem],
        name: "pipeline"
    };
    var hh = class {
        constructor() {
            this.contexts = [],
            this.msaaTextures = [],
            this.msaaSamples = 1
        }
    }
      , lh = class {
        init(e, t) {
            this._renderer = e,
            this._renderTargetSystem = t
        }
        copyToTexture(e, t, i, s, r) {
            let o = this._renderer
              , d = this._getGpuColorTexture(e)
              , f = o.texture.getGpuSource(t.source);
            return o.encoder.commandEncoder.copyTextureToTexture({
                texture: d,
                origin: i
            }, {
                texture: f,
                origin: r
            }, s),
            t
        }
        startRenderPass(e, t=!0, i, s) {
            let r = this._renderTargetSystem.getGpuRenderTarget(e)
              , o = this.getDescriptor(e, t, i);
            r.descriptor = o,
            this._renderer.pipeline.setRenderTarget(r),
            this._renderer.encoder.beginRenderPass(r),
            this._renderer.encoder.setViewport(s)
        }
        finishRenderPass() {
            this._renderer.encoder.endRenderPass()
        }
        _getGpuColorTexture(e) {
            let t = this._renderTargetSystem.getGpuRenderTarget(e);
            return t.contexts[0] ? t.contexts[0].getCurrentTexture() : this._renderer.texture.getGpuSource(e.colorTextures[0].source)
        }
        getDescriptor(e, t, i) {
            typeof t == "boolean" && (t = t ? mt.ALL : mt.NONE);
            let s = this._renderTargetSystem, r = s.getGpuRenderTarget(e), o = e.colorTextures.map( (f, h) => {
                let u = r.contexts[h], p, x;
                u ? p = u.getCurrentTexture().createView() : p = this._renderer.texture.getGpuSource(f).createView({
                    mipLevelCount: 1
                }),
                r.msaaTextures[h] && (x = p,
                p = this._renderer.texture.getTextureView(r.msaaTextures[h]));
                let _ = t & mt.COLOR ? "clear" : "load";
                return i != null || (i = s.defaultClearColor),
                {
                    view: p,
                    resolveTarget: x,
                    clearValue: i,
                    storeOp: "store",
                    loadOp: _
                }
            }
            ), d;
            if ((e.stencil || e.depth) && !e.depthStencilTexture && (e.ensureDepthStencilTexture(),
            e.depthStencilTexture.source.sampleCount = r.msaa ? 4 : 1),
            e.depthStencilTexture) {
                let f = t & mt.STENCIL ? "clear" : "load"
                  , h = t & mt.DEPTH ? "clear" : "load";
                d = {
                    view: this._renderer.texture.getGpuSource(e.depthStencilTexture.source).createView(),
                    stencilStoreOp: "store",
                    stencilLoadOp: f,
                    depthClearValue: 1,
                    depthLoadOp: h,
                    depthStoreOp: "store"
                }
            }
            return {
                colorAttachments: o,
                depthStencilAttachment: d
            }
        }
        clear(e, t=!0, i, s) {
            if (!t)
                return;
            let {gpu: r, encoder: o} = this._renderer
              , d = r.device;
            if (o.commandEncoder === null) {
                let f = d.createCommandEncoder()
                  , h = this.getDescriptor(e, t, i)
                  , u = f.beginRenderPass(h);
                u.setViewport(s.x, s.y, s.width, s.height, 0, 1),
                u.end();
                let p = f.finish();
                d.queue.submit([p])
            } else
                this.startRenderPass(e, t, i, s)
        }
        initGpuRenderTarget(e) {
            e.isRoot = !0;
            let t = new hh;
            return e.colorTextures.forEach( (i, s) => {
                if (Qt.test(i.resource)) {
                    let r = i.resource.getContext("webgpu")
                      , o = i.transparent ? "premultiplied" : "opaque";
                    try {
                        r.configure({
                            device: this._renderer.gpu.device,
                            usage: GPUTextureUsage.TEXTURE_BINDING | GPUTextureUsage.COPY_DST | GPUTextureUsage.RENDER_ATTACHMENT | GPUTextureUsage.COPY_SRC,
                            format: "bgra8unorm",
                            alphaMode: o
                        })
                    } catch {}
                    t.contexts[s] = r
                }
                if (t.msaa = i.source.antialias,
                i.source.antialias) {
                    let r = new De({
                        width: 0,
                        height: 0,
                        sampleCount: 4
                    });
                    t.msaaTextures[s] = r
                }
            }
            ),
            t.msaa && (t.msaaSamples = 4,
            e.depthStencilTexture && (e.depthStencilTexture.source.sampleCount = 4)),
            t
        }
        destroyGpuRenderTarget(e) {
            e.contexts.forEach(t => {
                t.unconfigure()
            }
            ),
            e.msaaTextures.forEach(t => {
                t.destroy()
            }
            ),
            e.msaaTextures.length = 0,
            e.contexts.length = 0
        }
        ensureDepthStencilTexture(e) {
            let t = this._renderTargetSystem.getGpuRenderTarget(e);
            e.depthStencilTexture && t.msaa && (e.depthStencilTexture.source.sampleCount = 4)
        }
        resizeGpuRenderTarget(e) {
            let t = this._renderTargetSystem.getGpuRenderTarget(e);
            t.width = e.width,
            t.height = e.height,
            t.msaa && e.colorTextures.forEach( (i, s) => {
                let r = t.msaaTextures[s];
                r?.resize(i.source.width, i.source.height, i.source._resolution)
            }
            )
        }
    }
      , Eo = class extends ao {
        constructor(e) {
            super(e),
            this.adaptor = new lh,
            this.adaptor.init(e, this)
        }
    }
    ;
    Eo.extension = {
        type: [B.WebGPUSystem],
        name: "renderTarget"
    };
    var Po = class {
        constructor() {
            this._gpuProgramData = Object.create(null)
        }
        contextChange(e) {
            this._gpu = e,
            this.maxTextures = e.device.limits.maxSampledTexturesPerShaderStage
        }
        getProgramData(e) {
            return this._gpuProgramData[e._layoutKey] || this._createGPUProgramData(e)
        }
        _createGPUProgramData(e) {
            let t = this._gpu.device
              , i = e.gpuLayout.map(r => t.createBindGroupLayout({
                entries: r
            }))
              , s = {
                bindGroupLayouts: i
            };
            return this._gpuProgramData[e._layoutKey] = {
                bindGroups: i,
                pipeline: t.createPipelineLayout(s)
            },
            this._gpuProgramData[e._layoutKey]
        }
        destroy() {
            this._gpu = null,
            this._gpuProgramData = null
        }
    }
    ;
    Po.extension = {
        type: [B.WebGPUSystem],
        name: "shader"
    };
    var ct = {};
    ct.normal = {
        alpha: {
            srcFactor: "one",
            dstFactor: "one-minus-src-alpha",
            operation: "add"
        },
        color: {
            srcFactor: "one",
            dstFactor: "one-minus-src-alpha",
            operation: "add"
        }
    },
    ct.add = {
        alpha: {
            srcFactor: "src-alpha",
            dstFactor: "one-minus-src-alpha",
            operation: "add"
        },
        color: {
            srcFactor: "one",
            dstFactor: "one",
            operation: "add"
        }
    },
    ct.multiply = {
        alpha: {
            srcFactor: "one",
            dstFactor: "one-minus-src-alpha",
            operation: "add"
        },
        color: {
            srcFactor: "dst",
            dstFactor: "one-minus-src-alpha",
            operation: "add"
        }
    },
    ct.screen = {
        alpha: {
            srcFactor: "one",
            dstFactor: "one-minus-src-alpha",
            operation: "add"
        },
        color: {
            srcFactor: "one",
            dstFactor: "one-minus-src",
            operation: "add"
        }
    },
    ct.overlay = {
        alpha: {
            srcFactor: "one",
            dstFactor: "one-minus-src-alpha",
            operation: "add"
        },
        color: {
            srcFactor: "one",
            dstFactor: "one-minus-src",
            operation: "add"
        }
    },
    ct.none = {
        alpha: {
            srcFactor: "one",
            dstFactor: "one-minus-src-alpha",
            operation: "add"
        },
        color: {
            srcFactor: "zero",
            dstFactor: "zero",
            operation: "add"
        }
    },
    ct["normal-npm"] = {
        alpha: {
            srcFactor: "one",
            dstFactor: "one-minus-src-alpha",
            operation: "add"
        },
        color: {
            srcFactor: "src-alpha",
            dstFactor: "one-minus-src-alpha",
            operation: "add"
        }
    },
    ct["add-npm"] = {
        alpha: {
            srcFactor: "one",
            dstFactor: "one",
            operation: "add"
        },
        color: {
            srcFactor: "src-alpha",
            dstFactor: "one",
            operation: "add"
        }
    },
    ct["screen-npm"] = {
        alpha: {
            srcFactor: "one",
            dstFactor: "one-minus-src-alpha",
            operation: "add"
        },
        color: {
            srcFactor: "src-alpha",
            dstFactor: "one-minus-src",
            operation: "add"
        }
    },
    ct.erase = {
        alpha: {
            srcFactor: "zero",
            dstFactor: "one-minus-src-alpha",
            operation: "add"
        },
        color: {
            srcFactor: "zero",
            dstFactor: "one-minus-src",
            operation: "add"
        }
    },
    ct.min = {
        alpha: {
            srcFactor: "one",
            dstFactor: "one",
            operation: "min"
        },
        color: {
            srcFactor: "one",
            dstFactor: "one",
            operation: "min"
        }
    },
    ct.max = {
        alpha: {
            srcFactor: "one",
            dstFactor: "one",
            operation: "max"
        },
        color: {
            srcFactor: "one",
            dstFactor: "one",
            operation: "max"
        }
    };
    var Ro = class {
        constructor() {
            this.defaultState = new Et,
            this.defaultState.blend = !0
        }
        contextChange(e) {
            this.gpu = e
        }
        getColorTargets(e) {
            return [{
                format: "bgra8unorm",
                writeMask: 0,
                blend: ct[e.blendMode] || ct.normal
            }]
        }
        destroy() {
            this.gpu = null
        }
    }
    ;
    Ro.extension = {
        type: [B.WebGPUSystem],
        name: "state"
    };
    var dT = {
        type: "image",
        upload(a, e, t) {
            let i = a.resource
              , s = (a.pixelWidth | 0) * (a.pixelHeight | 0)
              , r = i.byteLength / s;
            t.device.queue.writeTexture({
                texture: e
            }, i, {
                offset: 0,
                rowsPerImage: a.pixelHeight,
                bytesPerRow: a.pixelHeight * r
            }, {
                width: a.pixelWidth,
                height: a.pixelHeight,
                depthOrArrayLayers: 1
            })
        }
    }
      , J3 = {
        "bc1-rgba-unorm": {
            blockBytes: 8,
            blockWidth: 4,
            blockHeight: 4
        },
        "bc2-rgba-unorm": {
            blockBytes: 16,
            blockWidth: 4,
            blockHeight: 4
        },
        "bc3-rgba-unorm": {
            blockBytes: 16,
            blockWidth: 4,
            blockHeight: 4
        },
        "bc7-rgba-unorm": {
            blockBytes: 16,
            blockWidth: 4,
            blockHeight: 4
        },
        "etc1-rgb-unorm": {
            blockBytes: 8,
            blockWidth: 4,
            blockHeight: 4
        },
        "etc2-rgba8unorm": {
            blockBytes: 16,
            blockWidth: 4,
            blockHeight: 4
        },
        "astc-4x4-unorm": {
            blockBytes: 16,
            blockWidth: 4,
            blockHeight: 4
        }
    }
      , fT = {
        blockBytes: 4,
        blockWidth: 1,
        blockHeight: 1
    }
      , hT = {
        type: "compressed",
        upload(a, e, t) {
            let i = a.pixelWidth
              , s = a.pixelHeight
              , r = J3[a.format] || fT;
            for (let o = 0; o < a.resource.length; o++) {
                let d = a.resource[o]
                  , f = Math.ceil(i / r.blockWidth) * r.blockBytes;
                t.device.queue.writeTexture({
                    texture: e,
                    mipLevel: o
                }, d, {
                    offset: 0,
                    bytesPerRow: f
                }, {
                    width: Math.ceil(i / r.blockWidth) * r.blockWidth,
                    height: Math.ceil(s / r.blockHeight) * r.blockHeight,
                    depthOrArrayLayers: 1
                }),
                i = Math.max(i >> 1, 1),
                s = Math.max(s >> 1, 1)
            }
        }
    }
      , e5 = {
        type: "image",
        upload(a, e, t) {
            let i = a.resource;
            if (!i)
                return;
            let s = Math.min(e.width, a.resourceWidth || a.pixelWidth)
              , r = Math.min(e.height, a.resourceHeight || a.pixelHeight)
              , o = a.alphaMode === "premultiply-alpha-on-upload";
            t.device.queue.copyExternalImageToTexture({
                source: i
            }, {
                texture: e,
                premultipliedAlpha: o
            }, {
                width: s,
                height: r
            })
        }
    }
      , lT = {
        type: "video",
        upload(a, e, t) {
            e5.upload(a, e, t)
        }
    }
      , uh = class {
        constructor(e) {
            this.device = e,
            this.sampler = e.createSampler({
                minFilter: "linear"
            }),
            this.pipelines = {}
        }
        _getMipmapPipeline(e) {
            let t = this.pipelines[e];
            return t || (this.mipmapShaderModule || (this.mipmapShaderModule = this.device.createShaderModule({
                code: `
    var<private> pos : array<vec2<f32>, 3> = array<vec2<f32>, 3>(
    vec2<f32>(-1.0, -1.0), vec2<f32>(-1.0, 3.0), vec2<f32>(3.0, -1.0));

    struct VertexOutput {
    @builtin(position) position : vec4<f32>,
    @location(0) texCoord : vec2<f32>,
    };

    @vertex
    fn vertexMain(@builtin(vertex_index) vertexIndex : u32) -> VertexOutput {
    var output : VertexOutput;
    output.texCoord = pos[vertexIndex] * vec2<f32>(0.5, -0.5) + vec2<f32>(0.5);
    output.position = vec4<f32>(pos[vertexIndex], 0.0, 1.0);
    return output;
    }

    @group(0) @binding(0) var imgSampler : sampler;
    @group(0) @binding(1) var img : texture_2d<f32>;

    @fragment
    fn fragmentMain(@location(0) texCoord : vec2<f32>) -> @location(0) vec4<f32> {
    return textureSample(img, imgSampler, texCoord);
    }
`
            })),
            t = this.device.createRenderPipeline({
                layout: "auto",
                vertex: {
                    module: this.mipmapShaderModule,
                    entryPoint: "vertexMain"
                },
                fragment: {
                    module: this.mipmapShaderModule,
                    entryPoint: "fragmentMain",
                    targets: [{
                        format: e
                    }]
                }
            }),
            this.pipelines[e] = t),
            t
        }
        generateMipmap(e) {
            let t = this._getMipmapPipeline(e.format);
            if (e.dimension === "3d" || e.dimension === "1d")
                throw new Error("Generating mipmaps for non-2d textures is currently unsupported!");
            let i = e
              , s = e.depthOrArrayLayers || 1
              , r = e.usage & GPUTextureUsage.RENDER_ATTACHMENT;
            if (!r) {
                let f = {
                    size: {
                        width: Math.ceil(e.width / 2),
                        height: Math.ceil(e.height / 2),
                        depthOrArrayLayers: s
                    },
                    format: e.format,
                    usage: GPUTextureUsage.TEXTURE_BINDING | GPUTextureUsage.COPY_SRC | GPUTextureUsage.RENDER_ATTACHMENT,
                    mipLevelCount: e.mipLevelCount - 1
                };
                i = this.device.createTexture(f)
            }
            let o = this.device.createCommandEncoder({})
              , d = t.getBindGroupLayout(0);
            for (let f = 0; f < s; ++f) {
                let h = e.createView({
                    baseMipLevel: 0,
                    mipLevelCount: 1,
                    dimension: "2d",
                    baseArrayLayer: f,
                    arrayLayerCount: 1
                })
                  , u = r ? 1 : 0;
                for (let p = 1; p < e.mipLevelCount; ++p) {
                    let x = i.createView({
                        baseMipLevel: u++,
                        mipLevelCount: 1,
                        dimension: "2d",
                        baseArrayLayer: f,
                        arrayLayerCount: 1
                    })
                      , _ = o.beginRenderPass({
                        colorAttachments: [{
                            view: x,
                            storeOp: "store",
                            loadOp: "clear",
                            clearValue: {
                                r: 0,
                                g: 0,
                                b: 0,
                                a: 0
                            }
                        }]
                    })
                      , T = this.device.createBindGroup({
                        layout: d,
                        entries: [{
                            binding: 0,
                            resource: this.sampler
                        }, {
                            binding: 1,
                            resource: h
                        }]
                    });
                    _.setPipeline(t),
                    _.setBindGroup(0, T),
                    _.draw(3, 1, 0, 0),
                    _.end(),
                    h = x
                }
            }
            if (!r) {
                let f = {
                    width: Math.ceil(e.width / 2),
                    height: Math.ceil(e.height / 2),
                    depthOrArrayLayers: s
                };
                for (let h = 1; h < e.mipLevelCount; ++h)
                    o.copyTextureToTexture({
                        texture: i,
                        mipLevel: h - 1
                    }, {
                        texture: e,
                        mipLevel: h
                    }, f),
                    f.width = Math.ceil(f.width / 2),
                    f.height = Math.ceil(f.height / 2)
            }
            return this.device.queue.submit([o.finish()]),
            r || i.destroy(),
            e
        }
    }
      , Mo = class {
        constructor(e) {
            this.managedTextures = [],
            this._gpuSources = Object.create(null),
            this._gpuSamplers = Object.create(null),
            this._bindGroupHash = Object.create(null),
            this._textureViewHash = Object.create(null),
            this._uploads = {
                image: e5,
                buffer: dT,
                video: lT,
                compressed: hT
            },
            this._renderer = e,
            e.renderableGC.addManagedHash(this, "_gpuSources"),
            e.renderableGC.addManagedHash(this, "_gpuSamplers"),
            e.renderableGC.addManagedHash(this, "_bindGroupHash"),
            e.renderableGC.addManagedHash(this, "_textureViewHash")
        }
        contextChange(e) {
            this._gpu = e
        }
        initSource(e) {
            if (e.autoGenerateMipmaps) {
                let f = Math.max(e.pixelWidth, e.pixelHeight);
                e.mipLevelCount = Math.floor(Math.log2(f)) + 1
            }
            let t = GPUTextureUsage.TEXTURE_BINDING | GPUTextureUsage.COPY_DST;
            e.uploadMethodId !== "compressed" && (t |= GPUTextureUsage.RENDER_ATTACHMENT,
            t |= GPUTextureUsage.COPY_SRC);
            let i = J3[e.format] || {
                blockBytes: 4,
                blockWidth: 1,
                blockHeight: 1
            }
              , s = Math.ceil(e.pixelWidth / i.blockWidth) * i.blockWidth
              , r = Math.ceil(e.pixelHeight / i.blockHeight) * i.blockHeight
              , o = {
                label: e.label,
                size: {
                    width: s,
                    height: r
                },
                format: e.format,
                sampleCount: e.sampleCount,
                mipLevelCount: e.mipLevelCount,
                dimension: e.dimension,
                usage: t
            }
              , d = this._gpu.device.createTexture(o);
            return this._gpuSources[e.uid] = d,
            this.managedTextures.includes(e) || (e.on("update", this.onSourceUpdate, this),
            e.on("resize", this.onSourceResize, this),
            e.on("destroy", this.onSourceDestroy, this),
            e.on("unload", this.onSourceUnload, this),
            e.on("updateMipmaps", this.onUpdateMipmaps, this),
            this.managedTextures.push(e)),
            this.onSourceUpdate(e),
            d
        }
        onSourceUpdate(e) {
            let t = this.getGpuSource(e);
            t && (this._uploads[e.uploadMethodId] && this._uploads[e.uploadMethodId].upload(e, t, this._gpu),
            e.autoGenerateMipmaps && e.mipLevelCount > 1 && this.onUpdateMipmaps(e))
        }
        onSourceUnload(e) {
            let t = this._gpuSources[e.uid];
            t && (this._gpuSources[e.uid] = null,
            t.destroy())
        }
        onUpdateMipmaps(e) {
            this._mipmapGenerator || (this._mipmapGenerator = new uh(this._gpu.device));
            let t = this.getGpuSource(e);
            this._mipmapGenerator.generateMipmap(t)
        }
        onSourceDestroy(e) {
            e.off("update", this.onSourceUpdate, this),
            e.off("unload", this.onSourceUnload, this),
            e.off("destroy", this.onSourceDestroy, this),
            e.off("resize", this.onSourceResize, this),
            e.off("updateMipmaps", this.onUpdateMipmaps, this),
            this.managedTextures.splice(this.managedTextures.indexOf(e), 1),
            this.onSourceUnload(e)
        }
        onSourceResize(e) {
            let t = this._gpuSources[e.uid];
            t ? (t.width !== e.pixelWidth || t.height !== e.pixelHeight) && (this._textureViewHash[e.uid] = null,
            this._bindGroupHash[e.uid] = null,
            this.onSourceUnload(e),
            this.initSource(e)) : this.initSource(e)
        }
        _initSampler(e) {
            return this._gpuSamplers[e._resourceId] = this._gpu.device.createSampler(e),
            this._gpuSamplers[e._resourceId]
        }
        getGpuSampler(e) {
            return this._gpuSamplers[e._resourceId] || this._initSampler(e)
        }
        getGpuSource(e) {
            return this._gpuSources[e.uid] || this.initSource(e)
        }
        getTextureBindGroup(e) {
            var t;
            return (t = this._bindGroupHash[e.uid]) != null ? t : this._createTextureBindGroup(e)
        }
        _createTextureBindGroup(e) {
            let t = e.source;
            return this._bindGroupHash[e.uid] = new Ht({
                0: t,
                1: t.style,
                2: new Je({
                    uTextureMatrix: {
                        type: "mat3x3<f32>",
                        value: e.textureMatrix.mapCoord
                    }
                })
            }),
            this._bindGroupHash[e.uid]
        }
        getTextureView(e) {
            var t;
            let i = e.source;
            return (t = this._textureViewHash[i.uid]) != null ? t : this._createTextureView(i)
        }
        _createTextureView(e) {
            return this._textureViewHash[e.uid] = this.getGpuSource(e).createView(),
            this._textureViewHash[e.uid]
        }
        generateCanvas(e) {
            let t = this._renderer
              , i = t.gpu.device.createCommandEncoder()
              , s = ve.get().createCanvas();
            s.width = e.source.pixelWidth,
            s.height = e.source.pixelHeight;
            let r = s.getContext("webgpu");
            return r.configure({
                device: t.gpu.device,
                usage: GPUTextureUsage.COPY_DST | GPUTextureUsage.COPY_SRC,
                format: ve.get().getNavigator().gpu.getPreferredCanvasFormat(),
                alphaMode: "premultiplied"
            }),
            i.copyTextureToTexture({
                texture: t.texture.getGpuSource(e.source),
                origin: {
                    x: 0,
                    y: 0
                }
            }, {
                texture: r.getCurrentTexture()
            }, {
                width: s.width,
                height: s.height
            }),
            t.gpu.device.queue.submit([i.finish()]),
            s
        }
        getPixels(e) {
            let t = this.generateCanvas(e)
              , i = ha.getOptimalCanvasAndContext(t.width, t.height)
              , s = i.context;
            s.drawImage(t, 0, 0);
            let {width: r, height: o} = t
              , d = s.getImageData(0, 0, r, o)
              , f = new Uint8ClampedArray(d.data.buffer);
            return ha.returnCanvasAndContext(i),
            {
                pixels: f,
                width: r,
                height: o
            }
        }
        destroy() {
            this.managedTextures.slice().forEach(e => this.onSourceDestroy(e)),
            this.managedTextures = null;
            for (let e of Object.keys(this._bindGroupHash)) {
                let t = Number(e)
                  , i = this._bindGroupHash[t];
                i?.destroy(),
                this._bindGroupHash[t] = null
            }
            this._gpu = null,
            this._mipmapGenerator = null,
            this._gpuSources = null,
            this._bindGroupHash = null,
            this._textureViewHash = null,
            this._gpuSamplers = null
        }
    }
    ;
    Mo.extension = {
        type: [B.WebGPUSystem],
        name: "texture"
    };
    var Co = class {
        init() {
            let e = new Je({
                uTransformMatrix: {
                    value: new ie,
                    type: "mat3x3<f32>"
                },
                uColor: {
                    value: new Float32Array([1, 1, 1, 1]),
                    type: "vec4<f32>"
                },
                uRound: {
                    value: 0,
                    type: "f32"
                }
            })
              , t = $s({
                name: "graphics",
                bits: [wh, Eh(ki()), ug, qs]
            });
            this.shader = new ft({
                gpuProgram: t,
                resources: {
                    localUniforms: e
                }
            })
        }
        execute(e, t) {
            let i = t.context
              , s = i.customShader || this.shader
              , r = e.renderer
              , o = r.graphicsContext
              , {batcher: d, instructions: f} = o.getContextRenderData(i)
              , h = r.encoder;
            h.setGeometry(d.geometry, s.gpuProgram);
            let u = r.globalUniforms.bindGroup;
            h.setBindGroup(0, u, s.gpuProgram);
            let p = r.renderPipes.uniformBatch.getUniformBindGroup(s.resources.localUniforms, !0);
            h.setBindGroup(2, p, s.gpuProgram);
            let x = f.instructions
              , _ = null;
            for (let T = 0; T < f.instructionSize; T++) {
                let S = x[T];
                if (S.topology !== _ && (_ = S.topology,
                h.setPipelineFromGeometryProgramAndState(d.geometry, s.gpuProgram, e.state, S.topology)),
                s.groups[1] = S.bindGroup,
                !S.gpuBindGroup) {
                    let A = S.textures;
                    S.bindGroup = Sh(A.textures, A.count),
                    S.gpuBindGroup = r.bindGroup.getBindGroup(S.bindGroup, s.gpuProgram, 1)
                }
                h.setBindGroup(1, S.bindGroup, s.gpuProgram),
                h.renderPassEncoder.drawIndexed(S.size, 1, S.start)
            }
        }
        destroy() {
            this.shader.destroy(!0),
            this.shader = null
        }
    }
    ;
    Co.extension = {
        type: [B.WebGPUPipesAdaptor],
        name: "graphics"
    };
    var Oo = class {
        init() {
            let e = $s({
                name: "mesh",
                bits: [Ms, kx, qs]
            });
            this._shader = new ft({
                gpuProgram: e,
                resources: {
                    uTexture: K.EMPTY._source,
                    uSampler: K.EMPTY._source.style,
                    textureUniforms: {
                        uTextureMatrix: {
                            type: "mat3x3<f32>",
                            value: new ie
                        }
                    }
                }
            })
        }
        execute(e, t) {
            let i = e.renderer
              , s = t._shader;
            if (!s)
                s = this._shader,
                s.groups[2] = i.texture.getTextureBindGroup(t.texture);
            else if (!s.gpuProgram)
                return;
            let r = s.gpuProgram;
            if (r.autoAssignGlobalUniforms && (s.groups[0] = i.globalUniforms.bindGroup),
            r.autoAssignLocalUniforms) {
                let o = e.localUniforms;
                s.groups[1] = i.renderPipes.uniformBatch.getUniformBindGroup(o, !0)
            }
            i.encoder.draw({
                geometry: t._geometry,
                shader: s,
                state: t.state
            })
        }
        destroy() {
            this._shader.destroy(!0),
            this._shader = null
        }
    }
    ;
    Oo.extension = {
        type: [B.WebGPUPipesAdaptor],
        name: "mesh"
    };
    var uT = [...$3, So, vo, Ys, xo, Mo, Eo, Po, Ro, Ao, yo, To, _o]
      , bT = [...K3, wo]
      , pT = [Vn, Oo, Co]
      , t5 = []
      , a5 = []
      , i5 = [];
    pe.handleByNamedList(B.WebGPUSystem, t5),
    pe.handleByNamedList(B.WebGPUPipes, a5),
    pe.handleByNamedList(B.WebGPUPipesAdaptor, i5),
    pe.add(...uT, ...bT, ...pT);
    var bh = class extends jo {
        constructor() {
            let e = {
                name: "webgpu",
                type: xt.WEBGPU,
                systems: t5,
                renderPipes: a5,
                renderPipeAdaptors: i5
            };
            super(e)
        }
    }
      , gT = {
        __proto__: null,
        WebGPURenderer: bh
    }
      , mT = {
        POINTS: "point-list",
        LINES: "line-list",
        LINE_STRIP: "line-strip",
        TRIANGLES: "triangle-list",
        TRIANGLE_STRIP: "triangle-strip"
    }
      , _S = new Proxy(mT,{
        get(a, e) {
            return a[e]
        }
    })
      , xS = new Pe(0,0,1,1);
    var _T = (a => (a[a.NONE = 0] = "NONE",
    a[a.LOW = 2] = "LOW",
    a[a.MEDIUM = 4] = "MEDIUM",
    a[a.HIGH = 8] = "HIGH",
    a))(_T || {})
      , s5 = (a => (a.CLAMP = "clamp-to-edge",
    a.REPEAT = "repeat",
    a.MIRRORED_REPEAT = "mirror-repeat",
    a))(s5 || {})
      , yS = new Proxy(s5,{
        get(a, e) {
            return a[e]
        }
    })
      , r5 = (a => (a.NEAREST = "nearest",
    a.LINEAR = "linear",
    a))(r5 || {})
      , vS = new Proxy(r5,{
        get(a, e) {
            return a[e]
        }
    });
    var xT = Object.defineProperty
      , q1 = Object.getOwnPropertySymbols
      , yT = Object.prototype.hasOwnProperty
      , vT = Object.prototype.propertyIsEnumerable
      , Z1 = (a, e, t) => e in a ? xT(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , Q1 = (a, e) => {
        for (var t in e || (e = {}))
            yT.call(e, t) && Z1(a, t, e[t]);
        if (q1)
            for (var t of q1(e))
                vT.call(e, t) && Z1(a, t, e[t]);
        return a
    }
      , TT = class n5 extends he {
        constructor(e={}) {
            e = Q1(Q1({}, n5.defaultOptions), e),
            super(),
            this.renderLayerChildren = [],
            this.sortableChildren = e.sortableChildren,
            this.sortFunction = e.sortFunction
        }
        attach(...e) {
            for (let t = 0; t < e.length; t++) {
                let i = e[t];
                if (i.parentRenderLayer) {
                    if (i.parentRenderLayer === this)
                        continue;
                    i.parentRenderLayer.detach(i)
                }
                this.renderLayerChildren.push(i),
                i.parentRenderLayer = this;
                let s = this.renderGroup || this.parentRenderGroup;
                s && (s.structureDidChange = !0)
            }
            return e[0]
        }
        detach(...e) {
            for (let t = 0; t < e.length; t++) {
                let i = e[t]
                  , s = this.renderLayerChildren.indexOf(i);
                s !== -1 && this.renderLayerChildren.splice(s, 1),
                i.parentRenderLayer = null;
                let r = this.renderGroup || this.parentRenderGroup;
                r && (r.structureDidChange = !0)
            }
            return e[0]
        }
        detachAll() {
            let e = this.renderLayerChildren;
            for (let t = 0; t < e.length; t++)
                e[t].parentRenderLayer = null;
            this.renderLayerChildren.length = 0
        }
        collectRenderables(e, t, i) {
            let s = this.renderLayerChildren
              , r = s.length;
            this.sortableChildren && this.sortRenderLayerChildren();
            for (let o = 0; o < r; o++)
                s[o].parent || ta("Container must be added to both layer and scene graph. Layers only handle render order - the scene graph is required for transforms (addChild)", s[o]),
                s[o].collectRenderables(e, t, this)
        }
        sortRenderLayerChildren() {
            this.renderLayerChildren.sort(this.sortFunction)
        }
        _getGlobalBoundsRecursive(e, t, i) {
            if (!e)
                return;
            let s = this.renderLayerChildren;
            for (let r = 0; r < s.length; r++)
                s[r]._getGlobalBoundsRecursive(!0, t, this)
        }
    }
    ;
    TT.defaultOptions = {
        sortableChildren: !1,
        sortFunction: (a, e) => a.zIndex - e.zIndex
    };
    function ST(a, e, t, i) {
        let s = t.buffers[0]
          , r = s.data
          , {verticesX: o, verticesY: d} = t
          , f = a / (o - 1)
          , h = e / (d - 1)
          , u = 0
          , p = i[0]
          , x = i[1]
          , _ = i[2]
          , T = i[3]
          , S = i[4]
          , A = i[5]
          , P = i[6]
          , O = i[7]
          , F = i[8];
        for (let k = 0; k < r.length; k += 2) {
            let V = u % o * f
              , L = (u / o | 0) * h
              , X = p * V + x * L + _
              , se = T * V + S * L + A
              , ce = P * V + O * L + F;
            r[k] = X / ce,
            r[k + 1] = se / ce,
            u++
        }
        s.update()
    }
    function o5(a, e) {
        let t = e[0]
          , i = e[1]
          , s = e[2]
          , r = e[3]
          , o = e[4]
          , d = e[5]
          , f = e[6]
          , h = e[7]
          , u = e[8];
        return a[0] = o * u - d * h,
        a[1] = s * h - i * u,
        a[2] = i * d - s * o,
        a[3] = d * f - r * u,
        a[4] = t * u - s * f,
        a[5] = s * r - t * d,
        a[6] = r * h - o * f,
        a[7] = i * f - t * h,
        a[8] = t * o - i * r,
        a
    }
    function c5(a, e, t) {
        let i = e[0]
          , s = e[1]
          , r = e[2]
          , o = e[3]
          , d = e[4]
          , f = e[5]
          , h = e[6]
          , u = e[7]
          , p = e[8]
          , x = t[0]
          , _ = t[1]
          , T = t[2]
          , S = t[3]
          , A = t[4]
          , P = t[5]
          , O = t[6]
          , F = t[7]
          , k = t[8];
        return a[0] = x * i + _ * o + T * h,
        a[1] = x * s + _ * d + T * u,
        a[2] = x * r + _ * f + T * p,
        a[3] = S * i + A * o + P * h,
        a[4] = S * s + A * d + P * u,
        a[5] = S * r + A * f + P * p,
        a[6] = O * i + F * o + k * h,
        a[7] = O * s + F * d + k * u,
        a[8] = O * r + F * f + k * p,
        a
    }
    function wT(a, e, t) {
        let i = t[0]
          , s = t[1]
          , r = t[2];
        return a[0] = e[0] * i + e[1] * s + e[2] * r,
        a[1] = e[3] * i + e[4] * s + e[5] * r,
        a[2] = e[6] * i + e[7] * s + e[8] * r,
        a
    }
    var AT = [0, 0, 0, 0, 0, 0, 0, 0, 0]
      , ET = [0, 0, 0]
      , Ur = [0, 0, 0];
    function J1(a, e, t, i, s, r, o, d, f) {
        let h = AT;
        h[0] = e,
        h[1] = i,
        h[2] = r,
        h[3] = t,
        h[4] = s,
        h[5] = o,
        h[6] = 1,
        h[7] = 1,
        h[8] = 1;
        let u = o5(a, h);
        Ur[0] = d,
        Ur[1] = f,
        Ur[2] = 1;
        let p = wT(ET, u, Ur)
          , x = a;
        return a[0] = p[0],
        a[1] = 0,
        a[2] = 0,
        a[3] = 0,
        a[4] = p[1],
        a[5] = 0,
        a[6] = 0,
        a[7] = 0,
        a[8] = p[2],
        c5(a, x, h)
    }
    var PT = [0, 0, 0, 0, 0, 0, 0, 0, 0]
      , RT = [0, 0, 0, 0, 0, 0, 0, 0, 0];
    function MT(a, e, t, i, s, r, o, d, f, h, u, p, x, _, T, S, A) {
        let P = J1(PT, e, t, r, o, h, u, _, T)
          , O = J1(RT, i, s, d, f, p, x, S, A);
        return c5(a, o5(P, P), O)
    }
    var ph = class extends Op {
        constructor(e) {
            super(e),
            this._projectionMatrix = [0, 0, 0, 0, 0, 0, 0, 0, 0];
            let {width: t, height: i} = e;
            this.corners = [0, 0, t, 0, t, i, 0, i]
        }
        setCorners(e, t, i, s, r, o, d, f) {
            let h = this.corners;
            h[0] = e,
            h[1] = t,
            h[2] = i,
            h[3] = s,
            h[4] = r,
            h[5] = o,
            h[6] = d,
            h[7] = f,
            this.updateProjection()
        }
        updateProjection() {
            let {width: e, height: t} = this
              , i = this.corners
              , s = MT(this._projectionMatrix, 0, 0, i[0], i[1], e, 0, i[2], i[3], e, t, i[4], i[5], 0, t, i[6], i[7]);
            ST(e, t, this, s)
        }
    }
      , CT = Object.defineProperty
      , OT = Object.defineProperties
      , IT = Object.getOwnPropertyDescriptors
      , Io = Object.getOwnPropertySymbols
      , d5 = Object.prototype.hasOwnProperty
      , f5 = Object.prototype.propertyIsEnumerable
      , e2 = (a, e, t) => e in a ? CT(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , Ed = (a, e) => {
        for (var t in e || (e = {}))
            d5.call(e, t) && e2(a, t, e[t]);
        if (Io)
            for (var t of Io(e))
                f5.call(e, t) && e2(a, t, e[t]);
        return a
    }
      , GT = (a, e) => OT(a, IT(e))
      , BT = (a, e) => {
        var t = {};
        for (var i in a)
            d5.call(a, i) && e.indexOf(i) < 0 && (t[i] = a[i]);
        if (a != null && Io)
            for (var i of Io(a))
                e.indexOf(i) < 0 && f5.call(a, i) && (t[i] = a[i]);
        return t
    }
      , FT = class h5 extends ai {
        constructor(e) {
            e = Ed(Ed({}, h5.defaultOptions), e);
            let t = e
              , {texture: i, verticesX: s, verticesY: r} = t
              , o = BT(t, ["texture", "verticesX", "verticesY"])
              , d = new ph(Is({
                width: i.width,
                height: i.height,
                verticesX: s,
                verticesY: r
            }));
            super(Is(GT(Ed({}, o), {
                geometry: d
            }))),
            this._texture = i,
            this.geometry.setCorners(e.x0, e.y0, e.x1, e.y1, e.x2, e.y2, e.x3, e.y3)
        }
        textureUpdated() {
            let e = this.geometry;
            if (!e)
                return;
            let {width: t, height: i} = this.texture;
            (e.width !== t || e.height !== i) && (e.width = t,
            e.height = i,
            e.updateProjection())
        }
        set texture(e) {
            this._texture !== e && (super.texture = e,
            this.textureUpdated())
        }
        get texture() {
            return this._texture
        }
        setCorners(e, t, i, s, r, o, d, f) {
            this.geometry.setCorners(e, t, i, s, r, o, d, f)
        }
    }
    ;
    FT.defaultOptions = {
        texture: K.WHITE,
        verticesX: 10,
        verticesY: 10,
        x0: 0,
        y0: 0,
        x1: 100,
        y1: 0,
        x2: 100,
        y2: 100,
        x3: 0,
        y3: 100
    };
    var DT = Object.defineProperty
      , t2 = Object.getOwnPropertySymbols
      , kT = Object.prototype.hasOwnProperty
      , UT = Object.prototype.propertyIsEnumerable
      , a2 = (a, e, t) => e in a ? DT(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , i2 = (a, e) => {
        for (var t in e || (e = {}))
            kT.call(e, t) && a2(a, t, e[t]);
        if (t2)
            for (var t of t2(e))
                UT.call(e, t) && a2(a, t, e[t]);
        return a
    }
      , l5 = class u5 extends Js {
        constructor(e) {
            let {width: t, points: i, textureScale: s} = i2(i2({}, u5.defaultOptions), e);
            super({
                positions: new Float32Array(i.length * 4),
                uvs: new Float32Array(i.length * 4),
                indices: new Uint32Array((i.length - 1) * 6)
            }),
            this.points = i,
            this._width = t,
            this.textureScale = s,
            this._build()
        }
        get width() {
            return this._width
        }
        _build() {
            let e = this.points;
            if (!e)
                return;
            let t = this.getBuffer("aPosition")
              , i = this.getBuffer("aUV")
              , s = this.getIndex();
            if (e.length < 1)
                return;
            t.data.length / 4 !== e.length && (t.data = new Float32Array(e.length * 4),
            i.data = new Float32Array(e.length * 4),
            s.data = new Uint16Array((e.length - 1) * 6));
            let r = i.data
              , o = s.data;
            r[0] = 0,
            r[1] = 0,
            r[2] = 0,
            r[3] = 1;
            let d = 0
              , f = e[0]
              , h = this._width * this.textureScale
              , u = e.length;
            for (let x = 0; x < u; x++) {
                let _ = x * 4;
                if (this.textureScale > 0) {
                    let T = f.x - e[x].x
                      , S = f.y - e[x].y
                      , A = Math.sqrt(T * T + S * S);
                    f = e[x],
                    d += A / h
                } else
                    d = x / (u - 1);
                r[_] = d,
                r[_ + 1] = 0,
                r[_ + 2] = d,
                r[_ + 3] = 1
            }
            let p = 0;
            for (let x = 0; x < u - 1; x++) {
                let _ = x * 2;
                o[p++] = _,
                o[p++] = _ + 1,
                o[p++] = _ + 2,
                o[p++] = _ + 2,
                o[p++] = _ + 1,
                o[p++] = _ + 3
            }
            i.update(),
            s.update(),
            this.updateVertices()
        }
        updateVertices() {
            let e = this.points;
            if (e.length < 1)
                return;
            let t = e[0], i, s = 0, r = 0, o = this.buffers[0].data, d = e.length, f = this.textureScale > 0 ? this.textureScale * this._width / 2 : this._width / 2;
            for (let h = 0; h < d; h++) {
                let u = e[h]
                  , p = h * 4;
                h < e.length - 1 ? i = e[h + 1] : i = u,
                r = -(i.x - t.x),
                s = i.y - t.y;
                let x = (1 - h / (d - 1)) * 10;
                x > 1 && (x = 1);
                let _ = Math.sqrt(s * s + r * r);
                _ < 1e-6 ? (s = 0,
                r = 0) : (s /= _,
                r /= _,
                s *= f,
                r *= f),
                o[p] = u.x + s,
                o[p + 1] = u.y + r,
                o[p + 2] = u.x - s,
                o[p + 3] = u.y - r,
                t = u
            }
            this.buffers[0].update()
        }
        update() {
            this.textureScale > 0 ? this._build() : this.updateVertices()
        }
    }
    ;
    l5.defaultOptions = {
        width: 200,
        points: [],
        textureScale: 0
    };
    var LT = l5
      , NT = Object.defineProperty
      , jT = Object.defineProperties
      , XT = Object.getOwnPropertyDescriptors
      , Go = Object.getOwnPropertySymbols
      , b5 = Object.prototype.hasOwnProperty
      , p5 = Object.prototype.propertyIsEnumerable
      , s2 = (a, e, t) => e in a ? NT(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , Pd = (a, e) => {
        for (var t in e || (e = {}))
            b5.call(e, t) && s2(a, t, e[t]);
        if (Go)
            for (var t of Go(e))
                p5.call(e, t) && s2(a, t, e[t]);
        return a
    }
      , HT = (a, e) => jT(a, XT(e))
      , zT = (a, e) => {
        var t = {};
        for (var i in a)
            b5.call(a, i) && e.indexOf(i) < 0 && (t[i] = a[i]);
        if (a != null && Go)
            for (var i of Go(a))
                e.indexOf(i) < 0 && p5.call(a, i) && (t[i] = a[i]);
        return t
    }
      , VT = class g5 extends ai {
        constructor(e) {
            let t = Pd(Pd({}, g5.defaultOptions), e)
              , {texture: i, points: s, textureScale: r} = t
              , o = zT(t, ["texture", "points", "textureScale"])
              , d = new LT(Is({
                width: i.height,
                points: s,
                textureScale: r
            }));
            r > 0 && (i.source.style.addressMode = "repeat"),
            super(Is(HT(Pd({}, o), {
                texture: i,
                geometry: d
            }))),
            this.autoUpdate = !0,
            this.onRender = this._render
        }
        _render() {
            let e = this.geometry;
            (this.autoUpdate || e._width !== this.texture.height) && (e._width = this.texture.height,
            e.update())
        }
    }
    ;
    VT.defaultOptions = {
        textureScale: 0
    };
    var WT = Object.defineProperty
      , r2 = Object.getOwnPropertySymbols
      , YT = Object.prototype.hasOwnProperty
      , $T = Object.prototype.propertyIsEnumerable
      , n2 = (a, e, t) => e in a ? WT(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , o2 = (a, e) => {
        for (var t in e || (e = {}))
            YT.call(e, t) && n2(a, t, e[t]);
        if (r2)
            for (var t of r2(e))
                $T.call(e, t) && n2(a, t, e[t]);
        return a
    }
      , KT = class gh {
        constructor(e) {
            if (e instanceof K)
                this.texture = e,
                kd(this, gh.defaultOptions, {});
            else {
                let t = o2(o2({}, gh.defaultOptions), e);
                kd(this, t, {})
            }
        }
        get alpha() {
            return this._alpha
        }
        set alpha(e) {
            this._alpha = Math.min(Math.max(e, 0), 1),
            this._updateColor()
        }
        get tint() {
            return Ss(this._tint)
        }
        set tint(e) {
            typeof e == "number" ? this._tint = e : this._tint = Ee.shared.setValue(e ?? 16777215).toBgrNumber(),
            this._updateColor()
        }
        _updateColor() {
            this.color = this._tint + ((this._alpha * 255 | 0) << 24)
        }
    }
    ;
    KT.defaultOptions = {
        anchorX: 0,
        anchorY: 0,
        x: 0,
        y: 0,
        scaleX: 1,
        scaleY: 1,
        rotation: 0,
        tint: 16777215,
        alpha: 1
    };
    var c2 = {
        vertex: {
            attributeName: "aVertex",
            format: "float32x2",
            code: `
const texture = p.texture;
const sx = p.scaleX;
const sy = p.scaleY;
const ax = p.anchorX;
const ay = p.anchorY;
const trim = texture.trim;
const orig = texture.orig;

if (trim)
{
w1 = trim.x - (ax * orig.width);
w0 = w1 + trim.width;

h1 = trim.y - (ay * orig.height);
h0 = h1 + trim.height;
}
else
{
w1 = -ax * (orig.width);
w0 = w1 + orig.width;

h1 = -ay * (orig.height);
h0 = h1 + orig.height;
}

f32v[offset] = w1 * sx;
f32v[offset + 1] = h1 * sy;

f32v[offset + stride] = w0 * sx;
f32v[offset + stride + 1] = h1 * sy;

f32v[offset + (stride * 2)] = w0 * sx;
f32v[offset + (stride * 2) + 1] = h0 * sy;

f32v[offset + (stride * 3)] = w1 * sx;
f32v[offset + (stride * 3) + 1] = h0 * sy;
`,
            dynamic: !1
        },
        position: {
            attributeName: "aPosition",
            format: "float32x2",
            code: `
var x = p.x;
var y = p.y;

f32v[offset] = x;
f32v[offset + 1] = y;

f32v[offset + stride] = x;
f32v[offset + stride + 1] = y;

f32v[offset + (stride * 2)] = x;
f32v[offset + (stride * 2) + 1] = y;

f32v[offset + (stride * 3)] = x;
f32v[offset + (stride * 3) + 1] = y;
`,
            dynamic: !0
        },
        rotation: {
            attributeName: "aRotation",
            format: "float32",
            code: `
var rotation = p.rotation;

f32v[offset] = rotation;
f32v[offset + stride] = rotation;
f32v[offset + (stride * 2)] = rotation;
f32v[offset + (stride * 3)] = rotation;
`,
            dynamic: !1
        },
        uvs: {
            attributeName: "aUV",
            format: "float32x2",
            code: `
var uvs = p.texture.uvs;

f32v[offset] = uvs.x0;
f32v[offset + 1] = uvs.y0;

f32v[offset + stride] = uvs.x1;
f32v[offset + stride + 1] = uvs.y1;

f32v[offset + (stride * 2)] = uvs.x2;
f32v[offset + (stride * 2) + 1] = uvs.y2;

f32v[offset + (stride * 3)] = uvs.x3;
f32v[offset + (stride * 3) + 1] = uvs.y3;
`,
            dynamic: !1
        },
        color: {
            attributeName: "aColor",
            format: "unorm8x4",
            code: `
const c = p.color;

u32v[offset] = c;
u32v[offset + stride] = c;
u32v[offset + (stride * 2)] = c;
u32v[offset + (stride * 3)] = c;
`,
            dynamic: !1
        }
    }
      , qT = Object.defineProperty
      , ZT = Object.defineProperties
      , QT = Object.getOwnPropertyDescriptors
      , Bo = Object.getOwnPropertySymbols
      , m5 = Object.prototype.hasOwnProperty
      , _5 = Object.prototype.propertyIsEnumerable
      , d2 = (a, e, t) => e in a ? qT(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , Ti = (a, e) => {
        for (var t in e || (e = {}))
            m5.call(e, t) && d2(a, t, e[t]);
        if (Bo)
            for (var t of Bo(e))
                _5.call(e, t) && d2(a, t, e[t]);
        return a
    }
      , f2 = (a, e) => ZT(a, QT(e))
      , JT = (a, e) => {
        var t = {};
        for (var i in a)
            m5.call(a, i) && e.indexOf(i) < 0 && (t[i] = a[i]);
        if (a != null && Bo)
            for (var i of Bo(a))
                e.indexOf(i) < 0 && _5.call(a, i) && (t[i] = a[i]);
        return t
    }
      , eS = new qe(0,0,0,0)
      , tS = class mh extends ua {
        constructor(e={}) {
            e = f2(Ti(Ti({}, mh.defaultOptions), e), {
                dynamicProperties: Ti(Ti({}, mh.defaultOptions.dynamicProperties), e?.dynamicProperties)
            });
            let t = e
              , {dynamicProperties: i, shader: s, roundPixels: r, texture: o, particles: d} = t
              , f = JT(t, ["dynamicProperties", "shader", "roundPixels", "texture", "particles"]);
            super(Ti({
                label: "ParticleContainer"
            }, f)),
            this.renderPipeId = "particle",
            this.batched = !1,
            this._childrenDirty = !1,
            this.texture = o || null,
            this.shader = s,
            this._properties = {};
            for (let h in c2) {
                let u = c2[h]
                  , p = i[h];
                this._properties[h] = f2(Ti({}, u), {
                    dynamic: p
                })
            }
            this.allowChildren = !0,
            this.roundPixels = r ?? !1,
            this.particleChildren = d ?? []
        }
        addParticle(...e) {
            for (let t = 0; t < e.length; t++)
                this.particleChildren.push(e[t]);
            return this.onViewUpdate(),
            e[0]
        }
        removeParticle(...e) {
            let t = !1;
            for (let i = 0; i < e.length; i++) {
                let s = this.particleChildren.indexOf(e[i]);
                s > -1 && (this.particleChildren.splice(s, 1),
                t = !0)
            }
            return t && this.onViewUpdate(),
            e[0]
        }
        update() {
            this._childrenDirty = !0
        }
        onViewUpdate() {
            this._childrenDirty = !0,
            super.onViewUpdate()
        }
        get bounds() {
            return eS
        }
        updateBounds() {}
        destroy(e=!1) {
            var t, i, s;
            if (super.destroy(e),
            typeof e == "boolean" ? e : e?.texture) {
                let r = typeof e == "boolean" ? e : e?.textureSource
                  , o = (i = this.texture) != null ? i : (t = this.particleChildren[0]) == null ? void 0 : t.texture;
                o && o.destroy(r)
            }
            this.texture = null,
            (s = this.shader) == null || s.destroy()
        }
        removeParticles(e, t) {
            let i = this.particleChildren.splice(e, t);
            return this.onViewUpdate(),
            i
        }
        removeParticleAt(e) {
            let t = this.particleChildren.splice(e, 1);
            return this.onViewUpdate(),
            t[0]
        }
        addParticleAt(e, t) {
            return this.particleChildren.splice(t, 0, e),
            this.onViewUpdate(),
            e
        }
        addChild(...e) {
            throw new Error("ParticleContainer.addChild() is not available. Please use ParticleContainer.addParticle()")
        }
        removeChild(...e) {
            throw new Error("ParticleContainer.removeChild() is not available. Please use ParticleContainer.removeParticle()")
        }
        removeChildren(e, t) {
            throw new Error("ParticleContainer.removeChildren() is not available. Please use ParticleContainer.removeParticles()")
        }
        removeChildAt(e) {
            throw new Error("ParticleContainer.removeChildAt() is not available. Please use ParticleContainer.removeParticleAt()")
        }
        getChildAt(e) {
            throw new Error("ParticleContainer.getChildAt() is not available. Please use ParticleContainer.getParticleAt()")
        }
        setChildIndex(e, t) {
            throw new Error("ParticleContainer.setChildIndex() is not available. Please use ParticleContainer.setParticleIndex()")
        }
        getChildIndex(e) {
            throw new Error("ParticleContainer.getChildIndex() is not available. Please use ParticleContainer.getParticleIndex()")
        }
        addChildAt(e, t) {
            throw new Error("ParticleContainer.addChildAt() is not available. Please use ParticleContainer.addParticleAt()")
        }
        swapChildren(e, t) {
            throw new Error("ParticleContainer.swapChildren() is not available. Please use ParticleContainer.swapParticles()")
        }
        reparentChild(...e) {
            throw new Error("ParticleContainer.reparentChild() is not available with the particle container")
        }
        reparentChildAt(e, t) {
            throw new Error("ParticleContainer.reparentChildAt() is not available with the particle container")
        }
    }
    ;
    tS.defaultOptions = {
        dynamicProperties: {
            vertex: !1,
            position: !0,
            rotation: !1,
            uvs: !1,
            color: !1
        },
        roundPixels: !1
    };
    var aS = Object.defineProperty
      , Fo = Object.getOwnPropertySymbols
      , x5 = Object.prototype.hasOwnProperty
      , y5 = Object.prototype.propertyIsEnumerable
      , h2 = (a, e, t) => e in a ? aS(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , iS = (a, e) => {
        for (var t in e || (e = {}))
            x5.call(e, t) && h2(a, t, e[t]);
        if (Fo)
            for (var t of Fo(e))
                y5.call(e, t) && h2(a, t, e[t]);
        return a
    }
      , sS = (a, e) => {
        var t = {};
        for (var i in a)
            x5.call(a, i) && e.indexOf(i) < 0 && (t[i] = a[i]);
        if (a != null && Fo)
            for (var i of Fo(a))
                e.indexOf(i) < 0 && y5.call(a, i) && (t[i] = a[i]);
        return t
    }
      , rS = class v5 extends ua {
        constructor(e) {
            var t, i, s, r, o, d, f, h, u, p;
            e instanceof K && (e = {
                texture: e
            });
            let x = e
              , {width: _, height: T, leftWidth: S, rightWidth: A, topHeight: P, bottomHeight: O, texture: F, roundPixels: k} = x
              , V = sS(x, ["width", "height", "leftWidth", "rightWidth", "topHeight", "bottomHeight", "texture", "roundPixels"]);
            super(iS({
                label: "NineSliceSprite"
            }, V)),
            this.renderPipeId = "nineSliceSprite",
            this.batched = !0,
            this._leftWidth = (i = S ?? ((t = F?.defaultBorders) == null ? void 0 : t.left)) != null ? i : Za.defaultOptions.leftWidth,
            this._topHeight = (r = P ?? ((s = F?.defaultBorders) == null ? void 0 : s.top)) != null ? r : Za.defaultOptions.topHeight,
            this._rightWidth = (d = A ?? ((o = F?.defaultBorders) == null ? void 0 : o.right)) != null ? d : Za.defaultOptions.rightWidth,
            this._bottomHeight = (h = O ?? ((f = F?.defaultBorders) == null ? void 0 : f.bottom)) != null ? h : Za.defaultOptions.bottomHeight,
            this.bounds.maxX = this._width = (u = _ ?? F.width) != null ? u : Za.defaultOptions.width,
            this.bounds.maxY = this._height = (p = T ?? F.height) != null ? p : Za.defaultOptions.height,
            this.allowChildren = !1,
            this.texture = F ?? v5.defaultOptions.texture,
            this.roundPixels = k ?? !1
        }
        updateBounds() {}
        get width() {
            return this._width
        }
        set width(e) {
            this.bounds.maxX = this._width = e,
            this.onViewUpdate()
        }
        get height() {
            return this._height
        }
        set height(e) {
            this.bounds.maxY = this._height = e,
            this.onViewUpdate()
        }
        setSize(e, t) {
            var i;
            typeof e == "object" && (t = (i = e.height) != null ? i : e.width,
            e = e.width),
            this.bounds.maxX = this._width = e,
            this.bounds.maxY = this._height = t ?? e,
            this.onViewUpdate()
        }
        getSize(e) {
            return e || (e = {}),
            e.width = this._width,
            e.height = this._height,
            e
        }
        get leftWidth() {
            return this._leftWidth
        }
        set leftWidth(e) {
            this._leftWidth = e,
            this.onViewUpdate()
        }
        get topHeight() {
            return this._topHeight
        }
        set topHeight(e) {
            this._topHeight = e,
            this.onViewUpdate()
        }
        get rightWidth() {
            return this._rightWidth
        }
        set rightWidth(e) {
            this._rightWidth = e,
            this.onViewUpdate()
        }
        get bottomHeight() {
            return this._bottomHeight
        }
        set bottomHeight(e) {
            this._bottomHeight = e,
            this.onViewUpdate()
        }
        get texture() {
            return this._texture
        }
        set texture(e) {
            e || (e = K.EMPTY);
            let t = this._texture;
            t !== e && (t && t.dynamic && t.off("update", this.onViewUpdate, this),
            e.dynamic && e.on("update", this.onViewUpdate, this),
            this._texture = e,
            this.onViewUpdate())
        }
        get originalWidth() {
            return this._texture.width
        }
        get originalHeight() {
            return this._texture.height
        }
        destroy(e) {
            if (super.destroy(e),
            typeof e == "boolean" ? e : e?.texture) {
                let t = typeof e == "boolean" ? e : e?.textureSource;
                this._texture.destroy(t)
            }
            this._texture = null
        }
    }
    ;
    rS.defaultOptions = {
        texture: K.EMPTY
    };
    function Wo(a) {
        return !((1080 < a || a < 400) && a != 0)
    }
    function La(a) {
        a = encodeURIComponent(a);
        let e = Math.floor(256 * Math.random())
          , t = e.toString(16).padStart(2, "0");
        for (let i = 0; i < a.length; ++i)
            e = 3793 + 4513 * e & 255,
            t += (a.charCodeAt(i) ^ e).toString(16).padStart(2, "0");
        return t
    }
    function n(a) {
        let e = ""
          , t = parseInt(a.substring(0, 2), 16);
        for (let s = 2; s < a.length; s += 2) {
            var i = parseInt(a.substring(s, s + 2), 16);
            t = 3793 + 4513 * t & 255,
            e += String.fromCharCode(i ^ t)
        }
        return decodeURIComponent(e)
    }
    function Yo(a) {
        return a || ""
    }
    function Li(a) {
        return new Function(n("e12006601024893ddb6a").concat(a, n("c593743a")))()
    }
    function qo(a, e) {
        return a && typeof a == "object" && e && typeof e == "object" ? (Object.keys(e).forEach(t => {
            var i = a[t]
              , s = e[t];
            Array.isArray(i) && Array.isArray(s) ? a[t] = i.concat(s) : a[t] = i && typeof i == "object" && s && typeof s == "object" ? qo(Object.assign({}, i), s) : s
        }
        ),
        a) : e
    }
    function T5(a) {
        var e = new Uint16Array(a.length);
        for (let t = 0; t < a.length; ++t)
            e[t] = a.charCodeAt(t);
        return e
    }
    function Fh(a) {
        return 8 <= a.length && a[a.length - 7] === 65535 ? a.slice(-6) : null
    }
    function _e() {
        window.localStorage.setItem(n("c620fc2b95b8e3b3a836f7"), La(JSON.stringify(D)))
    }
    function ga(a) {
        C.Ah && (a = Math.max(D["1x"], Math.min(a, 50)),
        C.cc = a,
        ci.Di((C.cc - .25) / 4),
        C.sf.text = +a[n("9dfa701648eac630")](2) + n("03cc"))
    }
    var S5, vt, aa, Dh, w5, kh, A5, tr, Uh, E, E5, M, b, I, P5, C, D, ke, Da, Mt, Vt, $o, ar, Lh, Nh, R5, M5, ir, ri, jh, Ct, Ko, Ni, ka, Xh, ma, Wt, ni, oi, ci, _a, H, C5, ji, Xi, et, xa, Ua, Ze, J;
    P5 = class extends he {
        constructor(a) {
            super(),
            this.lf = Object.assign({
                qq: {
                    x: 1,
                    y: 1
                },
                lq: {
                    x: 1,
                    y: 1
                }
            }, a),
            this.initialize()
        }
        initialize() {
            this.da = this.lf.da,
            this.ia = this.lf.ia,
            "anchor"in this.da && this.da.anchor.set(.5),
            "anchor"in this.ia && this.ia.anchor.set(.5),
            this.addChild(this.da),
            this.addChild(this.ia),
            this.Wn()
        }
        Gf() {
            this.gp = this.width / 2.5,
            this.No = this.ia.width / 2
        }
        Wn() {
            this.Mk = function() {
                this.lf.pq?.()
            }
            ,
            this.ep = function() {
                this.ia.position.set(0, 0),
                this.lf.oq?.()
            }
            ,
            this.fp = function(a) {
                a = (t = this[n("9b38f2c2703340fe")](a)).x;
                var e = t.y
                  , t = Math.min(Math.sqrt(a * a + e * e), this.gp + this.No / 2);
                a = Math.atan2(e, a),
                this.ia.position.set(t * Math.cos(a), t * Math.sin(a)),
                this.lf.cp?.({
                    angle: a,
                    gk: t
                })
            }
        }
    }
    ,
    C = {
        k: n("d8c16e5fac5e3b9ca1941075c10760d698c918159b525cd291b5573781375dae81ac14289320"),
        Cn: n("ea8cdf8ecb4cf1a4c0459137b0e6c8f9c825cb628ce2a1e56767b1676dfeb1fc2478a3702bad96c0624af11750d0ab8c286df91e58cec58266"),
        Ec: null,
        Aj: 0,
        Ql: !1,
        Ah: !1,
        cc: 1,
        Sd: [],
        Qk: [],
        fj: [],
        jg: 0,
        ai: 0,
        gf: !1,
        rf: !1,
        sf: 0,
        uf: 0,
        lg: 0,
        tf: !1,
        Oh: [],
        cg: !1,
        ci: !0,
        Ha: 0,
        gg: !1,
        Od: null,
        Lb: null,
        jj: 0,
        z: {},
        Fj: 0,
        yb: 0,
        tj: 0,
        ui: 0,
        fd: !1,
        Gd: {},
        Zh: () => {}
    },
    D = {
        "1a": 0,
        "1b": 0,
        "1c": 0,
        "1d": 10,
        "1e": 0,
        "1f": 0,
        "1g": 0,
        "1h": !0,
        "1i": .25,
        "1j": 0,
        "1k": !0,
        "1l": !0,
        "1m": !0,
        "1n": !1,
        "1o": 0,
        "1p": 1,
        "1q": 1,
        "1r": 238,
        "1s": !0,
        "1t": 0,
        "1u": 0,
        "1v": 0,
        "1w": 24,
        "1x": .25,
        "1y": 0,
        "1z": 1,
        "1aa": 0,
        "1ab": 0,
        "1ac": 0,
        "1ae": 0,
        "1af": 0,
        "1ag": [],
        "1ah": {},
        "1ai": 0,
        "1aj": 0
    },
    ke = {},
    Da = {
        [n("ae7b1527d3b618b1")]: n("f460048191a45b2c993e1bfd46b3257e743432a36dab24767c3239ed3da000265a247897768e"),
        [n("5999abedbeab")]: C.k + n("feaaf2d77266a6796ff4edab4c72a17a2bad96c3757ce50b66c9bf"),
        [n("dd9d2ff102b7c6a6d5e4")]: C.k + n("475d7bfcbb09afd226e374f095edb8a172ba1fa8bcd3efe02ffe06"),
        [n("4d7ca375b4")]: C.k + n("67bd5b9c9be98fb206c354d0b5cd9881529a3f889cf3cec00fdee6"),
        [n("8acb25f3e5")]: C.k + n("2216d67356c28ad54358c90f68d69da61771b2275198cce74a259b"),
        [n("2f225dc3d00f")]: C.k + n("245054b1588c0817451e4bcd76681fe411b730740c5654fb52ea"),
        [n("1b8e5a2bade090")]: C.k + n("8b19bf387f3573eefa27b0b4512174edbe7edbfd407e51fcc4"),
        [n("bb2efa8b0d4073")]: C.k + n("d5e365ce29bfb9e0b4ad7aa227bb8ef3c0e421eb5885c5ec83b9"),
        [n("041721f23ae979")]: C.k + n("7f95b3b473c1679aeedbacc84dd56099aaf2d771219b3b76f9af"),
        [n("075a4e5fb90cb9")]: C.k + n("4cb8bc592054f0cf3dc6b3151e40f7cc799fd85c556e8cc30ad2"),
        [n("6a396b585ccf05")]: C.k + n("c351f7f0370d2bd6a21fe88c09e93ca5f6b693b561d777bab5eb"),
        [n("f88b7d6ece7d08")]: C.k + n("a7fd9b5c5ba94f72c6839410758d584192daff590cb3135ed197"),
        [n("fecd87b43023f3")]: C.k + n("7aae0ecb0e7a227debf061a7c07e257eafa90aeeb6407e51fcc4"),
        [n("1d4cd8f593221b")]: C.k + n("b583052e49dfd900d4cd1a4207dbae13e084010b70e5e50ca3d9"),
        [n("44d7c1327a29b3")]: C.k + n("34a04441487c18e755ee5b3d0678eff461a7c0752f7bedb67cafa06f3e46"),
        [n("e2b1e3d0d4479949")]: C.k + n("11a7a102e5f3752470e9be7edbe7723704a0e536c2f4407519a9852cc3f9"),
        [n("384b3dae0ebd4f3e")]: C.k + n("3bc90f68cf85a35e2a9760048191a45d6ece0b5ca862b66f63307b36b96f"),
        [n("089b0d7e3e6d7fed")]: C.k + n("73014720875d9b06124f585cb9596c15a606c314605a6e57bb09a30e6127"),
        [n("c7ba8e1f79cc7c0d")]: C.k + n("8abe7edbfe6a324dfbc07197d04e354ebf991acff94d071c93804ac5c850"),
        [n("1d4cd8f5932212e0")]: C.k + n("0470749178ac2837653e6bed56883f04315710857f8b3d462d59709f4e96"),
        [n("4053c5b676a5b722")]: C.k + n("483cb8dd3ce8ec733942b79112ccfb407d1bdcc93bcff90251078cc30ad2"),
        [n("79a8bc89cfde4e86")]: C.k + n("3eea3297322666392fb42deb0c32613a6bed56833501734864d53699340c"),
        [n("fa49fb28ccbff1a6")]: C.k + n("5c88ac691044c0df0dd683052e50c7dc498fe85d1723d5ee46f69837162e"),
        [n("8b7eca5b3d7020ba")]: C.k + n("2a1ede7b5eca92ad5b20d17770ae95ae1f79ba2f59ad67fc70672a2528b0"),
        [n("6cffe91a427183fa")]: C.k + n("e41014f198cc4857855e0b8db6a85f24d17770a59fab5d66ce7b10bf6eb6"),
        [n("304335a606b54437")]: C.k + n("ff153334f341e71a6e5b2c48cd55e0192a7257e0f426f2ab257f37faf52b"),
        [n("b9687cc90f1e8dc1")]: C.k + n("6b395f189f55930e1a475054b141940d5e1e3b1a921e6b02e4"),
        [n("21d0e47197a6156a")]: C.k + n("fa2e8e4b8efaa2fd6b70e12740fea5fe2f298a6963adfecb6244"),
        [n("5504902deb7a693f")]: C.k + n("3266c60346b29aa55328d97f78a66db66761423721ee31f73a356b"),
        [n("46954ffc786b3e69")]: C.k + n("f0e40005843054ab91aa1f79ba2453a825e30431636476e726a9243c"),
        [n("fc0f79ea32e17066")]: C.k + n("fdcb4df6f18761d86c95a28acf9366db28ccc9a2f63327f12128e7a6fe")
    },
    Mt = {
        [n("c8dd6f7dad6862eb")]: n("b90f09aa4d5bdd9ca85166c60357b29ca0556ece0b56bc2ebc3260"),
        [n("acad870ac6")]: n("4bd97f78bf75b32e3a6770749169ac2e3263787c99608827153a0826d4"),
        [n("bb2ddac25e1d2097f144add723116c88fb13b4d02e")]: n("cd9b7dc621b7b1e8bca572ba1fabaee8b4a17aa227b384f884bb06b501bb8ff5c0b116ce10cc9ed4c6"),
        [n("28bd051c094f5e8c5f741ce7")]: n("0c787c996094300f7d0673d55e882f0f75027bdd669a0d03411e489a58ca"),
        [n("f080552f953c57a693ba5b25d97f0e8079b02c3e652c27bb61b4")]: n("b34187e0471d5bc6d20f989c791134d6aa1be08401192ed6aa05acdd2eeb22a3bdaabaa130"),
        [n("0c0a0f9355aa7751242d17ab57")]: n("19afa90aedfb7d3c48f18666e3f7523c40f58e6eebe94e3f50ced20fdac8524654da88"),
        [n("982b93b8d5c8ec5ff93ea9")]: n("e89c187d9c484cd399a21771b22443a391a61f79ba2f57bc69a82d382a3836e4"),
        [n("6517b24dbc0f")]: n("a5b3151e59efc930c4fd0a5277c3c600dcc9125a7fcbce1993c34f43"),
        [n("384d3fcd73c15b3d7056cbc7")]: n("6d7bdd66811711481c05d21abf0b0e481401da024714e652ea1a60517d54e64cbe"),
        [n("700afb8e51f786063408f8823098eb")]: n("1d2bad96d16741b84c7582eaef7b5eb844718ad2f7495a89544ad68ad046529e1343cfc3"),
        [n("10ac1b3a553300")]: n("e17751521523857480394e2e2b3f9a44980d5616330b9e51981c55410d5d"),
        [n("16ea97e655")]: n("05d3b5fef98f69d0649daaf2d76366a07c69b2fadf6774a33363efe3"),
        [n("3575f2a4f8676ea2181c8fb1847e1abf107b")]: n("1206e66366d2bac57348f91f58ce95d54b5cc10760c48dd54b56995c42da89aa472eda2846f4"),
        [n("afa1ff637ea5101487aded0f09dc706b9ac2f17e06ba6004f7d0887c12b303729a29")]: n("1be92f48efa5c37e4ab70024e1b9dc7e42b3082ce981df435e851b4bc7db"),
        [n("f8ec7e72d9750fea44e8676b457074e72d9d727e4e6e6b9b28c4135b31216fc220a87f2f254866db05c35256604d43b61fdc2e4209455ada743857bb00a0323e1d314dae0ebd5b4b7934baa061d1bf327058afdf75b8b62e7513a286109db3661c0cde9379eca90a2408878b5090e20e4d01999e28858b063668")]: n("c7ddfb7c3b892f52a663f47015652022be67fc781d613960b260d2"),
        [n("1a78956657e1b4f80701d46c69fc")]: n("8cf8fc19e014b08ffd86f355de08af8ff582fb5de602c7b090d0a446c35ca9cf89bfdf11c4a4b1379147c7fed7e2d466cc3e"),
        [n("aaf925e7e71a4271f98a39e084773905fb893581f71d")]: n("fb89cfa80fc5e39e6ad720c4c1d9fc9e62d328ccc9abb44127e15737faa9f56b79e95e3aba92907e06971133e5e9db3446ac1e"),
        [n("1d5dda9e8420139f6a58f28be45b0eee1d4de0aef470")]: n("4a7e3e1b3eaa728d3b00315710866d8d3304395f189c4b9e0c06571807d9458959"),
        [n("94a49e2add3dffd9aca29829e154d0c3e6b4b5")]: n("dba9ef882fe503be8af7c0e421f91cbe82f3c8ec29c1198f96d0db8b079b"),
        [n("837cc037436b4135c419bf4e5c0c5ed5")]: n("5480a461285cf8c735cebb1d2650d7d70dda83052e51d98942d0de0c"),
        [n("ec7863f0bf821771c40c6f8eb5806902b2")]: n("ec181cf980b4502f9d2613f5bea84f2f95221bfd46b42f3c677b2ba73b"),
        [n("2c3627b2634457b104c73f5d7c4c34ae0ebd3d4e0c50cfd21e")]: n("176d2bcceb39ffe2763304a0e535d0f24e370ca8ed37c4f35c051fcfc357"),
        [n("a31ce4d2620b7a")]: n("0c787c996094300f7d0673d55e882f0f75027bdd669903174106489a58ca"),
        [n("bde97a350997f14488f71e351cf4ee4efdf31ada74f0e3d2909414cd14efe9bc9a8b17")]: n("8fe5a34463b1776afeabbc385dad686af6bf842065b9446fcaadc73446ac1e"),
        [n("6a30643c22b67c2440b367c025")]: n("382c48cd4cf81c632972a7a102f4f3732176afa90af6e67e3c0fffd367"),
        [n("29bfef6488df1845759a9625f18373511c928d49f9961a317697f144e0f27f5d088dee38f49b77b47486eba1948572cc60efe3cdf88a67b523e6c6a6d5f323a04c9bdcb9a9e74a9845c7b79cd0a7338d3dd2deeecc")]: n("0f6523c4e331f7ea7e2b3cb8dd2de8ea763f04a0e535d3fa4e3307f7db6f"),
        [n("ddeb1ba84493a2b1a1ef42a051ffafa4c89f2b8535dad6e5b3c345985caec389bcd95af4b8d73b8020b2be9db1ce2ef834dbb7f7")]: n("e5f355de19af89f084bd4a92378386c09c89529a3f8b8fc596c012c0b2"),
        [n("550da272bc3c32296f7efa22a3635b")]: n("96026a6feade3ec1f74c4503e4d211d1cf584d0becd019c7cb49196fdfb347"),
        [n("8c9c9809c644e0d3d5b38031")]: n("176d2bcceb39ffe2763304a0e535d0f24e370ca8ed3ddbff594e5cd280")
    },
    Vt = {
        [n("c5f2221e28cfa708")]: n("2d3b9da6c15751885c4592daff4b4e8854419ac2875e2281225ee995b909"),
        [n("a5de660e0ca89b14ecc8")]: n("601490f514c0c45b015a8f892adcdb5b192e97f132add7311028cce511bd8d"),
        [n("b9797ebe697cfabd886a")]: n("6a5e1e3b1e8a526d1be011b730664d6d13e419bf387c2563f6e121f8ef6f6674faa8")
    },
    $o = {
        [n("cc5e7beda3ce6006e61527")]: n("38610eff4cfe5b3c0134b0d561a7c0732d75fefa3aa9a0783955fec2368bff487d1bdcdd6b88ac690142d1d610c683052e5adfc91fd2dc4c5573f4a001b7c5280a168afa52aecb3d"),
        [n("b8ca8f79cf628caaf2a130")]: n("637c1122976bcc692a395f18ca12b70616480107811cd70d1258110f9d1e681da606c300301d3b3cea4ffe1b7b3334b0d527e0f464276bf9be7edbed6a2252fdd10b95ae093b5ce8")
    },
    ar = new Audio(C.k + n("c2f6b693b622ea35a3b8a9ef883ee505bb8cb1d7900ffd05aac5f19ded")),
    Lh = [11885, 11886, 11887, 11888, 11889, 11890, 11891, 11892, 11893, 11894, 11895, 11896, 11897, 11898, 11899, 11900, 11901, 11902, 11903, 11904, 11905, 11906, 11907, 11908, 11909, 11910, 11911, 11912, 11914, 11915, 11916, 11917, 11918, 11919, 11920, 11921, 11922, 11836, 11837, 11838, 11840, 11841, 11842, 11843, 11844, 11845, 11846, 11847, 11848, 11849, 11850, 11851, 11853, 11854, 11855, 11856, 11857, 11858, 11859, 11860, 11861, 11862, 11863, 11865, 10364, 10366, 10368, 10369, 11094, 11478, 11725, 11671, 11670, 11927, 12059, 12168, 12086, 12090, 1, 3, 14, 21, 20, 22, 19, 15, 16, 60, 65, 71, 72, 103, 93, 96, 139, 154, 75, 148, 113, 152, 301],
    Nh = [12256, 12257, 12258, 12259, 12260, 12261, 12262, 12263],
    R5 = [32, 33, 34, 35],
    M5 = [202, 313, 314],
    ir = {},
    D["1g"] = 16711680,
    D["1v"] = 16711680,
    D["1ae"] = 65280,
    (ka = window.localStorage.getItem(n("cb0bb9cc10e33eacb5edb2"))) && (ka = JSON.parse(ka.charAt(0) === n("ef05c620") ? ka : n(ka)))["1r"] === 238 && Object.assign(D, ka),
    D["1t"] && (Da[n("2c3e1b8c446e1f")] = D["1t"]),
    Mt[D["1c"]] || (D["1c"] = Object.keys(Mt)[0],
    _e()),
    Vt[D["1ai"]] || (D["1ai"] = Object.keys(Vt)[0],
    _e()),
    Da[D["1b"]] || (D["1b"] = Object.keys(Mt)[0],
    _e()),
    Ct = ri = null,
    Ko = jh = -1,
    Ni = class extends he {
        constructor(a) {
            super(a),
            this[n("e5b311fd07aea6f389bb")] = "static",
            this.on("pointerdown", this.Fn)
        }
        Fn(a) {
            (a.shiftKey || C.gg) && (jh = a.pointerId,
            ri = this)
        }
    }
    ,
    ka = class extends Ni {
        constructor(a) {
            super(a),
            a = new Ve().rect(0, 0, 4, 200).fill({
                color: 16777215
            }),
            this.Fc = new Ve().circle(0, 0, 8).fill({
                color: 16777215
            }),
            this.Fc[n("0efaa6c47c57994a72c2")] = "static",
            this.Fc[n("3b8f485ccc9fb3")] = "pointer",
            this.Fc[n("371856d9d218d4c151")][n("fef7")] = 2,
            this.Fc.on("pointerdown", this.xm),
            this.addChild(a),
            this.addChild(this.Fc),
            this[n("338c5c52f69adc4b")] = new Pe(0,0,10,200)
        }
        xm(a) {
            Ct = this,
            Ko = a.pointerId
        }
        Di(a, e) {
            e && ga(.25 + 3.75 * a),
            this.Fc.y = Math.max(this.Fc.height / 2, Math.min((1 - a) * this.height, this.height - this.Fc.height / 2))
        }
    }
    ,
    Xh = class extends Ni {
        constructor(a) {
            super(a),
            (a = new Oe({
                [n("e5a202e01d")]: a.ig,
                [n("d0d2665ab840")]: {
                    [n("8e793f4fe6e535c8ff4b21")]: n("9798cd597aa26e"),
                    [n("71849cca81b51ed21c")]: 12,
                    [n("c2b5edb9aa")]: 16777215
                }
            })).position.y = 5,
            a.position.x = 100,
            a.anchor.x = .5,
            this.ig = a,
            this.addChild(a)
        }
        Gf(a) {
            for (; this.children[1]; )
                this.removeChild(this.children[1]);
            let e = this.ig.height + 15;
            for (var [t,i] of a.entries()) {
                var s;
                (a = new Oe({
                    [n("042123af7c")]: (t + 1).toString() + ". " + i[n("54cbff4433")].substring(0, 20),
                    [n("3b9f4957d395")]: {
                        [n("c2b5ebbbb211e934a3b7f5")]: n("ec6d7aec91af41"),
                        [n("0c3b21b164b23b1971")]: 12,
                        [n("96413145f6")]: 16777215
                    }
                })).position.y = e,
                a.position.x = 5,
                i[n("b47584e2d5e08f66")] && ((s = new Oe({
                    [n("03c0608ef3")]: (t + 1).toString() + ". " + n("dba9e88c29f911f7d6d0c0e457"),
                    [n("fbdf899713d5")]: {
                        [n("7cabd121f417a3beedb9bf")]: n("a829bea8cd939d"),
                        [n("7aed53e30a5c296be7")]: 12,
                        [n("52057d093a")]: 16766720
                    }
                })).position.y = e,
                s.position.x = 5,
                a.position.x = 5 + s.width,
                a.text = i[n("dbe2b4ad34")].substring(0, 20),
                this.addChild(s)),
                (s = new Oe({
                    [n("a6430d41de")]: i[n("ebff82ab01d4")],
                    [n("fbdf899713d5")]: {
                        [n("54c3f9492c6ffbc635c1e7")]: n("8acb18ceef7123"),
                        [n("1ec98fdf56608d4f43")]: 12,
                        [n("67fe00b687")]: 16777215
                    }
                })).position.x = 195,
                s.position.y = e,
                s.anchor.x = 1,
                e = e + a.height + 5 + 5,
                this.addChild(a),
                this.addChild(s)
            }
            this[n("30691bf775f71366")] = new Pe(0,0,this.width,this.height)
        }
    }
    ,
    ma = new class extends he {
        constructor(a) {
            super(a),
            this.alpha = 0,
            this.ei = new Oe({
                [n("41c6a60cb1")]: n("74e083050e20caee49899b7db0"),
                [n("c2a0f0acaa32")]: {
                    [n("19ecf422e9c87e3d48feda")]: n("305126d055eb05"),
                    [n("20970d1d50260f8d4d")]: 12,
                    [n("8cbba733fc")]: 16766720
                }
            }),
            this.Je = new Oe({
                [n("08ad2f2378")]: n("99"),
                [n("a5e5532145ff")]: {
                    [n("3b8a5240cbb6a05f2a983c")]: n("33b46175d686ca"),
                    [n("3f162edcb727accc22")]: 12,
                    [n("9007bb8ff8")]: 65280
                }
            }),
            this.Ge = new Oe({
                [n("1a5fb9556a")]: n("89"),
                [n("0585f3c1e59f")]: {
                    [n("af86de4c47a2544bde84c0")]: n("3f2015e1a21ab6"),
                    [n("6a1d43131aac597b17")]: 12,
                    [n("c0f76b7fa8")]: 16777215
                }
            }),
            this.hi = new Oe({
                [n("f0b5573b80")]: "",
                [n("4387314fab9d")]: {
                    [n("53623a28a34eb827326024")]: n("a14277874478d4"),
                    [n("baad13a3ca1ce92ba7")]: 12,
                    [n("ce39f90dbe")]: 16711680
                }
            }),
            this.ei.position.x = 0,
            this.Je.position.x = this.ei.width,
            this.Jj = 0,
            this.addChild(this.Je),
            this.addChild(this.Ge),
            this.addChild(this.ei),
            this.addChild(this.hi)
        }
        Pm(a, e, t) {
            this.alpha = 0,
            this.yh = !0,
            this.Je.text = a.substring(0, 20),
            this.Ge.text = n(t ? "1882330770083aca12c14a3b775c" : "df7b883e0f7101"),
            this.Ge.position.x = this.Je.position.x + this.Je.width + 5,
            this.hi.position.x = this.Ge.position.x + this.Ge.width + 5,
            this.hi.text = e.substring(0, 20),
            this[n("7839d3bd13b9")].x = this.width
        }
        Ni() {
            this.yh = !1
        }
        Em() {
            var a = performance.now();
            10 < a - this.Jj && (this.Jj = a,
            this.yh && this.alpha < 1 && (this.alpha += .1),
            !this.yh) && 0 < this.alpha && (this.alpha -= .1)
        }
    }
    ,
    (Wt = new Oe({
        [n("981aae92f088")]: {
            [n("af86de4c47a2544bde84c0")]: n("b2932096d7290b"),
            [n("241309995caa030149")]: 17,
            [n("df76883e0f")]: 16776960,
            [n("6ccac14d1416c0a204")]: 1,
            [n("d8de7559b87a6cce90e64b57905d")]: 800
        }
    }))[n("4540ae8ba0582799")] = 0,
    Wt[n("ab3dc3fd470f43")].x = .5,
    Wt.y = 30,
    (ni = new Xh({
        ig: n("ee37e3")
    })).position.x = 50,
    ni.position.y = 150,
    (oi = new Xh({
        ig: n("fbfeb8ad30e2c5")
    })).position.x = 50,
    oi.position.y = 350,
    ci = new ka,
    ii && (ni.scale.set(.8, .8),
    oi.scale.set(.8, .8)),
    _a = Li(n("b8fe9365d86289")),
    H = Li(n("0277ab7673faadf77e")),
    C5 = Li(n("5d20be66883502600a24")),
    H[n("b2b201a0c43e2b2cd6ae1fb9d13d")](n("4871fef620"))[n("11f1f630d4f2633a70e8ee38f8")](n("cc697cfebed27e42a040"), n("338a5a")),
    H.head.insertAdjacentHTML(n("c0f36775ab6763f2a6fd"), Yo('<link rel="stylesheet" href="' + C.k + '/public/css/new.css" />')),
    ji = null,
    Xi = [],
    H.getElementById("social-buttons").remove(),
    et = new Ve,
    new Pt({
        fontFamily: n("88099e88edb3bd"),
        fontSize: 12,
        fill: 16777215
    }),
    xa = new Ni,
    Ua = new we,
    Ze = new we,
    J = null,
    I = {},
    (b = {}).kc = Li(n("a5e14e364df5dc")),
    b.d = b.kc[n("f90e144f08039a5e75")],
    I.e = function() {
        var a = D["1n"] ? 1 : b.kc[n("637000208e7b8c0a02640832bd41850b1c")];
        return (a = D["1ac"] ? .5 : a) || 1
    }
    ,
    b.kc.addEventListener(n("de03cf1086"), async function() {
        var a, e, t, i, s, r, o, d, f, h, u, p, x, _, T, S, A, P, O, F, k, V, L, X, se, ce, Z, q, re, te, Ge, Tt, ne, de, Hi, Ae, Ot, ya, ia, va, zi, Yt, Ta, Sa, Na, wa, Aa, ja, It, Gt, Bt, Ft, Vi, di, fi, Zo, Qo, Jo, ec, Hh, zh, tc, ac, Xe;
        function Wi(c) {
            this.Ad = c,
            this.va = 0
        }
        function ic(c) {
            this.Ad = c,
            this.va = 0
        }
        function Xa(c, l, g, m, y, v, w, R, G, U) {
            this.kb = c,
            this.Lj = l,
            this[n("c8cd6f63b8687cfa")] = null,
            this.Oj = !1,
            this.mb = g,
            this.nb = m,
            this.oh = y,
            this.qh = v,
            this.vl = w || (G || y) / 2,
            this.Jn = R || (U || v) / 2,
            this.Wj = G || y,
            this.$j = U || v,
            this.bo = .5 - (this.vl - .5 * this.Wj) / this.oh,
            this.db = .5 - (this.Jn - .5 * this.$j) / this.qh,
            this.po = this.oh / this.Wj,
            this.wo = this.qh / this.$j
        }
        function ae(c, l, g, m, y, v, w, R, G, U, j, Y, N, W, z, ue, oe, Re) {
            this.tg = c,
            this.Rh = l,
            this.Fk = g,
            this.$o = m,
            this.Nk = y,
            this.kp = v,
            this.Sk = w,
            this.rp = R,
            this.$k = G,
            this.Ap = U,
            this.gl = j,
            this.Kp = Y,
            this.ll = N,
            this.Qp = W,
            this.tl = z,
            this.Al = ue,
            this.Ai = oe,
            this.Nl = Re
        }
        function sa() {}
        function hi(c) {
            this.Bf = c
        }
        function sc() {
            this.cd = []
        }
        function Vh(c, l) {
            this.kj = c,
            this.Lf = l,
            this.dh = this.ah = 0
        }
        function Ea() {
            this.oa = new he,
            this.oa.sortableChildren = !0,
            this.R = new f,
            this.R.zIndex = 1.6,
            this.aa = 0,
            this.s = Array(797),
            this.s[0] = this.Rj(0, new b.oc, new b.oc);
            for (var c = 1; c < 797; c++)
                this.s[c] = this.Rj(c, new b.oc, new b.oc);
            this.Xj = this.Vj = this.vi = 0
        }
        function Yi(c, l) {
            this.P = c,
            this.P.Ra(!1),
            this.id = l,
            this.id.Ra(!1)
        }
        function sr(c) {
            this.ha = c,
            this.Aa = !1,
            this.Tf = 1
        }
        function rc(c, l) {
            this.fb = c,
            this.Kn = l
        }
        function xe(c) {
            ++xe.co,
            this.ek = c,
            this.tk = this.rk = this.pk = this.mk = this.kk = null,
            this.Sb = this.xk = this.sd = !1
        }
        function Wh() {}
        function St() {}
        function nc() {
            this.td = b.Qc.sk,
            this.sb = 0,
            this.Tb = 500,
            this.ug = 4e3,
            this.Wh = 7e3
        }
        function Be(c) {
            this.l = c,
            this.Gg = [],
            this.ul = 0
        }
        function $i(c) {
            this.Gi = c
        }
        function li(c, l) {
            this.S = c,
            this.Xi = 80 <= c.ka,
            this.Id = this.Hd = this.Qg = this.Og = 0,
            this.qe = this.Xi ? 1 : c.zd,
            this.fi = 1,
            this.ki = !1,
            this.Vg = this.If = 0,
            this.Wa = 1,
            this.cn = 6.283185307179586 * Math.random(),
            this.Ke = new b.jn,
            this.Ke.$d(E.l.I.td, this.S.qi === b.ee.ef ? null : E.B.W().Kf(this.S.qi), E.B.W().nn(this.S.ka)),
            l.xl(c.T, this.Ke)
        }
        function oc() {
            this.Xa = new x(new b.oc,new b.oc),
            this.Xa.id.L.gq = "add",
            this.Xa.id.L.zIndex = 100,
            this.Xa.P.L.zIndex = 500
        }
        function cc(c, l) {
            this.P = c,
            this.id = l
        }
        function wt() {
            this.Ob = this.wb = this.Mb = this.Ib = this.Ja = 0,
            this.th = []
        }
        function dc(c, l) {
            for (var g = 0; g < c.length; g++)
                if (parseInt(c[g][n("49d3af")]) === l)
                    return g;
            return -1
        }
        function ui() {}
        function fc() {}
        function Dt() {}
        function hc() {
            this.Cc = [],
            this.Ze = []
        }
        function le() {
            this.li = [],
            this.oi = [],
            this.v = !1,
            this.$c = _,
            this.M = {}
        }
        function ra() {}
        function Ki(c, l, g) {
            for (this.Hc = g,
            this.Aa = !1,
            this.oa = new he,
            this.oa.visible = !1,
            this.Dd = Array(c),
            c = 0; c < this.Dd.length; c++)
                (g = new b.Pi(new Float32Array(3 * l))).Ri(l),
                this.Dd[c] = g,
                this.oa[n("59abbfe89ea636fc05")](g.ld());
            this.Jc = this.Ic = 1,
            this.qa()
        }
        function rt() {}
        function qi(c, l, g, m, y, v, w) {
            (w === 1 && C.Sd.includes(v) || w === 2 && C.Qk.includes(v) || w === 3 && C.fj.includes(v)) && (g = !1),
            this.$e = c,
            this.To = l,
            this.bf = g,
            this.Ik = m
        }
        function rr() {
            var c = new Jt({
                [n("e3f591a215f10baf9ff99e")]: {
                    [n("5ff137b791e080ae37f71ab39ff582b0")]: [-.5, -.5, .5, -.5, .5, .5, -.5, -.5, .5, .5, -.5, .5],
                    [n("0bdd599bf783fe6d61a0")]: [-.5, -.5, .5, -.5, .5, .5, -.5, -.5, .5, .5, -.5, .5]
                }
            })
              , l = new K;
            this.ne = ft.from({
                [n("13a379")]: {
                    [n("d93c3e7e292ba7")]: n("8fb0e36770ad666ff8a6bc382ba47469f7a0842013b24979c6ac8c2969f91d5fce94c5505a864052d2cd8b1a4d895e1c9ac2f15315913742a280995538953957a06ef47111216507b67cad38326e283aba35d36215710664c22ad93b3f79151d804f830656173743c7698c04124a121c92153342ee55f145220a390fdb4ee2146a2365ebfc2ad8e7633a70f2be7fdfab2f1154fcca32cae44a7d1baac63dd9ad0a5201d7e40bc7ca533c4bcbd51fdbc14d1d0cd3b706acce624b0b9ffb3db8d026e63eb0bea1e7f63ae92df9febeedbb0be200bc90f28aa40ad508ae99f595fb5ce254d2b2d294940ec1178dde9ecd981ad3b3d7318473a2e2c0ca9564ce69dbbc82b43252b27a6ff3edab3a76ad7460b7f9842013f1125482e8e83f19ec082c9fc5831216d60550e38dc16954834f4a9ac2f11770b06004f7999d5f33bf2251bd64f47111216776f23ae96f693c787cef35d11346265573d528cc685b395f6e9945925156164510925a8d0f037c121d9644681ded11b746220b4d5fb90cfb1b6c7339e3c521e7f2723049e5e825e9e7703e04a0e07197a6167619b38e6fefbb1f21149083418796125a098f895cd0cf4b436480f319b3c6624a799ff838e88c7ff501b0bceeb0a523e136a496eda9bc36e844e0d3bec0e457ed3eb599f0898a1dc11f9195cb878b3ac90d9892d4d8dc4f9aa4c033c15184e6d6fa9c64ce60b3eeb4e36b6be12644b2f8d82f29fc383caff5932206e61571cb87f97558b55977c08e941003c1066292da895c5e8f0906979db74266c6751ce2caf94c2e8e395bb750be313a703c29b921f73222296f0dfa22d1624d244064a43ddb6a5a325d77ca13b34743655051b3"),
                    [n("5b6a2f2fb87d843c17")]: n("7afb4ee81d663378edfd61a7b67f217ee2eb69afbe793c4ef3d77196d4026868bf9b1ddbff5d1958ccd4418796410d5a989e5e8dd86b1539f1ac1bb7d2624b0b9ffb3db8d026e63eb0bea1e7f621ed3afefebeedbb1cff0dbd91db93b315f408a3ceafaffb5fe1048c9ac29a941a8d4bda88cd909e13d5f3c0479137c6f2ecec827fc97f9baaf3d32723856068feaef67876e92f3ee9b5c22006e61563f3bdd16e5eae484dcc81dd4716d7770387a9cc44528a525cd2d5f30235912604e2caf94f1f99354aba72b40d35622623a32dea087e3c1c6bef51973d0a704064d77588330534447bdd10d45531014527d21ac94f491c585ccf153342f551e642220a390eee44f90b7d2552edff2be7a325783cb9df69afbe6b3559e6d626c0a463705ccece24d9eb5d051490f0418796413c5cd2f803d2dc5b557382e951f786322c2cc2bf09bfdb1ce330aeb6a1e7f672ba1befe9bca89a3ae815a791f1aab001eb0caec2b9de9c4a9241c7c194d0d4478d4bdade9cbccb4d80a4c0339137c6a28ab98c6edf39dbbdf0f06679b16672f2acda6577a36f2bade0842167f11726d3bdd16e5eae485dc08cde5016d6050c92da891a15df181dfdd5f30266c67513f5c8ec087bd97d7fea32e16761347074e72deb7a2d693e7afa22d13d1571173a8661aa3507731f7bdd10d45137014756814d9a5e53593e01935f733df551f71a66412708ec5ea84c4c6523b2a36aa5af327a29a0be7eadfb5c3f4dfdd11bd3f3553448e3853d88ad6d4503929656858305581c988b498def1a427197f144e084775d7b8aac1092f83de13681bce8bab472ba69efe8c8f8fc6ff105b896e791b303db06b684eec8ec5f8543a0d696c58901cd0b869ad5be8113dff3d730f620c6c69dbebe")
                },
                [n("edb91fd5")]: {
                    [n("818466c67193ff")]: {
                        [n("30641cf746fc266851670e")]: "vertmain",
                        [n("0d8de0b5e36176")]: n("fefcb4e37770b03034a78ff56579ad715bf1b9c77d51b9563395e88c2d69f91d5f8ad2810701d4101487cd8b1a4ebc4f41d595a2462a9b2b7ba68cbb5333d97e7fa261a5712b377075946eea787e3f186bed53c46222315766c22ad97f592c486cdf55a60d01481132854997191d430f03b2517500ea4ca0454655680eb844be5b3c0377b1a161a6c3327a5aafab0db8bc2f7513a2866695b315685ccdc42ec1fa6c0f5dcdc125d9d65f091c99fa498f9e49152286e64786d0744a6c898e59fffd6ab010e7e1b4f0f467ad6bfafebeedbb0df512bd8fe191bf08f64ce9aab9dfee19c512d0d697b680449a5cd9be89cfad5a80c0d734f020c6c69db9bb78c87f8becb4b43023887a65f6a4cc6472aa727cf2a3842013f1125482e8e83f19ec082c9fc5831216d60553e39ad844488a525cd2bda046319d3d13f4b9a45b3fcf350dea33922460367075922deb097e3c1c6bed20c46053315766c22ad92f287301319d05c22305411652d21bba0c481e585dba153331a604c45335082c48bb19bf4e2a7221f7c12be0e8736d2acbfd7fafab2d1304a2e27192d2026868bf9b1d88ae6e450592d416dad3474009839e5e8d8b0b4023dbad10acd820507993ee4efdc82ef274f190f1bbaf31e72ba7febf98eb6da006be8cf684ba32f600bc84ee80ad4a9241c7c0e5d0d447ef158599cd91bb11d9e79d71d976d3b4faacca4a9939cee8b2fe7763ec242fb2faa92f2ffc7f67f1b4c87c44fc153f82ea996c4aae082dec95df4b558b474b92dbfc0f09dc5141dc91ad672d9d2359b595ba1f79cc680d8e25e3721f6b3627bb5db7233d632f23ac35d21046242473d7599a2e19690e2aca12c134165601038f678c1e0b59094bcd002445c111b537220a395fb90ca84c3f6523b2b670a5e4622175fef222b5fe702348e6ca3bcbbf026a19eac42fc4ea460f5f8780259094071e5cc98f498eed59437397f031e084045d79fbee4efd9b7db074f0e3a1e7f672bc69a6b4efbcba36ff0ffad3bdc0e457ee3dbf93df82b11dc454d1b281c7d601cd1ad8de9fbe884c82a4c1469137b5a288c8df3cf828cdcde5a14336f45423a789bc3e2bba787cebb5d9371395437882ea996c4eae5973ce89df0a16d4740385d89c180bc90f1e9ac2f11777c42959a499bd532492650ee625e37232523034a36da11a347f343ab67f8f7751244065a63ddb6a1d790e6cca13b20440165055b20dcb295e1c3c4bcd002440b311b746220a395fbf0ce1116c2165ebfc2abdb73e6d2bbafa18f8f65c3f4ee0c77197a6026b68bf996cdbfb4c521491f0028694125b7c8f892f989e7e596480f359e085025d7b8a9d19bfca2af81eb7a7f4a0b272ba69efeccef8fc6fb553e2c6a6d5f355a84ce8dbb9dd9f4a9241c7c194d0d4478d4bda8dcd8fcb4d80ec84739137c6a28bcddf398c6a92e0a2f06e46aa7c60f8baf47935b94d7cf0bac47157bd4a78eab9dd6842a4082c9fc5816316d6050385d89c180bc90f1e9ac2f11771c46004f7ddfb0a61d97f0ea86cbe2032680028be6eb638367f733b887f933e07401737896b8f351971203f9b52981a56164543c769dc584b094f5eda023157b104a044371d3b4aae0ebd5b3d703ba7a174f9e9742975dff525fbe16d3d52bcd600d7f7492b4ff5d931e0ff5b1258da9657f78307291c988b498f9e1a427197f144e086065d7b8aee4efd9b7db074f0e3f2b4b472ba69a5aef8adbb2bb55293c6a6d58002ea1dbf93d398aa1fd505c7c0e6d0d6368d49abde9ecdcb4d80a4c0339137c6e8cdfd8a7ec8238ee0b3f8767aab7b23a5f8bc395fe92f3ee9b5c22606e7667094ea8c296ef44068dfc5831219c10716c18dda191edf7e488cc2e40106dc2460a28abd5f33ac224da674b82d3d216705f23ae97b753c746bed53c46053254b66ce3dda184e2c2c7bdd10d45043014756d21ac9050e580d1b8b1e7726e64cc619684a6d5fb90ca84d4b6523b2f210f0fe542776f8ff69aecc3a6060b7931580a4177d1baa8e6e9dbb1d5043c7c711c7c8125a09c5ce18cddb4b5572f0e646f59377396c8d8f59fefc6ab010e7e3c5a6b225fd3abefebeed9b31f907bd91f996f355a84ceda9b9dd9f4a9241c7c194d0d4478d4bda8eef928210c2ce8466c66997fe9dbabb2e8e3d88eaa3a52720877335a5edaa4f3efe5e2baf91842013f1172682ea993f19ec584aca98c55741816645d684dc0f08ad181c8f86a45171d17675a1cbfb1f78b9680c8c25e10376366563e538fc786b296f7eaa44842a17611733a87e8f290e68486dae05c35205411654d21bba0c481e585dba153331a604c453307c2c4aca19bd3f2a7421e5e12be0f63f7a30afa97cb8ba2f3248fcc73dcbf10f6800bf996cdbff5d450392c630d0de431d4bcf9e5e8d8b0c316480f300a0ce330d3bdf944ea99b7cc337f1e1a1e68372bb1befebcdf8fa6ff713bd96e4cde44ebd5beacea8ddbc06ce158b9dc3ddd75e8d4bda8dcd8fcb4d80f4a162d9759ae2caacc83b993ebfaaf2a17172a9656af2babc3959e92d4fbae4917551bb50668fea803f19ec082a9f82d84c578d5b419fda900f09dc4b4fcdd5f271369a2c50a88aa41f78b9680cff75bf2b356b272ba42deb7a7e3f1c6bed20b43c0a720a248a6bcc6929395d1fca10b04747141314964f940f1558585ebe566f57b104e304665f641be252a55b3f0134b0a361a7b6327a29afa97cb8ba2f3c4ef1c220ccf9497019b38e6e9de87b0549e1dc0bc7c2125b788f895ccbcb5c4264818012f684624b0c9ff93fe88e0ea974f0e3a9f0f512ad6bfafeb8eda230f300a68afb8bfe57b14ce8dbea88bd5b8542a19597c7c344ed5cd8cb89caac5a80c0d7318420c4b79dbbca2e8e3d92eab4b43023b0707ee3bdeb6f58a37161edf5925306e61560c2bb9d3f189f4b2d9dc5826716d6050384ac9c180b985856cb85b35710952846ab9de14f1f99354aba72b46761477074e77d8a2b367c312bad35d31146265520b37d911904731f3aca12c1485616451399419f0509410e408a64640af741f713545b6816ee19bf4e2a7253a7a174e0e87e2e76f8f63fb3fb4b3559e6d626c0d9413e5affdf7588ad6d4501e39656858305581c988b498f9e53153597f144a4d22d0d3aceae188ed123ef23e7e0c5f0f467fe3ca9efa9ee8d39a353f7d0d1c0e457bd5a9eceaeddaa0ad8059781c1b6891bc70bcfc99cd7cb4d80b1dc309136b4a288c8df398c28ccbfe5a33236f6256af2bcbc382ba36b6bedbcc06b60bb4979d5fd9a5b0eee1d68ca83850700a7531585cd8a6f1ede0d0b8cb4e40073822055f3ddfa792dcf7f1bfc45f9373d6d3329a565aa642e4f3222b062ae24066609379e369b3d09395f1dca12c1525d145c43c518d34f491c080096566e00ee47ab0344576515f973fb1b7d2c70fbbd25b0b5556d29cbbe7eadab2d6004a0937197a6553d5defd93288ac1f0155c8c617c1c3532b56c6d41e989c0f5573f0e646f5d9311d3bd6aa058ed123ef23e7e0c6f0f616ad6e8efebf9f")
                    },
                    [n("819471d5629be2d6fd")]: {
                        [n("b622163dc8b22ca2d721f4")]: "fragmain",
                        [n("f8ba553e8e2e5b")]: n("fefcb4e37770b03034a78ff56579ad715bf1b9c77d51b9563395e88c2d69f91d5f8ad2810701d4101487cd8b1a4ebc4f41d595a2462a9b2b7ba68cbb5333d97e7fa261a5712b377075946eea787e3f186bed53c46222315766c22ad97f592c486cdf55a60d01481132854997191d430f03b2517500ea4ca0454655680eb844be5b3c0377b1a161a6c3327a5aafab0db8bc2f7513a2866695b315685ccdc42ec1fa6c0f5dcdc125d9d65f091c99fa498f9e49152286e64786d0744a6c898e59fffd6ab010e7e1b4f0f467ad6bfafebeedbb0df512bd8fe191bf08f64ce9aab9dfee19c512d0d697b680449a5cd9be89cfad5a80c0d734f020c6c69db9bb78c87f8becb4b43023887a65f6a4cc6472aa727cf2a3842013f1125482e8e83f19ec082c9fc5831216d60553e39ad844488a525cd2bda046319d3d13f4b9a45b3fcf350dea33922460367075922deb097e3c1c6bed20c46053315766c22ad92f287301319d05c22305411652d21bba0c481e585dba153331a604c45335082c48bb19bf4e2a7221f7c12be0e8736d2acbfd7fafab2d1304a2e27192d2026868bf9b1d88ae6e450592d416dad3474009839e5e8d8b0b4023dbad10acd820507993ee4efdc82ef274f190f1bbaf31e72ba7febf98eb6da006be8cf684ba32f600bc84ee80ad4a9241c7c0e5d0d447ef158599cd91bb11d9e79d71d976d3b4faacca4a9939cee8b2fe7763ec242fb2faa92f2ffc7f67f1b4c87c44fc153f82ea996c4aae082dec95df4b558b474b92dbfc0f09dc5141dc91ad672d9d2359b595ba1f79cc680d8e25e3721f6b3627bb5db7233d632f23ac35d21046242473d7599a2e19690e2aca12c134165601038f678c1e0b59094bcd002445c111b537220a395fb90ca84c3f6523b2b670a5e4622175fef222b5fe702348e6ca3bcbbf026a19eac42fc4ea460f5f8780259094071e5cc98f498eed59437397f031e084045d79fbee4efd9b7db074f0e3a1e7f672bc69a6b4efbcba36ff0ffad3bdc0e457ee3dbf93df82b11dc454d1b281c7d601cd1ad8de9fbe884c82a4c1469137b5a288c8df3cf828cdcde5a14336f45423a789bc3e2bba787cebb5d9371395437882ea996c4eae5973ce89df0a16d4740385d89c180bc90f1e9ac2f11777c42959a499bd532492650ee625e37232523034a36da11a347f343ab67f8f7751244065a63ddb6a1d790e6cca13b20440165055b20dcb295e1c3c4bcd002440b311b746220a395fbf0ce1116c2165ebfc2abdb73e6d2bbafa18f8f65c3f4ee0c77197a6026b68bf996cdbfb4c521491f0028694125b7c8f892f989e7e596480f359e085025d7b8a9d19bfca2af81eb7a7f4a0b272ba69efeccef8fc6fb553e2c6a6d5f355a84ce8dbb9dd9f4a9241c7c194d0d4478d4bda8dcd8fcb4d80ec84739137c6a28bcddf398c6a92e0a2f06e46aa7c60f8baf47935b94d7cf0bac47157bd4a78eab9dd6842a4082c9fc5816316d6050385d89c180bc90f1e9ac2f11771c46004f7ddfb0a61d97f0ea86cbe2032680028be6eb638367f733b887f933e07401737896b8f351971203f9b52981a56164543c769dc584b094f5eda023157b104a044371d3b4aae0ebd5b3d703ba7a174f9e9742975dff525fbe16d3d52bcd600d7f7492b4ff5d931e0ff5b1258da9657f78307291c988b498f9e1a427197f144e086065d7b8aee4efd9b7db074f0e3f2b4b472ba69a5aef8adbb2bb55293c6a6d58002ea1dbf93d398aa1fd505c7c0e6d0d6368d49abde9ecdcb4d80a4c0339137c6e8cdfd8a7ec8238ee0b3f8767aab7b23a5f8bc395fe92f3ee9b5c22606e7667094ea8c296ef44068dfc5831219c10716c18dda191edf7e488cc2e40106dc2460a28abd5f33ac224da674b82d3d216705f23ae97b753c746bed53c46053254b66ce3dda184e2c2c7bdd10d45043014756d21ac9050e580d1b8b1e7726e64cc619684a6d5fb90ca84d4b6523b2f210f0fe542776f8ff69aecc3a6060b7931580a4177d1baa8e6e9dbb1d5043c7c711c7c8125a09c5ce18cddb4b5572f0e646f59377396c8d8f59fefc6ab010e7e3c5a6b225fd3abefebeed9b31f907bd91f996f355a84ceda9b9dd9f4a9241c7c194d0d4478d4bda8eef928210c2ce8466c66997fe9dbabb2e8e3d88eaa3a52720877335a5edaa4f3efe5e2baf91842013f1172682ea993f19ec584aca98c55741816645d684dc0f08ad181c8f86a45171d17675a1cbfb1f78b9680c8c25e10376366563e538fc786b296f7eaa44842a17611733a87e8f290e68486dae05c35205411654d21bba0c481e585dba153331a604c453307c2c4aca19bd3f2a7421e5e12be0f63f7a30afa97cb8ba2f3248fcc73dcbf10f6800bf996cdbff5d450392c630d0de431d4bcf9e5e8d8b0c316480f300a0ce330d3bdf944ea99b7cc337f1e1a1e68372bb1befebcdf8fa6ff713bd96e4cde44ebd5beacea8ddbc06ce158b9dc3ddd75e8d4bda8dcd8fcb4d80f4a162d9759ae2caacc83b993ebfaaf2a17172a9656af2babc3959e92d4fbae4917551bb50668fea803f19ec082a9f82d84c578d5b419fda900f09dc4b4fcdd5f271369a2c50a88aa41f78b9680cff75bf2b356b272ba42deb7a7e3f1c6bed20b43c0a720a248a6bcc6929395d1fca10b04747141314964f940f1558585ebe566f57b104e304665f641be252a55b3f0134b0a361a7b6327a29afa97cb8ba2f3c4ef1c220ccf9497019b38e6e9de87b0549e1dc0bc7c2125b788f895ccbcb5c4264818012f684624b0c9ff93fe88e0ea974f0e3a9f0f512ad6bfafeb8eda230f300a68afb8bfe57b14ce8dbea88bd5b8542a19597c7c344ed5cd8cb89caac5a80c0d7318420c4b79dbbca2e8e3d92eab4b43023b0707ee3bdeb6f58a37161edf5925306e61560c2bb9d3f189f4b2d9dc5826716d6050384ac9c180b985856cb85b35710952846ab9de14f1f99354aba72b46761477074e77d8a2b367c312bad35d31146265520b37d911904731f3aca12c1485616451399419f0509410e408a64640af741f713545b6816ee19bf4e2a7253a7a174e0e87e2e76f8f63fb3fb4b3559e6d626c0d9413e5affdf7588ad6d4501e39656858305581c988b498f9e53153597f144a4d22d0d3aceae188ed123ef23e7e0c5f0f467fe3ca9efa9ee8d39a353f7d0d1c0e457bd5a9eceaeddaa0ad8059781c1b6891bc70bcfc99cd7cb4d80b1dc309136b4a288c8df398c28ccbfe5a33236f6256af2bcbc382ba36b6bedbcc06b60bb4979d5fd9a5b0eee1d68ca83850700a7531585cd8a6f1ede0d0b8cb4e40073822055f3ddfa792dcf7f1bfc45f9373d6d3329a565aa642e4f3222b062ae24066609379e369b3d09395f1dca12c1525d145c43c518d34f491c080096566e00ee47ab0344576515f973fb1b7d2c70fbbd25b0b5556d29cbbe7eadab2d6004a0937197a6553d5defd93288ac1f0155c8c617c1c3532b56c6d41e989c0f5573f0e646f5d9311d3bd6aa058ed123ef23e7e0c6f0f616ad6e8efebf9f")
                    }
                },
                [n("caa9e9aea12ae202b790")]: {
                    [n("1bb9496be7a4d46046")]: l.source,
                    [n("45439499a44a27993f")]: l.source.style,
                    [n("799f95c59b810dddf2")]: {
                        [n("8e6a134efecc26eae0422a45fbd2")]: {
                            value: [1, .5, .25, .5],
                            type: "vec4<f32>"
                        },
                        [n("77dd2d8f83d8889c1ae3e2936fd1")]: {
                            value: [0, 0],
                            type: "vec2<f32>"
                        },
                        [n("997f4fa9657aeaa2c45d45b25673d3")]: {
                            value: [0, 0],
                            type: "vec2<f32>"
                        }
                    }
                }
            }),
            this.Vd = new ai({
                [n("03d36099eaddfd8872")]: c,
                [n("4eac7880360666")]: this.ne
            })
        }
        function $t() {
            this.L = new we,
            this.dl = this.bl = 0
        }
        function Qe(c) {
            this.I = c,
            this.S = new b.$f.Yf,
            this.rb = !1,
            this.pd = !0,
            this.xf = !1,
            this.gi = this.xb = 0,
            this.Wa = 1,
            this.Ub = this.Ng = 0,
            this.sa = {},
            this.$a = 0,
            this.Vb = new Float32Array(400),
            this.Za = new Float32Array(400),
            this.Y = new Float32Array(400),
            this.ca = this.ma = this.Ga = this.ql = null,
            this.Ci()
        }
        function kt(c, l, g, m, y) {
            this.Ja = c,
            this.Ib = l,
            this.Mb = g,
            this.wb = m,
            this.Ob = y
        }
        function Ut(c) {
            this.H = new b.hh,
            this.H.oa[n("241402936b91031748")](this.H.R),
            this.Ug = this.dd = null,
            this.ed = c,
            this.aa = 0,
            this.ih = this.fh = this.eh = this.bh = this.Zg = this.Xg = this.zd = 1,
            this.Km(n("d96f693f3b28b9768734"))
        }
        function He(c) {
            this.ha = c
        }
        b.d[n("bc6a9bfb85fd677ea17b72d5b1d06e")](n("cabcedb0ab72e713b393"))[n("b0f2867ad860")][n("59aeb2ffada23ee9")] = n("669544960910"),
        M = {
            A: function(c, l, g) {
                c[n("0f3365ede3")](),
                c[n("b0e79367d14c98")](l, g)
            },
            g: function(c, l, g) {
                c[n("11f1e72be5")](),
                c[n("4cfbef7b356ee7d7")](l, g)
            }
        },
        I.Ta = function(c) {
            var l = c.parent;
            l?.removeChild(c)
        }
        ,
        n("87cafc947fd5609bc7a1e26a"),
        aa = n("54cde253285abf981d88ac694503e4d405c1c340094084cc03cfc35e04249caa1b"),
        Dh = n("54cde253285abf981d88ac694503e4c101c6c9421a5acfc842cac14d1d20c6a65aacd9"),
        w5 = n("f70dcb2c12411c099a432440c558ec186254661de411fe0b622d74f0a174a7b2393877ed"),
        kh = n("51e7e1c2bcab36ef3cb9febe9ba92af512a6cef593b713f91bf798e980b30ad243d2c190db9619cf"),
        n("e2d696b38f1ac91e8f8889cfa81cdfef9466c0719faacbfc9766d97fccbff2a52c63aa72"),
        A5 = n("95a3250e70e7fa2bf8fd3a6267f0c479c0e042365db7db3dd9ea4a125f8fc011d8cb521a0b9a895893de5117"),
        tr = void 0,
        Q = b.kc[n("8b75bc46411f5dc3dd03")],
        tr = Q ||= n("ec5840"),
        Uh = ( () => {
            switch (tr) {
            case n("73511e"):
                var c = n("e0c4496cb174");
                break;
            case n("b300d0"):
                c = n("f6e3ddd6be4e");
                break;
            case n("97aeeb"):
                c = n("883fb884ca8f");
                break;
            case n("03d176"):
                c = n("8034b18cc186");
                break;
            default:
                c = n("9c88b030f522")
            }
            return c
        }
        )(),
        window.moment.locale(Uh),
        E = null,
        a = b.kc[n("8018f3ebca8a8b12db0a8b9cc98e")],
        I.N = function(c) {
            return a[c]
        }
        ,
        I.ve = function(c) {
            return c[tr] || (c[n("a65206")] ? c[n("ebf983")] : c[n("ff48")])
        }
        ,
        I.aq = function(c) {
            return encodeURIComponent(c)
        }
        ,
        I.ja = function(c, l) {
            return setTimeout(c, l)
        }
        ,
        I.lm = function(c) {
            clearTimeout(c)
        }
        ,
        I.Vi = function(c) {
            var l = (Math.floor(c) % 60).toString()
              , g = (Math.floor(c / 60) % 60).toString()
              , m = (Math.floor(c / 3600) % 24).toString()
              , y = (c = Math.floor(c / 86400).toString(),
            I.N(n("74b0c22e1467cea211a8902be128b1")))
              , v = I.N(n("59bfafe5b1e02bf90cb7cdfc8aa315eb"))
              , w = I.N(n("2f1545cbdf4ac1cf5a0d17c7d202"))
              , R = I.N(n("c2a6f0bcaa79fc30a7bea2aeab3c"));
            return 0 < c ? c + n("8074f0e3") + y + n("992f29fc") + m + n("0f6523b2") + v + n("0236f625") + g + n("f0e40073") + w + n("11a7a174") + l + n("e73ddb6a") + R : 0 < m ? m + n("a6125a09") + v + n("7e2a7221") + g + n("b7cd8b1a") + w + n("6f8543d2") + l + n("92866695") + R : 0 < g ? g + n("0f6523b2") + w + n("b3418796") + l + n("72a606b5") + R : l + n("f1474114") + R
        }
        ,
        I.Dm = function(c) {
            return c.includes(n("798289c99b")) ? c.replaceAll(n("8cb5bc3af6"), 'target="_black" href') : c
        }
        ,
        I.ej = function(c, l=null, g=null) {
            var m = b.d[n("be2cf234a3a7e190aa32e53ca4af")](n("f43655b591b94e"));
            n("4ff53fa6b6e2bca832ec") !== typeof l && l !== null && (n("22468a5143d181d74f5f") !== typeof l[n("00b826")] && (m[n("08b02e")] = l[n("f10b17")]),
            n("272d47fece3ac4f04a04") !== typeof l[n("3f1132cbad17")] && l[n("7b4d0e179153")] && (m[n("043435ae66ba")] = n("9808a992f28e")),
            n("c0e46c77a1736ff9adfd") !== typeof l[n("13a07060f2ba")] && l[n("b8ed9f6dd97f")] && (m[n("ff546414e646")] = n("996e7eaa787c")),
            n("3a3e92295ba969bf2737") !== typeof l[n("f260c66a85f4d7fb936cd563")]) && (m[n("0595f5d7fa8964ce6499e6ae")] = l[n("851575577a09e44ee419662e")]),
            m[n("981da39bf9")] = n("4d4aaa78a56761423f27a169aa2929652d3a"),
            m[n("5052e0c0")] = c,
            g && (m[n("69b585f082bf0b")] = m[n("124cba5773c6bcd0695fbd597bcc88d04c5481")] = function() {
                try {
                    g()
                } catch {}
                m[n("ab33c3f2400155")] = m[n("41ddad06a0d723013aceaa08a8dd27e13fa5b6")] = null
            }
            ),
            (b.d[n("ff586413e7")] || b.d[n("97affc7e5ea07863fabed56161ad7177c096c8774e")](n("7fd8e49367"))[0])[n("f262c47593e9dcca9262d069")](m)
        }
        ,
        I.ga = function(c, l) {
            return l.prototype = Object.create(c.prototype),
            (l.prototype.constructor = l).parent = c,
            l
        }
        ,
        I.no = function(c) {
            return (c %= 6.283185307179586) < 0 ? c + 6.283185307179586 : c
        }
        ,
        I.cq = function(c, l, g) {
            return I.Jd(g, c, l)
        }
        ,
        I.Jd = function(c, l, g) {
            return g < c ? g : c < l ? l : Number.isFinite(c) ? c : .5 * (l + g)
        }
        ,
        I.Q = function(c, l, g, m) {
            return c < l ? Math.min(l, c + g * m) : Math.max(l, c - g * m)
        }
        ,
        I.Ij = function(c, l, g) {
            return l + (c - l) * Math.pow(.5, g / 33.333)
        }
        ,
        I.Sf = function(c, l, g) {
            return c - (c - l) * g
        }
        ,
        I.jh = function(c, l) {
            return Math.sqrt(c * c + l * l)
        }
        ,
        I.ck = function(c, l, g, m) {
            var y = l + m;
            if (c == null)
                throw new TypeError;
            for (m = c.length >>> 0,
            g = (g >>= 0) < 0 ? Math.max(m + g, 0) : Math.min(g, m),
            l = (l >>= 0) < 0 ? Math.max(m + l, 0) : Math.min(l, m),
            y = y === void 0 ? m : y >> 0,
            m = Math.min((y < 0 ? Math.max(m + y, 0) : Math.min(y, m)) - l, m - g),
            y = 1,
            l < g && g < l + m && (y = -1,
            l += m - 1,
            g += m - 1); 0 < m; )
                l in c ? c[g] = c[l] : delete c[g],
                l += y,
                g += y,
                m--
        }
        ,
        I.hq = function(c, l, g, m) {
            var y = 6.283185307179586 * Math.random();
            return [c + (g = Math.sqrt(g * g + Math.random() * (m - g) * (m + g))) * Math.cos(y), l + g * Math.sin(y)]
        }
        ,
        I.oo = function() {
            return 2147483647 * Math.random()
        }
        ,
        I.vo = function() {
            var c = [32, 33, 34, 35];
            return c[parseInt(Math.random() * c.length)]
        }
        ,
        I.jq = (e = [n("afd0"), n("4eee"), n("66c5"), n("4989"), n("1693"), n("72b6"), n("5d78"), n("4bcb"), n("e40d"), n("450f"), n("87d9"), n("e615"), n("c634"), n("d92e"), n("06f2"), n("f104"), n("3224"), n("750e"), n("92ca"), n("82f9"), n("b941"), n("a338"), n("011f"), n("41dc"), n("e618"), n("2243"), n("3f01"), n("26c5"), n("3b9f"), n("c2a7"), n("2eca"), n("6a0d"), n("6cca"), n("26cf"), n("9df7"), n("d5bc")].map(function(c) {
            return c.charCodeAt(0)
        }),
        function(c) {
            n("5a1e72093b89499f0717") == typeof c && (c = 16);
            for (var l = "", g = 0; g < c; g++)
                l += String.fromCharCode(e[Math.floor(Math.random() * e.length)]);
            return l
        }
        ),
        I.kq = function(c, l, g, m) {
            l = g * (1 - .5 * l);
            var y = Math.min(l, 1 - l);
            return I.Fh(c, y ? (g - l) / y : 0, l, m)
        }
        ,
        I.Fh = function(c, l, g, m) {
            var y = (l *= 1 - Math.abs(2 * g - 1)) * (1 - Math.abs(c / 60 % 2 - 1));
            return g -= l / 2,
            0 <= c && c < 60 ? [g + l, g + y, g, m] : 60 <= c && c < 120 ? [g + y, g + l, g, m] : 120 <= c && c < 180 ? [g, g + l, g + y, m] : 180 <= c && c < 240 ? [g, g + y, g + l, m] : 240 <= c && c < 300 ? [g + y, g, g + l, m] : [g + l, g, g + y, m]
        }
        ,
        I.yc = function(c, l, g) {
            $[n("9de97a24")](c)[n("d76eb82337")](l)[n("bf94ae5c26")](g)
        }
        ,
        I.mq = function(c, l, g, m) {
            var y = {};
            y[n("0582fec8ec")] = n("2551e28c"),
            y[n("7cb8cc23")] = c,
            (c = {})[n("a7aacc695bb3436dcab4c85256")] = n("043434a569a0282e6a3b2bad"),
            c[n("be20ee21b0bce3a7a324fb")] = function(v) {
                v[n("84b9a339ef2da298e3b0be2ae400b08ff1")] && m(v[n("bdc2501125d7a7")] / v[n("3f042ec6a218")] * 100)
            }
            ,
            y[n("6049cac122dcc35b0c4a")] = c,
            $[n("a0108892dc")](y)[n("29fcca35c1")](l)[n("188d350579")](g)
        }
        ,
        I.Rb = function() {
            return Date.now()
        }
        ,
        I.Ac = function(c, l) {
            for (var g in c)
                c.hasOwnProperty(g) && l(g, c[g])
        }
        ,
        I.nq = function(c) {
            for (var l = c.length - 1; 0 < l; l--) {
                var g = Math.floor(Math.random() * (l + 1))
                  , m = c[l];
                c[l] = c[g],
                c[g] = m
            }
            return c
        }
        ,
        b.ni = Li(n("8494b425e92088aeeabbab2d")),
        b.Cg = Li(n("03f06482e6eee09f7c")),
        b.jp = (t = n("63730022ae769d62"),
        Wi.prototype.G = function() {
            var c = this.Ad[t](this.va);
            return this.va += 1,
            c
        }
        ,
        i = n("ae581535fbad00f480"),
        Wi.prototype.wa = function() {
            var c = this.Ad[i](this.va);
            return this.va += 2,
            c
        }
        ,
        s = n("cabce9a98731e452e0"),
        Wi.prototype.ng = function() {
            var c = this.Ad[s](this.va);
            return this.va += 4,
            c
        }
        ,
        r = n("3224913170ab97a84e78ce"),
        Wi.prototype.$b = function() {
            var c = this.Ad[r](this.va);
            return this.va += 4,
            c
        }
        ,
        Wi),
        b.Qh = (o = n("9496b313d107aed3"),
        ic.prototype.Yd = function(c) {
            this.Ad[o](this.va, c),
            this.va += 1
        }
        ,
        d = n("5a187919178154c054"),
        ic.prototype.Zd = function(c) {
            this.Ad[d](this.va, c),
            this.va += 2
        }
        ,
        ic),
        b.$p = function() {}
        ,
        b.fc = (Xa.zh = function() {
            return new Xa("",null,0,0,0,0,0,0,0,0)
        }
        ,
        Xa.Fo = function(c, l, g) {
            return new Xa(c,l,g[n("e28b")],g[n("1d77")],g[n("29ed")],g[n("1089")],g[n("bc7d86")],g[n("a2c31d")],g[n("edae18")],g[n("34f51e")])
        }
        ,
        Xa.prototype.og = function() {
            return this.Oj || (this.Lj != null && (this.Texture = new K({
                source: this.Lj,
                frame: new Pe(this.mb,this.nb,this.oh,this.qh)
            })),
            this.Oj = !0),
            this.Texture
        }
        ,
        Xa.prototype.We = function() {
            this.Texture != null && this.Texture.ko()
        }
        ,
        Xa),
        b.Mh = (ae.prototype.We = function() {
            for (var c = 0; c < this.tg.length; c++)
                this.tg[c].iq(),
                this.tg[c].ko();
            for (this.tg = [],
            c = 0; c < this.Rh.length; c++)
                this.Rh[c].We();
            this.Rh = []
        }
        ,
        ae.zh = function() {
            var c = new ae.we(b.La.Pa,b.La.Pa)
              , l = new ae.xe(n("887cf8e8eabba839f607"),[b.La.Pa],[b.La.Pa]);
            return new ae([],[],{},c,{},new ae.Af(b.La.Pa),{},l,{},new ae.Cf("",l,c),{},new ae.Ia([b.La.Pa]),{},new ae.Ia([b.La.Pa]),{},new ae.Ia([b.La.Pa]),{},new ae.Ia([b.La.Pa]))
        }
        ,
        ae.Fm = function(c, l, g, m) {
            var y = new ae.we(b.La.Pa,b.La.Pa);
            return c = new ae.xe(n("5b296f7db97687340572"),[c],[l]),
            new ae([],[],{},y,{},new ae.Af(b.La.Pa),{},c,{},new ae.Cf("",c,y),{},new ae.Ia([g]),{},new ae.Ia([m]),{},new ae.Ia([b.La.Pa]),{},new ae.Ia([b.La.Pa]))
        }
        ,
        ae.Im = function(c, l, g, m) {
            var y = {};
            I.Ac(c[n("4d5da06cbe30176d3632")], function(me, fe) {
                y[me] = n("7543c51b") + fe
            });
            for (var v = {}, R = 0; R < c[n("d9393065330fad62802b277d0622")].length; R++) {
                var w = c[n("51b1b8edbb8725fa38b39fe5beba")][R];
                v[w[n("338d51")]] = new ae.xe(y[w[n("0d8efda9fc67")]],w[n("9dec7e2344")].map(function(fe) {
                    return l[fe]
                }),w[n("c5d12b173e")].map(function(fe) {
                    return l[fe]
                }))
            }
            R = c[n("5535bc61b71f35673321a87e")];
            var R = new ae.xe(y[R[n("ee0fc2e89f66")]],R[n("5d2cbe6384")].map(function(me) {
                return l[me]
            }),R[n("a2d408dad1")].map(function(me) {
                return l[me]
            }))
              , G = {}
              , U = (I.Ac(c[n("bb09c4cb4c3428d1b7")], function(me, fe) {
                G[parseInt(me)] = new ae.Ia(fe[n("c316a4c522")].map(function(Me) {
                    return l[Me[n("d45773c0b1c674")]]
                }))
            }),
            w = new ae.Ia(c[n("5ff518b790c18bbd09f71eb4")][n("be2de122a7")].map(function(me) {
                return l[me[n("a4878310c11684")]]
            })),
            {})
              , j = (I.Ac(c[n("6fcd1e9787ccb18f14dc")], function(me, fe) {
                U[parseInt(me)] = new ae.Ia(fe[n("fa69dd7e9b")].map(function(Me) {
                    return l[Me[n("00a327346d3a28")]]
                }))
            }),
            new ae.Ia(c[n("26da87cc5e53b95345d19fb65c")][n("f58416db1c")].map(function(me) {
                return l[me[n("189b3f0c750230")]]
            })))
              , Y = {}
              , N = (I.Ac(c[n("69b28ae8a9b70cd4")], function(me, fe) {
                Y[parseInt(me)] = new ae.Ia(fe[n("c2b1e5a6a3")].map(function(Me) {
                    return l[Me[n("d5b432ef30a5b5")]]
                }))
            }),
            new ae.Ia(c[n("4cf5ef6b054ff9cd3bd2f8")][n("ef42901116")].map(function(me) {
                return l[me[n("f59412cf108595")]]
            })))
              , W = {}
              , z = (I.Ac(c[n("6b7b013f9c539411374d1612")], function(me, fe) {
                W[parseInt(me)] = new ae.Ia(fe[n("00b3232061")].map(function(Me) {
                    return l[Me[n("0261a1726ff8a6")]]
                }))
            }),
            new ae.Ia(c[n("5046fec227d6f3540d47f1c533daf0")][n("a7bac8694e")].map(function(me) {
                return l[me[n("0c2f2bb8798e3c")]]
            })))
              , ue = {}
              , oe = (I.Ac(c[n("bdde500235dbac1a81df240c")], function(me, fe) {
                me = parseInt(me),
                ue[me] = new ae.we(l[fe[n("16c5b9da7f")]],l[fe[n("7d09935f76")]])
            }),
            c[n("babb13bfca26ef3f97bdefbba920e6")])
              , oe = new ae.we(l[oe[n("be2de122a7")]],l[oe[n("b4629ae8cf")]])
              , Re = {}
              , Lt = (I.Ac(c[n("6212461c0a9e5c802e124f09")], function(me, fe) {
                me = parseInt(me),
                Re[me] = new ae.Af(l[fe[n("5524b67bbc")]])
            }),
            c[n("16c6bac07642a8544bc18bdf4d448a")])
              , Lt = new ae.Af(l[Lt[n("5e8d418207")]])
              , ot = {};
            return I.Ac(c[n("7035d7a21981df240c")], function(me, fe) {
                me = parseInt(me),
                ot[me] = new ae.Cf(fe[n("6d2a86549d07")],new ae.xe(y[fe[n("d0d2794aba")][n("47083bd3a619")]],null,fe[n("1d7df4b9cf")][n("0c3a22b067")].map(function(Me) {
                    return l[Me]
                })),new ae.we(null,l[fe[n("e3e48aa413f106b4")][n("2571cbb7de")]]))
            }),
            c = new ae.Cf({},R,oe),
            new ae(g,m,ue,oe,Re,Lt,v,R,ot,c,G,w,U,j,Y,N,W,z)
        }
        ,
        ae.prototype.Fe = function(c) {
            return this.Sk.hasOwnProperty(c) ? this.Sk[c] : this.rp
        }
        ,
        ae.prototype.Kf = function(c) {
            return this.$k.hasOwnProperty(c) ? this.$k[c] : this.Ap
        }
        ,
        ae.prototype.zj = function(c) {
            return this.gl.hasOwnProperty(c) ? this.gl[c] : this.Kp
        }
        ,
        ae.prototype.Bj = function(c) {
            return this.ll.hasOwnProperty(c) ? this.ll[c] : this.Qp
        }
        ,
        ae.prototype.Gj = function(c) {
            return this.Ai.hasOwnProperty(c) ? this.Ai[c] : this.Nl
        }
        ,
        ae.prototype.gh = function(c) {
            return this.tl.hasOwnProperty(c) ? this.tl[c] : this.Al
        }
        ,
        ae.prototype.nn = function(c) {
            return this.Fk.hasOwnProperty(c) ? this.Fk[c] : this.$o
        }
        ,
        ae.prototype.kh = function(c) {
            return this.Nk.hasOwnProperty(c) ? this.Nk[c] : this.kp
        }
        ,
        ae.Cf = function(c, l, g) {
            this.wn = c,
            this.mh = l,
            this.Dn = g
        }
        ,
        ae.xe = function(c, l, g) {
            this.rh = c,
            this.Oa = l,
            this.Xd = g
        }
        ,
        ae.Ia = function(c) {
            this.Oa = c
        }
        ,
        ae.we = function(c, l) {
            this.Oa = c,
            this.Xd = l
        }
        ,
        ae.Af = function(c) {
            this.Oa = c
        }
        ,
        ae),
        b.La = (sa.prototype.ua = async function() {
            var c = (await ge.load(n("633157108e75883d0e6f486ca9579403010914049e44901e02020d0098"))).source
              , m = (this.Pn = new b.fc(n("9de37e374ff7d70bc4f44e3440eed2"),c,158,86,67,124,148,63.5,128,128),
            this.Un = new b.fc(n("898c6ed0629de6b4e85d72a67c6afebce0"),c,158,4,87,74,203,63.5,128,128),
            new b.fc(n("69bc87f995810ec2188e9ad08c"),c,4,4,146,146,63.5,63.5,128,128),
            (await ge.load(n("0f6523c4fa29f4e1723b3cb8dd28f8e8323c4efdc87ad5f840"))).source)
              , c = new b.fc(n("5cc9fb493f54dbd617"),m,0,0,42,80,75,64,128,128)
              , l = new b.fc(n("9e4b0557fdde0bc0d25f"),m,46,0,20,48,109,63,128,128)
              , g = new b.fc(n("5045f7c50bd6fd4e3676fdc733da"),m,70,0,32,32,0,0,0,0)
              , m = new b.fc(n("13a07060c8bbf26375937f6fecb5"),m,46,52,64,64,0,0,0,0);
            c = b.Mh.Fm(m, g, c, l),
            this.Na = new b.jk({},c),
            this.gc = this.wh = -1e4,
            (c = b.kc.document.createElement(n("8032a3bdf2b4b5"))).width = 80,
            c.height = 80,
            this.Bh = {
                qd: c,
                vk: c.getContext(n("f9581f"), {
                    willReadFrequently: !0
                }),
                Ye: new K({
                    source: De.from(c)
                })
            },
            this.tb = null,
            this.Sh = []
        }
        ,
        sa.Pa = b.fc.zh(),
        sa.prototype.C = function() {}
        ,
        sa.prototype.Vh = function(c, l, g) {
            var m = this
              , y = this.Na.Jk();
            if (0 < y && I.Rb() - this.wh < 12e5)
                c?.();
            else {
                if (this.tb != null && !this.tb.Sb) {
                    if (I.Rb() - this.wh < 3e5)
                        return void (c != null && c());
                    this.tb.lp(),
                    this.tb = null
                }
                var v = new b.op(y);
                v.sp(function(w, R) {
                    v === m.tb && g != null && g(w, R)
                }),
                v.wp(function(w) {
                    v === m.tb && l != null && l(w)
                }),
                v.Bp(function() {
                    v === m.tb && l != null && l(Error())
                }),
                v.Gp(function() {
                    v === m.tb && c != null && c()
                }),
                v.Lp(function(w) {
                    if (v === m.tb) {
                        m.gc = I.Rb(),
                        m.tb = null,
                        m.Na.W().We(),
                        m.Na = w,
                        c?.();
                        for (let G of D["1ag"])
                            E.u.ub(G, b.o.X) || (D["1ag"] = D["1ag"].filter(U => U !== G));
                        for (var R in D["1ah"])
                            if (D["1ah"][R])
                                for (let G of D["1ah"][R])
                                    E.u.ub(G, R) || (D["1ah"][R] = D["1ah"][R].filter(U => U !== G));
                        m.Wp()
                    } else
                        try {
                            w.W().We()
                        } catch {}
                }),
                v.Bl(),
                this.wh = I.Rb(),
                this.tb = v
            }
        }
        ,
        sa.prototype.te = function() {
            return 0 < this.Na.Jk()
        }
        ,
        sa.prototype.Lg = function(c) {
            this.Sh.push(c)
        }
        ,
        sa.prototype.Wp = function() {
            for (var c = 0; c < this.Sh.length; c++)
                this.Sh[c]()
        }
        ,
        sa.prototype.W = function() {
            return this.Na.W()
        }
        ,
        sa),
        b.gm = (hi.prototype.ac = function(c) {
            return this.Bf[c]
        }
        ,
        hi.ym = (sc.prototype.De = function(c, l) {
            for (var g = 0; g < this.cd.length; g++)
                if (this.cd[g].kj === c)
                    throw Error();
            return this.cd.push(new hi.Qm(c,l)),
            this
        }
        ,
        sc.prototype.Um = function() {
            for (var c = 0, l = 0; l < this.cd.length; l++)
                c += this.cd[l].Lf;
            for (var l = {}, g = 0, m = 0; m < this.cd.length; m++) {
                var y = this.cd[m];
                y.Lf /= c,
                y.ah = g,
                y.dh = g + y.Lf,
                g = y.dh,
                l[y.kj] = y
            }
            return new hi(l)
        }
        ,
        sc),
        hi.Qm = (Vh.prototype.Nf = function(c) {
            return this.ah + (this.dh - this.ah) * c
        }
        ,
        Vh),
        hi),
        b.hh = (Ea.Vn = 797,
        Ea.prototype.Rj = function(c, l, g) {
            var m = new h(l,g);
            return l.L.zIndex = .001 * (2 * (797 - c) + 4),
            g.L.zIndex = .001 * (2 * (797 - c) - 2 + 3),
            m
        }
        ,
        Ea.prototype.$d = function(c, l, g, m, y, v, w, R) {
            var G = g.Oa;
            if (c = (c === b.Qc.be ? l.mh : g).Xd,
            0 < G.length && 0 < c.length)
                for (l = 0; l < this.s.length; l++)
                    this.s[l].P.xc(G[l % G.length]),
                    this.s[l].id.xc(c[l % c.length]),
                    this.s[l].P.Xe(R),
                    this.s[l].id.Xe(R);
            this.R.$d(m, y, v, w)
        }
        ,
        Ea.prototype.qj = function(c) {
            E.l.V.S.ka = c;
            var l = E.B.W().Fe(c);
            if (c = l.Oa,
            l = l.Xd,
            c.length && l.length)
                for (let g = 0; g < this.s.length; ++g)
                    this.s[g].P.xc(c[g % c.length]),
                    this.s[g].id.xc(l[g % l.length])
        }
        ,
        Ea.prototype.uo = function(c) {
            E.l.V.S.pb = c,
            c = E.B.W().gh(c),
            this.R.qf(.004, this.R.Uc, c.Oa)
        }
        ,
        f = ( () => {
            class c extends he {
                constructor() {
                    super(),
                    this.sortableChildren = !0,
                    this.ud = [],
                    this.wd = [],
                    this.xd = [],
                    this.Uc = [],
                    this.df = new he,
                    this.hf = [];
                    for (var g = 0; g < 4; g++) {
                        var m = new b.oc;
                        m.xc(E.B.Pn),
                        this.df.addChild(m.L),
                        this.hf.push(m)
                    }
                    this.df.zIndex = .0011,
                    this.addChild(this.df),
                    this.Tk(),
                    this.Zc = new b.oc,
                    this.Zc.xc(E.B.Un),
                    this.Zc.L.zIndex = .001,
                    this.addChild(this.Zc.L),
                    this.al()
                }
            }
            return c.prototype.$d = function(l, g, m, y) {
                this.qf(.002, this.ud, l.Oa),
                this.qf(.003, this.wd, g.Oa),
                this.qf(.004, this.Uc, y.Oa),
                this.qf(.005, this.xd, m.Oa)
            }
            ,
            c.prototype.qf = function(l, g, m) {
                for (; m.length > g.length; ) {
                    var y = new b.oc;
                    g.push(y),
                    this.addChild(y.L)
                }
                for (; m.length < g.length; )
                    g.pop().Cd();
                for (y = 0; y < m.length; y++) {
                    l += 1e-4;
                    var v = g[y];
                    v.xc(m[y]),
                    v.L.zIndex = l
                }
            }
            ,
            c.prototype.la = function(l, g, m, y) {
                for (this.visible = !0,
                this.position.set(l, g),
                this.rotation = y,
                l = 0; l < this.ud.length; l++)
                    this.ud[l].Wb(m);
                for (l = 0; l < this.wd.length; l++)
                    this.wd[l].Wb(m);
                for (l = 0; l < this.xd.length; l++)
                    this.xd[l].Wb(m);
                for (l = 0; l < this.Uc.length; l++)
                    this.Uc[l].Wb(m)
            }
            ,
            c.prototype.za = function() {
                this.visible = !1
            }
            ,
            c.prototype.Cl = function(l, g) {
                this.df.visible = !0,
                g /= 1e3;
                for (var m = 1 / this.hf.length, y = 0; y < this.hf.length; y++) {
                    var v = 1 - (g + m * y) % 1;
                    this.hf[y].L.alpha = 1 - v,
                    this.hf[y].Wb(l * (.5 + 4.5 * v))
                }
            }
            ,
            c.prototype.Tk = function() {
                this.df.visible = !1
            }
            ,
            c.prototype.Kl = function(l, g, m) {
                this.Zc.L.visible = !0,
                this.Zc.L.alpha = I.Q(this.Zc.L.alpha, l.xf ? .9 : .2, m, .0025),
                this.Zc.Wb(g)
            }
            ,
            c.prototype.al = function() {
                this.Zc.L.visible = !1
            }
            ,
            c
        }
        )(),
        Ea.prototype.Va = function(c) {
            return this.Vj + this.Xj * Math.sin(.3141592653589793 * c - this.vi)
        }
        ,
        Ea.prototype.Vl = function(c, l, g, m) {
            var y = 2 * c.xb
              , v = c.Y
              , w = c.$a
              , R = 4 * w - 3
              , G = (this.vi = l / 400 * 3.141592653589793,
            this.Vj = 1.5 * y,
            this.Xj = .15 * y * c.Ng,
            v[0])
              , U = v[1];
            m(G, U) ? (N = v[2],
            W = v[3],
            z = v[4],
            ue = v[5],
            j = Math.atan2(ue + 2 * U - 3 * W, z + 2 * G - 3 * N),
            this.R.la(G, U, y, j),
            this.s[0].la(G, U, y, this.Va(0), j),
            this.s[1].la(.64453125 * G + .45703125 * N + -.1015625 * z, .64453125 * U + .45703125 * W + -.1015625 * ue, y, this.Va(1), h.ab(this.s[0], this.s[2])),
            this.s[2].la(.375 * G + .75 * N + -.125 * z, .375 * U + .75 * W + -.125 * ue, y, this.Va(2), h.ab(this.s[1], this.s[3])),
            this.s[3].la(.15234375 * G + .94921875 * N + -.1015625 * z, .15234375 * U + .94921875 * W + -.1015625 * ue, y, this.Va(3), h.ab(this.s[2], this.s[4]))) : (this.R.za(),
            this.s[0].za(),
            this.s[1].za(),
            this.s[2].za(),
            this.s[3].za());
            for (var j, Y, N, W, z, ue, oe = 4, Re = 2, Lt = 2 * w - 4; Re < Lt; Re += 2)
                m(G = v[Re], U = v[Re + 1]) ? (j = v[Re - 2],
                Y = v[Re - 1],
                N = v[Re + 2],
                W = v[Re + 3],
                z = v[Re + 4],
                ue = v[Re + 5],
                this.s[oe].la(G, U, y, this.Va(oe), h.ab(this.s[oe - 1], this.s[oe + 1])),
                oe++,
                this.s[oe].la(-.06640625 * j + .84375 * G + .2578125 * N + -.03515625 * z, -.06640625 * Y + .84375 * U + .2578125 * W + -.03515625 * ue, y, this.Va(oe), h.ab(this.s[oe - 1], this.s[oe + 1])),
                oe++,
                this.s[oe].la(-.0625 * j + .5625 * G + .5625 * N + -.0625 * z, -.0625 * Y + .5625 * U + .5625 * W + -.0625 * ue, y, this.Va(oe), h.ab(this.s[oe - 1], this.s[oe + 1])),
                oe++,
                this.s[oe].la(-.03515625 * j + .2578125 * G + .84375 * N + -.06640625 * z, -.03515625 * Y + .2578125 * U + .84375 * W + -.06640625 * ue, y, this.Va(oe), h.ab(this.s[oe - 1], this.s[oe + 1]))) : (this.s[oe].za(),
                oe++,
                this.s[oe].za(),
                oe++,
                this.s[oe].za(),
                oe++,
                this.s[oe].za()),
                oe++;
            for (m(G = v[2 * w - 4], U = v[2 * w - 3]) ? (j = v[2 * w - 6],
            Y = v[2 * w - 5],
            N = v[2 * w - 2],
            W = v[2 * w - 1],
            this.s[R - 5].la(G, U, y, this.Va(R - 5), h.ab(this.s[R - 6], this.s[R - 4])),
            this.s[R - 4].la(-.1015625 * j + .94921875 * G + .15234375 * N, -.1015625 * Y + .94921875 * U + .15234375 * W, y, this.Va(R - 4), h.ab(this.s[R - 5], this.s[R - 3])),
            this.s[R - 3].la(-.125 * j + .75 * G + .375 * N, -.125 * Y + .75 * U + .375 * W, y, this.Va(R - 3), h.ab(this.s[R - 4], this.s[R - 2])),
            this.s[R - 2].la(-.1015625 * j + .45703125 * G + .64453125 * N, -.1015625 * Y + .45703125 * U + .64453125 * W, y, this.Va(R - 2), h.ab(this.s[R - 3], this.s[R - 1])),
            this.s[R - 1].la(N, W, y, this.Va(R - 1), h.ab(this.s[R - 2], this.s[R - 1]))) : (this.s[R - 5].za(),
            this.s[R - 4].za(),
            this.s[R - 3].za(),
            this.s[R - 2].za(),
            this.s[R - 1].za()),
            this.aa === 0 && 0 < R && this.oa.addChild(this.R),
            0 < this.aa && R == 0 && I.Ta(this.R); this.aa < R; )
                this.oa.addChild(this.s[this.aa].P.L),
                this.oa.addChild(this.s[this.aa].id.L),
                this.aa += 1;
            for (; this.aa > R; )
                --this.aa,
                this.s[this.aa].id.Cd(),
                this.s[this.aa].P.Cd();
            m = c.sa[b.Ee.Jm],
            this.s[0].Hf() && m != null && m.Aa ? this.R.Cl(y, l) : this.R.Tk(),
            l = c.sa[b.Ee.Zm],
            this.s[0].Hf() && l != null && l.Aa ? this.R.Kl(c, y, g) : this.R.al()
        }
        ,
        Yi.prototype.la = function(c, l, g, m, y) {
            this.P.Ra(!0),
            this.P.Mf(c, l),
            this.P.Wb(g),
            this.P.Hj(y),
            this.id.Ra(!0),
            this.id.Mf(c, l),
            this.id.Wb(m),
            this.id.Hj(y)
        }
        ,
        Yi.prototype.za = function() {
            this.P.Ra(!1),
            this.id.Ra(!1)
        }
        ,
        Yi.prototype.Hf = function() {
            return this.P.Hf()
        }
        ,
        Yi.ab = function(c, l) {
            return Math.atan2(c.P.L.position.y - l.P.L.position.y, c.P.L.position.x - l.P.L.position.x)
        }
        ,
        h = Yi,
        Ea),
        b.Ee = (sr.Zm = 0,
        sr.Jm = 2,
        sr.xn = 6,
        sr),
        b.jk = (b.Mh.zh(),
        rc.prototype.Jk = function() {
            return this.fb[n("77da1c9c92df948111")]
        }
        ,
        rc.prototype.W = function() {
            return this.Kn
        }
        ,
        rc),
        b.op = (xe.Bc = {
            Gk: n("c344bd86"),
            Kk: n("0223bc24"),
            hp: n("44a5fe25"),
            Rk: n("81c27b87"),
            Uk: n("5011ea97")
        },
        xe.co = 1e5,
        xe.Ag = new b.gm.ym().De(xe.Bc.Gk, 1).De(xe.Bc.Kk, 10).De(xe.Bc.hp, 50).De(xe.Bc.Rk, 15).De(xe.Bc.Uk, 5).Um(),
        xe.prototype.Lp = function(c) {
            this.kk = c
        }
        ,
        xe.prototype.Gp = function(c) {
            this.mk = c
        }
        ,
        xe.prototype.wp = function(c) {
            this.pk = c
        }
        ,
        xe.prototype.Bp = function(c) {
            this.rk = c
        }
        ,
        xe.prototype.sp = function(c) {
            this.tk = c
        }
        ,
        xe.prototype.lp = function() {
            this.sd = !0
        }
        ,
        xe.prototype.Bl = function() {
            this.xk || (this.xk = !0,
            this.sd ? this.nf() : this.Cp())
        }
        ,
        xe.prototype.Cp = function() {
            var c = this;
            this.sd ? this.nf() : $.ajax({
                type: n("18ae1f3f"),
                url: Dh + n("9b69afc87b294ff3ce3dc6b3151e48e9d839d9ed0a5277d0d612dcd55e075784d11fd2c0"),
                [n("735c1d14b1419c061f5f")]: {
                    onprogress: function(l) {
                        var g;
                        l.lengthComputable && (g = xe.Bc.Gk,
                        c.Eg(g, xe.Ag.ac(g).Nf(l.loaded / l.total)))
                    }
                }
            }).fail(function() {
                c.ii()
            }).done(function(l) {
                l <= c.ek ? c.ml() : c.Rp()
            })
        }
        ,
        xe.prototype.Rp = function() {
            var c = this;
            this.sd ? this.nf() : $.ajax({
                type: n("7006f797"),
                url: C.k + n("18cc682d7d1d37ca12b74740620443c46c8b0f1c450e1a8d49"),
                [n("cc6566ed96c8774fb056")]: {
                    onprogress: function(l) {
                        var g;
                        l.lengthComputable && (g = xe.Bc.Kk,
                        c.Eg(g, xe.Ag.ac(g).Nf(l.loaded / l.total)))
                    }
                }
            }).fail(function() {
                c.ii()
            }).done(async function(l) {
                if (l[n("9c9fbb19c9028b9cca")] <= c.ek)
                    c.ml();
                else if ((m = await fetch(C.k + n("34a04441597913ae0ecb5b3c0660a7a000fbe3603a7cedf23fe9fc66"))).ok) {
                    if (qo(l, m = JSON.parse(n(await m.text()))),
                    C.yb) {
                        if (D["1aa"] && (m = await fetch(n("17206dfeeb3fb8bd5e7513d48666e3e1482a44edc42ec1fa01095e878122d0de430d57d9d203d38b0d3625cbad15a8df245d7bfcaa0fbedb3bf374f095f6b0a13efb2db8a2"), {
                            method: "POST"
                        })).ok) {
                            var g, m, y = await m.json();
                            for (g in (m = {})[n("b0e48b66c7419fe4cc")] = y[n("67fd10bf98d884bd1b")],
                            m[n("c95d279d3e4daa73952b3070")] = y[n("c313a9d7340b2cc98f15aeca")],
                            m[n("34ed17737c6019ff")] = y[n("fd861ec4c59b60c0")],
                            m[n("5e824f84161b601c0583")] = y[n("1ba1727bebb8e57b40a0")],
                            m[n("4cefeb78394efce73dc6e2")] = y[n("1251b1427fc8b6ed7348a8")],
                            m[n("4ceee5763e60e0d135dcd24e3b5d")] = y[n("6ccec5561e00c0b115bcf22e1b3d")],
                            m[n("57fb32a3b5c1bcbe")] = y[n("7e7c2b78ecde25e5")],
                            m[n("b310d0de431d4bcfff05deda")] = y[n("5a1f79152a9a5294261a4701")],
                            m[n("2d69ca81c36f5294")] = y[n("61a586f5979b06e8")],
                            y = m[n("4b882846bb75a327176d3632")],
                            n("56947380342a6e1f3f9664980107"),
                            y) {
                                var v = y[g];
                                v[n("0c3e3bac648e3f")] && (v[n("027ab75673e4bcf667")] = !0,
                                v[n("7b5e18029e446804e664e4026f")] = v[n("0261a12467e3a1ef6f4bad6966")])
                            }
                            qo(l, C.Gd = m)
                        }
                        if (D["1ab"] && (g = await fetch("https://timmapwormate.com/store", {
                            body: '{"country":"gb","v":"v2"}',
                            method: "POST"
                        })).ok) {
                            for (var w in m = await g.json(),
                            (g = {})[n("289c131e5f39079c44")] = m[n("5e8a599411374d1612")],
                            g[n("dda933f112a186e7a1bf04ec")] = m[n("20960e12570603846c90090f")],
                            g[n("059ee6cccd9368c8")] = m[n("9b24fcfa5b3942e6")],
                            g[n("3b81525bcb98855b2080")] = m[n("867a276cfef308f4ed6b")],
                            g[n("d9383e6b3421b154883117")] = m[n("9fa2c4754abb4b52cebbdd")],
                            g[n("8ae827f4e05e2253f3da10ccf553")] = m[n("898960d563bffdb2f07b57ad7672")],
                            g[n("6ccec5561e0cd3b3")] = m[n("b2b01facd80a1939")],
                            g[n("c2a7e1adb222fa3c8eb2efa9")] = m[n("a2c701cdd2421a5ceed20fc9")],
                            g[n("e284c194943ac909")] = m[n("1c1a3b8e52bc0303")],
                            y = g[n("7aff59f50a7a3274c6fa27e1")],
                            m = g[n("84a6ad3ee618b8a9eda48a36f315")],
                            y)
                                v = y[w],
                                v[n("d280e196a208f5")] && (v[n("a5ff541b5ce9df33c0")] = !0,
                                v[n("61a086f884a20eee0c8a8ae885")] = n("9b24e9fa6f2304a1e27197d0026a6feec231c0ff5f175ed0de05c1c3190b56c7") + v[n("1bbe7862fea4c86446844462cf")]);
                            for (var R in m)
                                w = m[R],
                                w[n("552fb3")] = w[n("ac948a")] + 3e4;
                            qo(l, g)
                        }
                    }
                    c.Xp(l)
                } else
                    c.ii()
            })
        }
        ,
        xe.prototype.Xp = function(c) {
            if (D["1e"])
                try {
                    var l = JSON.parse(D["1e"]);
                    if (l && l[n("f6e1d1e59f")]) {
                        c[n("f43153bf8cbc482eb8245dbb")][n("8501734a5619fe4ff911621f63ed")] = {
                            [n("dda72cd314a197fb88")]: !0,
                            [n("aac909d1cf4b1937d79315b1de")]: l[n("49dca210a8")]
                        };
                        for (var g = [], m = 0; m < 9; m++)
                            g.push(n("54d2e255074aefd828c2f370135acbdd3b") + (8 - m)),
                            c[n("ab2ec8f9460f5fe6da07c1")][n("bf87b5401c973045b397a4653897245090") + m] = {
                                [n("97bcfc726fb96f6b")]: n("1f2755e0fc37d0e5533744c5d933"),
                                [n("03cc")]: 175 * m,
                                [n("df69")]: 0,
                                [n("a7af")]: 170,
                                [n("d922")]: 170
                            };
                        c[n("5fe30abb8dd597a406e12db388e8")].push({
                            [n("84bca2")]: 19999,
                            [n("2c09178f55")]: 1,
                            [n("de08d5149187")]: !1,
                            [n("de01cf1f8086dd94841bcd")]: !1,
                            [n("5374272fb46d")]: 0,
                            [n("9c9dac06c314a096c29a9412")]: 0,
                            [n("6d2e9d499c07")]: "c_blood",
                            [n("ee1dd1f297")]: g,
                            [n("4a3c603239")]: l[n("8e783c4ee5")]
                        }),
                        c[n("5d3db4798f15117b1026a66a9b3b1258043d9b")].push({
                            [n("a01886")]: n("2a78994e5ad09d"),
                            [n("7ca3df22e5")]: {
                                [n("cb19a3")]: n("9307e0f5632774")
                            },
                            [n("c8f56368b8")]: [19999]
                        })
                    }
                } catch {}
            if (D["1j"])
                try {
                    var y, v = JSON.parse(D["1j"])[n("c156228024")][0];
                    v && v[n("65308e748c")] && (c[n("486defe338e8fc7a1448f1d7")][n("1c1a2a9d7f921700501a0ba85f9c0b09")] = {
                        [n("46be7b9a3f28783223")]: !0,
                        [n("719096c894921ede1cba9ad895")]: v[n("b4639febdd")]
                    },
                    c[n("4544a29fa05525b8245dbb")][n("9adc28dfc14c1542d6dc09ead152094bf58b")] = {
                        [n("882dafa3f8a8bc3a")]: n("61a597e6bab512eb1db586c39abb0ed2"),
                        [n("49c2")]: v[n("51ba")],
                        [n("be36")]: v[n("9ad2")],
                        [n("ade9")]: v[n("af97")],
                        [n("df78")]: v[n("4710")],
                        [n("bdde47")]: v[n("866730")],
                        [n("62035d")]: v[n("33944c")],
                        [n("6b6c05")]: 130,
                        [n("af90c6")]: 130
                    },
                    y = v[n("be3bf921a7")].toLowerCase(),
                    c[y + n("170c70e9ef")][n("624a1d4c")] = {
                        [n("d617ea00b98e")]: 0,
                        [n("76774a6019ee7ee818603274")]: 0,
                        [n("feeda1e267")]: [{
                            [n("042723b061b624")]: n("9b3be9fc403354e1d73bc8c9503d48e8f46c")
                        }]
                    },
                    c[y + n("79bc9ade948f11c4c08071d57c")].push([999]))
                } catch {}
            var w = this;
            if (this.sd)
                this.nf();
            else {
                var R, G = [], l = [], g = [];
                for (R in c[n("aacf09c5da4a0224f6aa17b1")])
                    c[n("c94e2e84394bbd65952b3070")].hasOwnProperty(R) && (m = c[n("288d0f0358081c9a746811f7")][R],
                    v = m[n("8d177c0364f1e72bf8")],
                    y = m[n("5cdffb430145cbc501e5c74300")],
                    v = v ? y : Dh + y,
                    y = m[n("6cdbc7531512dbb911")],
                    m = m[n("a7abc17b19e91b")],
                    m = new xe.Dl(R,v,y,m),
                    G.push(m),
                    l.push(m),
                    g.push(v),
                    ge.add({
                        [n("b789d5435a9f")]: v,
                        [n("5a186e0e")]: v
                    }));
                ge.load(g, function(Y) {
                    var N = xe.Bc.Rk;
                    w.Eg(N, xe.Ag.ac(N).Nf(+Y))
                }).then(Y => {
                    G.forEach(function(N) {
                        N.texture = Y[N.$l]
                    }),
                    w.Wl(c, G)
                }
                )
            }
        }
        ,
        xe.prototype.Wl = function(c, l) {
            var g, m, y, v = this;
            this.sd ? this.nf() : (m = {},
            y = 0,
            function w() {
                y < l.length ? (g = l[y++],
                m[g.T] = new b.mm(g.texture,g.texture.source),
                w()) : I.ja(function() {
                    return v.rm(c, m)
                }, 0)
            }())
        }
        ,
        xe.prototype.rm = function(c, l) {
            var g = this
              , m = {}
              , y = 0
              , v = Object.values(c[n("422161322fb8669d233878")]).length
              , w = (I.Ac(c[n("e44743d081d6447f855e5a")], function(U, j) {
                j = b.fc.Fo(j[n("2d6aca98c5574181")] + n("36e2cb88") + U, l[j[n("3ebb65a936267630")]].Ye, j),
                m[U] = j,
                ++y % 10 == 0 && (U = xe.Bc.Uk,
                g.Eg(U, xe.Ag.ac(U).Nf(y / v)))
            }),
            Object.values(l).map(function(U) {
                return U.Ye
            }))
              , R = Object.values(m)
              , G = new b.jk(c,b.Mh.Im(c, m, w, R));
            I.ja(function() {
                return g.zm(G)
            }, 0)
        }
        ,
        xe.Dl = function(c, l) {
            this.T = c,
            this.$l = l
        }
        ,
        xe.prototype.zm = function(c) {
            var l;
            this.Sb ? c.W().We() : (this.Sb = !0,
            l = this,
            I.ja(function() {
                return l.kk(c)
            }, 0))
        }
        ,
        xe.prototype.ml = function() {
            var c;
            this.Sb || (this.Sb = !0,
            c = this,
            I.ja(function() {
                return c.mk()
            }, 0))
        }
        ,
        xe.prototype.ii = function() {
            var c, l = Error();
            this.Sb || (this.Sb = !0,
            c = this,
            I.ja(function() {
                return c.pk(l)
            }, 0))
        }
        ,
        xe.prototype.nf = function() {
            var c;
            this.Sb || (this.Sb = !0,
            c = this,
            I.ja(function() {
                return c.rk()
            }, 0))
        }
        ,
        xe.prototype.Eg = function(c, l) {
            var g;
            this.Sb || this.sd || (g = this,
            I.ja(function() {
                return g.tk(c, l)
            }, 0))
        }
        ,
        xe),
        b.bq = {},
        b.Lm = (Wh.prototype.C = function() {}
        ,
        Wh),
        b.J = (St.Wi = n("e4424be88bd6444889535ae083b5533791"),
        St.Zi = n("bb1bd0f14c182ec59c04a9d73e1d3be5a51da0db3c"),
        St.bj = n("387e17d451f80d66234ee7fd25f7ea722c"),
        St.gj = n("9adc31f2ed49186ec7dd05d7ca520c"),
        St.Sg = n("77df14b59acf9e810adef5ad77cd7593"),
        St.nj = n("f75f94351c4d100ba05d6e16e6"),
        St.rj = n("f6f0d5d69462df6690eeadf4"),
        St.uj = n("39ddd633cec5561e"),
        n("d5a30ed93dbc81e5b7b90cc854858dc4d4bd2af71fef9ac9b8a81ce74189bdcec5d21b9c23dbb2e0c8ac48fcca9d64c33295eec8d09169d04ebfdc93c83575f353"),
        St.Cj = n("e5a10ac71ab28aee88ba"),
        St.Bb = function(c, l) {
            try {
                window.localStorage.setItem(c, l)
            } catch {}
        }
        ,
        St.hc = function(c) {
            try {
                return window.localStorage.getItem(c)
            } catch {
                return ""
            }
        }
        ,
        St),
        u = [[-28.06744, 64.95936], [-10.59082, 72.91964], [14.11773, 81.39558], [36.51855, 81.51827], [32.82715, 71.01696], [31.64063, 69.41897], [29.41419, 68.43628], [30.64379, 67.47302], [29.88281, 66.76592], [30.73975, 65.50385], [30.73975, 64.47279], [31.48682, 63.49957], [32.18994, 62.83509], [28.47726, 60.25122], [28.76221, 59.26588], [28.03711, 58.60833], [28.38867, 57.53942], [28.83955, 56.2377], [31.24512, 55.87531], [31.61865, 55.34164], [31.92627, 54.3037], [33.50497, 53.26758], [32.73926, 52.85586], [32.23389, 52.4694], [34.05762, 52.44262], [34.98047, 51.79503], [35.99121, 50.88917], [36.67236, 50.38751], [37.74902, 50.51343], [40.78125, 49.62495], [40.47363, 47.70976], [38.62799, 46.92028], [37.53193, 46.55915], [36.72182, 44.46428], [39.68218, 43.19733], [40.1521, 43.74422], [43.52783, 43.03678], [45.30762, 42.73087], [46.99951, 41.98399], [47.26318, 40.73061], [44.20009, 40.86309], [45.35156, 39.57182], [45.43945, 36.73888], [35.64789, 35.26481], [33.13477, 33.65121], [21.47977, 33.92486], [12.16268, 34.32477], [11.82301, 37.34239], [6.09112, 38.28597], [-1.96037, 35.62069], [-4.82156, 35.60443], [-7.6498, 35.26589], [-16.45237, 37.44851], [-28.06744, 64.95936]],
        E5 = {
            sn: function(c, l) {
                for (var g = !1, m = u.length, y = 0, v = m - 1; y < m; v = y++)
                    u[y][1] > c != u[v][1] > c && l < (u[v][0] - u[y][0]) * (c - u[y][1]) / (u[v][1] - u[y][1]) + u[y][0] && (g = !g);
                return g
            }
        },
        b.yn = ( () => {
            function c(y, v) {
                var w = v ? (v = 1.3,
                15554111) : (v = 1.1,
                16044288);
                return new m(y,w,!0,.5,v,.5,.7)
            }
            function l(y, v, w) {
                return ((255 * y & 255) << 16) + ((255 * v & 255) << 8) + (255 * w & 255)
            }
            class g extends he {
                constructor() {
                    super(),
                    this.U = [],
                    this.Wd = 0
                }
            }
            g.prototype.Gn = function(y) {
                var v, w;
                this.Wd += y,
                1 <= this.Wd && (w = Math.floor(this.Wd),
                this.Wd -= w,
                y = 0 < w ? "+" + Math.floor(w) : w < 0 ? "-" + Math.floor(w) : "0",
                v = Math.min(1.5, .5 + w / 600),
                w = w < 1 ? "0xFFFFFF" : w < 30 ? l(1 - (w = (w - 1) / 29) + .96 * w, 1 - w + .82 * w, 1 - w + 0 * w) : w < 300 ? l(.96 * (1 - (w = (w - 30) / 270)) + .93 * w, .82 * (1 - w) + .34 * w, 0 * (1 - w) + .25 * w) : w < 700 ? l(.93 * (1 - (w = (w - 300) / 400)) + .98 * w, .34 * (1 - w) + 0 * w, .25 * (1 - w) + .98 * w) : 16318713,
                y = new m(y,w,!0,.5,v,Math.random(),1 + .5 * Math.random()),
                this.addChild(y),
                this.U.push(y))
            }
            ,
            g.prototype.wl = function(y) {
                y ? (C.Qi(C.jg + 1),
                C.Ha && C.Ha.send(La(JSON.stringify({
                    [n("2739")]: 0
                }))),
                y = c(I.N("index.game.floating.headshot"), !0),
                this.addChild(y),
                this.U.push(y),
                (C.jg % 10 ? (Mt[D["1c"]].pause(),
                Mt[D["1c"]]) : (Vt[D["1ai"]].pause(),
                Vt[D["1ai"]])).play()) : (C.Si(C.ai + 1),
                y = c(I.N("index.game.floating.wellDone"), !1),
                this.addChild(y),
                this.U.push(y))
            }
            ,
            g.prototype.Fa = function(y, v) {
                y = (w = E.h.D.F).na.width;
                for (var w = w.na.height, R = 0; R < this.U.length; ) {
                    var G = this.U[R];
                    G.vh += v / 2e3 * G.ch,
                    G.ae += v / 2e3 * G.qo,
                    G.alpha = .5 * Math.sin(3.141592653589793 * G.ae),
                    G.scale.set(G.vh),
                    G.position.x = y * (.25 + .5 * G.xo),
                    G.position.y = G.Ao ? w * (1 - .5 * (1 + G.ae)) : w * (1 - .5 * (0 + G.ae)),
                    1 < G.ae && (I.Ta(G),
                    this.U.splice(R, 1),
                    R--),
                    R++
                }
            }
            ;
            var m = class extends Oe {
                constructor(y, v, w, R, G, U, j) {
                    super({
                        text: y,
                        style: {
                            fill: v,
                            fontFamily: "PTSans",
                            fontSize: 36
                        }
                    }),
                    this.anchor.set(.5),
                    this.Ao = w,
                    this.vh = R,
                    this.ch = G,
                    this.xo = U,
                    this.ae = 0,
                    this.qo = j
                }
            }
            ;
            return g
        }
        )(),
        b.mm = function(c, l) {
            this.Ye = l
        }
        ,
        b.Qc = {
            sk: 0,
            be: 16
        },
        b.ee = (nc.ef = 0,
        nc.prototype.Ok = function() {
            return 1.02 * this.Tb
        }
        ,
        nc),
        b.mp = ( () => {
            function c() {}
            c.prototype.ua = async function(v) {
                var w = this;
                this.Hc = v,
                this.qd = v.get()[0],
                this.na = (v = {
                    [n("ee1cd1ef8462c7")]: w.qd,
                    [n("637604358c7f9b351e72091d804c9e10")]: 0,
                    [n("9325fbf27e2975e3fa3f")]: !0,
                    [n("fd9e0dd5e79771d16b95e2")]: n(D["1a"] === 1 ? "d3f3b0a430f82c" : "cb0ba8dc28ec")
                },
                await zo(v)),
                this.lb = new he,
                this.lb[n("d77bb6382f6d3f22ba53893b0f70173389")] = !0,
                this.Xc = Math.floor(Math.random()),
                this.Bd = this.Yk = 0,
                this.Dg = 15,
                this.hl = .5,
                this.Fg = 0,
                this.re = new b.Sp,
                this.pi = new Ve,
                this.wf = new he,
                this.ue = new he,
                this.ue[n("a644074bdeda0ed1cb7c1828dea706a0d8")] = !0,
                this.yf = new he,
                this.ba = new he,
                this.ba[n("a644074bdeda0ed1cb7c1828dea706a0d8")] = !0,
                this.hb = new he,
                this.O = new g,
                this.O.position.x = 60,
                this.O.position.y = 60,
                this.Ed = new m,
                this.$ = new y,
                this.Be = new b.yn,
                this.dc = new we,
                this.Qa = {
                    x: 0,
                    y: 0
                },
                this.Uj = this.zi = this.Nj = 0,
                this.C()
            }
            ,
            c.prototype.C = function() {
                this.na.background.color = 0,
                this.re.Vd[n("cdc406ee35a7ab")] = 10,
                this.lb[n("3a2a98297da769bd26")](this.re.Vd),
                this.pi[n("74bfff291c2cc2")] = 20,
                this.lb[n("13a57162d4a0f0667f")](this.pi),
                this.wf[n("07424014ef59f5")] = 5e3,
                this.lb[n("f262d061b5efd1e59e")](this.wf),
                this.ue[n("eda426ce15878b")] = 5100,
                this.lb[n("86762c7dc9f325f1ea")](this.ue),
                this.yf[n("850c4e566d1ff3")] = 1e4,
                this.lb[n("d1233760162ebe64bd")](this.yf),
                this.dc[n("1edb85c956469650")] = E.Se.hj,
                this.dc[n("7cacd02ce83eb0")][n("33975052")](.5),
                this.dc[n("5853d3c538c8e6")] = 1,
                this.ba[n("9484b203db01b387f8")](this.dc),
                this.hb[n("ebfd81ae07c1")] = .6,
                this.hb[n("2c07279154640a")] = 2,
                this.ba[n("36a69cad792395215a")](this.hb),
                this.Be[n("4ea5598f36066c")] = 3,
                this.ba[n("e7798d3e287404328b")](this.Be),
                this.O[n("c5d72b0821db")] = .8,
                this.O[n("ea81e5938a1ac8")] = 4,
                this.ba[n("ac9c8a1bf3e99b6fd0")](this.O),
                this.Ed[n("84af8f39ec3cb2")] = 5,
                this.ba[n("e45442d3abd1435788")](this.Ed),
                this.$[n("7b5634009b5579")] = 6,
                ma[n("d3fe9ca833ed21")] = 6,
                this.ba[n("7fd1e59640dc6c9ae3")](this.$),
                this.ba[n("cabae8b98d37f90db6")](ma),
                C.sf = new Oe({
                    [n("11f6f63ce1")]: n("4cacf6"),
                    [n("4220702c2ab2")]: {
                        [n("fd8810def5b462d96c9afe")]: n("38592ed85de30d"),
                        [n("9b2af2e06b0348e8c6")]: 12,
                        [n("9c8bb703cc")]: 16777215
                    }
                }),
                C.sf.position.x = 100,
                C.sf.position.y = 90,
                this.vf = new Oe({
                    [n("b9594f95514b")]: {
                        [n("4eb97f8f262575083f8b61")]: n("a2e330e6c7591b"),
                        [n("980fb585e8beb715c5")]: 12,
                        [n("a0178b9fc8")]: 16777215
                    }
                }),
                this.vf.anchor = 1,
                this.ba.addChild(this.vf),
                this.ba.addChild(C.sf),
                this.He = new Ve,
                this.ba.addChild(this.He),
                this.le = new we,
                this.le.x = 10,
                this.vg = new Oe({
                    [n("66845c80061e")]: {
                        [n("a97c44b25958ce8dd84e4a")]: n("49ea9f2facd03c"),
                        [n("2bba4270dbb3d85856")]: 12,
                        [n("f90c124011")]: 14599547
                    }
                }),
                this.vg.x = 60,
                this.md = new he,
                this.md.x = 10,
                this.ba.addChild(this.md),
                this.ba.addChild(this.vg),
                this.ba.addChild(ni),
                this.ba.addChild(Wt),
                this.ba.addChild(oi),
                (async () => {
                    function v() {
                        J.zg = !1,
                        J.Mg = !1,
                        J.yg = !1,
                        J.E = -1,
                        J.visible = !1,
                        Ze.visible = !1,
                        D["1f"] === 1 ? (J.da.texture = G[2].da,
                        J.ia.texture = G[2].ia,
                        J.da.alpha = G[2].Pc) : D["1f"] === 2 ? (J.da.texture = G[2].da,
                        J.ia.texture = G[2].ia,
                        J.da.alpha = G[2].Pc,
                        J.Mg = !0,
                        J.yg = !0,
                        J.position.x = 100,
                        J.position.y = R.offsetHeight - 100,
                        J.visible = !0,
                        Ze.visible = !0,
                        Ze.position.x = R.offsetWidth - 100,
                        Ze.position.y = R.offsetHeight - 100) : D["1f"] === 3 ? (J.da.texture = G[2].da,
                        J.ia.texture = G[2].ia,
                        J.da.alpha = G[2].Pc,
                        J.Mg = !0,
                        J.yg = !0,
                        J.position.x = R.offsetWidth - 100,
                        J.position.y = R.offsetHeight - 100,
                        J.visible = !0,
                        Ze.visible = !0,
                        Ze.position.x = 100,
                        Ze.position.y = R.offsetHeight - 100) : D["1f"] === 4 ? (J.da.texture = G[0].da,
                        J.ia.texture = G[0].ia,
                        J.da.alpha = G[0].Pc) : D["1f"] === 5 ? (J.da.texture = G[1].da,
                        J.ia.texture = G[1].ia,
                        J.da.alpha = G[1].Pc) : (J.zg = !0,
                        J.visible = !1,
                        J.E = -1),
                        J.Gf()
                    }
                    if (this.le.texture = await ge.load(C.k + n("4513f5beb94f2990245dea32972b3e6370749166bc2b297f332fb475cf220d73")),
                    this.le.scale.set(.2, .2),
                    this.le.anchor.y = 1,
                    this.ba.addChild(this.le),
                    ii.any) {
                        this.ba.addChild(ci);
                        var w, R = document.querySelector(n("439c315bab")), G = [{
                            da: await ge.load(C.k + n("0ebae2e76256b6497fc4fd9b5c42b14a3b9da6dc4d518d5943e8d989044b825a")),
                            ia: await ge.load(C.k + n("ee5a82c78276d6699fe49dbbbc62d16adbbd86fc6d71ad7963c8f9a8246ba27a")),
                            Pc: 1
                        }, {
                            da: await ge.load(C.k + n("76220a4f0afe5ee1176c6523c4fa29f2a3250e74e5f925f1eb406113bcd33ac2")),
                            ia: await ge.load(C.k + n("06b2fadf7a6eae7167fcf593544ab94233959ec47549b5417bf0d1820c438a52")),
                            Pc: 1
                        }, {
                            da: this.na[n("c8fe6f75a96f6febb5f5775ba05064c2")](new Ve().circle(0, 0, 40).fill(16711680)),
                            ia: this.na[n("f58112c61c989ad898ba1ac8f58771d1")](new Ve().circle(0, 0, 20).fill(16711680)),
                            Pc: .5
                        }, {
                            da: this.na[n("685ecfd509cfcf4b1515d7bb00b0c422")](new Ve().circle(0, 0, 40).fill(16711680)),
                            ia: this.na[n("685ecfd509cfcf4b1515d7bb00b0c422")](new Ve().circle(0, 0, 20).fill(16711680)),
                            Pc: .5,
                            position: [500, 500]
                        }], U = (Ze.visible = !1,
                        Ze.texture = await ge.load(C.k + n("c7ddfb7c3b892f52a663f470156d3821f23a9f27346e3422ba4fd87c137a02")),
                        Ze.anchor.set(.5),
                        Ze[n("13a16363f9bcd4657fa9")] = "static",
                        Ze.alpha = .5,
                        Ze.on(n("26c787d0444f894f4ad087af"), () => {
                            Ze.alpha = 1,
                            C.Lh.Pb = !0
                        }
                        ),
                        Ze.on(n("2ecf9fa85c37913743b7"), () => {
                            Ze.alpha = .5,
                            C.Lh.Pb = !1
                        }
                        ),
                        this.ba.addChild(Ze),
                        (J = new P5({
                            da: new we,
                            ia: new we,
                            cp: W => {
                                C.Lh.zc = W.angle,
                                et.position.x = .5 * R.offsetWidth + W.gk * Math[n("1d6df0a3")](W.angle),
                                et.position.y = .5 * R.offsetHeight + W.gk * Math[n("2c0e0791")](W.angle)
                            }
                        }))[n("4fe527a7bdf098a933ed")] = n("4b8f395fbb69b2"),
                        J.on(n("b2b31bacd8331d3bdea40ba3"), W => {
                            J.yg && (J.E = W.pointerId,
                            J.Mk())
                        }
                        ),
                        J.position.x = 150,
                        J.position.y = 150,
                        J.E = -1,
                        this.ba.addChild(J),
                        {
                            xi: new we(await ge.load(C.k + n("7e2a7257f2e626f9ef746d2bccf221faab2d1652f7d720ccf840314af5c572ddf048"))),
                            On: new we(await ge.load(C.k + n("1206e66366d2bac57348f91f58c68dd60701a25849d581d559549f135ed197"))),
                            ao: new we(await ge.load(C.k + n("df35d3141361073a8e7bcc682d750039ca12b70f1c461c0a924498101e5e531e9157"))),
                            jo: new we(await ge.load(C.k + n("6a5e1e3b1e8a526d1be011b7306e556e5fb97ae20a60337aa7d070b0c4262637faf52b"))),
                            Tn: new we(await ge.load(C.k + n("475d7bfcbb09afd226e374f095edb8a172ba1fa4b8e0b2bd3abe11bc84"))),
                            vp: new we(await ge.load(C.k + n("d0842065a45074cbb1ca3f199a4473c8c5836440875d08c786de"))),
                            Ko: new we(await ge.load(C.k + n("ee5a82c78276d6699fe49dbbbc62d16adbbd86fc6d71ad7963f6aef2246ba27a"))),
                            kd: new we(await ge.load(C.k + n("b6624a0fcabe1ea1d72ca56384bae9b2e365ce34a5b9e5b1ab2df50dbd82f0cba609ff"))),
                            Wo: new we(await ge.load(C.k + n("9a8e6eebee5a025dcbd04187e05e055e8f892ad0c15d192dd7a01ca4d8201d2bdba817aacc20f53fa6fdf4bba1"))),
                            Zo: new we(await ge.load(C.k + n("4fa56384a3f1b7aa3eeb7cf89de5b0a97aa227a78dee8ab90ab619b48c"))),
                            qp: new we(await ge.load(C.k + n("81d731f27583e5d4e0992e8e4b97e2a7b43055be7a69fae6e9647c")))
                        }), j = (U.vp.on("pointerdown", W => {
                            W.preventDefault(),
                            ke.Hh()
                        }
                        ),
                        U.On.on(n("ce2fff08bc97f197b208ef07"), () => {
                            ke.Vk()
                        }
                        ),
                        U.Ko.on(n("4a2b633420ab7593360c630b"), () => {
                            ke.Ki()
                        }
                        ),
                        U.kd.on(n("df608e3b0d60002483779e34"), () => {
                            ke.kd()
                        }
                        ),
                        U.Wo.on(n("4cede1763e55f7d130cae149"), () => {
                            ke.sl()
                        }
                        ),
                        U.Zo.on(n("66874790040f490f0a90476f"), () => {
                            ga(C.cc - D["1i"])
                        }
                        ),
                        U.qp.on(n("4869e5f222e9eb6d344ee5cd"), () => {
                            ga(C.cc + D["1i"])
                        }
                        ),
                        U.xi.on(n("dc5d71c68ec54741805a51d9"), () => {
                            C.gg = !C.gg,
                            U.xi.alpha = C.gg ? 1 : .3
                        }
                        ),
                        U.Tn.on(n("fc3d51a66ea52721603a31b9"), () => {
                            E.h.D.F.$.Lc = !E.h.D.F.$.Lc,
                            E.h.D.F.hb.visible = E.h.D.F.$.Lc,
                            E.h.D.F.$.Fa(E.h.D.F.$.of)
                        }
                        ),
                        U.jo.on(n("86672770e4ef29efea70274f"), () => {
                            C.rf = !C.rf
                        }
                        ),
                        U.ao.on(n("71929ccd9b9212da1d858cc2"), () => {
                            C.tf = !C.tf
                        }
                        ),
                        0);
                        for (w in U) {
                            var Y = U[w];
                            Y[n("23a44a65ceacc07545")].x = j,
                            Y[n("e3f193b309ec24b58ff9")] = "static",
                            Y[n("370b4cd8c803cf")] = n("b6371720d4bf19bf"),
                            Y[n("c8f8666ba47c")] = .3,
                            xa.addChild(Y),
                            j += Y.width + 10
                        }
                        xa.position.y = 10,
                        this.ba.addChild(xa),
                        et.circle(0, 0, 5).stroke({
                            width: 2,
                            color: 16777215,
                            alpha: 1
                        }),
                        et.x = 500,
                        et.y = 100,
                        this.ba.addChild(et);
                        var N = [await ge.load(C.k + n("a29656f3d6420a55c3d8498fe8561d2697f132a8d9251125df944de3ce21e7")), await ge.load(C.k + n("f8ec080d8c385ca369b26761423c2bb02deb0c36633f27b375be604d640b31")), await ge.load(C.k + n("11a7a102e5f3752470e9be7edbe7723704a0e539caf44e344cc59972ddf048")), await ge.load(C.k + n("2216d67356c28ad54358c90f68d69da61771b22859a591a55f14ce634ea167")), await ge.load(C.k + n("84f0f411f82ca8b7e5beeb6dd608bf84b1d7900af70bb387f9b2ed41d01f85")), await ge.load(C.k + n("f94f496a0d1b9d5c6811a606c31f6a5f2c48cd51e21c662c74dda76ae5e870"))];
                        Ua[n("d297f19da212ea0c")] = N[D["1f"]],
                        Ua[n("a0149496ca81ab18cc1c")] = "static",
                        Ua[n("a81a9f89df929c")] = n("8344ea1f694c6c08"),
                        Ua.on(n("d617f700b49ff99fab1f"), () => {
                            D["1f"] = (D["1f"] + 1) % N.length,
                            Ua[n("7035d7bb00b0c422")] = N[D["1f"]],
                            _e(),
                            v()
                        }
                        ),
                        this.ba.addChild(Ua),
                        v()
                    }
                }
                )(),
                this.qa()
            }
            ,
            c.prototype.qa = function() {
                var v = I.e()
                  , w = this.Hc[n("5a1c75092a87")]()
                  , R = this.Hc[n("95ee72217ee2ef")]();
                --this.na.view.texture.source.pixelWidth,
                this.na.resize(w, R, v),
                this.hl = Math.min(Math.min(w, R), .625 * Math.max(w, R)),
                this.dc[n("46a767aa232f653220")][n("5b74")] = w / 2,
                this.dc[n("fd9e10c3e8866adb6b")][n("3870")] = R / 2,
                this.dc[n("62044d11129f")] = w,
                this.dc[n("d9223e653a26ab")] = R,
                this.Ed[n("aacb03cec74b192edc")][n("ebe4")] = 110,
                this.Ed[n("8e6f3f52fbd73dcaf8")][n("636d")] = 10,
                ci.ji || (ci[n("d778b63932783421b1")][n("8982")] = w - 120,
                ci[n("59bab4ffb4ba36ff0f")][n("a800")] = R - 210),
                Wt[n("5d3eb06388260a7b0b")][n("9019")] = w / 2,
                this.$.ji || (this.$[n("62034b060f83419604")][n("a2cb")] = w - 225,
                this.$[n("470826c9a208a4d121")][n("5d37")] = 1),
                ma[n("7839d5b815b9d720ee")][n("cb04")] = w - 10,
                ma[n("6a0b430e078b596e1c")][n("3cf4")] = 300,
                xa.ji || (xa.position.x = w - 230 - xa.width,
                Ua.x = xa.position.x - 100),
                this.le.y = R - 20,
                this.vg.y = R - 35,
                this.md.y = R - 80
            }
            ,
            c.prototype.Fa = function(v, w) {
                this.Dg = 15,
                this.wf[n("ff42641fec42e0356f51651ef959e3")](),
                this.ue[n("44e7e37a276fefd824f4e27b2244fc")](),
                this.yf[n("f6f5dde4957dd94e96e6acf57076aa")](),
                this.hb[n("0f3274effc32f0c57f2175eee929f3")](),
                C.Zh = () => {
                    var G = ir[D["1b"]];
                    this.re.Mm(G || E.Se.Tg)
                }
                ,
                C.Zh();
                var R = this.pi;
                R.clear(),
                R.circle(0, 0, v.Tb),
                R.stroke({
                    width: .2,
                    color: C.yb ? D["1g"] : 16711680,
                    alpha: 1
                }),
                this.$.Lc = w,
                this.hb[n("d4537fd4b1cb764e")] = w
            }
            ;
            let l = 0;
            c.prototype.Ya = function(v, w) {
                if (!(this.na.width <= 5)) {
                    var R = E.l.V
                      , G = this.na.width
                      , U = this.na.height
                      , j = (this.Dg = I.Q(this.Dg, E.l.Ld, w, .002),
                    this.hl / (this.Dg * C.cc))
                      , Y = E.l.V.sa[b.Ee.xn]
                      , N = (this.Fg = I.Jd(this.Fg + w / 1e3 * (.1 * (Y != null && Y.Aa ? 1 : 0) - this.Fg), 0, 1),
                    this.dc.alpha = this.Fg,
                    this.Xc += .01 * w,
                    360 < this.Xc && (this.Xc %= 360),
                    this.Yk = Math.sin(v / 1200 * 6.283185307179586),
                    R = R.Ne(),
                    this.Qa.x = I.Ij(this.Qa.x, R.mb, w),
                    this.Qa.y = I.Ij(this.Qa.y, R.nb, w),
                    U / j / 2);
                    for (E.l.pn(this.Qa.x - 1.3 * (Y = G / j / 2), this.Qa.x + 1.3 * Y, this.Qa.y - 1.3 * N, this.Qa.y + 1.3 * N),
                    this.re.Fa(this.Qa.x, this.Qa.y, 2 * Y, 2 * N),
                    Y = E.l.I.Tb,
                    this.lb.scale.x = j,
                    this.lb.scale.y = j,
                    this.lb.position.x = G / 2 - this.Qa.x * j,
                    this.lb.position.y = U / 2 - this.Qa.y * j,
                    Y - 10 < (N = I.jh(R.mb, R.nb)) ? (this.Bd = I.Jd(1 + (N - Y) / 10, 0, 1),
                    N = I.Fh(Math.floor((Math.atan2(Math.sin(6.283185307179586 * this.Xc / 360) * (1 - this.Bd), Math.cos(6.283185307179586 * this.Xc / 360) * (1 - this.Bd) + +this.Bd) + 6.283185307179586) % 6.283185307179586 * 360 / 6.283185307179586), 1, .75 - .25 * this.Bd),
                    this.re.Xe(N[0], N[1], N[2], .1 + this.Bd * (.5 + .5 * this.Yk) * .2)) : (this.Bd = 0,
                    N = I.Fh(Math.floor(this.Xc), 1, .75),
                    this.re.Xe(N[0], N[1], N[2], .1)),
                    N = 0; N < this.hb.children.length; N++) {
                        var W = this.hb.children[N];
                        W.Oe && (W.position.x = G / 2 - (this.Qa.x - W.Oe.x) * j,
                        W.position.y = U / 2 - (this.Qa.y - W.Oe.y) * j)
                    }
                    if (this.O.mc.position.x = R.mb / Y * this.O.pa,
                    this.O.mc.position.y = R.nb / Y * this.O.pa,
                    C.Od && (j = C.Od.Y[0],
                    Y = C.Od.Y[1],
                    j !== 0 ? (this.O.ob.visible = !0,
                    this.O.ob.position.x = j / C.Od.I.Tb * this.O.pa,
                    this.O.ob.position.y = Y / C.Od.I.Tb * this.O.pa) : this.O.ob.visible = !1),
                    this.Ed.Qe(v),
                    this.Be.Fa(v, w),
                    this.He.clear(),
                    C.tf && (this.He.moveTo(.5 * G, .5 * U),
                    this.He.lineTo(R.mb * (-.5 * G), R.nb * (-.5 * U)),
                    this.He.stroke({
                        width: 2,
                        color: 16737894,
                        alpha: .75
                    })),
                    v = performance.now(),
                    C.Lb && (w = C.Lb.b,
                    G = C.Lb.c,
                    U = C.Lb.d,
                    this.O.Ma.position.x = C.Lb.a / G * this.O.pa,
                    this.O.Ma.position.y = w / G * this.O.pa,
                    U != 0) && 6e4 < v - U && (this.O.Ma[n("0ee9b9d27b41b840")] = 0,
                    C.Lb = 0),
                    100 < v - C.ui)
                        for (var z in C.ui = v,
                        C.fd = !C.fd,
                        C.z)
                            (w = C.z[z]) && (w.fd ? (w.clear(),
                            w.circle(0, 0, .06 * this.O.pa),
                            w.stroke({
                                width: 2,
                                color: 0
                            }),
                            w.fill(C.fd ? 16711680 : 255)) : (w.clear(),
                            w.circle(0, 0, .06 * this.O.pa),
                            w.stroke({
                                width: 2,
                                color: 0
                            }),
                            w.fill(w.ap)));
                    for (C.gf && 55 <= v - this.Nj && (w = (z = E.h.D.zc) + Math.PI / 360 * 9,
                    E.h.D.zc = Math.PI < w ? -z : w,
                    this.Nj = v),
                    C.rf && 2e3 <= v - this.Uj && (this.Uj = v,
                    ke.Hh()),
                    !C.cg && 4e3 <= v - this.zi && ((w = (z = document.querySelectorAll(".reklam-slider a")).length) && (z[l].classList.remove("active"),
                    z[l = (l + 1) % w].classList.add("active")),
                    this.zi = v); 0 < Xi.length && Xi[0] <= v - 1e3; )
                        Xi.shift();
                    Xi.push(v),
                    ma.Em(),
                    S5 = Xi.length,
                    this.vf.text = S5.toString(),
                    this.vf.position.x = this.na.width - 2,
                    this.vf.position.y = this.na.height - 2,
                    this.na.render({
                        container: this.lb,
                        clear: !0
                    }),
                    this.na.render({
                        container: this.ba,
                        clear: !1
                    })
                }
            }
            ,
            c.prototype.xl = function(v, w) {
                w.Xa.P.L.zIndex = (v + 2147483648) / 4294967296 * 5e3,
                this.wf.addChild(w.Xa.id.L),
                this.ue.addChild(w.Xa.P.L)
            }
            ,
            c.prototype.Qn = function(v, w, R, G) {
                w.oa.zIndex = E.l.I.sb ? 0 : 10 + (v + 32768) / 65536 * 5e3,
                this.yf.addChild(w.oa),
                v !== E.l.I.sb && (this.hb.addChild(R),
                this.hb.addChild(G))
            }
            ;
            var g = class extends Ni {
                constructor() {
                    super(),
                    this.pa = 40,
                    this.eg = new we,
                    this.eg[n("4fe13fa1bbeba7")][n("63670022")](.5),
                    this.eg[n("41d3af04add7")] = .5,
                    this.mc = new Ve,
                    this.mc[n("3f0a08dca711bd")] = 2,
                    this.mc[n("0f217df2fb25")] = .9,
                    this.ob = new Ve,
                    this.ob[n("c1480a9a2153bf")] = 2,
                    this.ob[n("b0e09e73dc64")] = .9,
                    this.Ma = new Ve,
                    this.Ma[n("bf86a8412a962953")] = 0,
                    this.Ma[n("00ab0b3d60303e")] = 2,
                    this.Ma[n("b1435f945d47")] = .9;
                    var v = new Ve
                      , w = (C.dg = () => {
                        v.clear(),
                        v.circle(0, 0, this.pa),
                        v.moveTo(0, -this.pa),
                        v.lineTo(0, +this.pa),
                        v.moveTo(-this.pa, 0),
                        v.lineTo(+this.pa, 0),
                        v.fill({
                            color: 0,
                            alpha: .4
                        }),
                        v.stroke({
                            width: 2,
                            color: C.yb ? D["1g"] : 16711680
                        }),
                        this.mc.clear(),
                        this.mc.circle(0, 0, .08 * this.pa),
                        this.mc.stroke({
                            width: 2,
                            color: 0
                        }),
                        this.mc.fill(C.yb ? D["1g"] : 16711680),
                        this.ob.clear(),
                        this.ob.circle(0, 0, .08 * this.pa),
                        this.ob.stroke({
                            width: 2,
                            color: 0
                        }),
                        this.ob.fill(16776960),
                        this.Ma.clear(),
                        this.Ma.moveTo(0, 0),
                        this.Ma.lineTo(5, 5),
                        this.Ma.moveTo(0, 5),
                        this.Ma.lineTo(5, 0),
                        this.Ma.stroke({
                            color: 16711680
                        })
                    }
                    ,
                    C.dg(),
                    new Oe({
                        text: n("5b440e"),
                        style: {
                            fontFamily: n("a4a5b224c91799"),
                            fontSize: 16,
                            fill: n("5534b26c")
                        }
                    }))
                      , R = (w.position.x = -35,
                    w.position.y = 50,
                    new Oe({
                        text: n("daa0d5a192"),
                        style: {
                            fontFamily: n("e3c4b18506f61a"),
                            fontSize: 16,
                            fill: n("f8bb5f2f")
                        }
                    }));
                    R.position.x = 10,
                    R.position.y = 50;
                    let G = new Oe({
                        style: {
                            fontFamily: n("fbfca9bd1edef2"),
                            fontSize: 16,
                            fill: 16777215
                        }
                    })
                      , U = (G.position.x = w.position.x + w.width / 2,
                    G.position.y = 67,
                    G.anchor.x = .5,
                    new Oe({
                        style: {
                            fontFamily: n("82c310c6e7793b"),
                            fontSize: 16,
                            fill: 16777215
                        }
                    }));
                    U.position.x = R.position.x + R.width / 2,
                    U.position.y = 67,
                    U.anchor.x = .5,
                    C.Si = j => {
                        C.ai = j,
                        U.text = C.ai
                    }
                    ,
                    C.Qi = j => {
                        C.jg = j,
                        G.text = C.jg
                    }
                    ,
                    (async () => {
                        var j = await ge.load(C.k + n("c43034d1b8ec6877a57e2bad96c87f44f11750c4b4c67940f25d70c8"));
                        (j = new we(j))[n("4ff738a6a7ec")] = 100,
                        j[n("4d56aa69b62a27")] = 100,
                        j[n("d1233d673d29a5")][n("41c1a600")](.5),
                        this[n("74a4d2233b21d3a718")](j)
                    }
                    )(),
                    this[n("36a69cad792395215a")](v),
                    this[n("47192dde8814a4d22b")](this.eg),
                    this[n("1a4ab8495dc789dd46")](this.ob),
                    this[n("ec5c4adbb3a95b2f90")](this.Ma),
                    this[n("18883e0f5f05378344")](this.mc),
                    this[n("44f4e2730b71e3f728")](R),
                    this[n("59abbfe89ea636fc05")](w),
                    this[n("4232603105bf61b52e")](U),
                    this[n("7b4d190abc58681ee7")](G)
                }
            }
              , m = ( () => {
                class v extends he {
                    constructor() {
                        super(),
                        this.nd = {}
                    }
                }
                v.prototype.Qe = function(R) {
                    for (var G in R = .5 + .5 * Math.cos(R / 1e3 / 1.6 * 6.283185307179586),
                    this.nd) {
                        var G = this.nd[G]
                          , U = G.fk;
                        G.alpha = 1 - U + U * R
                    }
                }
                ;
                let w = [40, 40, 40, 120, 50, 25, 40];
                return v.prototype.Fa = function(R) {
                    for (var G in this.nd)
                        R[G] != null && R[G].Aa || (I.Ta(this.nd[G]),
                        delete this.nd[G]);
                    for (var U in G = 0,
                    R) {
                        var j, Y, N = R[U];
                        if (N.Aa) {
                            let W = this.nd[U];
                            W || (j = E.B.W().kh(N.ha).Oa,
                            W = new he,
                            j = new we(j.og()),
                            Y = new Oe({
                                text: "40",
                                style: {
                                    fontFamily: "PTSans",
                                    fontSize: 20,
                                    fill: 16777215
                                }
                            }),
                            W.fk = 0,
                            j.width = 40,
                            j.height = 40,
                            Y.position.y = 40,
                            Y.position.x = 20,
                            Y.anchor.x = .5,
                            W.addChild(j),
                            W.addChild(Y),
                            this.nd[U] = W,
                            this.addChild(W)),
                            W.getChildAt(1).text = Math.round((1 - N.Tf) * w[N.ha]),
                            W.fk = N.Tf,
                            W.position.x = G,
                            G += 40
                        }
                    }
                }
                ,
                v
            }
            )()
              , y = ( () => {
                function v(G) {
                    return new Intl.NumberFormat("en",{
                        notation: "compact",
                        compactDisplay: "short"
                    }).format(G)
                }
                class w extends Ni {
                    constructor() {
                        super(),
                        this.Lc = !0,
                        this.Ue = 12,
                        this.ce = 9,
                        this.U = [];
                        for (var U = 0; U < 14; U++)
                            this.Ve()
                    }
                }
                w.prototype.Fa = function(G) {
                    this.of = G,
                    C.ci && (C.ci = !1,
                    U = G.Cc[G.Cc.length - 1]) && fetch(C.k + n("18cc682d7d1d37ca12b7"), {
                        [n("f8a45f3f94225a")]: n("c96a04af19"),
                        [n("f261db618f")]: La(JSON.stringify({
                            [n("36b59da8492492")]: 2,
                            [n("ff4377")]: C.uf,
                            [n("7b4d1f")]: 1e5 <= U.Ub ? 1 : 0
                        }))
                    }).catch( () => {}
                    ),
                    U = E.l.I.td === b.Qc.be;
                    var U, j = 0, Y = 0;
                    Y >= this.U.length && this.Ve(),
                    this.U[Y].mg(1, "white"),
                    this.U[Y].pg("", C.lg || "Top " + D["1d"], `(${E.l.wk} online)`),
                    this.U[Y].position.y = j,
                    j += this.Ue,
                    Y += 1,
                    0 < G.Ze.length && (j += this.ce);
                    for (var N = 0; N < G.Ze.length; N++) {
                        var W = G.Ze[N]
                          , z = E.B.W().Kf(W.So)
                          , ue = ""
                          , oe = E.B.Na.fb.textDict[z.wn];
                        oe != null && (ue = I.ve(oe)),
                        Y >= this.U.length && this.Ve(),
                        this.U[Y].mg(.8, z.mh.rh),
                        this.U[Y].pg("".concat(N + 1), ue, "".concat(Math.floor(W.Ub))),
                        this.U[Y].position.y = j,
                        j += this.Ue,
                        Y += 1
                    }
                    for (0 < G.Cc.length && (j += this.ce),
                    C.Od = E.l.vb[G.Cc[0].Yh],
                    N = 0; N < Math.min(D["1d"], G.Cc.length); N++) {
                        var Re, W = G.Cc[N], oe = ue = void 0;
                        (z = E.l.I.sb === W.Yh) ? (ue = "white",
                        oe = E.l.V.S.kb) : (Re = E.l.vb[W.Yh]) != null ? (ue = (U ? E.B.W().Kf(Re.S.qi).mh : E.B.W().Fe(Re.S.ka)).rh,
                        oe = this.Lc ? Re.S.kb : "---") : ue = "gray",
                        z && (j += this.ce),
                        Y >= this.U.length && this.Ve(),
                        this.U[Y].mg(z ? 1 : .8, ue),
                        this.U[Y].pg("".concat(N + 1), oe, "".concat(v(Math.floor(W.Ub)))),
                        this.U[Y].position.y = j,
                        j += this.Ue,
                        Y += 1,
                        z && (j += this.ce)
                    }
                    for (E.l.Bg > G.Cc.length && (j += this.ce,
                    Y >= this.U.length && this.Ve(),
                    this.U[Y].mg(1, "white"),
                    this.U[Y].pg("".concat(E.l.Bg), E.l.V.S.kb, "".concat(v(Math.floor(E.l.V.Ub)))),
                    this.U[Y].position.y = j,
                    Y += 1,
                    j = (j += this.Ue) + this.ce); this.U.length > Y; )
                        I.Ta(this.U.pop())
                }
                ,
                w.prototype.Ve = function() {
                    var G = new R;
                    (G[n("6d2e805398161a4b1b")][n("9b35")] = 0) < this.U.length && (G[n("3cfd117c2965ebfc2a")][n("f59f")] = this.U[this.U.length - 1][n("d5b638fb30beb2e3b3")][n("bdd7")] + this.Ue),
                    this.U.push(G),
                    this[n("b0e09667f76d9febdc")](G)
                }
                ;
                var R = ( () => {
                    class G extends he {
                        constructor() {
                            super(),
                            this.me = new Oe({
                                text: "",
                                style: {
                                    fontFamily: "PTSans",
                                    fontSize: 12,
                                    fill: 16777215
                                }
                            }),
                            this.me.anchor.x = 1,
                            this.me.position.x = 30,
                            this.addChild(this.me),
                            this.je = new Oe({
                                text: "",
                                style: {
                                    fontFamily: "PTSans",
                                    fontSize: 12,
                                    fill: 16777215
                                }
                            }),
                            this.je.anchor.x = 0,
                            this.je.position.x = 35;
                            var j = new he
                              , Y = new Ve().rect(0, 0, 150, 20).fill();
                            j.mask = Y,
                            j.addChild(Y),
                            j.addChild(this.je),
                            this.addChild(j),
                            this.pe = new Oe({
                                text: "",
                                style: {
                                    fontFamily: "PTSans",
                                    fontSize: 12,
                                    fill: 16777215
                                }
                            }),
                            this.pe.anchor.x = 1,
                            this.pe.position.x = 220,
                            this.addChild(this.pe)
                        }
                    }
                    return G.prototype.pg = function(U, j, Y) {
                        this.me.text = U,
                        this.pe.text = Y,
                        this.je.text = j
                    }
                    ,
                    G.prototype.mg = function(U, j) {
                        this.me.alpha = U,
                        this.me.style.fill = j,
                        this.je.alpha = U,
                        this.je.style.fill = j,
                        this.pe.alpha = U,
                        this.pe.style.fill = j
                    }
                    ,
                    G
                }
                )();
                return w
            }
            )();
            return c
        }
        )(),
        b.Op = (Be.prototype.El = function(c) {
            this.Gg.push(new b.jp(new b.Cg(c)))
        }
        ,
        Be.prototype.Bi = function() {
            this.Gg = [],
            this.ul = 0
        }
        ,
        Be.prototype.Ol = function() {
            for (var c = 0; c < 10 && this.Gg.length !== 0; c++) {
                var l = this.Gg.shift();
                try {
                    this.Rl(l)
                } catch (g) {
                    throw g
                }
            }
        }
        ,
        Be.prototype.Rl = function(c) {
            switch (255 & c.G()) {
            case 0:
                this.Xl(c);
                break;
            case 1:
                this.am(c);
                break;
            case 2:
                this.hm(c);
                break;
            case 3:
                this.nm(c);
                break;
            case 4:
                this.sm(c);
                break;
            case 5:
                this.Am()
            }
        }
        ,
        Be.prototype.Xl = function(c) {
            this.l.I.td = c.G();
            var l = c.wa();
            this.l.I.sb = l,
            this.l.V.S.T = l,
            this.l.I.Tb = c.$b(),
            this.l.I.ug = c.$b(),
            this.l.I.Wh = c.$b(),
            E.h.D.F.Fa(this.l.I, E.h.Ef.cj())
        }
        ,
        Be.prototype.am = function(c) {
            for (var l = this.ul++, g = c.wa(), m = this.ib(c), y = 0; y < m; y++)
                this.Rm(c);
            for (m = this.ib(c),
            y = 0; y < m; y++)
                this.Vm(c);
            for (m = this.ib(c),
            y = 0; y < m; y++)
                this.$m(c);
            for (m = this.ib(c),
            y = 0; y < m; y++)
                this.bn(c);
            for (m = this.ib(c),
            y = 0; y < m; y++)
                this.gn(c);
            for (m = this.ib(c),
            y = 0; y < m; y++)
                this.hn(c);
            for (m = this.ib(c),
            y = 0; y < m; y++)
                this.ln(c);
            for (m = this.ib(c),
            y = 0; y < m; y++)
                this.qn(c);
            0 < l && this.tn(c),
            this.l.zn(l, g)
        }
        ,
        Be.prototype.bn = function(c) {
            for (var l, g, m, y, v, w = new b.$f.Yf, R = (w.T = c.wa(),
            w.qi = this.l.I.td === b.Qc.be ? c.G() : b.ee.ef,
            w.ka = c.wa(),
            w.pc = c.wa(),
            w.Xb = c.wa(),
            w.rc = c.wa(),
            w.pb = c.wa(),
            c.G()), G = new Uint16Array(R), U = "", j = 0; j < R; j++) {
                var Y = c.wa();
                G[j] = Y,
                U += String.fromCharCode(Y)
            }
            if ((c = Fh(G)) && (U = U.substring(0, U.length - 7),
            w.ka = c[0],
            w.pc = c[2],
            w.Xb = c[3],
            w.rc = c[4],
            w.pb = c[1],
            w.tq = c[5]),
            C.yb && (D["1aa"] && (v = U.trim().match(/(.{18})(([AB])([0-9A-Za-z_]{2})([0-9A-Za-z]{3})([0-9A-Z_]{2})([0-9A-Z_]{2})([0-9A-Z_]{2})([0-9A-Z_]{2}))/)) && (c = (W, z, ue) => W.includes("_") ? C.Gd[n("ae4b1539c6b606a0f22e1b3d")]["WEAR_W" + ue + "_" + W] ? C.Gd[n("d5b232f02dbfa9e999a73ce4")]["WEAR_W" + ue + "_" + W][n("b5d4520e5cd8de02decb")] : z : C.Gd[n("0c2a2bbe62ac3313")][W],
            R = v[3] === "B",
            G = v[4],
            j = v[5],
            Y = v[6],
            l = v[7],
            g = v[8],
            v = v[9],
            j !== n("9a9b6c9d") && (m = n("f89a7102b2126d") + j.substring(0, 2) + n("523c4b3a") + j.substring(2),
            y = C.Gd[n("5532b270ad3f29691927bc64")][m],
            w.ka = R ? y ? m : w.ka : parseInt(C.Gd[n("95f57c2177c7fa3c")][j])),
            Y != n("eacb9c") && (w.pc = c(Y, w.pc, G)),
            l != n("71d2c3") && (w.Xb = c(l, w.Xb, G)),
            g != n("b2f344") && (w.rc = c(g, w.rc, G)),
            v != n("72b304") && (w.pb = c(v, w.pb, G)),
            U = (U = U.replace(/\uFDFD/g, "")).substring(0, 18)),
            D["1ab"]) && (/^(.{25})(\w{5}\.\w{1})$/.test(U) || /^(.{25})(\w{4}\.\w{2})$/.test(U)) && (c = (W => {
                let z = {
                    a: 0,
                    b: 0,
                    c: 0,
                    d: 0,
                    e: 0,
                    f: "",
                    A: 0,
                    g: "",
                    Tc: ""
                }
                  , ue = 0;
                return z.g = W.substr(-9),
                z.g.substr(0, 1) != "." ? z.Tc = "0000" : 15 < (ue = parseInt(z.g.substr(1, 1), 36)) ? (ue -= 16,
                z.Tc = ue.toString(2).padStart(4, 0)) : (z.Tc = ue.toString(2).padStart(4, 0),
                ue = 0),
                z.f = W.substr(-7),
                z.f.substr(0, 2) != "00" && (z.a = parseInt(z.f.substr(0, 2), 36),
                z.a = 4 * (z.a - 1) + 360 - 32),
                z.f.substr(5, 1) == "." ? z.f.substr(6, 1) != "0" && (z.e = parseInt(z.f.substr(6, 1), 36),
                z.e = z.Tc.substr(3, 1) != "0" ? 0 < ue ? z.e + 720 + 70 : z.e + 720 : z.e - 1 + 400) : (z.e = parseInt(z.f.substr(6, 1), 36),
                z.e = z.Tc.substr(3, 1) != "0" ? 0 < ue ? z.e + 720 + 105 : z.e + 720 + 35 : z.e + 435),
                z.f = z.f.replace(".", ""),
                z.f.substr(2, 1) != "0" && (z.b = parseInt(z.f.substr(2, 1), 36),
                z.b = z.Tc.substr(0, 1) != "0" ? z.b + 720 : z.b - 1 + 400),
                z.f.substr(3, 1) != "0" && (z.c = parseInt(z.f.substr(3, 1), 36),
                z.c = z.Tc.substr(1, 1) != "0" ? z.c + 720 : z.c - 1 + 400),
                z.f.substr(4, 1) != "0" && (z.d = parseInt(z.f.substr(4, 1), 36),
                z.d = z.Tc.substr(2, 1) != "0" ? z.d + 720 : z.d - 1 + 400),
                z
            }
            )(U),
            w.ka = 3e4 + w.ka + c.a,
            Wo(w.pc) && (w.pc = c.b),
            Wo(w.Xb) && (w.Xb = c.c),
            Wo(w.rc) && (w.rc = c.d),
            Wo(w.pb)) && (w.pb = c.e),
            D["1k"] && typeof C.Oh == "object") {
                c = U.match(/\b(\w+)\b/g);
                let W = [];
                if (c)
                    for (var N of c)
                        W.push(N.toLowerCase());
                C.Oh.some(z => W.includes(z)) && (U = "Censored")
            }
            w.kb = U = U === "" ? "No nickname" : U,
            (this.l.I.sb === w.T ? this.l.V : (w.ka === 19999 && (w.ka = 35),
            w.pc === 999 && (w.pc = 0),
            w.Xb === 999 && (w.Xb = 0),
            w.rc === 999 && (w.rc = 0),
            w.pb === 999 && (w.pb = 0),
            M5.includes(w.ka) && (w.ka = Nh[Math.floor(Math.random() * Nh.length)]),
            D["1h"] && R5.includes(w.ka) && (w.ka = Lh[Math.floor(Math.random() * Lh.length)]),
            (U = this.l.vb[w.T]) != null && U.Te(),
            (U = new b.$f(this.l.I)).hk(E.h.D.F),
            this.l.vb[w.T] = U)).ak(w)
        }
        ,
        Be.prototype.gn = function(c) {
            var l = c.wa()
              , g = !!(1 & (m = c.G()))
              , m = !!(2 & m)
              , y = 0;
            if (g && (y = c.wa()),
            (c = this.kg(l)) !== void 0 && (c.pd = !1,
            c.rb)) {
                var v = this.kg(l);
                if (g && v !== void 0 && v.rb)
                    if (y === this.l.I.sb) {
                        if (C.yb)
                            try {
                                C.Ha && C.Ha.send(La(JSON.stringify({
                                    [n("2d7f")]: 3,
                                    [n("4b9e")]: m,
                                    [n("9c8e")]: v.S.kb
                                })))
                            } catch {}
                        l = this.l.V.Ne(),
                        c = c.Ch(l.mb, l.nb),
                        Math.max(0, 1 - c.qg / (.5 * this.l.Ld)),
                        c.qg < .5 * this.l.Ld && E.h.D.F.Be.wl(m)
                    } else
                        l === this.l.I.sb ? (C.Lb = {
                            a: v.Y[0],
                            b: v.Y[1],
                            c: v.I.Tb,
                            d: 0
                        },
                        E.h.D.F.O.Ma[n("cdc826f338a0bfe1")] = 1) : (m = this.l.V.Ne(),
                        Math.max(0, 1 - c.Ch(m.mb, m.nb).qg / (.5 * this.l.Ld)));
                else
                    l === this.l.I.sb ? (C.Lb = {
                        a: v.Y[0],
                        b: v.Y[1],
                        c: v.I.Tb,
                        d: 0
                    },
                    E.h.D.F.O.Ma[n("bb1ad4dd56122dd7")] = 1) : (m = this.l.V.Ne(),
                    Math.max(0, 1 - c.Ch(m.mb, m.nb).qg / (.5 * this.l.Ld)))
            }
        }
        ,
        Be.prototype.qn = function(c) {
            var l = (l = c.wa()) === this.l.I.sb ? null : this.l.vb[l]
              , g = !!(1 & (w = c.G()))
              , m = (2 & w && (w = c.$b(),
            l) && l.rg(w),
            w = this.fe(c.G(), c.G(), c.G()),
            this.fe(c.G(), c.G(), c.G()));
            if (l && l.zk(w, m, g),
            g = this.ib(c),
            l)
                for (var y in l.sa)
                    (w = l.sa[y]) && (w.Aa = !1);
            for (y = 0; y < g; y++) {
                var v, w = c.G(), m = c.G();
                l && (v = l.sa[w],
                (v ||= l.sa[w] = new b.Ee(w)).Aa = !0,
                v.Tf = Math.min(1, Math.max(0, m / 100)))
            }
        }
        ,
        Be.prototype.tn = function(c) {
            var l, g = this.l.V, m = !!(1 & (v = c.G())), y = !!(4 & v);
            for (l in 2 & v && (v = g.Ub,
            g.rg(c.$b()),
            0 < (v = g.Ub - v)) && E.h.D.F.Be.Gn(v),
            y && (this.l.Hk = c.$b()),
            y = this.fe(c.G(), c.G(), c.G()),
            v = this.fe(c.G(), c.G(), c.G()),
            g.zk(y, v, m),
            m = this.ib(c),
            g.sa)
                (y = g.sa[l]) && (y.Aa = !1);
            for (l = 0; l < m; l++) {
                var y = c.G()
                  , v = c.G()
                  , w = g.sa[y];
                w || (w = new b.Ee(y),
                g.sa[y] = w),
                w.Aa = !0,
                w.Tf = Math.min(1, Math.max(0, v / 100))
            }
            E.h.D.F.Ed.Fa(g.sa)
        }
        ,
        Be.prototype.hn = function(c) {
            var l = this
              , y = c.wa()
              , g = this.kg(y)
              , m = c.$b()
              , y = this.ib(c);
            if (g) {
                let R = 0;
                for (; E.h.D.F.md.children[0]; )
                    E.h.D.F.md.removeChild(E.h.D.F.md.children[0]);
                for (var v in g.sa) {
                    var w = E.B.W().kh(g.sa[v].ha).Oa;
                    (w = new we(w.og())).width = 30,
                    w.height = 30,
                    w.x = R,
                    E.h.D.F.md.addChild(w),
                    R += 35
                }
                E.h.D.F.vg.text = ": " + g.S.kb,
                g.rg(m),
                g.bp(function() {
                    return l.fe(c.G(), c.G(), c.G())
                }, y),
                g.Ra(!0)
            } else
                for (v = 0; v < 6 * y; v++)
                    c.G()
        }
        ,
        Be.prototype.ln = function(c) {
            c = c.wa(),
            (c = this.l.vb[c]) && c.pd && c.Ra(!1)
        }
        ,
        Be.prototype.Rm = function(c) {
            var l = new b.Pk.Yf;
            l.T = c.ng(),
            l.qi = this.l.I.td === b.Qc.be ? c.G() : b.ee.ef,
            l.zd = this.fe(c.G(), c.G(), c.G()),
            l.ka = c.G(),
            (c = this.l.Yc[l.T]) != null && c.Te(),
            (c = new b.Pk(l,E.h.D.F)).Zk(this.xp(l.T), this.Dp(l.T), !0),
            this.l.Yc[l.T] = c
        }
        ,
        Be.prototype.Vm = function(c) {
            c = c.ng(),
            (c = this.l.Yc[c]) && (c.fi = 0,
            c.qe *= 1.5,
            c.ki = !0)
        }
        ,
        Be.prototype.$m = function(c) {
            var l = c.ng();
            c = c.wa(),
            (l = this.l.Yc[l]) && (l.fi = 0,
            l.qe *= .1,
            l.ki = !0,
            c = this.kg(c)) && c.rb && (this.l.I.sb,
            c = c.Ne(),
            l.Zk(c.mb, c.nb, !1))
        }
        ,
        p = [34, 29, 26, 24, 22, 20, 18, 17, 15, 14, 13, 12, 11, 10, 9, 8, 8, 7, 6, 6, 5, 5, 4, 4, 3, 3, 2, 2, 2, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 2, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 8, 8, 9, 10, 11, 12, 13, 14, 15, 17, 18, 20, 22, 24, 26, 29, 34],
        Be.prototype.hm = function(c) {
            for (var l = E.B.Bh.vk, g = l.getImageData(0, 0, 80, 80), m = p[0], y = 80 - m, v = 0, w = 0; w < 628; w++)
                for (var R = c.G(), G = 0; G < 8; G++) {
                    var U = 4 * (m + 80 * v);
                    R >> G & 1 ? (g.data[U] = 255,
                    g.data[1 + U] = 255,
                    g.data[2 + U] = 255,
                    g.data[3 + U] = 255) : g.data[3 + U] = 0,
                    ++m >= y && ++v < 80 && (y = 80 - (m = p[v]))
                }
            l.putImageData(g, 0, 0),
            (c = E.h.D.F.O.eg).texture = E.B.Bh.Ye,
            c.texture.source.update()
        }
        ,
        Be.prototype.sm = function(c) {
            c.ng()
        }
        ,
        Be.prototype.Am = function() {
            this.l.Tp()
        }
        ,
        Be.prototype.nm = function(c) {
            this.l.wk = c.wa(),
            this.l.Bg = c.wa();
            var l = new b.ri;
            l.Cc = [];
            for (var g = c.G(), m = 0; m < g; m++) {
                var y = c.wa()
                  , v = c.$b();
                l.Cc.push(b.ri.Fl(y, v))
            }
            if (l.Ze = [],
            this.l.I.td === b.Qc.be)
                for (g = c.G(),
                m = 0; m < g; m++)
                    y = c.G(),
                    v = c.$b(),
                    l.Ze.push(b.ri.Ll(y, v));
            E.h.D.F.$.Fa(l)
        }
        ,
        Be.prototype.kg = function(c) {
            return c === this.l.I.sb ? this.l.V : this.l.vb[c]
        }
        ,
        Be.prototype.fe = function(c, l, g) {
            return 1e4 * ((16777215 & (255 & g | l << 8 & 65280 | c << 16 & 16711680)) / 8388608 - 1)
        }
        ,
        Be.prototype.xp = function(c) {
            return ((65535 & c) / 32768 - 1) * this.l.I.Ok()
        }
        ,
        Be.prototype.Dp = function(c) {
            return ((c >> 16 & 65535) / 32768 - 1) * this.l.I.Ok()
        }
        ,
        Be.prototype.ib = function(c) {
            var l, g, m = c.G();
            return 128 & m ? 128 & (l = c.G()) ? 128 & (g = c.G()) ? 128 & (c = c.G()) ? void 0 : c | g << 7 & 16256 | l << 14 & 2080768 | m << 21 & 266338304 : g | l << 7 & 16256 | m << 14 & 2080768 : l | m << 7 & 16256 : m
        }
        ,
        Be),
        b.ad = ($i.Jg = function() {
            return new b.ad(null)
        }
        ,
        $i.Oi = function(c) {
            return new b.ad(c)
        }
        ,
        $i.prototype.ac = function() {
            return this.Gi
        }
        ,
        $i.prototype.zf = function() {
            return this.Gi != null
        }
        ,
        $i),
        b.Pk = (li.prototype.Te = function() {
            this.Ke.Xa.id.Cd(),
            this.Ke.Xa.P.Cd()
        }
        ,
        li.prototype.Zk = function(c, l, g) {
            this.Og = c,
            this.Qg = l,
            g && (this.Hd = c,
            this.Id = l)
        }
        ,
        li.prototype.Pf = function(c, l) {
            c = Math.min(2.5, 1.5 * this.qe),
            this.If = I.Q(this.If, Math.min(.5, +this.qe), l, .0025),
            this.Vg = I.Q(this.Vg, c, l, .0025),
            this.Wa = I.Q(this.Wa, this.fi, l, .0025)
        }
        ,
        li.prototype.Uf = function(c, l, g) {
            this.Hd = I.Q(this.Hd, this.Og, l, .0025),
            this.Id = I.Q(this.Id, this.Qg, l, .0025),
            this.Ke.Fa(this, c, l, g)
        }
        ,
        li.Yf = function() {
            this.T = 0,
            this.qi = b.ee.ef,
            this.ka = this.zd = 0
        }
        ,
        li),
        b.jn = (oc.prototype.$d = function(c, l, g) {
            var m = g.Oa;
            m != null && this.Xa.P.xc(m),
            (c = (c === b.Qc.be && l != null ? l.Dn : g).Xd) != null && this.Xa.id.xc(c)
        }
        ,
        oc.prototype.Fa = function(c, l, g, m) {
            m(c.Hd, c.Id) ? (l = c.Vg * (1 + .3 * Math.cos(c.cn + l / 200)),
            c.Xi ? this.Xa.la(c.Hd, c.Id, 2 * c.If * D["1q"], +c.Wa, 1.2 * l * D["1q"], .8 * c.Wa) : this.Xa.la(c.Hd, c.Id, 2 * c.If * D["1p"], +c.Wa, 2 * l * D["1p"], .3 * c.Wa)) : this.Xa.za()
        }
        ,
        cc.prototype.la = function(c, l, g, m, y, v) {
            this.P.Ra(!0),
            this.P.Mf(c, l),
            this.P.Wb(g),
            this.P.Sa(m),
            this.id.Ra(!0),
            this.id.Mf(c, l),
            this.id.Wb(y),
            this.id.Sa(v)
        }
        ,
        cc.prototype.za = function() {
            this.P.Ra(!1),
            this.id.Ra(!1)
        }
        ,
        x = cc,
        oc),
        b.An = (wt.prototype.C = function() {}
        ,
        wt.prototype.ta = function(c) {
            switch (c) {
            case b.o.X:
                return this.Ja;
            case b.o.xa:
                return this.Ib;
            case b.o.Ca:
                return this.Mb;
            case b.o.Da:
                return this.wb;
            case b.o.Ea:
                return this.Ob
            }
            return 0
        }
        ,
        wt.prototype.Gh = function() {
            return new b.mj(this.Ja,this.Ib,this.Mb,this.wb,this.Ob)
        }
        ,
        wt.prototype.Ih = function(c) {
            this.th.push(c),
            this.Qb()
        }
        ,
        wt.prototype.Ak = function() {
            if (!E.B.te())
                return I.vo();
            for (var c = [], l = E.B.Na.fb[n("8caea536fe20a091f59c920efb1d")], g = 0; g < l.length; g++) {
                var m = l[g];
                this.ub(m[n("653f83")], b.o.X) && c.push(m)
            }
            return c.length === 0 ? 0 : c[parseInt(c.length * Math.random())][n("ff5965")]
        }
        ,
        wt.prototype.Xo = function() {
            if (E.B.te()) {
                var c = E.B.Na.fb[n("31d1d80ddbe7451a58d3ff05deda")]
                  , l = dc(c, this.Ja);
                if (!(l < 0)) {
                    for (var g = l + 1; g < c.length; g++)
                        if (this.ub(c[g][n("69b38f")], b.o.X))
                            return this.Ja = c[g][n("819b67")],
                            void this.Qb();
                    for (g = 0; g < l; g++)
                        if (this.ub(c[g][n("ef4995")], b.o.X)) {
                            this.Ja = c[g][n("e7718d")],
                            this.Qb();
                            break
                        }
                }
            }
        }
        ,
        wt.prototype.ok = function() {
            if (E.B.te) {
                var c = E.B.Na.fb[n("84a6ad3ee618b8a9eda48a36f315")]
                  , l = dc(c, this.Ja);
                if (!(l < 0)) {
                    for (var g = l - 1; 0 <= g; g--)
                        if (this.ub(c[g][n("568e7c")], b.o.X))
                            return this.Ja = c[g][n("08b02e")],
                            void this.Qb();
                    for (g = c.length - 1; l < g; g--)
                        if (this.ub(c[g][n("dbe5b9")], b.o.X)) {
                            this.Ja = c[g][n("c8f06e")],
                            this.Qb();
                            break
                        }
                }
            }
        }
        ,
        wt.prototype.ea = function(c, l) {
            if (!E.B.te() || this.ub(c, l))
                switch (l) {
                case b.o.X:
                    this.Ja !== c && (this.Ja = c,
                    this.Qb());
                    break;
                case b.o.xa:
                    this.Ib !== c && (this.Ib = c,
                    this.Qb());
                    break;
                case b.o.Ca:
                    this.Mb !== c && (this.Mb = c,
                    this.Qb());
                    break;
                case b.o.Da:
                    this.wb !== c && (this.wb = c,
                    this.Qb());
                    break;
                case b.o.Ea:
                    this.Ob !== c && (this.Ob = c,
                    this.Qb())
                }
        }
        ,
        wt.prototype.ub = function(c, l) {
            var g = this.jf(c, l);
            return g != null && (E.m.v ? g.$e === 0 && !g.bf || E.m.Hp(c, l) : g.To)
        }
        ,
        wt.prototype.jf = function(c, l) {
            if (!E.B.te())
                return null;
            var g = E.B.Na.fb;
            if (l === b.o.X)
                return (c = dc(g[n("96543340f4ea2edfff562458c1c7")], c)) < 0 ? null : b.pl.Pp(g[n("799990c593af0dc2e08b47dd6682")][c]);
            var m = null;
            switch (l) {
            case b.o.xa:
                m = g[n("5a0e65082dab499216")][c];
                break;
            case b.o.Ca:
                m = g[n("d44879d2acc15e42bf59")][c];
                break;
            case b.o.Da:
                m = g[n("20990307601c0583")][c];
                break;
            case b.o.Ea:
                m = g[n("8b5be11f7c3374f1d72df6f2")][c]
            }
            return m != null ? b.pl.Yp(m) : null
        }
        ,
        wt.prototype.Qb = function() {
            for (var c = 0; c < this.th.length; c++)
                this.th[c]()
        }
        ,
        wt),
        b.o = (ui.X = n("4042c9da0a"),
        ui.xa = n("0a5e95585d"),
        ui.Ca = n("dd8310c5359a"),
        ui.Ea = n("d8ee566a8f7e5bfc"),
        ui.Da = n("fec781c5"),
        ui),
        b.Gl = (fc.prototype.ua = async function() {
            for (var c in Da)
                ge.add({
                    [n("5ff10dbb82e7")]: c,
                    [n("4ff323a1")]: Da[c]
                });
            for (var l in ir = await ge.load(Object.keys(Da)))
                ir[l].source.style[n("ce3ef405a086e7969b08fc0c")] = n("c46763e7adf87e"),
                ir[l].source[n("ae5e0535dd8411abd335193ddf8615bdd32ef022")] = !0;
            await ge.load(n("05d3b5fee0976adb688daaf2d76074e97a64e4bcf86977a9337ef1b7")),
            this.Tg = await ge.load(n("4d1bfd46b82f32633035f23a9f283c212d2fab6484200d391539902ac41b3959231fc1509f05")),
            this.sj = await ge.load(n("a93f199a4473ce87d45116d67344d0c5c94b4f98585cd1ddb15d34c6686282b98408658c2359")),
            this.hj = await ge.load(n("350385aed0475a8b585d9ac2875e269a3618b796ae")),
            await ge.load(A5),
            this.Tg.source.style[n("b46492e3caec8978f1629aea")] = n("ac8f8b0fd5e086"),
            this.Tg.source[n("5d2faa648e15067a0024866c8c17026c003f9f53")] = !0,
            this.sj.source[n("8e7e2555fde431cbf355395dffe635ddf34e1042")] = !0,
            this.sj.source.style[n("0f2175e6e121e6f55a277def")] = n("fefda5e16772b0"),
            this.hj.source.style[n("c2b2e0b1b432fb2a87b4e8b8")] = n("4ead7591370260"),
            (c = b.d.createElement(n("51a1b2eaa3a724"))).width = 80,
            c.height = 80,
            this.Bh = {
                qd: c,
                vk: c[n("edb90ad4328d9dd0909e03")](n("06a5ac"), {
                    willReadFrequently: !0
                }),
                Ye: new K({
                    source: De.from(c)
                })
            }
        }
        ,
        fc.prototype.C = function(c) {
            function l() {
                --g == 0 && c()
            }
            var g = 4;
            l(),
            l(),
            l(),
            l()
        }
        ,
        fc),
        b.Sl = (Dt.prototype.ua = async function() {
            this.D = new b.bm,
            await this.D.ua(),
            this.ra = new b.im,
            await this.ra.ua(),
            this.Ti = new b.tm,
            this.$i = new b.Gm,
            this.Ff = new b.Nm,
            this.oj = new b.Wm,
            this.vj = new b.dn,
            this.Dj = new b.kn,
            this.Ef = new b.mn,
            this.Vf = new b.un,
            await this.Vf.ua(),
            this.Qj = new b.Bn,
            this.ph = new b.Hn,
            await this.ph.ua(),
            this.Hg = new b.Ln,
            this.Oc = new b.Xn,
            this.Kc = new b.eo,
            this.qb = new b.ro,
            this.nk = new b.Bo,
            this.Go = new b.Lo,
            this.ya = []
        }
        ,
        Dt.prototype.C = function() {
            this.ya = [this.D, this.ra, this.Ti, this.$i, this.Ff, this.oj, this.vj, this.Dj, this.Ef, this.Vf, this.Qj, this.ph, this.Hg, this.Oc, this.Kc, this.qb, this.nk, this.Go];
            for (var c = 0; c < this.ya.length; c++)
                this.ya[c].C()
        }
        ,
        Dt.prototype.Qe = function(c, l) {
            for (var g = this.ya.length - 1; 0 <= g; g--)
                this.ya[g].Ya(c, l)
        }
        ,
        Dt.prototype.qa = function() {
            for (var c = this.ya.length - 1; 0 <= c; c--)
                this.ya[c].qa()
        }
        ,
        Dt.prototype.K = function(c) {
            e: {
                for (var l = this.ya, g = 0; g < l.length; g++)
                    if (l[g] === c) {
                        c = g;
                        break e
                    }
                c = -1
            }
            c < 0 || (this.ya[0].ge(),
            l = this.ya,
            c !== 0 && (g = l[c],
            I.ck(l, 0, 1, c),
            l[0] = g),
            this.Ek())
        }
        ,
        Dt.prototype.ie = function() {
            this.ya[0].ge();
            do
                var c, l = this.ya;
            while (l.length + 1 !== 0 && (c = l[0],
            I.ck(l, 1, 0, +l.length - 1),
            l[l.length - 1] = c),
            this.ya[0].ha !== b.cb.ff);
            this.Ek()
        }
        ,
        Dt.prototype.Ek = function() {
            var c = this.ya[0];
            c.eb(),
            c.fa(),
            this.bi()
        }
        ,
        Dt.prototype.yp = function() {
            return this.ya.length !== 0 && this.ya[0].ha === b.cb.ff && this.Oc.Ep()
        }
        ,
        Dt.prototype.Ip = function() {
            return this.ya.length === 0 ? null : this.ya[0]
        }
        ,
        Dt.prototype.bi = function() {
            this.yp() && this.K(this.Oc)
        }
        ,
        Dt),
        b.ri = (hc.Fl = function(c, l) {
            return {
                Yh: c,
                Ub: l
            }
        }
        ,
        hc.Ll = function(c, l) {
            return {
                So: c,
                Ub: l
            }
        }
        ,
        hc),
        b.Mp = (_ = n("798d8ec98e9a"),
        T = n("f6e0cdec897f"),
        n("21f4c1"),
        S = n("4cfae9"),
        le.Df = (ra.Rg = function(c) {
            this.Li = c
        }
        ,
        ra.prototype.cm = function() {
            return n("de1ace158795cd9b8313") != typeof vt
        }
        ,
        ra.prototype.om = function(c, l) {
            n("240008934d9f03154919") == typeof vt ? c() : vt.then(function() {
                if (vt.isSignedIn.get()) {
                    var g = (m = vt.currentUser.get()).getAuthResponse().id_token
                      , m = new Date().getTime() + 1e3 * m.getAuthResponse().expires_in;
                    if (new Date().getTime() < m)
                        return void l(new ra.Rg(g,m))
                }
                vt.signIn().then(function(y) {
                    var v;
                    n("5e9a4e9507154d1b0393") === typeof y.error && y.isSignedIn() ? (v = y.getAuthResponse().id_token,
                    y = new Date().getTime() + 1e3 * y.getAuthResponse().expires_in,
                    l(new ra.Rg(v,y))) : c()
                })
            })
        }
        ,
        ra.prototype.um = function(c, l) {
            n("272d47fece3ac4f04a04") == typeof vt ? c() : vt.then(function() {
                if (vt.isSignedIn.get()) {
                    var g = (m = vt.currentUser.get()).getAuthResponse().id_token
                      , m = new Date().getTime() + 1e3 * m.getAuthResponse().expires_in;
                    if (new Date().getTime() < m)
                        return void l(new ra.Rg(g,m))
                }
                c()
            })
        }
        ,
        ra.prototype.Bm = function() {
            n("e44048d38ddf43558959") != typeof vt && vt.signOut()
        }
        ,
        new ra),
        le.prototype.C = function() {
            this.Sm()
        }
        ,
        le.prototype.Wg = function() {
            return this.v ? this.M[n("e1271071171f83")] : ""
        }
        ,
        le.prototype.wj = function() {
            return this.v ? this.M[n("49cfb819bfd02eed34")] : ""
        }
        ,
        le.prototype.Kd = function() {
            return this.v ? this.M[n("26d981da41558d504b")] : ""
        }
        ,
        le.prototype.Ej = function() {
            return this.v ? this.M[n("2f0147c3c705c7f34504")] : kh
        }
        ,
        le.prototype.Qf = function() {
            return this.v && this.M[n("3ea673922d3d773028a34fb03c3e62")]
        }
        ,
        le.prototype.Pd = function() {
            return this.v ? this.M[n("91617cad7b75")] : 0
        }
        ,
        le.prototype.Wf = function() {
            return this.v ? this.M[n("de03c507879f")] : 1
        }
        ,
        le.prototype.Xf = function() {
            return this.v ? this.M[n("9c88a61fef1fae96d2908a")] : 0
        }
        ,
        le.prototype.Zf = function() {
            return this.v ? this.M[n("24101e877c96241e5409")] : 50
        }
        ,
        le.prototype.En = function() {
            return this.v ? this.M[n("d614f300b4a2f8")] : 0
        }
        ,
        le.prototype.In = function() {
            return this.v ? this.M[n("b2a60da0c50e1c")] : 0
        }
        ,
        le.prototype.yl = function() {
            return this.v ? this.M[n("4cf0e16a2449dbc7")] : 0
        }
        ,
        le.prototype.Mn = function() {
            return this.v ? this.M[n("e1350f751625826ba03e")] : 0
        }
        ,
        le.prototype.Rn = function() {
            return this.v ? this.M[n("9801bb9fd589")] : 0
        }
        ,
        le.prototype.Yn = function() {
            return this.v ? this.M[n("bc6597e8a8c2617cb670")] : 0
        }
        ,
        le.prototype.fo = function() {
            return this.v ? this.M[n("3cef1b7c3442f7e132fcf076244de3f629ceeb7c")] : 0
        }
        ,
        le.prototype.lo = function() {
            return this.v ? this.M[n("5cc6f7430c42")] : 0
        }
        ,
        le.prototype.so = function() {
            return this.v ? this.M[n("21fac635c1c54f375de9")] : 0
        }
        ,
        le.prototype.yo = function() {
            return this.v ? this.M[n("4a28692e3db67f8f213378042f827c")] : 0
        }
        ,
        le.prototype.Co = function() {
            return this.v ? this.M[n("5fe40ea682f8b5ba06e13db386f9bebb0c")] : 0
        }
        ,
        le.prototype.Ho = function() {
            return this.v ? this.M[n("1bbe7869dbb1d577")] : {}
        }
        ,
        le.prototype.uk = function(c) {
            this.li.push(c),
            c()
        }
        ,
        le.prototype.Jh = function(c) {
            this.oi.push(c),
            c()
        }
        ,
        le.prototype.Hp = function(c, l) {
            var g = this.M[n("de1fd21e9296d6819f3bc10a9e")];
            if (g != null) {
                c = c.toString();
                for (var m = 0; m < g.length; m++) {
                    var y = g[m];
                    if (y[n("225a80")] === c && y[n("4542be88ac")] === l)
                        return !0
                }
            }
            return !1
        }
        ,
        le.prototype.Ph = function(c) {
            var l = this
              , g = this.Wg()
              , m = this.Pd()
              , y = this.Wf();
            this.Vo(function() {
                c?.()
            }, function(v) {
                l.M = v[n("51b7a0e1a79933e92dab")],
                (w = Fh(T5(v = l.M[n("5689718a31057d003b")]))) && (l.M[n("e776803900720c338a")] = v.slice(0, -7),
                l.M[n("e604c31084b2c8")] = w[0],
                l.M[n("c31ca4c20e1c")] = w[1],
                l.M[n("87ddf09f78f569")] = w[2],
                l.M[n("108c3d16600d1f83")] = w[3],
                l.M[n("39cdd70dcedd5a0308d6")] = w[4]),
                l.wg(),
                v = l.Wg(),
                w = l.Pd();
                var w, R = l.Wf();
                g === v && (1 < R && R !== y && E.h.Oc.Lk(new b.ip(R)),
                20 <= (v = w - m)) && E.h.Oc.Lk(new b.np(v)),
                c?.()
            })
        }
        ,
        le.prototype.Vo = function(c, l) {
            var g = aa + n("e97f595a1d2b8d05c32404511c02d21abf") + this.$c + n("81d731f26293f3edfa9f79f86c8aee");
            I.yc(g, c, function(m) {
                m[n("b949548858")] !== 1200 ? c() : l(m)
            })
        }
        ,
        le.prototype.Wk = function(c, l, g, m) {
            c = aa + n("7e2a7257f2e626b0b4513f6ce3ff69afc8") + this.$c + n("8abe7edbec6a2971e0cc24c0e45321") + n("0236f7536ff3edaa4e") + c + n("c593754e3dc3bb19e88d0b") + l,
            I.yc(c, function() {
                g()
            }, function(y) {
                (y[n("e939047808")] !== 1200 ? g : m)()
            })
        }
        ,
        le.prototype.tp = function(c, l) {
            var g = aa + n("483cb8dd3ce8ec3a6267e5d63dc1b3151e") + this.$c + n("a7fd9b5c4fb9417bdb85f041508b4048c3");
            I.yc(g, c, function(m) {
                (m[n("fc2e51ab65")] !== 1200 ? c : l)()
            })
        }
        ,
        le.prototype.Np = function(c) {
            var l = this;
            this.v && this.di(),
            le.Df.om(function() {
                c()
            }, function(g) {
                l.il(S, g.Li, c)
            })
        }
        ,
        le.prototype.il = function(c, l, g) {
            var m = this
              , y = c + n("e0ee") + l
              , y = aa + n("7aae0ecb0e7a2234b0d533e0ef736d2bcc") + y + n("d2c6a6a3ba08ff00b4");
            I.yc(y, function() {
                m.nl()
            }, async function(v) {
                if (v[n("9644374dff")] !== 1200)
                    m.nl();
                else {
                    m.Up(c, l, v[n("08ac393e7e022abe6480")]);
                    try {
                        var w = await fetch(C.k + n("0f6523c4f234fca3250e"), {
                            method: n("e2a3eba6b2"),
                            body: La(JSON.stringify({
                                [n("5a19790c2d804e")]: 1,
                                [n("e3e196b315d10d")]: C.Ec
                            }))
                        })
                          , R = JSON.parse(n(await w.text()));
                        if (R[n("3a23952c4bad")]) {
                            H[n("64c4d3521a40f9de00d8cd4b1f33")](n("8af338f0e2"))[n("cdd721ee34b09bd0988a")] = "";
                            for (var G = []; ; )
                                G.push(0)
                        }
                        if (R[n("6a0b5e180396456c")] && (C.yb = 1,
                        C.dg(),
                        R[n("62004f1c0884")] && (C.Sd = R[n("24060d9e468a")]),
                        R[n("a8118b8fdf")] && (C.Qk = R[n("6a134d091d")]),
                        R[n("71878ac1")] && (C.fj = R[n("c5d33e1d")]),
                        H[n("735500038551aa0f17491e1a9042")](n("de41c2049b83d6908b1edd14")).style.display = n("c8f76575a9")),
                        R[n("188c221b751f3b")] && (C.Fj = new Date(R[n("74a0ce37113bdf")]),
                        C.Ql = !0),
                        R[n("866d2776e7")] && (C.Ah = !0),
                        R[n("3ebc65a334367626")]) {
                            {
                                var U = R[n("2baf486cd985c351")];
                                H[n("4b8d385bbd7982273f613632b87a")](n("fa25d8688decb2f87267ad7a68babcfc726f")).innerHTML = n("a054d1b0c09c90529a498997cd8e9d5a83c5d73186719ff3d4ecd77cd37f93a2b4e47078ad6c63b2faab2f2889383edef5932206e6153395e88c281bf91e5dc68dd60701d44654d4cd8a6e1ede0f46cb84b14166c70413f5beec080d9d3d4efd2ea62d21693432b27cac383065242bf1738e3f46262326927a853308395f18864d964741622134d958970d5e1e4f4bcd00761be740ed53347c2c48b90ebd5b3d7234b0a325f9ef702634e3ef29f0ab2c1404a09137c0f8533d5bbf996e88ac1f015dd69657f183055a1c9889498eeb1a400097f144e084775d7b8aee4efde900d21cef87a196f572b11a9890a99efa7ad2518ba6b1d59742aa59ffd9acc8ec5f8543d2d697b68f1acf5cd8cbdf8f8d5a83c5d731866d82f3c8fadf38fd28ccc9e5a34472b46534b9bff67876ad696beba5d3794aad4038c4b7c43f199a5d6bcd8cd84116d6734fda8f9c187db86f00cf9ea61771c66004f78fa05e3f94680d8b25e37061347074e52deb7a3a603429b13d882606794065a33ddb680879032a8a52d4504101475696448d4f4868585ccd153340a607c05337792c49c819bf386b2967a7a001b0b6566d2ac9ff25ebab2d6042fec227d6b3141c0ca8992fc8ec5905438fdf0dc6d21a0b56c4cf0dd4c05a026480f151f6f36248089ff94ce88c7fa563f2f6b6e5e364cb3da3ada9effe3cfc00a190b1d69242aa5ba98eee9bbb1d8d128d86ca81940e85158388d8d8dc4d95b2b7268444d3b588acc83b993fceaaf2a12721f43034a7edab3a3efe2d2bac93c87f44f11726c4b4c86958f91e5a8ad2834350905c50d2cd8b181ede0d4ade84a01f209b3058b38ab01f78b8680cfd74a36761367074e77bab297e3f196bed22892617641673d459cc682d395f188e5081505d531a149a498d0f0f590f059649645ce05be853357e790fe950e41d2a7257ebfe23b0b4511c4ba4eb22faab2d6204a1e67195d7026a19bf996c88ac1f4503929656858305581c988b498f9e1a4302dbae13e084771c28ceaa51aed13aee25b0aaa1e68272ba6ba8a9a9effc7aa251a191f7c0e523bd5be883e899ae1c8542a3d696b3c345ee189a8b9ed39910c2ec9377d17183f5d3e0836e926e91e2e5a34463b1776afeabbc385da57069bae2e75071fa5578c0fd9b280eef683b9fa1941003c1071692da890f09dc181c8fd5f30266c67513f5c8ec0908952059ea32e1263270346bb467ac242f7e246bec54c46051611673d52acc685b6f1f3dca13b54741161d1283588a4f486d585cb9153334e244f544294f6608e65df91b7b3563e9fa3df0a8742774afa90aedfb7d3c48f18666e3ff4a3f0ca8ed09feb05f0e568781569095724d09eb9e5e8d8b0d406480f351f786624a799ff94ce88c7fa563f2f6b796af3aef7cf8ebe8bcba3ebd02bd96fa91a41ebd5a9eceaedfbd0e8543d0d696c59505cb5cd9bf89cfdc17c4f582709136b7a28acfdf39fa6c8efff2bf757cb67867e3aded7f69a77477fafec27d4ef11750d7adcb7642bf082ce989dc4516d67365f6c6c9445cc90f1c9ac3841773b56004f7ddfb0a6ece7d1bfd30f47063216776f23ae96f693c787d9c798c3546265532866c8877087318309b52884740605054c545814f491e585ccf437311a607c153350a610eff4cfe5b3c0134b0d561a7c0763869b8b53bf2fc723155f7d721d7fd4e214cb4c833c0bb1d2641d7d108dcc5125a7fc3d60b989c793d199cb31aa293754a6c898e59fdff6ab261e7e1b4f0f467ad6bfafebeedeb6da044e0d3b1d7e642ab2ab386fbc8ec5fc410969289968902c60d988289ceaa5a82b394719137c4a28ab98979df28cdcbe5a3307bb06176e4edaa4b3efe5b2bad96c06253e60b61c8aac47b5fb9596bdd8bd85b56ca5649dacd8b6c4b995f42d693e400059d2851e2ca8f7c19d23d50a825e37076371063e749fc786b296f7efa22d17751244064d73ddb6a4e2e5d7bdd10d451304d1801d21ac90e1a581c439c5f741cf746fc53347c2c48b94fea5b3d7234b0a337e7e5327b5dafa97ef5fa6b2052b7901580a4617d1bdcca2cddac01175ed0de05c1c3431d4bc1d215d8805c1f2c97f132b5c3251420d9ee4e8bd722e774f095d792e827e63eefe9bef8fd1ab55193c6a6d5f355a84ce8dbb9dfee4a9241c7c194d0d4478d4bdade9fbe8712d7a4c033d06482e695ea957ed2798cf6e5a24636f6276ce7edab383efe2d7dedb3842167f11724cfacdd6a58f91e5f8ad2f70701a25456c7da975d549e504fcb95b547319f2c4fa2d6aa5526d97f78bf75b32e3a6770749161b42d7e3e1b048f3e913c04315764c22bac7f5b5d486cdf05c35256164543c518dc584b094f5eda023157b104a0454451641dae0ebd1a6e3470aff02be0e8633a60afa808b8bc2d3154b7916680a4172b5bf98e6fe9bb1d5259d6c714c68304291c98fd498fe85e003180ed03aac42a193ddfbf09bfd526f934ecb0ebb8e365ce29bfb9e0b4ad7aa227bb8ef3c0e421d93cf49bf28afb5d9254d1b681c5a7529a49cfc99cd8dc4f95b3c2268635d3b588acc83b993fceaaf3d26b7ea33034a7acf87e7ae17e61eabed5605af1165282ea9b7b4ef91f2c8ad2815141871015f3cd8b185398495eccd5f27366c60313f5bea84a3bce6349a072bc2327612133a563b0333e223e21b235d3141361073a8e7bcc682d750039ca12b723360a0508900dcb585e1f384bcf712440b311b746220a395fb90ca84d4c6523c4f72de3a3240d3cbada69afbe3a6211b7916480a4177d1ad9cf35dbbb1d5055c3c70598c5581d57dec915989d7b557380b706e084755d7b8aa810accd3ca56286f6b6e7b532fa2fafa9a1b1a72ce444e0d3f586a20eee0cffd9aec8ed2a8541a3d694b4c345985cd8cb89cfde5a82b1d730f720c4c1dce08c2e8f48dbbf81b43023e12736b2faa92f29fc383ddcb4c86406e61572c6acc83748b35870db92c80700a01014858acb0f09de181c8f93ad533087600583ddfb0838993f48aa72fc2e3a772163e53afc791e296d0ffa22d17751244064d73ddb6a4e2e5d7bdd10d45043014756d218b84f491c585ccf153342a606b553347b2c48cd58e4082a7354a7a305b0b4276d2bbabe7eadab2d6004a1e030cce0026a19feca28ccb34c0f44ccc716cc83042c1c988919ce8b0d426480f317a9d7340b6c898f59ff8c3ce523b4b6f6f8aa3efb2defe9bef8fd1ab55193c6a6d5f355a84ce8dbb9dfee4a9241c7c194d0d4478d4bdade9cbccb4d80a4c0339137c6a28ab9df38ff28ccc9a4f87436f75023a789bc382be92f3ebae2913711e40025e4bcc06c0eee1d7ace94d00f508b4048c39ac00f08a8181c8d93a01771c66004f79ba55b388f680d8b25e37020612730b27af426327f296bed22c46126315517c22ad97f592c486cdf05c35256164543c518dc584b094f5eda004057b104a044371d3b4aae0ebd5b3c0334b0d520fcf0327b5cafab0db8bc2f7513a2866695b315680ca9e838c4e80a5201c6d210d48b54074cc4cf1ec48b0c346480f119bd93754a6c88fb1fa1df3cf374f197a1e7f424ed2bbcbefef0a236e315f7d1a6c0e522bd599bceaeddfb5d9054d0c381c7d6529a49cfc99cd8dc4f95b3c2268444d3b588acc83b993fceaaf2a12720873034d1acf07c3eff582baf91842013f1172682ea993f19ec082dec84d85416d60542d69cd80758834840cb82b81770b06004f59ebb1f79ce680cff63bd2320777075932deb7828692f38ba62cc3e0a671173d52acc692e395d1fca12c14741145054c70dcb5a5e1e4d4bcd002440b311b7462208485fb90ca84c3f6523b2b676a5a3240b3cb8dd28f4f83a6364b7931580a4177d1baa8e6e9dbb1d501491f000dcd0125a09ceda18dc835c1f34dcb706bc93743c6c88f90faa9b7db274f0e3e7b9a724fb7cf99fa9effc2cf513a486e6c8ba0eeb1dffd9aec8ed2a8541a3d696c5c345985cd8cb89cfde5a82b1d7318420c4b79dbbca2e8c4cdbbdf0b43023e12736b2faa92f288f383cd9b4c86406e7603397998c281bf91f2e8ad2810701d41015f48cd05c1ede0d4ade84a01f209b3058b38ab01f78b8680cfd6aa16761367074e76bb52b287f787d9b35d36010711720826ac436026f197bdd12d45136014527d21ac94f491c585ccf153342a606b55335082c48bb19bf4e2a7050a7a174b0b4276d2bbabe7eadab2c1304a0e530cce0026b6cbf9b1d88ac1f4503929656858305581c99f808d4d81a4271d6a200a49b24173cd4bf0eb49b7cc474f0e1e5a0e365ba7cf8ebefb1af2ce344e1a7b1d7e414fd1bac8eeec0b206d305c7c196d0d5328d49abde9ecdcb4d80a4c0339137c6a28ab9df398c28ccbfe5a33236f45423a5f8bc382be92f3ebae2913710970024e1bcc06c0eef683b9fa1941003c1071692da890f09dc181dfc94a84466c67552a68ca81728933850bb72a86760407074e569bc6f693e787cef738d3310674065a33ddb6818791f288a52dc0e1a570143c51adc593e094d2fda023157b104a044371d3b4aae0ebd5b3d7034b0a361a7b6327858afa97cb8bc2f7513a2866695b3141b0ca8ed38c4e80a53748783259095744d0becdf05cb8b0c3564828251f6f523113f9ff94ca4da6ab315e7e1b6a2b225a53cb2abe5afab72f400a686b1d7e442aa59a99fe581bb4a9335c7c196918f04d8158b8289ceaf5a82b19c6cda60d3b4faacc839993fceecacf07160e12642b2faab6f63bc747cfafdd67d51b90862d2aac27352b9082c9dc5826716d7760385aedd434dc90e6b");
                                let ot = H[n("2d6fda85c35b60815943d49cd6587a8051")](n("3ee173b4302561276bbb61aa3e"))
                                  , me = H[n("c8e87f7ebe645dfabcc47157bb5757cbb4")](n("b10c40814750d29a94495499535acd89ec5e2a873113f5c8a0572c"));
                                for (var j of U = U.sort( (fe, Me) => fe[n("aad41ed9cb4d")] - Me[n("1d61edb4c460")])) {
                                    U = H[n("0bdf7f9beeb4f4477fa17863f9bc")]("div");
                                    var Y, N = H[n("306200e655f11342546c17ee52f9")]("div");
                                    U.classList.add(n("7e7c2563f4f636b8ef632d74")),
                                    N.dataset[n("34f20574")] = j[n("7515925a8f0f0973081c93")],
                                    N.dataset[n("c300acc22b1d")] = j[n("54d1ff53344c")],
                                    N.textContent = j[n("75129e5c950f")],
                                    U.appendChild(N),
                                    j[n("306801dc52f01a6b")] && ((N = H[n("1565e5adf87e7e89716bf2b5cf66")]("div")).classList.add(n("1a58b95f68ca929c44468859")),
                                    U.appendChild(N)),
                                    j[n("e0d84f54")] && (N = H[n("b5c5450d58dede29d1cb52152fc6")]("a"),
                                    (Y = H[n("386a08ee5df91b4a2c74eff62ae1")]("img")).src = C.k + n("398f892ad0cb5b192097f132") + j[n("423a6932")],
                                    j[n("b95f4980")] && (N.href = j[n("f0b4402f")],
                                    N.target = n("ab03cff24e0e5a")),
                                    N.appendChild(Y),
                                    U.appendChild(N)),
                                    H[n("bb1dc8cb4d0912d7af11a6c2280a")]('.server-list[data-country="' + j[n("7664577c14ff4ef4")] + '"]').appendChild(U)
                                }
                                H[n("e44453d29ac0795e80584dcb9fb3")](n("d08f6146a65373d5f5ca755eb2596cd6cddd4b4090"))[n("41d3a71080c022163df6a20fb9db21e523")](n("0595ebd1ea91"), fe => {
                                    if (fe = (fe = fe.target) && fe.dataset[n("11e1fc31fbf26531")]) {
                                        for (var Me of me)
                                            Me.dataset[n("41d1ac01abc23501")] !== fe ? Me.classList.remove("active") : Me.classList.add("active");
                                        for (var Kt of ot)
                                            Kt.dataset[n("7b4f121b9144730b")] !== fe ? Kt.classList.remove("active") : Kt.classList.add("active")
                                    }
                                }
                                ),
                                H[n("36b68dac4832af2852aa63a52d21")](".server-list-container")[n("f1031740301092468d26125f090b915573")](n("5367392fb463"), fe => {
                                    var Me = fe.target;
                                    Me && (fe = Me.dataset[n("13b36675")]) && (Me = Me.dataset[n("5a1f7519328a")],
                                    ji) && ji(fe, Me)
                                }
                                )
                            }
                            R[n("10912006790c238a")] && (H[n("3d5fca95b34b10912953a48ca648")](n("19afa97feafa6d7d44ead33dd7f30a3c48eece")).style.display = n("ab3ec1f14c0b"))
                        } else
                            H[n("a4849312da00b99ec0988d0bdff3")](n("2a1588585ddc82a842379d2a58ea8cac423f")).innerHTML = n("992f288f7967e9f5932240b84465d4fd9a5e0eee1f6ac694dd471e935a54dac5cd5f49875457dad5f30066c70013f7bcec0a0ad97f0eea32e16761347074e72dea0932613a6bed20922000315612c22adb321f681d2dca13b04741625054b149891a49020a018d5d6006e640f0046c51701fa55fe2132a7257f2e626f9ef746d2bccf221faab2d1675c08d24cbf1026a1bbf996cdaf74b14598780209094055a098f895e989c0f112ddba41ae8df331d249ff838e88c7de334aca7e1a7e365ba7cf8ebedb1ba7aa325f7d1a6c0e455bd5a9fceaca9fb5fe154d0c381c7d6529a49cfc99caaa12dfdaca626f736d3befbdbb12eff39dbcdf0c84736f45123a789bc382be92f3ebae2913711e40025e4b1c47d0eee1d6ddd83941177c10714df9ccd5a48c90e6f9ac2871771b22446b7cae74d248e205fbb65a537216f3c3fb226ba2536296f08af65833e0a774064a171843d4e2e2b0abd0e810c14014754d21ac91d12480906da034557b106b746220a3b5fb90cec1266277faffa30f0eb327b5dafa97efeeb712444e0866697b3156848f6df799eda0a52038781569095724d09ee9e5cfc8b0c3364808510acc0624b0c9ffb38e88e0ea56281b7eda3e365b83aa6baffaeeb6cd444e0d1e780a411fd1bf787f59eaa42c31e8c87c59c8812da5cd8c989cfde0cc4f89e669136b2a28abb9e62cf7d92eeb9b43152e12736f1a4fc723eff5f2bade2842166f1155282e8e83f19ec082c9fc5831216d6050384abdb5f4f9852409ac2f15b27d17672e2cafb5b20882448ae73a82d3d216774f23ae9392f75312bfa23a57751260837957f80344e2f2c7bdd109017074b5055b50dcb585e1f380f9c446804e240ec19691d3a39ae0ecb1c7a3465edfd61a6c3327a29afa97cb8be5b7511d3866695b315680ca89b799fae0a5372c0c610c1c9594d0b9ad208989d7b557380b306a0db2e0d24dba008a4c82ef328adbda1e7f472ba69b9aff5b1ab7aa325f7d1a688b715ff00b4ceafacfb5d90109787cbd0d5358d4bd8de9fb88f1cc4e88462c060d3b588f9886ed1648be2e5a24136f65364e2bced6575e92e4bbae0e53713950025e4fd9b5c4fb55b3b9ca5"),
                            H[n("4cecfb7a2258c1c638c0f553375b")](n("a054d0c0c59e921ede189982c393"))[n("e777873907750e35")] = () => {
                                _a[n("702ec2a61a")](Yo("https://wormateturkiye.com/?a=" + C.Ec), n("0be36f92eeaefa"))[n("5ccbf14c1542")]()
                            }
                            ,
                            H[n("4eae6584201a47003a827b9d3519")](n("4034b0a034e7e37a216ce7fa27e9e7693152ebcc3a"))[n("ea94c29e8216d3ea")] = () => {
                                _a[n("370749cfd5")](Yo("https://gumroad.com/checkout?product=chyfv&quantity=1&WormateTurkiye%20ID=" + C.Ec), n("36989aa55b2597"))[n("b621172acfb8")]()
                            }
                            ;
                        R[n("53612d36be7abc")] && (H[n("f90d1e5838029a5d641cf776fc3f63")](n("39ddcf1e90cb470028c0a659a1d7331d"))[n("4ce9eb672462fdcd20c0f853")] = R[n("7024cab31db7d3")]),
                        R[n("1080")] && (C.Oh = R[n("72e2")].map(ot => ot.toLowerCase()));
                        var W = R[n("d120326a3b23a57b")];
                        if (W) {
                            let ot = '<div class="mm-merchant-cont-wrapper">';
                            for (var z of W)
                                ot += '<a href="' + z[n("64d9cf5903")] + '" target="_blank"><img src="' + z[n("fee6adf06576")] + '"></a>';
                            ot += n("cd9b7cc374f095e0bcb072bb1c"),
                            H[n("08a83f3e7e241dba7c8431177b17")](n("4a75613063b27593310b750b22ca7b86341f")).innerHTML = ot
                        }
                        if (G = R[n("e44744d686d74f499f")],
                        v = !0,
                        G) {
                            var ue, oe = H[n("9ded6d3540e6c611c9f34a3d47ee")]("div");
                            oe.classList.add(n("29e8ce37c1ff424d42ceda00d0d4"));
                            for (ue of G) {
                                var Re = H[n("74a6c422193ddf8e10a8d32aee25")]("a")
                                  , Lt = H[n("386a08ee5df91b4a2c74eff62ae1")]("img");
                                v && (Re.classList.add(n("f6e6dbfd937dd9")),
                                v = !1),
                                Lt.src = ue[n("a5ff4a394eff")],
                                Re.href = ue[n("c956229226")],
                                Re.appendChild(Lt),
                                oe.appendChild(Re)
                            }
                            H[n("7030c7a606bce522142cd9bf13bf")](n("382719e450f813616d63ebf42ce1")).innerHTML = oe.outerHTML
                        }
                    } catch {}
                    g?.()
                }
            })
        }
        ,
        le.prototype.di = function() {
            try {
                this.Hl()
            } catch {}
            this.Ml()
        }
        ,
        le.prototype.Pl = function() {
            this.v && this.tp(function() {}, function() {})
        }
        ,
        le.prototype.nl = function() {
            E.h.K(E.h.qb)
        }
        ,
        le.prototype.Up = function(c, l, g) {
            if (C.Ec = g[n("f59304cd0ba39f")],
            !H[n("8cbaab2bd50db78ef18ba225e120be")](n("86603c6ba7e829e9fa763e46e18e26c0f8433d5bffd9"))) {
                H[n("f1051650300a92459c040f6e04279b")](n("5b6a3420be7ccc210b751733ca7e8b")).outerHTML = '<div id="final-playagain">Play Again</div>',
                H[n("adf94a1474ced609d0c8432a40e3df")](n("b2a51dabd72b5539d6aa05acd92ee93f"))[n("a33bcbf54b314af1")] = () => {
                    ke.kd()
                }
                ,
                H[n("76764d6c08f26fe8126a2365ede1")](n("72a606b61b6a15681efd55ee1b22237eece7")).innerHTML = n("b34186e55e0649dfcf498f9e4b0931d7e6478193754a2bcfbf08a2d06ab263e7e1b4a3a73bfd3cefe8c8f8fc6dd6349eafb1d7e634db3b9faed2c8ec5d8543d29ac0d0d5338d4bd89dd991820cd3f39766da20c4b59dbabf2e8c4cdbbc83f86c63b16123a5f8ed736ba9383ddbf5932041a15162c8b68c2819f91f2ed981dd5756c1066292da8b785e9c514fc6d5f30066c6755fa3ddfa7e6ece7f49bb72a12e327d3421b661b76f693e787d9a35d113462726328e6ecc685b7f013f9c53d45137014754804d9b4719430516da023357b071a046461d3b4aae0ebd5b3d7034b0a361a6c5766d2bbaf33ef8e83a6365b79166cde253285abf981d88ac694503e4c00dc1c3191f56d8d60dc9cb4b0533d9aa0da0982417249ff93ae88c7da563f2b0e8b4b524ad6a8efebeefb93af24ca18ae080f355aa4ce9aedda68a26f630b1aaebbbc345985cd8bd89cfde2cfbc8bc268746d3b5fee8df38f928cecee5a33236f62523a5f8bc382be92e4dfda5d5664cba002497bbc57b58af082debc58310408c5a54c38bcc5e48c90f1c9ac384612b9b3742a48dbd496ecf0e1bfd46b33727703a28f23b9c6f6b4d787d9c35d314077d1373d45d"),
                H[n("dc5c6bca92c87156885045c387cb")](n("cafebeeea82afc0da180e680b309"))[n("df7f8f310f7d063d")] = () => {
                    H[n("3382404adb9bda585e89536bd395ac572d80")] ? H[n("de0ad81896b5d1998a04cb0b8f9ec2")]() : H[n("0918e458f4")][n("7e7d2560f7f637e1c0622475f9f83ef8eb71")]()
                }
                ,
                H[n("8e6e2544e0da07c0fa423b5df5d9")](n("d642aa5aad9fee9db20ed9108592cd9b"))[n("ab33c3fd430952c9")] = () => {
                    ke.kd()
                }
                ,
                H[n("adf94a1474ced609d0c8432a40e3df")](n("f26ed92894e8ccfd9566916f8bfbb4fe6c60")).insertAdjacentHTML(n("7cafdb29ef23a7b6eab1"), n("cd9b7cc333b7a7f0baa872ba69a9b7edaebd7aa325f581e19ca615fd04b39ef1cafb5ce533978a81c7d607da1c8792d990cb4cf3a4c045d67082f3d7e7df38f9")),
                H[n("bf97a4460698205ba296bd7832b529")](n("5a0671403c8054850d1e091713835c960408")).insertAdjacentHTML(n("c5d4221e26c8ae19a3da"), n("0c787d9c748824462655358b799a294e2f29799854834f004101129e469e195c094e2bac557506ea5ae205220b4a5fb97ae917796522c7")),
                H[n("1c0a3b9b659d071e411b12b551b00e")](n("64c6d2450d4dc9d341dfc147")).insertAdjacentHTML(n("89986eda628ceaa5ff66"), n("9ff5925147bd533395e8c07e0eef693b9dd2c65641c94643c39cd0445c9f181c8dd5f30220982445b4ddfa7e6ece7f49bb72fc313670212fb96faa672d653839fa22d121176600228470c42c02791a7bdd12d45136014527d21ac94f491c585ccf153342a607c6126e4e2c48bb5fe11f7c3334b1d761a7b4643c6befef2ff5a37c3f4fe6c23dcbf3557d1ba88e6fe8bb1f21149083418796125a098f895c989c0f557382e646f59375486c898818a4c86ab261a1bfe5a6b572bb1defe9beaaba2dbd12b797e08cb800eb44ac82f99af307c51086d696c7c344ed5cdaba89cfde5a82b1d7318420c4b79dbbca2e8e3ddbbdf0b43023e12736b2faa92f29fc383caff5925141a15162c8b68c281bbf417fdc93941177c10714c09ccb074889495ad69ea6416e992058b2d5ab5b2897680cfd25e20776371663e54ebb3f2f783220fa23a47753554064d73ddb6a4e2e5d7bdd10d45043014756d21ac94f491c585ccf153342a606b55335082c49c84ffd1f616523b2f028f4f5646d2acebe7eaff96b220ce1c620d1ff493f5ab7c639c3eb020c50c0d6089094054d0aefec03cfc31a4271e6b606aedf3e1d6c88fb2fa8ca3be93fa5a0a1e68572ba1fb9abedb3eb6cd544e2a2b1d7e642aa59ffd9acc8ec5f8543d2d696c5c345985cd8cb89cead5a82c7966ac220c5c29db9bb2e8e3ddbbdf0b43023e12736b2faa92f29fc383caff5932206e76672ceae8c281bbf417fdc93941177c10714c09ccb074889495ad69ea6416e822c53b0d5a5533888680cfd25e20776341463e538fc786b296f7efa22d17751244064d73ddb6a4e2e5d7bdd10d45043014756d21ac94f486f190789153342e058e405741d3a3eae0ebf1c6e3374afe021e1f27e267ef9b63af4eb687513a2d420d7bb45395aff862fc8ea5b095fc5c049c3cf521f1c9889498eeb1a400097f144e084775d7b8aee4efd9b7db074f0e3a1e7f672ba69efe9bcf8fc6fb553e2c6a6d5f355a84ce8dbb9dfee4a9241c7c0e7918f018d4bda98c09c9d0c95b2b626863781f3caa4896ec87997e1a7e22f7fad7b63b2faab2f2889383edef5932206e6153395e88c281bf91f2e8ad2810701d4101487cd8b1a1ede0d0b8dc0e40073d17706e2caf91f79cc680cff25e37276366563e538fc786b296e0dac60803c4626553f833dda1e4e2e5f299b52dc111650010f994f8a471248585ccd153342e058e405741d3a3eae0ebf097b323cf1f630e1ef792f6aa7f72dffeb737513a08667e0b3141b0ca8ed2fddff414502e79654f48305581c988b498f9e1a427197f144e084775d7b8aee4efd9b7db074f0e3a1e7f672ba69efe9bcf8fc6fb553e2c6a6d5f355a84ce8dbb9dfee4a9241c7c0e7979303dc1684de9ecd871b95b2b626863795e8c8f0936f993fccaaf2a1617fa56675b2fbdd2f29fe6a7aedfdd27757a04c78c0ab84785ea85971c1c5831016d77065d898c00f08af181cf992b446379b2b13f4bdec0a0ad97f0eea32e16761347074e72deb7a7e3e6d6bed20c46053315766c22ad97f592c486cdf05c35256164543c518dc584b094e2dda024716ea42a045421d393bae0ebd5b3d7034b0a361a7b6327a29afa97cb8bc2f7513a2866695b315680ca89b799fae0a52018781549094074d0b9a9e5ffeca56066480f317a9d7340b6c898f59ff8c38f423efa0e1a1b23ee63eb9f6e0b4a03ab553e0c6a7a0f357d94ce8dbb9dfee4a9241c7c194d0d4478d4bdade9ecdcb4d80a4c0339137c6a28ab9df398c28ccbfe5a33236f62523a5f8bc382be92f3ebae2913711e40025e4abd97b45f91f2ecc8cd05140c1066292da8b5d4f9e105dda84b55b2d93361bab99ab5f27d97f0cea33940032673e21a567ac243f296e0dfa22a72113750b73d45dcc6a2a395f6eca12c14741145054c70dcb5a5e1e4d4bcd002440b311b746220a395fb90ca84c3f6523b2b676a5a325783cb8ab69afbe3a6211b7916480a4177d1ad9d839c1fb4c141490830dd183042c1c98891bc9dc121131dea21ae084755d7affee4c8c9b7db074f0e3a1e7f672ba69efe9bcf8fc6fb553e2c6a6d5f355a84ce8dbb9dfee4a9241c7c194d0d4478d4bdade9ecdcb4d80a4c0339137c6a28ab9df38ff28ccc9b3f46e76a76123a48dbc3a5ae92f3ebae2913711e4002497fd9b2a0eee1d3b9dd0941003c1071692da890f09dc181c8fd5f30266c67513f5c8ec087bd97e7dea3297263a727075922de90b7e3e6d6bed20c46053315766c22ad97f592c486cdf05c35256164543c518dc584b094f5eda023157b104a044371d3b4aae0fce1a663634b0a327f9e7643b3cb9df69afbc682453bfd031d1e24e364ee98630c4f04a4503909657f08307291c988b498f9e1a427197f144e084775d7b8aee4efd9b7db074f0e3a1e7f672ba69efe9bcf8fc6fb553e2c6a6d5f355a84ce8dbb9dfee4a9241c7c194d0d534db098b9589cfde1cdce081709136b2a28abb8d7fce208deab4e56b7da3662bfba9fb6f77e92f3cbae3e45a46b54165cfb7dd3f19ec5e71da8ed50700a71014f19bc94b55c90e6b9ac0801771c46004f7ddfb0a6ece7d1bfd30f47063216776f23ae96f693c787cef35d36246265573d528cc685b395f6eca12c14741145054c70dcb5a5e1e4d4bcc737217ef51e602220a3913ef19be3a2a7223f5e736b8ee643b76fff528b8bc2d7512d78664e4b315680ca89b799fae0a52018781549094074d0b9a9e5e8d8b0d406480f351f786624a799ff94ce88c7fa563f2f6b6e5e365b87cf8eba9effe7aa251f7d0d7c0e421eb0cb68eff99fb5ce554d2b281c7d6529a49cfc99cd8dc4f95b3c2268635d3b588acc83b993fceaaf2a12721f43034a7edab3a3efe2d2bade0842013f1165582eaef7e42aa082deac5816316d6050385d89c180bc90f1e9ac2f11771c46004f7ddfb0a6ece7d1bfd30f47063216776f23ae96f693c787cef35d362462726328e6ecc685b7f013f9c53d45137014754805c8b470849091a965e6601ae58ec18621d3b48ae0fc85b3f0134b0a361a7b6327a29afa97cb8bc2f7513a2866695b315680ca89b799fae0a52018781549094074d0b9a9e5e8d8b0d406480f351f786624a799ff94ce88d0cf321a3bda1e7f634e438b9a8a9ee8a7aa253a597e6c8a502ec1db385fb9ef303c113879f81c7d4529b3cdbcb89cfde37d5e09670dc6a82a28ab98964c9639aaaf3d22721826676f6a6bc395ee92d4fbae2913711e4002497fd9b2a0eee1d3b9dd0941003c1071692da890f09dc181c8fd5f30266c67513f5c8ec087bd97f0eea32e16761347074e72deb7a7e3f1e3dba7c8431173157668e7ccc692f395f6c9854834f07411b0e845b961f1548585ccd153237a604c45335082c48bb19bf4e2a7221a7a174b0b4276d2bbabe7eadab2d6004a0937197a6026a19bf996c88ac1f4503929656858305581c988b498f9e1a427197f037e084010b2cd6ae1fb99b7cc574f292a1e7f672ba69efe9bcf8fc6fb553e2c6a6d5f355a84ce8dbb9dfee4a9241c7c194d0d4478d4bdade9ecdcb4d80a4c0339136b5a28acf9e62ca28cdcae5a14336f62523a5f8bc382be92f3ebae2913711e4002497fd9b2a0eee1d3b9dd0941003c1071692da890f09dc181c8fd5f30266c70652ae8eec087b9f215fbc73f47117216774a07cab672869293ab67e86214e780c38823ddb684e2f287bdf61d45043014756d21ac94f491c585ccf153342a606b55335082c48bb19bf4e2a7221a7a174b0b4276d2bbabe7eadab2d6004a0937197a6026a19bf996c88ad6c1341c3dd418796540458d9c8498eea1a4273c5b706e8c5220c3dd3a51bbe9323e133a7bfa1e7f472bb1c89aefeaea12db55291c6a6a3a517f907ffd8d9c8ee2e8543d2d696c5c345985cd8cb89cfde5a82b1d7318420c4b79dbbca2e8e3ddbbdf0b43023e12736b2faa92f29fc383caff5932206e6153395e88c281bf91e5ddc85dd47509010148781dd0f08a8181c8d87b5406e973044b497bb1f79ce680d8a25e10376366563e538fc786b296f7efa22d17751244064d73ddb6a4e2e5d7bdd10d45043014756d21ac94f491c585ccf153342a606b55335082c48bb19bf4e2a7221a7a174b0b4276d2bbabe7fdee16f2448fdcd7197a6513945efce799eda0a52039296568783042d7dcfdd0dc8c24b5572f1e64683d9370c20d5a559fefb6ab010e7e1b4f0f467ad6bfafebeedeb6da044e0d3b1d7e642aa59ffd9acc8ec5f8543d2d696c5c345985cd8cb89cfde5a82b1d7318420c4b79dbbca2e8e3ddbbc83b43055b7706af2abed2f2889383edef5932206e6153395e88c281bf91f2e8ad2810701d4101487cd8b1a1ede0d0b8dc0e40073d17706e2caf91f79cc680cff25e20176361322be7efc791e296d0ffa22d17751244064d73ddb6a4e2e5d7bdd10d45043014756d21ac94f491c585ccf153342a606b55335082c48bb19bf4e2a7352e6fa32b0b4272b75ebe83fb8bd5b7513a0d420d7bb543d5deec232caed020c58ccd6418794125b7c8f8b2d989c0f557382e646f59375486c88fb59ff8e6ab261e7e1b4f0f467ad6bfafebeedeb6da044e0d3b1d7e642aa59ffd9acc8ec5f8543d2d696c5c345985cd9b8df8d8f1195b3c260d86485f49dbabe2e8e3f89fbb2bc7176b0616ff9afea2777ad7f6bf3f5932006e76042c8a88c2968f91f58dc90d04c16d7700387a99c180bc90f1e9ac2f11771c46004f7ddfb0a6ece7d1bfd30f47063216776f23ae96f693c787cef35d36246265573d528cc685b395f6eca12c14741145055b45b9c061e4f094bcd006816a607c153350a7e0ef911e11b6e2474f0e72be5a3257a3cb9de69adcf3a6211b7916480a4177d1baa8e6e9dbb1d50149083418796125a098f895c989c0f557382e646f59375486c88fb59ff8e6ab261e7e1b4f0f467ad6bfafebeedeb6da044e0d3b1d7e642ab2ab59be884b1018543d285c59993128d4aaede9ecfdf5a82b3d730f134d3b4fbacc84dd37d8ae6afff2720813036d6edab3a3efe2d2bade0842013f1172682ea993f19ec082c9fc5831216d6050385d89c180bc90f1e9ac2f11771c46004f7ddfb0a6ece7d1bfd30f47063216776f23ae96f693c787cef35d2110c64113f8876cc685b6a0c329a45d45137014754c50dcb585e1f385cda034257b172ea0673516614ae0fc85b3f0134b0a361a7b6327a29afa97cb8bc2f7513a2866695b315680ca89b799fae0a52018781549094074d0b9a9e5e8d8b0d406480f351f786624a799ff94ce88c7fa563f2f6b6e5e365b87cf998e3adba36ff0ff7d1a493b70bed0cffd8d8c8ec5d9354d0c181c6a3448d4aa9de9ebb810fc4e89d6d9136b3a288c8df398c28ccbfe5a33236f62523a5f8bc382be92f3ebae2913711e4002497fd9b2a0eee1d3b9dd0941003c1071692da890f09dc181c8fd5f30266c67513f5c8ec087bd97f0eea32e16760473a36a361b6247e3e6d38be7c943746272173d52add7f592e486daa14d4513001472098588d031442585dba153133a606b55335082c48bb19bf4e2a7221a7a174b0b4276d2bbabe7eadab2d6004a0937197a6026a19bf996c88ac1f4503929656858305581c988b498f9e1a427197f144e084775d7b8aee4f8ed13ff438adbda1e7f621e935bfbea9ee8a7aa253e7c6a6d7f354dd5cffd8dfc8ec29cf01969acb9bc344ed5cdaba89cfde5a82b1d7318420c4b79dbbca2e8e3ddbbdf0b43023e12736b2faa92f29fc383caff5932206e6153395e88c281bf91f2e8ad2810701d4101487cd8b1a1ede0d0b8dc0e40073d17675a888bd532492680cff76b02e26617075932deb786d296f7cfa23a46446272673d55e862a1f750230ca13b44743655054c70dcb5a5e1e4d4bcd002440b311b746220a395fb90ca84c3f6523b2b676a5a325783cb8ab69afbe3a6211b7916480a4177d1baa8e6e9dbb1d50149083418796125a098f895c989d7c1f31c6aa1bab9375483fdba709a89b7cc474f0e1b3f0f465ad6a8feca9ee8d7aa227bd93e08cb909bd5a9fceacacfb5d9054d0c381c7d6529a49cfc99cd8dc4f95b3c2268635d3b588acc83b993fceaaf2a12721f43034a7edab3a3efe2d2bade0842013f1172682ea993f19ec082c9fc5831216d6050384abd65a4f8552409ac2f14422983053e2cb8d1f79ce751bfd32f471163c7075942deb0c347c2927b07ec46126315517c22ad97f592c486cdf05c35256164543c518dc584b094f5eda023157b104a044371d3b4aae0ebd5b3d7034b0a361a7b6327a29afa97cb8bc2f7513a2866695b315680ca89b799fae0a5372cdc310dcc9594d0b9acd0dd1db5a5572f6e646f78f624a7b9ff839f49b7cc374f095eba5b23ee737efe8c9f8fe1eb553e2c6a6d5f355a84ce8dbb9dfee4a9241c7c194d0d4478d4bdade9ecdcb4d80a4c0339137c6a28ab9df398c28ccbfe5a33236f62523a5f8bc382be92f3ebae2913711e4002497fd9a5944ac5977c08e94100392544ac28d9c197fc90f1c8ec0e40071d17673f6c8ec0908d97f78a070a52b3c6a7075922de90b7e3e6d6bed20c46053315766c22ad97f592c486cdf05c35256164543c518dc584b094f5eda023157b104a044371d3b4aae0ebd5b3d7034b0a361a7b6327b5aafa90aeeeb733542e68667e0b317190ca89b799fae0a52018781549094074d0b9a9e5e8d8b0d406480f351f786624a799ff94ce88c7fa563f2f6b6e5e365b87cf998a9ef883bf917f7d0d1c0e626bd5beaceaeddfb5d9054d0c381c7d6529a49cfc99cd8dc4f95b3c2268635d3b588acc83b993fceaaf2a12721f43034a7edaa497fa56b2bade0c27e42a75633949c8c2819ab596c8293d456478d5b41c4c5d5435589181c8dd5f27766c40413f5c8ec087bd97f0eea32e16761347074e72deb7a7e3e6d6bed20c46053315766c22ad97f592c486cdf05c35256164543c518dc584b094f5eda023157b077f60666562c48bb5fe11f7c3334b1d761a7b4603c6ba7e829e9fa763e46e18e38c4f442340ca899799edb7c0b58cc9657f683052e4adada02989d7a5571f3e646f59375486c88fb59ff8e6ab261e7e1b4f0f467ad6bfafebeedeb6da044e0d3b1d7e642aa59ffd9acc8ec5f8543d2d696c5c345985cd8cb89cfde5a83c29b6dc47082a28ab98e72cc68dbbc84b43021a27c6af2edab383efe2d6ffcb3c46257f1165282ea9b3441af42708ad2830701d45c4292dbfd0f09de4e45d69e875b2f916004f5ddfa7f6ecc0c1bfd30f47063216776f23ae96f693c787cef35d36246265573d528cc685b395f6eca12c14741145054c70dcb5a5e1e4d4bcc732440c550ec00220b4c5fbb7da84c3f6523b2b676a5a325783cb8ab69afbe3a6211b7916480a4177d1baa8e6e9dbb1d50149083418796125a098f895c989d7c1428c4e646f5d52b193ac9ee4f899b7db226b6a1a9a6a323fc30a4bcfff0a236fe04f7d1a6c0e522bd599bceaeddfb5d9054d0c381c7d6529a49cfc99cd8dc4f95b3c2268635d3b588acc83b993fceaaf2a12721f43034a7edab3a3efe2d2bade0842013f1172682ebea695bbd433b9dd0d24e5297460384ac9c18099b495c9283a446379d2b51b4d5a55b2999211bfd32f47116533027a52dea097e3e1b3daf718f7750514066a63ddb6a4e2e5d7bdd10d45043014756d21ac94f491c585ccf153342a606b55335082c48bb19bf4e2a7221a7a174b0b4276d2bbabe7eadab2d6004a0937196d54e3659efdf799fae5b1941c79657f183055a5fc3d709989c0d557382a217a6d3370c6c898f59ff8c61ea22adbda1e7f472ba69a3bfa9ee8a7aa253a586f597900ef40cffd9aec8ed2a8541a3d696c5c345985cd8cb89cfde5a82b1d7318420c4b79dbbca2e8e3ddbbdf0b43023e12736b2faa92f29fc383caff5932206e76633959ecd735df91e5b8ad0f00701d4101487cd8b1a1ede0d0b8dc0e40073d17706e2caf91f79cc680cff25e37276366563e538fc786b296f7efa22d1775057013f913ddb6a08700c2d9c05c22656164711835ad4191e5809079157725fef5deb13220a3b5fb879a84e4e6523b2b676a5a325783cb8ab69afbe3a6211b7916480a4177d1baa8e6e9dbb1d50149083418796125a098f895c989c0f557382e646f59375486c88fb59fefd3cf030acf6b6e5a53be92ab9febf99eb6da216a691b996b313ec00b48cefc0b20ec2148ed696c7c344ed318f9ac88e8610c4a4c033c76a83e9dcacc948993fb8fcb0f06c36f75023a789bc382be92f3ebae2913711e4002497fd9b2a0eee1d3b9dd0941003c1071692da890f09dc181c8fd5f30266c67513f5c8ec087bd97f0eea32e167613470759461b73a2e78787cef64982206315612c22adb3c0270087bdd12d4504345160592588d4f4868585ccd1e6c02b011b744220a3913ef19be3a2a7223f1fc31fbe2512175efbe7eafab2c1504a2e27197a6026a19bf996c88ac1f4503929656858305581c988b498f9e1a427197f144e084775d7b8aee4efd9b7db074f0e3a1e68572ba1faeb2faf8fd1ab55193c6a6d5f355a84ce8dbb9dfee4a9241c7c194d0d4478d4bdade9ecdcb4d80a4c0339137c6a28ab9df398c28ccbfe5a33236f75662febebc382baf716feca3842167f11724d0acdb3758b9596ac68ed6511e885c48d2cd8b181edf780b8fb1e40073d17706e2caf91f79cc680cff25e37276366563e538fc786b296f7efa22d17751244064d73ddb6a4e2e5d7bdd10d45043014756d21ac94f491c585dbc437113ed11b74664546809f819be3a2a7223f5e736b8f5723c6de3f52beea3733143f7cf7197a4026b6cab9b799fae670550c6c00cdad2125a09d9d419d3ca1a430297f132b6c626166c898e59fdff6ab261e7e1b4f0f467ad6bfafebeedeb6da044e0d3b1d7e642aa59ffd9acc8ec5f8543d2d696c5c345985cd8cb89cfde5a82b1d7318420c4b79dbbca2e8f4e97e1b0e47636f62572eeb8fc2f2888383cadb6c87e46f1172482ea997b48bf486edbc5826616d60708da988a0f09de181c8f99a51770b06004f58ba64f25980b57a365e36761367075922de90b7e3e6d6bed20c46053315766c22ad97f592c486cdf05c35256164543c518dc584b094f5eda023157b104a044371d3b4aae0fce5b3d0675ebe561a6c3327858afa97cb8bc2f7513a2866695b315680ca89b799fae0a52018781549094074d0b9a9e5e8d8b0d406480f351f786624a799ff83fa9d739a563f2b0e8b4b524ad6a8efebeefb92be24ca186e091bf09ff1af787f583bb4a9243c7c0e1d0d6368d4bdade9ecdcb4d80a4c0339137c6a28ab9df398c28ccbfe5a33236f62523a5f8bc382be92f3ebae2913711e4002497fd9b2a0eee1d3b9dd0941003c10665c498d8441ede0d4dd391b24166c70113f5cabe4e39d13e5bbb74b82c3477782ab66abc267e3e6f6bec55a333007f0224886d873e4e2f2e7bdd668212124a5055b20dc92b5e1e4d4bcd002440b311b746220a395fb90ca84c3f6523b2b676a5a325783cb8ab69afbe3a6211b7916480a4177d1baa8e6e9dbb1d50149083418796125b7ac3d51cc8da1a4271c6ba04a093743c6c88f91aa4d22aa563f0f6b6e5a734eb3cbaafa9ee8a7aa253fc89e482f355db47aa85fbc8ec2c8e068791d4d0d4458d4bda92c8d8dd3b95b3c061d3439febddacc839993ebbaaf0d02721f43034a7edab3a3efe2d2bade0842013f1172682ea993f19ec082c9fc5831216d6050385d89c180bc90f1e9ac2f11770b76004819ca04c6ecf081bff41f47063216776f23ae96f693c787cef35d36246265573d528cc685b395f6eca12c14741145054c70dcb5a5e1e4d4bcd002441c050ec00220a3919e75dfe0d2a7355a7a176e2f265656aefef38f4e078230cfeca3ac0b3156a0ca9ee799ddf0a52018781549094074d0b9a9e5e8d8b0d406480f351f786624a799ff94ce88c7fa563f2f6b6e5e365b87cf8eba9effe7aa251f7d1a4c0e457bd5beaceafaead1fc11fc7c194968a16db0acfc8e8d8dc4dc7f5802ec76082f3d1e79d7891619feda5fd2721f63035d285f87a3efe2d6df0bcce6006e76633959eda6a4ab2082deac5816316d6050385d89c180bc90f1e9ac2f11771c46004f7ddfb0a6ece7d1bfd30f47063216776f23ae96f693c787cef35d36246265573d528cc685b395f6eca13b20b1d540012d21ac9031f094e2ada023305f746a81b66486a15e753ff5b3d7234b0a332f4ea622d3cb9df69afbc3a6212f4c56495a6177d1ba88e6e9dea5610548780209094050b56c6d41e989c0d5572f7e644849375486c88fb59ff8e6ab261e7e1b4f0f467ad6bfafebeedeb6da044e0d3b1d7e642aa59ffd9acc8ec5f8543d2d696c5c344eb5cd8bdc894985a83c4d733f520c4b79dbbca2e8e3ddbbdf0b43023e12736b2faa92f29fc383caff5932206e6153395e88c281bf91f2e8ad2810701d41015f48cd05c1ede0d4dd391b24166c70113f5cabe4e39d13e5bbb74b82c3477782abe66bc6f693e787d9a35d11346265573d528cc685b395f6eca12c14741145054c70dcb5a5e1e4d4bcd002440b311b746220a395fb90ca84c3f6523b2b676a5a325783cb8ab69afbe3a6362e1d335cbb315684af6ca2fdebb1c2414908113c1d41a1b5cdecf05d3c94c5d2dd3a111a993754a6c898e28a8df22a563f2b0ebb9a925ad6a89febe9bbd2ff10ff7d0d1c0e626bd5beaceaeddfb5d9054d0c381c7d6529a49cfc99cd8dc4f95b3c2268635d3b588acc83b993fceaaf2a12721f43034a7edab3a3efe2d2bade0842013f11655ceb6d96f5ff91f2ec684941177c10714c09ccb074f895c43dc9fad5d31d17704e2caf94c2a90385bea33956761367074e438e90c1d3c6d6bed22c46053601c26823dda1e4e2e5f3d804c9e1056164743c46ddc5a3a094f5eda023157b104a044371d3b4aae0ebd5b3d7034b0a361a7b6327a29afa97cb8bc2f7513a2866695b315680ca89b799edd0a5277c6da129095724d09eb9e5e8d8b0d406480f351f786624a799ff94ce88c7fa563f2f6b6e5e365b87cf8eba9effe7aa251f7d1a4c0e457bd5beaceafaeba06d654d0c3c7998704db5cd9bf89cfdc08c4f3df70d17182eed6ee8926d06490eae5a33036f75023a789bc382be92f3ebae2913711e4002497fd9b2a0eee1d3b9dd0941003c1071692da890f09dc181c8fd5f30266c67513f5c8ec087bd97f0eea32e16761347075947ba92b35296f7ebc7c802110315612c22adb2d1f6e402d8a54850b1d43064b9b499b0f17094f5cda03443cea57ee5335086f15e548a84c3f237eeefc36b0b5546d2bcce83cfce03a6364b7931580a4177d1baa8e6e9dbb1d50149083418796125a098f895c989c0f557382e646f59375486c88fb59ff8e6ab261e7e1b4f0f467ad6bfafebeedeb6da044e1a0fd8ba612ec4ce8dbf589fb5ce454d0c1d381945ac6108990cf928210c2a4c0319137c6f1d9e58f6e993ebaaaf2a32721f77360a7f8a93a3efe2f2bade0d56b53b10025e3fd9b2848b34171ddc5831016d7700387a99c180bc90f1e9ac2f11771c46004f7ddfb0a6ece7d1bfd30f47063216776f23ae96f693c787cef35d36246265573d528cc6928395f188b49874740615056b60dcb5a5e1e4d4bcd002440b311b746220a395fb90ca84c3f6523b2b676a5a325783cb8ab69afbe3a6211b7916480a4177d1ad9cf35dbbb1d5052ced217c683042c1c98891bc9dc120324c6b71dabd1345525d3a519e88c7da56287f6b494e365b87cf8eba9effe7aa251f7d1a4c0e457bd5beaceaeddfb5d9054d0c381c7d6529a49cfc99cd8dc4f95b3c2268635d3b588acc83b993fceaaf2a12720876676f6a6bc382baf716feca3842167f11724d0acdb3758b9596ac68ed6511e885444d2849c1809c90e6bf199a25966c67550a896bd1f79cc3e57b565f47110216700a478b8247e3f186bef51c46053315766c22ad97f592c486cdf05c35256164543c518dc584b094f5eda023157b104a044371d3b4aae0ebd5b3d7034b0a361a7b6327a29afa97cb8bd5c394fe2d62080a417314dbf981888ac1d1745d09e17d0d2430157cdc841d3c75c1b32dbb911e084755d7b8abf05bddb6ab315e7e1b6a7a739ef3cefe9bef8fc6ffd08bcc6a7a1f355aa5cffd9aec8ec5fd305878381c6a2529a4bdbde9ecfcb4d80ec937b9136b2a28abbce3b993fccaaf2a17472a86063b2fbdd2f29fe2f3abae2933710910026e6fd9b2a0eee1d3b9dd0941003c1071692da890f09dc181c8fd5f30266c67513f5c8ec087bd97f0eea32e16761347074e72deb7a7e3e6d6bed20c46053315615886d9d2a1e68486cdf439d0300575055b30dcb580840140a9a422c04e258f013220a3b5fb879bf4a2a7352a7a102faf363386cfebe7fd8ab2d6004a0937197a6026a19bf996c88ac1f4503929656858305581c988b498f9e1a427197f144e084775d7b8aee4efd9b7db074f0e3a1e58772ba69efe9bcf8fc6fb553e2c6a6d5f355a84ce8dbb9dfee4a9241c7c194d0d4478d4bdade9ecdcb4d80a4c0339137c6a28bcadf39fa6997f9e5a24736f45423a5f8bc382be92f3ebae2913711e4002497fd9b2a0eee1d3b9dd0941003c1071692da890f09dc181c8fd5f30266c67513f4bbad533dd97f0eac6cb03120216602f23aeb3d2f7e703dba64953b0d73167b8b71873f4e2e5f7bdc65d45232014756d21ac94f491c585ccf153342a606b55335082c48bb19bf4e2a7221a7a174b0b4276d2bbabe7eadab2d6004a0937197a6026a19bf996c88ac1f4502e1c014d4c8125a09c9d70dcedd1a430597f146b2c235553adfbf08a4d028f37caeb2e6b0aa72ba6befe8c98faf31f40ebf8aee80f355a80dbf8dfd98b21b8543d280cf9c88048d4aa9de9ebb9d0fd1efd730f120c6c69dbbca2e8e3ddbbdf0b43023e12736b2faa92f29fc383caff5932206e6153395e88c281bf91f2e8ad2810701d4101487cd8b1a1ede0d0b8dc0e40073d17675ab99ab5f27d97f0eac6cb03120216602f23aeb392c65292db735d36046272073d759cc685b395f6eca12c14741145054c70dcb5a5e1e4d4bcd002440b311b746220a395fb90ca84c3f6523b2b676a5a325783cb8ab69afbe3a6211b7916480a4177d1baa8e6e9dbb1d501491f00ddbd6421c1c988b18c4de5a5572f6e646f7d52f1d2ad1a913b59b7db274f0e3edb1e364cc7cf8e9fba9bc72e200bc87fb88a50cf107a9ceaedffb5ce554d2b281c7d6529a49cfc99cd8dc4f95b3c2268635d3b588acc83b993fceaaf2a12721f43034a7edab3a3efe2d2bade0842013f1172682ea993f19ec082c9fc5831216d6050385d89c180bc90e6dcc80a05c66c67555ab99ba496ecf091bfd32a22e3a603034f23ae9383479332afa22d37750514065a43ddb1c186c0c30ca13b44743655054c70dcb5a5e1e4d4bcd002440b311b746220a395fb90ca84c3f6523b2b676a5a325783cb8ab69afbe3a6211b7916480a4177d1baa8e6e9dbb1d501491f04187e05b095bcfd7498eeb1a427197f144e084775d7b8aee4efd9b7db074f0e3a1e7f672ba69efe9bcf8fc6fb553e2c6a6d5f355a84ce8dbb9dfee4a9241c7c194d0d4478d4bdade9ecdcb4d80a4c2429137c6a28ab9df398c28ccbfe5a33236f62523a5f8bc382be92f3ebae2913711e4002497fd9b2a0eee1d3b9dd0941003c1066592daff4e529a181dfad5f17366c67513f5c8ec087bd97f0eea32e16761347074e72deb7a7e3e6d6bed20c46053315766c22ad97f592c486cdf05c352561736029e5edc584b4f110f8c432441c711b744704c7b57f859f90a662e76f1be28fce8726d2bb8be7fd8ab2f1104a0937197a6026a19bf996c88ac1f4503929656858305581c988b498f9e1a427197f144e084775d7b8aee4efd9b7db074f0e3a1e7f672ba69efe9bcf8fd1ce311b38db1d7e604f408a998b9de9a4a92439587d6d89512dc0d8395cb8ec313d1e3976f9137c4a28bccae6edd60dbbdf0f9677fb43034a7bbf67f75a8383ddcf5935450a4447882ebec3f1b9d082c9fc5831216d6050385d89c180bc90f1e9ac2f11771c46004f7ddfb0a6ece7d1bfd30f47063216776f23ae96f693c787cef35d36246265573d528cc6928700c3c8a4cd45043471907845bdc593f094f5c8c476806e05ca044351d3a3fae0ccc5b3d7034b0a361a7b6327a29afa97cb8bc2f7513a2866695b315680ca89b799fae0a52018781549094074d0b9a9e5e8d8b0d406480f351f786624a799ff94ce88c7fa563f2f6b6e5e364cb30a4abf9a9eb6da015ab93f1c0e523bd5be888f488bd04c21e9ad696c7c34598108ede9fb9cb4d82f68671996d93ebc8fa957ed269dbbdf2b43156e12547b2faa92f29fc383caff5932206e6153395e88c281bf91f2e8ad2810701d4101487cd8b1a1ede0d0b8dc0e40073d17706e2caf91f79cc680cff25e37276366563e538fc786b296f7efa23a22113750b73d5288a360a6f1e7bdc64d4504157190f934d8b4f491c0f018a5e6557b106a045421d3a39ae0ecb0d7f217fa7a001b0b6566d2bbabe7eadab2d6004a0937197a6026a19bf996c88ac1f4503929656858305581c988b498f9e1a427197f144e084775d7b8aee4efd9b7db074f0e3a1e68572ba1fa6baeeb8a27aa324f7d1a4c0e457bd5beaceaeddfb5d9054d0c381c7d6529a49cfc99cd8dc4f95b3c2268635d3b588acc83b993fceaaf2a12721f43034a7edab3a3efe2d2bade0842013f1155782ea993f19ec082c9fc5831216d6050385d89c180bc90f1e9ac2f11771c46004f7ddfb0a6ece7d1bfd30f47063216776f23b9a6f694a3927a935d21746242473d528cc685b395f6eca12c14741145054c70dcb5a5e1e4d4bcd002440b311b746220a395fb90ca84c3f6523b2b676a5a3240b7de3ed69afbe7c3c40e1d07196d2026a1beddf2e80ed4a1445cbdd03c68b5b0157cf9e5e8f8b0c3564828251f786624a799ff94ce88c7fa563f2f6b6e5e365b87cf8eba9effe7aa251f7d1a4c0e457bd5beaceaeddfb5d9054d0c381c7d6529a49cfc99cd8dc4f95b2b170c46498a28ab99967dd7e8daaf3d52721f66272e5e5ea6f6fb87460f8a38c7e42b6407a82ea9b3f18996377cc8bdf435e8110148798cb455d8d5347cb89e40073922c5ab39dbb1f78bf680c8973a1233d216603f238986f693c787cef35d36246265573d528cc685b395f6eca12c14741145054c70dcb5a5e1e4d4bcd002440b311b746220a395fb90ca84c3f6523b2b676a5a3240b75ebf929f1ab2d6042fec227d6b3141c0ca8992fdaf75b03598781569095724d09eb9e5e8d8b0d406480f351f786624a799ff94ce88c7fa563f2f6b6e5e365b87cf8eba9effe7aa251f7d1a4c0e457bd5beaceaeddfb5d9054d0c381c7d6529a49cfc99cd8dc4f95b3c22687469fe9c8fc8e2e8e3d8af6b0f42720803034a5abf16f78a77f61e7f5932006e6157fc3fd9a5e0eee1f69db929c52418b5347d981cd535d85515ada82e40071d17673e2c8881f79cc680cff25e37276366563e538fc786b296f7efa22d17751244064d73ddb6a4e2e5d7bdd10d45043014756d21ac94f491c585ccf153342a606b55335082c48bb19bf4e2a7221a7a007e6f676263cb8ab2ff1ef6c2304a1e77197a4543440fece2e88ac1f125ed7dd009094054d0aef9e5ffe8b0d3632c2a21ae085025d79fbee4efd9b7db074f0e3a1e7f672ba69efe9bcf8fc6fb553e2c6a6d5f355a84ce8dbb9dfee4a9241c7c194d0d4478d4bdade9ecdcb4d80a4c0339137c6a28bcadf39fa619feda5fd2720813034a7edab3a3efe2d2bade0842013f1172682ea993f19ec082c9fc5831216d6050385d89c180bc90f1e9ac2f11771c46004f7ddfb0a6ece7d1bfd30f47063216776f238986f693c787cef35d36246265573d528cc685b395f6eca12c14741145054c70dcb5a5e1e4d4bcd002440b311b746220a395fb87fa84c492478f4b677d0a327093cb8ab69afbe3a6211b7916480a4177d1baa8e6e9dbb1d50149083418796125a098f895c989c0f557382e646f59375486c898818a4c86ab261a1bfe5a6b572bb1defe9beaaba2dbd12b797e08cb800eb44b682f288fb5d9254d1b681c5a7529a49cfc99cd8dc4f95b3c2268635d3b588acc83b993fceaaf2a12721f43034a7edab3a3efe2d2bade0842013f1172682ea993f19ec082c9fc5831216d77655c789d70f09dc5e42de83b21770b06004f58fbd48668f284abb69bf2520293927b56db56f693e787d9a58843307670d39933ddb6a07751e2aca13b247416206169646dc593e094d2fda023157b104a044371d3b4aae0ebd5b3d7034b0a361a7b6327a29afa97cb8bc2f7513a2866695b315680ca89b799fae0a52018781549094074d0b9a9e5ffec25e1224dee646f5d52b193ac9ee4f899b7db222b5baf0b6ae72ba6befe8c9f8fe1eb553e2c6a6d5f355a84ce8dbb9dfee4a9241c7c194d0d4478d4bdade9ecdcb4d80a4c0339137c6a28ab9df398c28ccbfe5a33236f62523a5f8bc382be92f3ebae2913711e4002497fd9a5942b25d6bdbc58312479d454392dbfd0f09de5e46da93aa502c8c6004f5ddfb0a2298680d8b25e3702470276bbf7bb5232878787ced35d21746242473d528cc685b395f6eca12c14741145054c70dcb5a5e1e4d4bcd002440b311b746220a395fb90ca84c3f6523b2b676a5a325783cb8ab69afbe3a6211b7916480a4177d1baa8e6e9dbb1c2342d2d20a9094070b55cbc81f989d7b557380b018acd2220a6c88fb0ea2cb21e474f0e1a1e68372bb1aefe9caaebe3efe44e1a6b1d59742aa59ffd9acc8ec5f8543d2d696c5c345985cd8cb89cfde5a82b1d7318420c4b79dbbca2e8e3ddbbdf0b43023e12736b2faa92f29fc383caff5932206e76633959ec57b49b9413b9ca5941003c1071692da890f09dc181c8fd5f30266c67513f5c8ec087bd97f0eea32e16761347074e72deb7a7e3e6d6bed20c46053315766c22ad97f592c486cdf05c35256143443c518dc584b094f5eda023157b104a044371d3b4aae0ebd5b3d7034b0a361a7b6327a29afa97cb8bc2f7513a2866695b3141b0ca8ed38c4e80a53748783259094074d0b9a9e5e8d8b0d406480f351f786624a799ff94ce88c7fa563f2f6b6e5e365b87cf8eba9effe7aa251f7d1a4c0e524fc00acceaeddbd03c10291d697b1c3459a0e9e89818e8b0bc4e89c64c7289aeed6ecdf398e28cdcae5a14336f62523a5f8bc382be92f3ebae2913711e4002497fd9b2a0eee1d3b9dd0941003c1071692da890f09dc181c8fd5f30266c67513f5c8ec087bd97f0eea33923123653b63e538ba263a7f2e6bec54c46051631124ca6b8c2e1f7503399c0d9d0311411943c51adc593e7f150188153342e256ec1a6e4c601ff819be3d2a7257f1e325fba3240d3cbada69afbe3a6211b7916480a4177d1baa8e6e9dbb1d50149083418796125a098f895c989c0f557382e646f59375486c88fb59ff8e6ab261e7e1b4f0f467ad6a89b7edbfab33b553e280f884a514bd5a9eceaedfad18c905819b81c7d4529b3ccfcbedd8dc4f95b3c2268635d3b588acc83b993fceaaf2a12721f43034a7edab3a3efe2d2bade0842013f1172682ea993f19ec082c9fc5831216d6050385d89c180bc90f1e9ac2f11771c460058491a74a3e88680cff74a83236216602f23aeb2933693e25bd7f997751264064d7718d7f5858486cdd5785105e571d0980499b03174509079a432440b111b6332208485fb90ca84c3f6523b2b676a5a325783cb8ab69afbe3a6211b7916480a4177d1baa8e6e9dbb1d50149083418796125a098f895c989c0f557382e646f59375486c88fb59ff8e6ab261e7e0c7a6b636e67cf8ebefb1af2ce344e1a7b1d7e414f400be8eeec8ec5fd21e979dc0d0d4458d4aafde9fbecb4df6f28262da20c5c29db9bb2e8e3ddbbdf0b43023e12736b2faa92f29fc383caff5932206e6153395e88c281bf91f2e8ad2810701d4101487cd8b1a1ede0d0b8dc0e40073d17706e2cb8a1f79ba215fad65bd6760417074e72deb7a7e3e6d6bed20c46053315766c22ad97f592c486cdf05c35256164543c518dc584b094f5eda023157b104a044371d3b4aae0ebd5b3d7034b0a361a7b6327858afa97cb8bc2f7513a2866695b315680ca89b799fae0a52018781549094074d0b9a9e5e8d8b0d406480f351f786624a799ff83fe88c09e438b4f6b790e367c97cf8eba9effe7aa251f7d1a4c0e457bd5beaceaeddfb5d9054d0c381c7d6529a49cfc99cd8dc4f95b3c2268635d3b588acc948d86488aaf2a1617fa56675b2fbdd2f29fe6a7aedfdd27757a04c78c0ab847642b2483b9dd2941176c1056792da890f09dc181c8fd5f30266c67513f5c8ec087bd97f0eea32e16761347074e72deb7a7e3e6d6bed20c46053315766c22ad97f592c486cdf05c352561736158749974f491c1e029e437257b070a044354f7d08a64fe80a7b297fe5e069f9e7752d75afa97eb8bd5a1844f3c727cdf9537d1baad939cef15d0414908308dcd5434d0ae99e5efbdd4f112f97f031e086065d7b8aee4efd9b7db074f0e3a1e7f672ba69efe9bcf8fc6fb553e2c6a6d5f355a84ce8dbb9dfee4a9241c7c194d0d4478d4bdade9ecdcb4d80a4c0339136b5ebd9eb9f67993fceecacf07160e12642b2faab796ca5696df7f5932006e7603397998c281bf91f2e8ad2810701d4101487cd8b1a1ede0d0b8dc0e40073d17706e2caf91f79cc680cff25e37276366563e538fc786b296f7efa22d17751244064d73ddb6a4e2e5d7bdd10d451304d1b16825cdc584b58041e9a153236a606b7156f5d6a11e953f55b3d7234b0a32df1a3240c3cb8a93be9fc323852e0c637cae4433440e9df799fac0a53748783259094074d0b9a9e5e8d8b0d406480f351f786624a799ff94ce88c7fa563f2f6b6e5e365b87cf8eba9effe7aa251f7d1a4c0e457bd5beaceaeddfb5d9054d0c381c7d6529a49cfc99cd8dd3cc3f1936d9137c6e4d4e88978993ebaaaf2a3717fad7163e5edab3a69a36860fbf5932006e76033949b8c286daf5d7fc1c5826716d4740385d89c180bc90f1e9ac2f11771c46004f7ddfb0a6ece7d1bfd30f47063216776f23ae96f693c787cef35d36246265573d528cc685b395f6eca12c14740675054b14498081e40585dba153342a606b55335082c48bb19bf4e2a7221a7a174b0b4276d2bbabe7eadab2d6004a0937197a6026a19bf996c88ac1f4503929656858305581c988b498f9e1a427197f335e084775d7b8aee4efd9b7db074f0e3a1e7f672ba69efe9bcf8fc6fb553e2c6a6d5f355a84ce8dbb9dfee4a9241c7c194d0d5348d4bac9fc58bcb4cf5a4c2429137c6a28ab9df398c28ccbfe5a33236f62523a5f8bc382be92f3ebae2913711e4002497fd9b2a0eee1d3b9dd0941003c10665d381cf0f09dc5e42de83b21770b06004f58fbd48668f284abb69bf252029392fb96dfc7869296e0bfa20a07751244064d73ddb6a4e2e5d7bdd10d45043014756d21ac94f491c585ccf153342a606b55335082c48bb19bf4e2a7221a7a174b0b4276d2bbabe7eadab2c1352e2c23a80a4173b45fbd82f88ad6b450390c410c78b440d4dded202dadd121c20d0a618e084755d7aff8613afd723e574f0e3e7bcb434e43cefe8cff8fc19e311b38db1d69342a828ffd9acc8ec5f8543d2d696c5c345985cd8cb89cfde5a82b1d7318420c4b79dbbca2e8e3ddbbdf0b43023e12736b2faa92f29fc383caff5932206e61533949bc57b49b9413b9dd0d24e5297460384ac9c18099f4a47cb93a91771c6600582ddf97b6ece7d1bfd30f47063216776f23ae96f693c787cef35d36246265573d528cc685b395f6eca12c14741145054c70dcb5a5e1e4d4bcd002440b311b746220a395fb90ca84c3f6523b2b677d6ef79386cfebe7eadfa662044b7901080a4153b41ffc837cff157450390965685cf534d0aee9e5e8fd94b026cdfa117acc424142c9ff94ee88d0aa56183f6b6e5e365b87cf8eba9effe7aa251f7d1a4c0e457bd5beaceaeddfb5d9054d0c381c7d6529a49cfc99cd8dc4f95b3c2268635d3b588acc83b993fceaaf2a12721f43034a7edab3a3eff5e7defb1cf3711e4467ac6abda3f1898082c9d93dd4b5781470385d8cb454e82590b8dc2e40106d17675e2ca8f493b9d231bfc45f47212216776f23ae96f693c787cef35d36246265573d528cc685b395f6eca12c14741145054c70dcb5a5e1e4d4bcd002440b311b746220a395fb90ca84c3f6522c1b676d3ea762a7ce6be7fd8ab2d6004a0937197a6026a19bf996c88ac1f4503929656858305581c988b498f9e1a427197f144e084775d7b8aee4efd9b7db074f0e3a1e7f672ba69efe9bcf8fc6fb55193c6a6d5f355a84ce8dbb9dfee4a9241c7c194d0d4478d4bdade9ecdcb4d80a4c0339137c6a28ab9df398c28ccbfe5a33236f75623a58efd636de92e4bbae0e03711e4002497fd9b2a0eee1d3b9dd0941003c1071692da890f09dc181c8fd5f30266c67513f5c8ec087bd97f0eea32e1676047312fa12deb7a38603c3dac35d21646265721936ac4290e6819378147824f1f4d1b03d21acb4f4869585ebe153342a606b55335082c48bb19bf4e2a7221a7a174b0b4276d2bbabe7eadab2d6004a0937197a6026a19bf996c88ac1f4503929656858305581c988b498eed4c0020dce646f5d52b193ac9ee4f899b7db226b6a1a9a6a323fc30a4bcfff0a23ef204bec6a6d7f354dd3eb599f186b701c754d0c3d79e8f19db5cd9b889cfa80cc0e09c268740d3b7f9acc83b993fceaaf2a12721f43034a7edab3a3efe2d2bade0842013f1172682ea993f19ec082c9fc5831216d6050385d89c180bc90f1e9ac2f11771c460058494a8582e90680cff63bd2320777075932deb78287b343abc78c46051315613c228a87f592c486cdf05c35256164543c518dc584b094f5eda023157b104a044371d3b4aae0ebd5b3d7034b0a361a7b6327a29afa97cb8bc2f7513a2866695b315680ca89b799fae0a5201878027dcc8471d4d8f895cc9d74f1564818751f78424102cd9a01ea2c66ab263e7e1b4bca272bb1defe9beaaba2dbd16a691e78ebf09eb4ce8d9b9de9b4a9030c7c194d0d4478d4bdade9ecdcb4d80a4c0339137c6a28ab9df398c28ccbfe5a33236f62523a5f8bc382be92f3ebae2913711e4002497fd9b2a0eee1d3b9dd0941003c1071692da890f08af4e5ede9ee40073972957b48bec090fd97f0cbc6cb82636767074e77ab63f3568787ced35d21746272673d55e9a2a0a72486daa05c12356164543c518dc584b094f5eda023157b104a044371d3b4aae0ebd5b3d7034b0a361a7b6327a29afa97cb8bc2f7513a2866695b315680ca89b799fae0a5372878122d9c7550d558f8829989c0f557382e646f59375486c88fb59ff8e6ab261e7e1b4f0f467ad6bfafebeedeb6da044e0d3b1d7e642aa59ffd9acc8ec5f8543d2d696c5c345985cd8cb89cfde5a80c0d7318420c4b79dbbca2e8e3ddbbdf0b43023e12736b2faa92f29fc383caff5932206e6153395e88c281bf91f2e8ad2810700a71014f18cd05c1edf780b8fb1e40073d17706e2caf91f79cc680cff25e37276366563e538fc786b296f7efa22d17751244064d73ddb6a4e2e5d7bdd10d45130401c10d21ac909174d0e1dda034557b106f20275157a1fff48e41068333ceefa2af0a3257a3cb9de69adcf3a6211b7916480a4177d1baa8e6e9dbb1d50149083418796125a098f895c989c0f557382e646f59375486c88fb59ff8e6ab261e7e1b4f0f467ad6bfafebf9ebd2ff10ff7d1a486ba06eb1affd8d8c8ec5dd70590ded7909203c1178d8881918f1dd5edd7318620c5c2efe68866cb628ce3a4b43023b77e6ff9bbbc3958e92f48eca0c07c06e7603397998c281bf91f2e8ad2810701d4101487cd8b1a1ede0d0b8dc0e40073d17706e2caf91f79cc680cff25e37276366563e538fc786b296f7efa22d17751244065a47488380e70486cdf439d0300575055b30dcb58085b141a9c582440b111b6332208485fb90ca84c3f6523b2b676a5a325783cb8ab69afbe3a6211b7916480a4177d1baa8e6e9dbb1d50149083418796125a098f895c989c0f557382e646f59375486c88fb59ff8e6ab261e7e0c7bca827fd2defe9bca9b72ff544e1a7b1d7e404f00cb980fe82a64a9243c7c1949c82529b3dcfc99e8a9a0d9df6856cc66992f4d3e09478993fccaaf3d42723853034a7edab3a3efe2d2bade0842013f1172682ea993f19ec082c9fc5831216d6050385d89c180bc90f1e9ac2f11771c46004f7ddfb0a6ece7d1bfd30f47063216776f23ae96f693c787d9c6391330d3157668474882918395e1aca12c3111f4d1103850dcb5a094308009b153340a607c053347b2c48cd4ffd1f616522c7b674d4a325783cb8ab69afbe3a6211b7916480a4177d1baa8e6e9dbb1d50149083418796125a098f895c989c0f557382e646f59375486c88fb59ff8e6ab261e7e0c7f0f411e438a8bee0f8fd1ab553e2c6a6d5f355a84ce8dbb9dfee4a9241c7c194d0d4478d4bdade9ecdcb4d80a4c0339137c6a28ab9df398c28ccbfe5a33236f62523a5f8bc382be92f3ebae291371395002497fd9b2a0eee1d3b9dd0941003c1071692da890f09dc181c8fd5f30266c67513f5c8ec087bd97f0eea32e16761347075942deb0c3f652b6bec55c46222315766c22ad97f592c486cdf05c35256164543c518dc584b094f5eda023157b104a044371d3b4aae0ebd5b3d7034b0a361a6c573216fafa97cfee27e2352b7901080a4152f5de8862fc8ea5b095fc5c049d9cf590d1c9889498eeb1a400097f144e084775d7b8aee4efd9b7db074f0e3a1e7f672ba69efe9bcf8fc6fb553e2c6a6d5f355a84ce8dbb9dfee4a9241c7c194d0d4478d4bdade9ecdcb4cf3f28262da20c4b7dbe59b78cf28cdcbe5a33064b0672be4aded7e72a27a7db2bcc07046b8002495fd9a5f7fb5403b9dd0dc4343c10716c483d04448c90e6d9ac2874133952b13f4bdec0a0ad97f0eea32e16761347074e72deb7a7e3e6d6bed20c46053315766c22ad97f592c486cdf05c35256164543c518dc584b094f5eda023157b104a044371d3a39e75def1b636523b2f028f4f5646d2acebe7eaffd683955f1cb7197a4026b6cbf9b1d88ac1f4503929656858305581c988b498f9e1a427197f144e084775d7b8aee4efd9b7db074f0e3a1e7f672ba69efe9bcf8fc6fb553e2c6a6d5f355a84ce8dbb9dfee4a9241c7c194d0d534c1179a8ed8d8dc4fc4f882669136b2a28abb9963d96e95edafe92721f63034a7a1fd2f2888383cada7d5600ea04877d7abc27345af082c9dc5826716d4740385d89c180bc90f1e9ac2f11771c46004f7ddfb0a6ece7d1bfd30f47063216776f23ae96f693c787cef35d36246265573d528cc685b395f6eca12c14741145054c70dcb5a5e1e4d4bcc737202e25aa044375b651bf84fa84d4b6523b0e028fce2723a3cb8ab3ef2fb713404a0917196d3026b6abf991adeee4e0e1491f64185e7125a098f895c989c0f557382e646f59375486c88fb59ff8e6ab261e7e1b4f0f467ad6bfafebeedeb6da044e0d3b1d7e642aa59ffd9acc8ec5f8543d2d697b6c345ee158b99c991cb4cf5a4c0339137c6a28ab9df398c28ccbfe5a33236f62523a5f8bc382be92f3ebae2913711e4002497fd9b2a0eee1d3b9dd0941003c1071692da890f09dc181c8fd5f30266c40413f5c8ec087bd97f0eea32e16761347074e72deb7a7e3e6d6bed20c46053315766c22ad97f592c486cdf05c35256164543c46bdc583d481418da034457b375a044371d3b4aae0ebd5b3d7034b0a361a7b6327a29afa97cb8bc2f7513a2866695b315680ca89b799fae0a52018781549095740c50dc9e5e8dcd531132c1e6478193754a3eceb951bedb3bf438acb4f7f8aa3ee63cefe9bef8fd1ab55193c6a6d5f355a84ce8dbb9dfee4a9241c7c194d0d4478d4bdade9ecdcb4d80a4c0339137c6a28ab9df398c28ccbfe5a33236f62523a5f8bc382be92f3ebae3e26153b54b3395e8ca764aaf5e3b9ca49410019341549a9bdc5e4f855349ccddad5321912913f5caec090eb02249ea32e13036773a2aa27cb02535296e0dfa22a72113750b73d45dcc6a2a395f6eca12c14741145054c70dcb5a5e1e4d4bcd002440b311b746220a395fb90ca84c3f6523b2b676a5a325783cb8ab69afbe3a6211b7916480a4177d1ad9c73dcffb43450392d008d4d5444d0aee9e5e8fdd481935d1ab51f784624b0c9ffb3de88c7fa563f2f6b6e5e365b87cf8eba9effe7aa251f7d1a4c0e457bd5beaceaeddfb5d9054d0c381c7d6529a49cfc99cd8dc4f95b3c2268635d3b588acc83b993fceaaf2a12721f43035d4a1f77a6eb8383cafa4d86246f1165282ea9b7943b94e75cd8fc90701d610148781dd0f08a8181c8d87b5406e982a41b59dba1f79ce680d8a25e10376366563e538fc786b296f7efa22d17751244064d73ddb6a4e2e5d7bdd10d45043014756d21ac94f491c585ccf153342a606b55335082c48bb19bf4e2a7221a7a174b0b4276d2bbabe7fdefd6f314fb79164c6fa462b5abf981888ac1d135dcbd701c78305584bc5ce02d98b0d4264818651f6f5624a0fc9bb1da39b7cc574f292a1e7f672ba69efe9bcf8fc6fb553e2c6a6d5f355a84ce8dbb9dfee4a9241c7c194d0d4478d4bdade9ecdcb4d80a4c0339137c6a28ab9df398c28ccbfe5a24136f6536af6aafc663eff582bade0842013f1172682ea993f19ec082c9fc5831216d6050385d89c180bc90f1e9ac2f11771c46004f7ddfb0a6ece7d1bfd30f47063216776f23ae96f693c787cef35d11346265573d528cc685b395f6eca12c14741145054c70dcb5a5e1e4d4bcd002440b311b746220a395fb90ca84c3f6523b2b677d6a3250e7de3ed69aecb3a6060b7916480a4177d1baa8e6e9dbb1d50149083418796125a098f895c989c0f557382e646f59375486c88fb59ff8e6ab261e7e0c7b1af21ad6bfab8e0bcbd2cb55296c6a6d7a113ea44a98ee899b701c702cf9fcd9b83529a4bcfc8e9d8de3e95b3c2268635d3b588acc83b993fceaaf2a12721f43034a7edab3a3efe2d2bade0842013f1172682ea993f19ec082c9fc5831216d6050385d89c180bc90e6dcc80a05c66c67555ab99ba496ecf091bfd32a63621292623a37cb0243c7f7022be72843e46265773d45dbc361f6e0c7bdd10bd0d04014756854d8a0517590907905e2441c011b73074486814ae0fc85b3f0134b0a361a7b6327a29afa97cb8bc2f7513a2866695b315680ca89b799fae0a52018781549094074d0b9a9e5e8d8b0d406480f351f786624a799ff94ce88d0cec30a0b6e8f0f467eb35aba8fff8fd1bb553e090e38ca204f04ce8d9b9de9b4a9030c7c194d0d4478d4bdade9ecdcb4d80a4c0339137c6a28ab9df398c28ccbfe5a33236f62523a5f8bc382be92f3ebae2913711e4002497fd9b2a0eee1d3b9dd0941003c1071692da890f08af5440cf85b51771c4314fb79dec090fd97f0cac68b42138663a3ef23aeb6f693c342afa23a5775126122295359c361f6e0c328057830700014754d21bbc4f4b6d585ccf153342a606b55335082c48bb19bf4e2a7221a7a174b0b4276d2bbabe7eadab2d6004a0937197a6026a19bf996c88ac1f4503929656858305581c988b498f9e1a427197f144e085040b39dba559ff8e2cec30b1a0a1e68272ba6bb9b7e5b9ab2db553e291fb90b803bd5be8ceafa8fb5ce354d0b5d78587198d4aafde9cbccb4d80a4c0339137c6a28ab9df398c28ccbfe5a33236f62523a5f8bc382be92f3ebae2913711e4002497fd9b2a0eee1d3b9dd0941003c1071692da890f08af181cf99ca0502698600582ddfb0a6ece7d1bfd30f47063216776f23ae96f693c787cef35d36246265573d528cc685b395f6eca12c14741145054c70dcb5a5e1e4d4bcd002440b311b746220a395fbb7da84c3f6523b2b676a5a325783cb8ab69afbe3a6211b7916480a4177d1baa8e6e9dbb1d50149083418796125a098f895c989d7c5573f4a71db393743d6c8a8a59ff8e6ab261e7e1b4f0f467ad6bfafebeedeb6da044e0d3b1d7e642aa59ffd9acc8ec5f8543d2d696c5c345985cd8cb89cead1bd9f7d73184669ae6cbfadf38f828ccbdb7e5703eb77072e3a1f76d68e17167f1b5842011f1165382e8e83f19ec082c9fc5831216d6050385d89c180bc90f1e9ac2f11771c46004f7ddfb0a6ece7d1bfd30f47063216776f23ae96f693c787cef35d36246265573d45b9a2a0a72486cdf439d0300575055b30dcb580c580f438c557506ea5ae2052a546818ee50a84c3d6522c7c721f4eb327a29e9f428f8ab2c1304a0e527d5f7497d1adf8e6cecbb1d50149083418796125a098f895c989c0f557382e646f59375486c88fb59ff8e6ab261e7e1b4f0f467ad6bfafebeedeb6da044e0d3b1d7e642aa59ffd8df84b01fd505c7c1949c82529b3dcfc99e8a9a0d9df29777c06c98e0cba48e6edd609de0a4f42721f63034a7bce07a7ee92e4abae2936646ac513395ea8c281bb5436eda94dc4d57811015f3cd8b185599504bcd99a21771c66004f788a84e3f993f50ea33956761367073946cf36f693e787cef66803e16714065a33ddb685b395f6cca13b44743655054c70dcb5a5e1e4d4bcd002440b311b746220a395fb90ca84c3f6523b2b676a5a325783cb8ab69afbe3a6211b7916480a5647d1bdccf35dbbb1c251492f2418796125a098f895c989c0f557382e646f59375486c88fb59ff8e6ab261e7e1b4f0f467ad6bfafebeedeb6da044e0d3b1d69503f11fffd9ac8eb20ed302c7c0e0d0d445df0d98d6df989a0bd9ef957099699fe9ddacc839993ebbaaf0d02721f43034a7edab3a3efe2d2bade0842013f1172682ea993f19ec082c9fc5831216d6050385d89c180bc90f1e9ac2f11771c46004f7ddfb0a6ece7d1bfc43a232326a7074e76bb52b287f787d9b35d3601460177b947d9d2e02720a2dc24c900016485054c50dca2f21431203da02311ff658f11f7754601ff919be3d2a7257f1e325fba3240d3cbada69afbe3a6211b7916480a4177d1baa8e6e9dbb1d50149083418796125a098f895c989c0f557382e646f59375486c88fb59ff8e6ab261e7e1b4f0f467ad6a89b2e2adbb2bb553e28af0c0e523bd5be89ce89ff31cc505969aca92955ad2168596dcd8dc4d95b3c277cd7593a28bcddf398e7f9fe1a7f42721f63034a7a5f0643eff592bade2913c11e1002495fd9b2a58a8486e8ad3f50701d6050885dd9c1809c90f1ed291b91770b06004f5cdec0879d97f0eb961bd3736216602f23aeb7a753e686bed22c46126315517c22ad97f592c486cdf05c35256164543c518dc584b094f5eda023157b104a044371d3b4aae0ebd5b3d7034b0a361a7b6327a29afa97cb8bc2f7513a28667e6f9522c59efdf799fae4c0c50d1c04186e2125a0bd9d705d9cb4d5d37d3af01a093754a6c898e4ce38c7aa56281f6b693a922fc29bfafa9ee8b7aa251f7d1a4c0e457bd5beaceaeddfb5d9054d0c381c7d6529a49cfc99cd8dc4f95b3c2268635d3b588acc83b993fceaaf2a12721f43036d6edab3a3efe2d2bade0842013f1172682ea993f19ec082c9fc5831216d6050385d89c180bc90f1e9ac2f11771c46004f7ddfa796ece0b5aa676f47116216507f23ae96f693c787cef35d36246265573d528cc685b395f6eca12c14741145054c70dcb5a5e1e4d4bcd002440b311b746220b4a1ee24aa84c3f237de3e037b0b5536d2bb8ec38efa36c3555e6ca3ac2e50a3440f4ce799fac0a53748783259094074d0b9a9e5e8d8b0d406480f351f786624a799ff94ce88c7fa563f2f6b6e5e365b87cf8eba9effe7aa251f7d1a4c0e457bd5beaceaeddfb5d9054d1b0d78587198d4bda98c09c9d0c95b2b626863781f3caa4896ec87997e1a7e22f7fa57763fbedab383eff5854f0bfcc3711e4487fc9b1c46f46f91e5d8ad2f75143855b0384ad9c1a7ac90f1e9ac2f11771c46004f7ddfb0a6ece7d1bfd30f47063216776f23ae96f693c787cef35d36246265573d528cc685b395f6eca12c14741145054c70dca2912420d1b8b153342ea50a045431d3b48fc48ff537c2565f6fa2af2f53a2570e4e123f2e33a6213b79164d1ef573d0ca9ef799fac5d015fc5d6418794125a09c7d202989d7b557380f35af783624a7b9ff94cbeca2af074f197a1e7f467a66bfffebeefeb6da00cb39bb1d69242aa5bebdbb9dfec4a92419492c88083529b3dcfc99ecdc04d85a4c0319136b3a288c8df398c28ccbfe5a33236f62523a5f8bc382be92f3ebae2913711e4002497fd9b2a0eee1d3b9dd0941003c1071692da890f09dc181c8fd5f30266c67513f4bba64f3f8c384aea32e1213f652635f23b9d6f693e2e22b67484204e62043a927dcc6859395e1bdf0ec35756173643c56e961f0f5c081ada034457b104a044371d3b4aae0ebd5b3d7034b0a361a7b6327a29afa97cb8bc2f7513a2866695b315680ca89b799fae0a52018781549094074d09eb9e5e8d8b0d406480f351f786624a799ff94ce88c7fa563f2f6b6e5e365b87cf8eba9effe7aa251f7d1a4c0e457bd5beaceafaefb5de6158b8581c6a3529838cfc99cd8dc4f95b3c2268635d3b588acc83b993fceaaf2a12721f43034a7edab3a3efe2d2bade0842013f1172682ea993f189f4977d9c5831250885455c4cd8a6e1ede0f59cb82ec412680315fa99fba172795235bea32e36760417076962deb7a7e3e6d6bed20c46053315766c22ad97f592c486cdf05c35256164543c518dc584b094f5eda023157b104a044371d3b4aae0ebd5b3d7034b0a361a6c5643878e4be7eaded733152e18667e1b3156a5eeed971defb5b1458ccd41798ca560a5cc69e5e8f8b0c3507ddac10e084770b20c0ae59fefd6ab217b1a3e5bbe364cd7cfa9aa9effe7aa251f7d1a4c0e457bd5beaceaeddfb5d9054d0c381c7d6529a49cfc99cd8dc4f95b3c2268635d3b588acc83b993fceaaf2a12721f43034a7edaa4972a26d7bebf593224ab00025e3fd9b285ca85f33dc85c5565a8a52559a8ed6455f9f5454dad5f30066c67542be88ac1f78b8680cfd72b02c34617074e52deb7a3665336bec54c46051244b64d23ddb684e2e5d2d9b45814740605054c518d7584e094f5cda02311fe24ca045431d3b48b919bf4c2a7221f4f228e0e3327b5dafa97eacab2d6204a1e67195d7026a19bf996c88ac1f4503929656858305581c988b498f9e1a427197f144e084775d7b8aee4efd9b7db074f0e3a1e7f672ba69efe9bcf8fc6fb553e2c6a7a6b912ec19af9fb9dfee0ccc10918081c6a2529a4b9997c5998b0d9df7936fc160d3b58aacc94e8d28cdcce5a3447cb16176e2bcbc395ee92f3ebae2913711e4002497fd9b2a0eee1d3b9dd0941003c1071692da890f09dc181c8fd5f30266c67513f5c8ec087bd97f0eea32e16763457074e72deb7a7e3e6d6bed20c46053315766c22ad97f592c486cdf05c35256164543c518dc584b094f5eda023157b104a045441d3b3cef55fb5b3c0534b2d261a7b6327a29afa97cb8bc2f7513a2866695b315680ca89b799fae0a52018781549094074d0b9a9e5e8d8b0d406480f351f6f523113f9ff94caed22ef322e7e0c0f0f465ff2db8f6ffb8ba2bf90fb590b989bf09fd4ce8d9b9de9b4a9030c7c194d0d4478d4bdade9ecdcb4d80a4c0339137c6a28ab9df398c28ccbfe5a33236f62523a5f8bc382be92f3ebae2913711e4002497fd9b2a0eee1d3b9ca3c252528a1014878bd54b489f181dfbd5f3003480371bb49dbd4e22922a4de26cb02036687074e52dea0f12783823fa22d1210a6e0073d45bcc682d6f1d3f8105c22756143443c518dc584b094f5eda023157b104a044371d3b4aae0ebd5b3d7034b0a361a7b6327a29afa97cb8bc2f7513a2866695b315680ca89b799fae0a5201878027dcc8471d4d8f895cd4ca1a430597f146b2c235553adfbf08a4d028f37caba7e1b8b53ef23cefe9bef8fc6fe418a286b1d69242aa5ba88af28abb4a9243c7c194988f198d4aaede9ecfde5182b4d7318620c4b7cbfd9f7b993ebaaaf2a3323df62023a5fabc382ba17c76bae3e53711e6142682ea9b3f19ec5b7fc395d40700a0101485d99c1809c90e6b9ac0801771c46004f7ddfb0a6ece7d1bfd30f47063216776f23ae96f693c787cef35d36246265573d528cc685b395f6eca12c14741145054c70dcb5a5e1e4d4bcc736e07f744f002220a3919e75dfe0d2a7355a7a176e6ea7e2c7cf8b63afce26a3504a0917196d3167d1ad98e6eebf15a1441d7c74186e3125a098f895c989c0f557382e646f59375486c88fb59ff8e6ab261e7e1b4f0f467ad6bfafebeedeb6da044e0d3b1d7e642aa59ffd9acc8ee2e8543d2d696c5c345985cd8cb89cfde5a82b1d7318420c4b79dbbca2e8e3ddbbdf0b43023e12736b2faa92f29fc383caff5925106e66372ceae8c296ef91d5f8ad2810701d4101487cd8b1a1ede0d0b8dc0e40073d17706e2caf91f79cc680cff25e37276366563e538fc786b296f7efa23a2360a624064d77b853b186f486dab05c3500450074b844d8d1e12421a1dd25c681ce611b744220b4c5fbb7da84c3f6523b2b676a5a325783cb8ab69afbe3a6211b7916480a4177d1baa8e6e9dbb1d50149083418796125a098f895c989c0f557382e646f59375486c89880fbddf21a563f2b0e8b4b524ad6a8efebeefb92be24ca186e091bf09ff1af787fd8fbb038543d0d697b0a907dc108792d69c9a16dfefd730f720c4c1cbf99b65993ebbaaf0d02721f43034a7edab3a3efe2d2bade0842013f1172682ea993f19ec082c9fc5831216d6050385d89c180bc90f1e9ac2f11771c46004f7ddfb0a6ece7d1bfc43a2273f613632f23ae9233f296e0afa22d32517664825826c9d33057b1e739d459f0616561014d21acb4f491c140ada034557b106f51373157a1fe759ee0a2a7223a7a001b0b6566d2bbabe7eadab2d6004a0937197a6026a19bf996c88ac1f4503929656858305581c988b498f9e1a427197f144e084775d7b8aee4efd9b7db074f0e3a1e7f672ba69efe9bcf8fc6fb552918ce491bf08f64ce8dbea8cb21ac554d1b781c7d4478d4bd8de9fb8df5a83c2d731f26a86f3d1e6942e8f48dbbf81b43023e12736b2faa92f29fc383caff5932206e6153395e88c281bf91f2e8ad2810701d4101487cd8b1a1ede0d0b8dc0e40073d17706e2caf91f79cc680cff25e37276366563e538fc7918632d3ab67f8f77512413378b6d8c7f5858486cdd11d45041014623c50dca295e1e3b018f44681ded11b6332208485fb90ca84c3f6523b2b676a5a325783cb8ab69afbe3a6211b7916480a4177d1baa8e6e9dbb1d50149083418796125a098f895c989c0f557382e646f593743b6c888d0fa8d22ae325e7e0c1f0f467ad6bfafebeedeb6da044e0d3b1d7e642aa59ffd9acc8ec5f8541a3d696c5c345985cd8cb89cfde5a82b1d7318420c4b79dbbca2e8e3ddbbdf0b43023e12736b2faa92f29fc383caff5932206e76633959ecd735df91e5b8ad0f00701d4101487cd8b1a1ede0d0b8dc0e40073d17706e2caf91f79cc680cff25e37276366563e538fc786b296f7efa22d1775057013f913ddb6a08700c2d9c05c22656164711835ad4191e5809079157725fef5deb13220a3b5fb879a84e4e6523b2b676a5a325783cb8ab69afbe3a6211b7916480a4177d1baa8e6e9dbb1d50149083418796125a098f895c989c0f557382e646f59375486c88fb59fefd3cf030acf6b6e5af33ad6a8efebeefb92be24ca186e091bf09ff1af789e984b20b8543d0d696c5851bc90a99de9fb9cb4d82f68671997693f3cce0946ccf2092eea2f46e36f62723a48dbc3958e92f48eca0c07c06e7603397998c281bf91f2e8ad2810701d4101487cd8b1a1ede0d0b8dc0e40073d17706e2caf91f79cc680cff25e37276366563e538fc7918296f08bb79977750514066a63ddb6a4e2e5d7bdd10d45043014756d21ac94f491c585ccf153342a606b55335082c48bb19be3d2a7257e6fa32b0b5526d29cbbe7eadab2d6004a0937197a6026a19bf996c88ac1f4503929657f683052e5dc3cd498eeb1a400097f144e084775d7b8aee4efd9b7cc374f095e0bcb072bb1cefebcdf8fd1cb5539487fd93f354dd")),
                H[n("7caadb3bc53da7bee1bbb215f110ae")](n("9c9eaa1dc505819b8997890f")).insertAdjacentHTML(n("d76abc2c347e382bb174"), n("2a1edf7e4ad686e400739d2113f4bcec08798b394ce273b92d21703633a37bfc7869296f7ebc7c802110315612c22adb2d1f6e402d8a54850b1d43064b81419c1d5e1e4d1d8b426406e05ca8006e5d7e5fb90ea84d4a6521c3b676a5a325783cb8ab69afbe3a6362f6ca2280a4173b45fbd82f88ad6b450390c010c7c3430b5187d803d3da5e192fd7b151f784624b0c9ffb3de88c7fa563f2f6b6e5e365b87cf8eba9effe7aa251f7d1a4c0e524fc00acceaeddbd03c10291d697b1c3459a0e9e89818e8b0bc4e89c64c72880eeddfed763d96c9aaaf2a32720813036d6edab3a3efe2d2bade0842013f1172682ea993f19ec082c9fc5831216d6050385d89c180bc90e6ddd85b5462c9a6004f79ba55b388f680d8b25e3702470276ba46dad3e32623a3df27d843c163907378473cc6859395e1bca13b24741621713835c96045e1f384bcf712440b311b746220a395fb90ca84c3f6523b2b676a5a325783cb8ab69afbe3a6211b7916480a5642b59fbc5799fae4c0c50d1c04186e2125a0bddcf1e90dd5a0435dbad13b69b2a1d27cfe610acdc2aec74f0e1a1e68304e036b8afefa8ba2cb55291c6a6a3a517f907ffd8d9c8ee2e8543d2d696c5c345985cd8cb89cfde5a82b1d7318420c4b79dbab92e8e4b9ae6b6b43156e12547b2faa92f29fc383caff5932206e6153395e88c281bf91f2e8ad3f2465a921014878bd54b489f181dfbd5f3003480371bb49dbd4e22922a4de276b8272429392fa47cfc7869296e0bfa20a07751244064d73ddb6a4e2e5d7bdd10d45043014756d21ac94f491c585ccf153342a606b553347b6d13fd19bf4e6c2c70f1e061a6c2327a2be8fa3ff8a36c3555e6ca3ac2e50a2e40ffdc799fae5814438fd105c6c31a1b5cdecf05d3c94c5d37dba603e084755d7affee4c8c9b7db074f0e3a1e7f672ba69efe9bcf8fc6fb553e2c6a6d5f355a84ce8dbb9dfee4a9241c7c194d0d4478d4bdade9ecdcb4cf3e59b759137c6e4d4e88978993ebaaaf2a37567b63875f2bced6375ab6e23f3b9cf7706e61733949d8c2a6af91f2e8ad2810701d4101487cd8b1a1ede0d0b8dc0e40073d17706e2caf91f79cc680cff25e37276366563e538fc786b296f7efa22d17751244064d73dda19186c0c30ca12c1011f450615d21bbd4f491e0a1a8d1d7217f740ec18604b2416ea5ee8122a7223a7a001c4a3240b3cb8dd3fedef717512d78664e4b315680ca89b799fae0a52018781549094074d0b9a9e5e8d8b0d406480f351f786624a799ff94ce88c7fa563f2f6b6e5e365b87cf8eba9effe7aa251f7d0d796a606f64ce8dbff81bf1cd354d1b781c7d400dc0bc788c9899a16dee6812ed86494e2d4acc839993ebbce86da2720873034d1bbe96b75e92e4bbae0e03711e4002497fd9b2a0eee1d3b9dd0941003c1071692da890f09dc181c8fd5f30266c67513f5c8ec087bd97f0eea32e16760477074916cb03c7e3f186bef51c46053315766c22ad97f592c486cdf05c35256164543c518dc584b094f5eda023157b104a044371d3b4aae0ebd5b3d7034b1d020fcf0327a29e9f72deefd3a6365b79166d2e255755affdf28c4f048131cceda0ad083055a1c99fe498def1a427197f144e084775d7b8aee4efd9b7db074f0e3a1e7f672ba69efe9bcf8fc6fb553e2c6a6d5f355a84ce8dbb9dfee4a9241c7c194d0d4478d4bdade9fbe9d0fd1efd73184669ae6cbfadf38f828ccbdb7e5703eb77072e3a1f76d68e1716ffdb5cd3711e60025e28bca6844b0413b9dd0941075c10716f99dd45a5a88181c8fd5f37066c60613f5c8e41f78bf680c8973a1233d216603f238986f693c787cef35d36246265573d528cc685b395f6eca12c14741145054c70dcb5a5e1e4d4bcd002440b311b746220a395fb90ca84c3f6523b2b676a5a3240b6afafa22b8bc2f334df3d02780a5637d1ba8dc28dfb35c0545d6da0ad2d51a0458c8de00989c0d5572f7991baadb624b0a9ff93abece2eee74f196a1e58772ba69efe9bcf8fc6fb553e2c6a6d5f355a84ce8dbb9dfee4a9241c7c194d0d4478d4bdade9ecdcb4d80a4c0339137c6a28bcadf39fa6997f9e5a24736f45423a5f8bc382be92f3ebae2913711e4002497fd9b2a0eee1d3b9dd0941003c1071692da890f09dc181c8fd5f30266c67513f4bbad533dd97f0eac6cb03120216602f23aeb3d2f7e703dba64953b0d73167b8b71873f4e2e5f7bdc65d45232014756d21ac94f491c585ccf153342a606b55335082c48bb19bf4e2a7221a7a174b0b4276d2bbabe7eadab2d6004a0937197a6026a19bf996c88ac1f4502e1c014d4c8125a09c9d70dcedd1a430597f146b2c235553adfbf08a4d028f37caeb2e6b0aa72ba6befe8c99beb6cd344e0a5e795b709bd5a9fceacacfb5d9054d0c381c7d6529a49cfc99cd8dc4f95b3c2268635d3b588acc83b993fceaaf2a12721f43034a7edab3a3efe2d2bade0842013f1172682ea993f189f5e6ece8e941003875947c49b9c197fc90f1cc884b31f30913142ae96ae4966902c5caa6cf47061216603996da13e7e3e6d3db4798f7751244d1b8e7680371e71486cdf12d45043571e0f9901dc5938094f288c40601ca607c05337792c48bb19bf4e2a7221a7a174b0b4276d2bbabe7eadab2d6004a0937197a6026a19bf996c88ac1f4503929656858305581c99f8498fe85b193797f031e086065d7b8aee4efd9b7db074f0e3a1e7f672ba69efe9bcf8fc6fb553e2c6a6d5f355a84ce8dbb9dfee4a9241c7c194d0d4478d4aa99fc58bcb4d80e29e62c776d3b4fcacc839cb798ca2b3f47667ad7b61e4e5f56375a9383cadf5925706e4643395e88c281bf91f2e8ad2810701d4101487cd8b1a1ede0d0b8dc0e40073d17706e2caf91f79cc680cff25e37276366563e538fc786b296f7efa22d177505716268676cc685b7f013f9c53d45137014754805c8b470849091a965e6601ae58e41462542c48b919be3b486522c1b676d3f5672977afa809b8be5e7513a2866695b315680ca89b799fae0a52018781549094074d0b9a9e5e8d8b0d406480f351f786624a799ff94ce88c7fa563f2f6b6e5e365b87cf8eba9ee8d2ce000bcc6a6d5b50bf91aa9ceafa9fb5d9206968189868303dc10849cdfd0821ed2e49e268637d3b4fdc79f73c828ccbfa8f07636f6252edaa1f76376b9702bade0933711e46d77d3f18c2968f91f58dc90d04c16d7700387a99c180bc90f1e9ac2f11771c46004f7ddfb0a6ece7d1bfd30f47063216776f23ae96f693c787cef35d36246265573d528cc6928395f188b49874740615056b60dcb5a5e1e4d4bcd002440b311b746220a395fb90ca84c3f6523b2b676a5a325783cb8ab69afbe3a6211b7916480a4177d1ad9cf35dbbb1d5052ced217c683042c1c98891bc9dc120324c6b71dabd1345525d3a519e88c7da56287f6b494e365b87cf8eba9effe7aa251f7d1a4c0e457bd5beaceaeddfb5d9054d0c381c7d6529a49cfc99cd8dc4f95b3c2268635d3b588acc83b993fceaaf2a12720876676f6a6bc382baf716feca3842167f11724d0acdb3758b9596ac68ed6511e885444d2849c1809c90e6bedd5f27166c60345b799a71f78b9680e8e25e37276366563e538fc786b296f7efa22d17751244064d73ddb6a4e2e5d7bdd10d45043014756d21ac94f491c585ccf153342a606b55335082c48bb19be3d7c3070ecb676a5e57b296af9be7fd9ab2d6256e6d179d6f3532c40f4cc2f80f24e0254ce96568783042d69c6da15989c0f1126d3aa1ae085045d7bfcb80cacd06ab314e7e3c5f0f467ad6bfafebeedeb6da044e0d3b1d7e642aa59ffd9acc8ec5f8543d2d696c5c345985cd8cb89cfde5a82b1d7318420c5c49dbbbc6fd57bdbbc85b43252e12736b2faa92f29fc383caff5932206e6153395e88c281bf91f2e8ad2810701d4101487cd8b1a1ede0d0b8dc0e40073d17675a391bf1f79cc2e52ae73a26760407074e57fad38767f383aab798f351039093f897dcc6859395e1bca10b04741145054c70dcb5a5e1e4d4bcd002440b311b746220a395fb90ca84c3f6523b2b676a5a325783cb8ab69afbe3a6211b7916480a4177d1baa8e6e9dbb1c2342d2d20a9094070b55cbc81f989d7b557380b400b79b341d3dcea212aacd62ec30a0b6e8f0f465ad6a8f93a9effe77dd0eb08af8c0e457cb0689ceaeddbc1bce58c7c0e7d0d431db098b9589ceab5a80c0d7318420c4b79dbbca2e8e3ddbbdf0b43023e12736b2faa92f29fc383caff5932206e6153395e88c281bf91f2e8ad2810701d4101487cd8b1a1ede0d0b8cb3b242229a6004f79ba55b388f680d8b25e3702470276ba46dad3e32623a3df27c803006784064d53dda1f0379012eca12c11616451843c46bdc583d5f0d0f91153237a604c45335082c48bb19bf4e2a7221a7a174b0b4276d2bbabe7eadab2d6004a0937197a6026a19bf996c88ac1f45039296568583042b1c98fd08d4d81a430497f335e084775d7b8aee4efd9b7db074f0e3a1e7f672ba69efe9bcf8fc6fb553e2c6a6d5f355a84ce8dbb9dfee4a9241c7c194d0d534cc109cde9ecd8d13d1f281268741d3b58afe8e79917e9bfbb4f86c74b7386afea6fc2f29fe383ddaf5915306e6153395e88c281bf91f2e8ad2810701d4101487cd8b1a1ede0d0b8dc0e40073d17706e2caf91f79cc680cff25e37276366563e538fc786b296f7efa23a22113750b73d5288a360a6f1e7bdc64d45041530114da5b9c1e0f4513098c1d6d13e151e953350a2c49ce66a84d4c6523c4e034f4e8327b5cafab0db8bc2f7513a2866695b315680ca89b799fae0a52018781549094074d0b9a9e5e8d8b0d406480f351f786624a799ff94ce88c7fa563f2f6b6e5e365b87cf998ffadaf31b553e280f884a514bd5a9eceaedfa91bd25c9196d0818f19cf0ac797cd9f8b1395b3c0268740a4e2cbec8e2e8e3d84e0affc2720873034d1bbe96b75e92e4bbae0e03711e4002497fd9b2a0eee1d3b9dd0941003c1071692da890f09dc181c8fd5f30266c67513f5c8ec087bd97f0eea32e16760477074916cb03c7e3f186bef51c46053315766c22ad97f592c486cdf05c35256164543c518dc584b094f5eda023157b104a044371d3b4aae0ebd5b3d7034b1d020fcf0327a29e9f72deefd3a6365b79166d2e255755affdf28c4f048131cceda0ad083055a1c99fe498def1a427197f144e084775d7b8aee4efd9b7db074f0e3a1e7f672ba69efe9bcf8fc6fb553e2c6a6d5f355a84ce8dbb9dfee4a9241c7c194d0d4478d4bdade9fbe9d0fd1efd73184669ae6cbfadf38f828ccbdb7e5703eb77072e3a1f76d68e1716ffdb5cd3711e60025e29b8c2968f91f58dc90d04c16d7700387a99c180bc90f1e9ac2f11771c46004f7ddfb0a6ece7d1bfd30f47063216776f23ae96f693c787cef35d36246265573d528cc685b395f6eca12c14741145055b45b890b15094f5e9c5c6001f011b632220a3b0dff4ea00d6a3465ebfd23e6ab7b297beff769afbc3a6364dcc62cd1b315684bfbc837caec40155fc69657f683052e4adada02989d7a5571f3e646f59375486c88fb59ff8e6ab261e7e1b4f0f467ad6bfafebeedeb6da044e0d3b1d7e642aa59ffd9acc8ec5f8543d2d697b6c345ee1d838d89ceab5a80c0d7318420c4b79dbbca2e8e3ddbbdf0b43023e12736b2faa92f29fc383caff5932206e6153395e88c281bf91f2e8ad2810700a7514fc1cd8b1a58805c5dccd5f27666c67741b38ae4492e883957a167a26f3f6d3b23f23aeb6f6849787e9e35d36246265573d528cc685b395f6eca12c14741145054c70dcb5a5e1e4d4bcd002440b311b746220a395fb90ca84c3f6523b2b676a5a325783cb8ab69aecd6c2040fc866695f54b395ae98e6fe9bb1d5246d6c149c6c3431c50c4dc1f90c25e1224dee646f793743d039ff83fe88c09f321a3bda1e68372b818efe9bcf8fc6fb553e2c6a6d5f355a84ce8dbb9dfee4a9241c7c194d0d4478d4bdade9ecdcb4d80a4c0339137c6a28ab9df398c28ccbfe5a33236f62523a48bea7a7aa2383cafb3cd7350a70025e3fd9b285ca85f33dc85c5565a8a52559a84d8485e80181c8dd5f27702813159e2caf9492095231bfd30b22a326a3223f23b9a6f694a2e3ebe7ec46126315517c22ad97f592c486cdf05c35256164543c518dc584b094f5eda023157b104a044371d3b4aae0ebd5b3d7034b0a361a7b6327b5aafa90af9e7697512d78664e4b315680ca89b799fae0a52018781549094074d0b9a9e5e8d8b0d406480f351f786624a799ff94ce88c7fa563f2f6b6e5e364cb3da3ada9effe3cfc00a190b1d69242aa5bad9feec0ad0ad4058b9dc386cb1bc1178fde9ecfcb4cf5a4c2429137c6a28ab9df398c28ccbfe5a33236f62523a5f8bc382be92f3ebae2913711e4002497fd9b2a0eee1d3b9dd0941003c1071692da890f09dc181c8fd5f27130842458e2caf959279d3e4dea33956761362232a525aa2f2f783420b863cc3e0276003ac22adb7f5859237bdc63d45035570507990dca2f5e1c3c4bcd002440b311b746220a395fb90ca84c3f6523b2b676a5a325783cb8ab69afbe3a6211b7916480a4177d1baa8e6e9dbb1d50149083418796125a098f882fcede5e1e6480f317a9d7340b6c898f59ff8c38f423efa0e1a1b23ee63eb9f6e0bcac3afc44e0d1b1d69333f70ebd87f9c8ec5fce188198ca948b12db5cd9b889cfa80cc0e09c268740d3b7f9acc83b993fceaaf2a12721f43034a7edab3a3efe2d2bade0842013f1172682ea993f19ec082c9fc5831216d6050385d89c1978c90f68db99b71770b1600686ddfb0a6ece7d1bfd30f47063216776f23ae96f693c787cef35d36246265573d528cc685b395f6eca12c14741145054c70dca291f450b4bcd00621ee247f653347c2c48b94bf90c223374f6e72dfbe1646575e3f529b8bc2d7512d78664e4b315680ca89b799fae0a52018781549094074d0b9a9e5e8d8b0d406480f351f786624a799ff94ce88c7fa563f2f6b6e5e365b87cf8eba9effe7aa251f7d0d796a606f64ce8dbff81bf1cd354d1b781c7d400dc0bc788c9899a16dee6812ed86494e2d4acc839993ebbc3e5a3323ba97a64fea4bc382b80383cafb2d46657bb4b3f82ebea3f199a5e6ece8e941176c1056792da890f09dc181c8fd5f30266c67513f5c8ec087bd97f0eea32e16761347074e72deb7a7e3e6d6bed20c46053315766c22ad97f592c486cdf05c352561736158749974f491c1e029e437257b070a044354f7d08a64fe80a7b297fe5e069f9e7752d75afa97eb8bd5a1c40e8c62680a4173759ffc5799fd84c0c5ed1d64186e5125a7fd9cb0dd38b0c3564828251f786624a799ff94ce88c7fa563f2f6b6e5e365b87cf8eba9effe7aa251f7d1a4c0e457bd5beaceaeddfb5d9054d0c381c6a5529a3f8e92dad8dd3a95b1b3268635d3b588acc83b993fceaaf2a12721f43034a7edab3a3efe2d2bade0842013f1172682ea993f19ec082c9fc5831216d77642de9e9c180b8f514fcc83e40107d17704b08cbb173899394aa66eb6317e683c28b22deb787e3f186bef51c46053315766c22ad97f592c486cdf05c35256164543c518dc584b094f5eda023157b104a044371d3b4aae0ebd5b3d7034b0a361a7b6327a29afa97cb8bd5c2351f3cd7197a6443448e9d8799eda0a5203d5c71698d5521c4dc3d50bce83531123d7af51f784624b0ce9a315abca6ab261e7e1c6f0f467c536bfa8e9f8fd1cb5539490e484b842ab2cffdbddc8ec5f8543d2d696c5c345985cd8cb89cfde5a82b1d7318420c4b79dbbca2e8e3ddbbdf0b43023e12736b2faa92f29fc383caff5932206e6153395e88c2968af5d7fc1c5831250885455c4cd8a6e1ede0f59cb82ec412680315fa99fba17279d2f5ba325e370763710139e2deb7a1f7e3c29fa22d17751224064d75c9b351b395e1dca12b71103451b43c46ddc5a3a094f5eda023157b104a044371d3b4aae0ebd5b3d7034b0a361a7b6327a29afa97cb8bc2f7513a2866695b315680ca89b799edd0a5277c6da129095724d09eb9e5e8d8b0d406480f351f786624a799ff94ce88c7fa563f2f6b6e5e365b87cf8eba9effe7aa322f7d1d281bf11bd5a9fceacacfb5d9054d0c381c7d6529a49cfc99cd8dc4f95b3c2268635d3b4fbacc84dd86488aaf3d42723853034a7edab3a3efe2d2bade0842160f11750c3b1df3f1899082eeec5826116d67342de9e9c197e")),
                H[n("e7699c3f19653e3b834592161c56")](n("015cf040ea0462157f13ee4ba01d602e65")).insertAdjacentHTML(n("6053c7d50bc7c352065d"), n("2e9ac3825036803159a9ddfb0a28902c4dbc25e20674773e2fb969bd2e7c296e0b9e74857750574064a17a9c2e1f73037bdc65")),
                H[n("c1433691374f949da55f2888224c")](n("1a0eee1e69ca81c30f57814645c581c95e52835303dc9faf46")).insertAdjacentHTML(n("9000b497f197b309fc"), n("c0b43150a66072e3a7f72f29fc7e62fea3d23710900261c2b9db7b4fb80a3b9ca5f04657c1066592daff484e984941d1d5f277")),
                H[n("edaf1ac5039ba0c1998314dc1698")](n("144b258c71873b0f78"))[n("4876e4f820f4ed74")] = N => {
                    N = N.currentTarget;
                    let W = parseInt(N.dataset.id);
                    D["1ag"].includes(W) ? (D["1ag"] = D["1ag"].filter(z => z !== W),
                    N.textContent = n("9b0df9ea"),
                    N.classList.remove(n("e3e680bb08ee0c"))) : (D["1ag"].push(W),
                    N.classList.add(n("44e7e37a276fef")),
                    N.textContent = n("9f82c47f4ca240")),
                    _e()
                }
                ,
                H[n("f3d5808305d12a8f97c99e9a10c2")](n("e3ba92b306ea08be8f"))[n("a97545bf4177cc8b")] = N => {
                    N = N.currentTarget;
                    let W = parseInt(N.dataset.id)
                      , z = N.dataset.type;
                    D["1ah"][z].includes(W) ? (D["1ah"][z] = D["1ah"][z].filter(ue => ue !== W),
                    N.textContent = n("9828be8f"),
                    N.classList.remove(n("ce2df50cbd95f1"))) : (D["1ah"][z].push(W),
                    N.classList.add(n("8fb2f46f7cb270")),
                    N.textContent = n("5d1cba7d8e2406")),
                    _e()
                }
                ,
                H[n("2bad587bdd99e2475f815652d89a")](n("2f4e53d7ca14c7c35a014cc7"))[n("e777873907750e35")] = () => {
                    _a[n("3f1f31d7ad")](Yo("https://gumroad.com/checkout?product=chyfv&quantity=1&WormateTurkiye%20ID=" + C.Ec), n("ef7f930e124a1e"))[n("71849cc78095")]()
                }
                ,
                H[n("84a4b332fa2099bee0b8ad2bff13")](n("3f5e36c6b159b6d3330c20d4ac0f")).addEventListener(n("4ebc7c883108"), () => {
                    H[n("b5c1521c7cc6de01d8c04b3238fba7")](n("b46897eed6a4976ed278d3f9a9f475")).style.display = n("2c13019155"),
                    H[n("6a0a59181c8663641ee657f11975")](n("1523a5fbee7e69e16e6beba4c87c44a7")).style.display = n("ab3ec1f14c0b")
                }
                ),
                H[n("d45463c2aad0494eb0487ddb8fc3")](n("5a456f05319d5492170757")).addEventListener(n("36a494a05920"), () => {
                    H[n("b1455690704ad285dc444fae4467db")](n("ab31ccf7414d5cc7dd1198d05e0d4e")).style.display = n("9fbece7c46"),
                    H[n("f43443a28ab0692e90285dbb6fa3")](n("1206e61661d3aa846943b35f6acc95c551")).style.display = n("8cbfa230f30a")
                }
                ),
                $(n("144b21936ac4290e6819378147824f1e411b13da4a980910")).click( () => {
                    H[n("1244b15153cbbdc47f45a86f67e684")](n("28940b124250039a5e745ff55de001")).style.display = n("9dec733f42f9"),
                    $(n("1e8197c5501e975052c381d74d48c14b47da87")).css(n("e3f08ca517f408a3"), n("ff5e6e1ce6"))
                }
                ),
                H[n("4a3c69290bb3758c370d60272fae7c")](n("87dbe68a72d569")).addEventListener(n("d280f88cb50c"), () => {
                    C5[n("0595ebd1f99864dd7f9a")][n("470f3bd3bf1999db37f4")](C.Ec)
                }
                );
                var m, y, v, w, R = H[n("8d196a3454eef629f0e8630a60c3ff")](n("72f440f75b745d7d0ee252ea0d223274ecf721e7e365")), G = (R.value = D["1a"],
                R.addEventListener(n("8032aab2eab2a3"), function() {
                    D["1a"] = parseInt(this.value),
                    _e(),
                    _a.location.reload()
                }),
                (R = H[n("ab3bc8ea6a0c54cfd60ac1e44e215d")](n("0105f746a805624c7d13e55bfe53752f7eefe3"))).value = D["1i"],
                R.nextElementSibling.value = R.value,
                R.addEventListener(n("a4968e16c61e8f"), function() {
                    this.nextElementSibling.value = this.value,
                    D["1i"] = parseFloat(this.value),
                    _e()
                }),
                R.addEventListener(n("9ac232ddeb5b"), function() {
                    this.nextElementSibling.value = this.value
                }),
                (R = H[n("52047111138b7d843f05682f27a644")](n("818577c62885e2ccfd9365db7ed3e2a9ff787cab78"))).value = D["1x"],
                R.nextElementSibling.value = R.value,
                R.addEventListener(n("6e9c58601ce451"), function() {
                    this.nextElementSibling.value = this.value,
                    D["1x"] = parseFloat(this.value),
                    _e()
                }),
                R.addEventListener(n("baa212bdcb3b"), function() {
                    this.nextElementSibling.value = this.value
                }),
                (R = H[n("e5b102ec2cb68ef188b01be208ab97")](n("74b2c235553adfbf08a4d028f37ca4bcebb1b53ef23c"))).value = D["1p"],
                R.nextElementSibling.value = R.value,
                R.addEventListener(n("fc2e56ae6eb627"), function() {
                    this.nextElementSibling.value = this.value,
                    D["1p"] = parseFloat(this.value),
                    _e()
                }),
                R.addEventListener(n("124aba5563d3"), function() {
                    this.nextElementSibling.value = this.value
                }),
                (R = H[n("52047111138b7d843f05682f27a644")](n("e5a113ea44a98ee899b701c702cf9ad0908b04c1038f"))).value = D["1q"],
                R.nextElementSibling.value = R.value,
                R.addEventListener(n("73471d07994f9c"), function() {
                    this.nextElementSibling.value = this.value,
                    D["1q"] = parseFloat(this.value),
                    _e()
                }),
                R.addEventListener(n("c5df29083cce"), function() {
                    this.nextElementSibling.value = this.value
                }),
                H[n("a4928303ed158f96c9939a3dc9c896")](n("0105f746a805624c7d13e55bfe537b2570eff02bf1e3")));
                G.value = D["1y"],
                G.addEventListener(n("c953258c384a"), function() {
                    var N;
                    G.value !== "" && (G.validity.valid ? (N = parseInt(G.value),
                    isNaN(N) ? (G.value = 0,
                    D["1y"] = 0,
                    _e()) : N < 0 || 65535 < N ? G.value = D["1y"] : (D["1y"] = N,
                    _e())) : G.value = D["1y"])
                }),
                (R = H[n("97affc7e5ea07863fabed5505a9d41")](n("090dff4ea00d6a3465ebfd23e6ab79217ae1e825e7eb"))).value = D["1w"],
                R.nextElementSibling.value = R.value,
                R.addEventListener(n("471b21dba51ba8"), function() {
                    this.nextElementSibling.value = this.value,
                    D["1w"] = parseFloat(this.value),
                    _e()
                }),
                R.addEventListener(n("64dcc8471d4d"), function() {
                    this.nextElementSibling.value = this.value
                }),
                R = H[n("7b4b181aba5c641fe65af1347e716d")](n("c46272e5e5f87a77ad73"));
                for (m of Object.keys(Da)) {
                    var U = H[n("a81a989ecd898b3adce49f66da71")](n("0bd37d8ae6afff"));
                    U[n("92d535c9e342")] = m,
                    U[n("b310d0de432b56c4cf09d3da")] = m,
                    R.appendChild(U)
                }
                R.value = D["1b"],
                R.addEventListener(n("77cb118b95cb98"), function() {
                    D["1b"] = this.value,
                    _e()
                }),
                m = H[n("fbcb989a3adce49f66da71b4fef1ed")](n("76704c7b57e34ffe117a2e75"));
                for (y of Object.keys(Mt))
                    R = H[n("44f6f472296defde20f8e37a3e55")](n("e618d80d8394c2")),
                    R[n("4ff630aea6e1")] = y,
                    R[n("a80d8f83d8be8111c4e49c77")] = y,
                    m.appendChild(R),
                    Mt[y] = new Audio(C.k + Mt[y]);
                D["1u"] && ((y = H[n("d604ea0cbb9ff9a8b20acd148c87")](n("7fdff1866adb6b")))[n("3eb961bd3736")] = n("9dcd6a2355fdce"),
                y[n("59bebef4a98d30fe15b78de0")] = n("4d7dba73a52d3e"),
                m.appendChild(y),
                Mt[n("e8fa5f48985243")] = new Audio(D["1u"])),
                m.value = D["1c"],
                m.addEventListener(n("8b5fe51f612774"), function() {
                    var N = Mt[D["1c"]];
                    N && N.pause(),
                    D["1c"] = this.value,
                    (N = Mt[D["1c"]]) && N.play(),
                    _e()
                }),
                y = H[n("916576b0506af2a5fc646f8e6447fb")](n("898d7fce208aeaaef97160ab6068f3"));
                for (v of Object.keys(Vt))
                    m = H[n("8032b0b6e5a1a312e43ca7bee2a9")](n("471739cea213a3")),
                    m[n("86612975fffe")] = v,
                    m[n("7d1a9a487531ec5af113694c")] = v,
                    y.appendChild(m),
                    Vt[v] = new Audio(C.k + Vt[v]);
                D["1aj"] && ((v = H[n("9e4c1254c3c701f0ca52055cc4cf")](n("5fff11a68afb8b")))[n("9017b38fe180")] = n("ca98f9aeba30fd"),
                v[n("1bb87876eb93ce7c57b14b62")] = n("a9595eaf5971c2"),
                y.appendChild(v),
                Vt[n("ee3cc5f2866cd9")] = new Audio(D["1aj"])),
                y.value = D["1ai"],
                y.addEventListener(n("fc2e56ae6eb627"), function() {
                    var N = Vt[D["1ai"]];
                    N && N.pause(),
                    D["1ai"] = this.value,
                    (N = Vt[D["1ai"]]) && N.play(),
                    _e()
                }),
                (v = H[n("0274a16143fbadf46f75b85f77d6b4")](n("69ad9feec0b20ac1158781d09a96"))).value = D["1d"],
                v.addEventListener(n("3b8f554fd197a4"), function() {
                    D["1d"] = parseInt(this.value),
                    _e()
                }),
                v = H[n("8036a7a7c1b9a33aed37be99f594aa")](n("c2a4f0a7eb34fd2bb9b4fe"));
                for (w of Object.keys($o))
                    y = H[n("33874743d69cdc6f5789504bd184")](n("cb13bdca26ef3f")),
                    y[n("82e525f9f372")] = w,
                    y[n("9015b79be0a6b909ec0cb49f")] = w,
                    v.appendChild(y);
                v.value = D["1o"],
                D["1o"].toString() != n("6243") && (H[n("64c4d3521a40f9de00d8cd4b1f33")](n("ea99c39997"))[n("79998fd5918b")][n("2250914755d89a")] = n("7fc5f39e2b93") + $o[D["1o"]] + n("d4023f82eaea3f19ec4c6bdb8f")),
                v.addEventListener(n("4072eaf22af2e3"), function() {
                    D["1o"] = this.value,
                    this.value != n("ee4f") ? H[n("c2a2f1b0b42edb3ca6beefa9a12d")](n("f1001c400c"))[n("b8fa8e72d068")][n("8e7c2553e1cc26")] = n("3d5bcd9ce915") + $o[this.value] + n("b1051ac1076592da894b4e9852") : H[n("e0c05756964c75d284dc494f834f")](n("bf92ae563a"))[n("1092261a7800")][n("a7bbdc6858b35f")] = "",
                    _e()
                }),
                H[n("39cdde18f8c25a1d24dcb736bcff23")](n("bb1fd6c7513628dea6")).addEventListener(n("8e7c3840fcc431"), function() {
                    var N, W = this.files[0];
                    W && ((N = new FileReader).onload = z => {
                        D["1e"] = z.target.result,
                        _e(),
                        location.reload()
                    }
                    ,
                    N.readAsText(W))
                }),
                H[n("3224913173ab9da45f25880f478664")](n("69ad8efd9f9806cc14")).addEventListener(n("65358f79873d0e"), function() {
                    var N, W = this.files[0];
                    W && ((N = new FileReader).onload = z => {
                        D["1j"] = z.target.result,
                        _e(),
                        location.reload()
                    }
                    ,
                    N.readAsText(W))
                }),
                H[n("718596d0b08a12c51c848fee84a71b")](n("29f8cc1ac4f24a")).addEventListener(n("d280fc84b800fd"), function() {
                    var N, W = this.files[0];
                    W && ((N = new FileReader).onload = z => {
                        D["1t"] = z.target.result,
                        _e(),
                        location.reload()
                    }
                    ,
                    N.readAsDataURL(W))
                }),
                H[n("e610cd0daf97c9908b11c4c38b4ad0")](n("26c487cc445faa5442da")).addEventListener(n("1d6df7b1cf7546"), function() {
                    var N, W = this.files[0];
                    W && ((N = new FileReader).onload = z => {
                        D["1u"] = z.target.result,
                        _e(),
                        location.reload()
                    }
                    ,
                    N.readAsDataURL(W))
                }),
                H[n("b6201d3dffa719a0db21f413bb9ae0")](n("0d8de0b5ff6655ad7963a5")).addEventListener(n("9ded77314ff5c6"), function() {
                    var N, W = this.files[0];
                    W && ((N = new FileReader).onload = z => {
                        D["1aj"] = z.target.result,
                        _e(),
                        location.reload()
                    }
                    ,
                    N.readAsDataURL(W))
                }),
                H[n("76605d7d3fe759e01b613453fbda20")](n("ebeb99ac42cd109290cb998905")).value = n("edfb5d93") + D["1g"].toString(16).padStart(6, "0"),
                H[n("273f4ceeee30c8f34a0e45e0ca2dd1")](n("06e0bceb2776ad6d6df0bcce60")).addEventListener(n("75059f49970d1e"), function() {
                    D["1g"] = parseInt(this.value.substring(1), 16),
                    C.dg(),
                    _e()
                }),
                H[n("5046f7d711c9f34a3d47eee925e4fa")](n("4ceafa6d7d55f7c239c6f94b375b")).value = n("2d3b9dd3") + D["1ae"].toString(16).padStart(6, "0"),
                H[n("d5a132fc1ca6bee1b8a02bd2189b87")](n("fbdb899c52c4e4936ed76a9ae8ca")).addEventListener(n("3cee166e2e76e7"), function() {
                    D["1ae"] = parseInt(this.value.substring(1), 16),
                    _e()
                }),
                H[n("af87d4567688504bd286cd6842a559")](n("4541b38ae454229f265da06cbe30")).value = n("9044e0d0") + D["1v"].toString(16).padStart(6, "0"),
                H[n("b6201d3dffa719a0db21f413bb9ae0")](n("b2b400b79b29112ad1a813a1d13d")).addEventListener(n("f74b910b154b18"), function() {
                    D["1v"] = parseInt(this.value.substring(1), 16),
                    C.dg(),
                    _e()
                }),
                H[n("108637175109338a7d872e2965243a")](n("1571e3bab4787aa27961f2a3ca7b4da7")).checked = D["1h"],
                H[n("172f7cfede20f8e37a3e55d0da1dc1")](n("323480371bb599a75e24913e55a66ea2")).addEventListener(n("b78bd14b558b58"), function() {
                    D["1h"] = this.checked,
                    _e()
                }),
                H[n("386e1fff79e11b62257ff6d13ddce2")](n("ce28e413ff8bf189a614f71cb48f")).checked = D["1af"],
                H[n("7b4b181aba5c641fe65af1347e716d")](n("66805c8b471349111e8c5f741ce7")).addEventListener(n("ec5e46de9ea657"), function() {
                    D["1af"] = this.checked,
                    _e()
                }),
                H[n("7b4b181aba5c641fe65af1347e716d")](n("042232a525b42838652f2db375")).checked = D["1z"],
                et.visible = D["1z"],
                H[n("e0d64747a15943da8dd75e7995744a")](n("c46272e5e5f46878a56f6df3b5")).addEventListener(n("899963dd6399ea"), function() {
                    D["1z"] = this.checked,
                    et.visible = D["1z"],
                    _e()
                }),
                H[n("f0a65737b12953aa9da74e0985045a")](n("b47282f595fe8d64ce619afcabf86c60")).checked = D["1aa"],
                H[n("ee18d5f5b76fd16893e9cccb8342d8")](n("e92d1f6e4029984f830e17571e0f995b")).addEventListener(n("7b4f150f915764"), function() {
                    D["1aa"] = this.checked,
                    _e(),
                    _a.location.reload()
                }),
                H[n("73431012b2449c071e42092c867965")](n("b47282f595fd976acc7e95e6aee2")).checked = D["1ab"],
                H[n("584effdf19c1fb42055fd6f11dfcc2")](n("69ad9feec0aa02c1019198cd9b95")).addEventListener(n("9002ba82fa82b3"), function() {
                    D["1ab"] = this.checked,
                    _e(),
                    _a.location.reload()
                }),
                H[n("e45243c3add54f5689535afd898856")](n("6ccada4d5d31c0ac12a4d82e0c30dca210b9db3d")).checked = D["1k"],
                H[n("7e682565c7ff21f8e3793c5bf3d228")](n("dbfba9bc72e013bd85f58bbf13e10fb387e888ac")).addEventListener(n("5042fac23ac2f3"), function() {
                    D["1k"] = this.checked,
                    _e()
                }),
                H[n("8d196a3454eef629f0e8630a60c3ff")](n("ddb92be24cbe8ce397b314")).checked = D["1n"],
                H[n("a17546a0607ac2b5cc745f9e5457cb")](n("7036c6b159a9d9300a2cc9")).addEventListener(n("54c6fe46364eff"), function() {
                    D["1n"] = this.checked,
                    _e(),
                    _a.location.reload()
                }),
                H[n("0f2774f6d628f0eb72266dc8e205f9")](n("3551c39a945f57984f4fd39fb6402687")).checked = D["1ac"],
                H[n("8b5be80a4a2c74eff62ae1c46e017d")](n("d610ec1bf79ef099ac0ecc1e9581c186")).addEventListener(n("1240bc4478c0bd"), function() {
                    D["1ac"] = this.checked,
                    _e(),
                    _a.location.reload()
                }),
                H[n("0f2774f6d628f0eb72266dc8e205f9")](n("92d420d7bb4f2b45f3d828")).checked = D["1l"],
                ni.visible = D["1l"],
                H[n("c47263e38df56f76a9737adda9e876")](n("288e1e0901151d93597206")).addEventListener(n("22508c5448d08d"), function() {
                    D["1l"] = this.checked,
                    ni.visible = D["1l"],
                    _e()
                }),
                H[n("2254814163db8dd44f55987f57f694")](n("08ae3e29212e26b06780300a780c228e7d9a")).checked = D["1s"],
                H[n("e8de4f4fa9514bd295af46018d0c52")](n("799d8fded09d17dff69361dd699ff3d1ec89")).addEventListener(n("f4265ea696ae5f"), function() {
                    D["1s"] = this.checked,
                    _e()
                }),
                H[n("2d79ca94f44e56895048c3aac0635f")](n("66805c8b47135f0f0b9c5f7316ef5df602")).checked = D["1m"],
                oi.visible = D["1m"],
                H[n("4b9b284a8a6cb42f366a2104ae41bd")](n("a80e9e8981959d0dd5e29d71d0699ff4cc")).addEventListener(n("d604f008b48cf9"), function() {
                    D["1m"] = this.checked,
                    oi.visible = D["1m"],
                    _e()
                }),
                H[n("782edfbf39a1db22e53fb691fd9ca2")](n("0c2a3aad3d923717600c38806bc4330f")).textContent = n("cdf70ba56283f6b6e5") + C.Ec,
                H[n("a5f1422c6cf6ce31c8f05b2248ebd7")](n("7036c6b159b6d3330c20d4ac0fe0dc3ae93da6")).textContent = n("29d8de35c1fa0a5370878154") + n("145766d52dc46a5c315f6eca12c15344014627c21adc593a1844")
            }
            var j, Y = g[n("36a991aa51259d205b")];
            (j = Fh(T5(Y))) && (g[n("a2dd0dd6cd590954cf")] = Y.slice(0, -7),
            g[n("de1ccb188cbac0")] = j[0],
            g[n("e0d94347ad51")] = j[1],
            g[n("d4406fc2abe07e")] = j[2],
            g[n("f3c99a9303c0308e")] = j[3],
            g[n("b2a418a4c5341d3af3af")] = j[4]),
            Y = this.v ? this.M[n("e8cc595e9e744a")] : T,
            this.v = !0,
            this.$c = c + n("ba94") + l,
            this.M = g,
            b.J.Bb(b.J.Sg, c),
            Y !== this.M[n("5e9a5394103a40")] ? this.Hi() : this.wg()
        }
        ,
        le.prototype.Ml = function() {
            var c = this.v ? this.M[n("d3f1a6a325c13d")] : T;
            this.v = !1,
            this.$c = _,
            this.M = {},
            b.J.Bb(b.J.Sg, ""),
            c !== this.M[n("a16750b1575fc3")] ? this.Hi() : this.wg()
        }
        ,
        le.prototype.Sm = function() {
            b.J.hc(b.J.Sg);
            var c = this
              , l = 1;
            (function g() {
                !le.Df.cm() && l++ < 5 ? I.ja(g, 1e3) : le.Df.um(function() {}, function(m) {
                    c.il(S, m.Li)
                })
            }
            )()
        }
        ,
        le.prototype.Hi = function() {
            for (var c = 0; c < this.li.length; c++)
                this.li[c]();
            this.wg()
        }
        ,
        le.prototype.wg = function() {
            for (var c = 0; c < this.oi.length; c++)
                this.oi[c]()
        }
        ,
        le.prototype.Hl = function() {
            le.Df.Bm()
        }
        ,
        le),
        b.fq = (Ki.prototype.ld = function() {
            return this.oa
        }
        ,
        Ki.prototype.vd = function(c) {
            this.Aa = c,
            this.oa.visible = c
        }
        ,
        Ki.prototype.qa = function() {
            this.Ic = this.Hc[n("51b5bae0a1ae")](),
            this.Jc = this.Hc[n("5e874598051b50")]();
            for (var c = this.Jc / 30, l = 0; l < this.Dd.length; l++)
                this.Dd[l].Ui(c)
        }
        ,
        Ki.prototype.Fa = function() {
            if (this.Aa)
                for (var c = 0; c < this.Dd.length; c++)
                    this.Dd[c].Fa(this.na)
        }
        ,
        Ki),
        b.Yg = (rt.prototype.ua = async function(c) {
            var l = this;
            this.Hc = c,
            this.qd = c.get()[0],
            this.na = (c = {
                [n("41d1a21ab3d734")]: l.qd,
                [n("adfc4e035ac5c10bc0c8532955dad30d")]: 0,
                [n("d0d16046b24064c2b6ca7f")]: n(D["1a"] === 1 ? "f3d3908410d80c" : "7b5b180c985c")
            },
            await zo(c)),
            this.Aa = !1,
            this.jb = new b.Pi(new Float32Array(3 * A)),
            this.Jc = this.Ic = 1,
            this.Td = this.Rd = this.Qd = this.Md = this.hd = P.Z,
            this.qa(),
            E.B.Lg(function() {
                l.jb.nh()
            })
        }
        ,
        A = Math.min(100, b.hh.Vn),
        P = {
            Z: n("5fa00da6d3"),
            Mc: n("f8f9563fcd"),
            Nc: n("d657f41de8")
        },
        rt.prototype.vd = function(c) {
            this.Aa = c
        }
        ,
        rt.prototype.qa = function() {
            var c = I.e();
            this.Ic = this.Hc[n("9c9ab70bd419")](),
            this.Jc = this.Hc[n("cf68b42b346c21")](),
            this.na.resize(this.Ic, this.Jc, c),
            this.qd.width = c * this.Ic,
            this.qd.height = c * this.Jc,
            c = this.Jc / 4,
            this.jb.Ui(c),
            c = I.Jd(2 * Math.floor(this.Ic / c) - 5, 1, A),
            this.jb.Ri(c)
        }
        ,
        rt.prototype.Ya = function() {
            if (this.Aa) {
                var c = I.Rb() / 200
                  , l = Math.sin(c);
                this.jb.zl(this.Nn(this.hd, l), this.Sn(this.hd, l)),
                this.jb.Zn(this.hg(this.Md, l), this.hg(this.Qd, l), this.hg(this.Rd, l), this.hg(this.Td, l));
                for (var l = this.jb.zd, g = this.jb.aa, m = this.jb.ed, y = this.Ic - .5 * (this.Ic - .5 * l * (g - 1)), v = .5 * this.Jc, w = 0, R = 0, G = -1; G < g; G++) {
                    var U = G
                      , j = Math.cos(+U / 12 * 3.141592653589793 - c) * (1 - Math.pow(16, -1 * U / 12));
                    0 <= G && (m[3 * G] = y - .5 * l * U,
                    m[3 * G + 1] = v + .5 * l * j,
                    m[3 * G + 2] = Math.atan2(R - j, U - w)),
                    w = U,
                    R = j
                }
                this.jb.Fa(),
                this.jb.mo(this.na)
            }
        }
        ,
        rt.prototype.Gc = function(c) {
            this.jb.Gc(c)
        }
        ,
        rt.prototype.to = function(c) {
            this.hd = c ? P.Nc : P.Mc,
            this.Td = this.Rd = this.Qd = this.Md = P.Z
        }
        ,
        rt.prototype.Do = function(c) {
            this.hd = P.Z,
            this.Md = c ? P.Nc : P.Mc,
            this.Td = this.Rd = this.Qd = P.Z
        }
        ,
        rt.prototype.Io = function(c) {
            this.Md = this.hd = P.Z,
            this.Qd = c ? P.Nc : P.Mc,
            this.Td = this.Rd = P.Z
        }
        ,
        rt.prototype.Mo = function(c) {
            this.Qd = this.Md = this.hd = P.Z,
            this.Rd = c ? P.Nc : P.Mc,
            this.Td = P.Z
        }
        ,
        rt.prototype.Qo = function(c) {
            this.Rd = this.Qd = this.Md = this.hd = P.Z,
            this.Td = c ? P.Nc : P.Mc
        }
        ,
        rt.prototype.Nn = function(c, l) {
            switch (c) {
            case P.Mc:
                return .9 + .1 * l;
            case P.Nc:
                return .4 + .3 * l
            }
            return 1
        }
        ,
        rt.prototype.Sn = function(c, l) {
            switch (c) {
            case P.Mc:
                return .6 + .5 * l;
            case P.Nc:
                return .3 + .3 * l
            }
            return 1
        }
        ,
        rt.prototype.hg = function(c, l) {
            switch (c) {
            case P.Mc:
                return .9 + .1 * l;
            case P.Nc:
                return .6 + .4 * l
            }
            return 1
        }
        ,
        rt),
        b.pl = (qi.Pp = function(c) {
            return new qi(c[n("7cbdcc26e334")],c[n("a97d5eb95e6a")],c[n("77c6168499d9848f1ddce4")],c[n("8cb3a131f214ab82f689b324f91ca98e")],n("44f1e3642b6be3eb38f4e171"),c[n("7ca4da")],c[n("cb08b4ce2a")])
        }
        ,
        qi.Yp = function(c) {
            return new qi(c[n("6041d0da07d0")],c[n("883ebfbeffa9")],c[n("1568f8a6fb7f62ad7f62fa")],c[n("95e878267bffe22dffe27a1340e7d031")],n("26d38dca4949854d5ad69faf"),c[n("2d77cb")],c[n("97bce07a7e")])
        }
        ,
        qi),
        b.Sp = (rr.prototype.Xe = function(c, l, g, m) {
            var y = this.ne.resources.uniforms.uniforms.uColorOverlay;
            y[0] = c,
            y[1] = l,
            y[2] = g,
            y[3] = m
        }
        ,
        rr.prototype.Mm = function(c) {
            this.ne.resources.uTexture = c.source,
            this.ne.resources.uSampler = c.source.style
        }
        ,
        rr.prototype.Fa = function(c, l, g, m) {
            this.Vd.position.x = c,
            this.Vd.position.y = l,
            this.Vd.scale.x = g,
            this.Vd.scale.y = m;
            var y = this.ne.resources.uniforms.uniforms.uTextureScale;
            y[0] = .2520615384615385 * g,
            y[1] = .4357063736263738 * m,
            (g = this.ne.resources.uniforms.uniforms.uTextureOffset)[0] = .2520615384615385 * c,
            g[1] = .4357063736263738 * l
        }
        ,
        rr),
        b.oc = ($t.prototype.xc = function(c) {
            this.L.texture = c.og(),
            this.L.anchor.set(c.bo, c.db),
            this.bl = c.po,
            this.dl = c.wo
        }
        ,
        $t.prototype.Xe = function(c) {
            this.L.tint = parseInt(c.substring(1), 16)
        }
        ,
        $t.prototype.Wb = function(c) {
            this.L.width = c * this.bl,
            this.L.height = c * this.dl
        }
        ,
        $t.prototype.Hj = function(c) {
            this.L.rotation = c
        }
        ,
        $t.prototype.Mf = function(c, l) {
            this.L.position.set(c, l)
        }
        ,
        $t.prototype.Ra = function(c) {
            this.L.visible = c
        }
        ,
        $t.prototype.Hf = function() {
            return this.L.visible
        }
        ,
        $t.prototype.Sa = function(c) {
            this.L.alpha = c
        }
        ,
        $t.prototype.Cd = function() {
            I.Ta(this.L)
        }
        ,
        $t),
        b.$f = (Qe.prototype.Te = function() {
            this.Ga != null && I.Ta(this.Ga.oa),
            this.ma != null && I.Ta(this.ma),
            this.ca != null && I.Ta(this.ca)
        }
        ,
        Qe.prototype.Ci = function() {
            this.rg(.25),
            this.S.kb = "",
            this.pd = !0,
            this.sa = {},
            this.Ra(!1)
        }
        ,
        Qe.prototype.ak = function(c) {
            this.S = c,
            this.Ei(this.rb)
        }
        ,
        Qe.prototype.Ra = function(c) {
            var l = this.rb;
            this.rb = c,
            this.Ei(l)
        }
        ,
        Qe.prototype.rg = function(c) {
            this.Ub = 50 * c;
            var l = c
              , g = (c > this.I.ug && (l = Math.atan((c - this.I.ug) / this.I.Wh) * this.I.Wh + this.I.ug),
            l = Math.sqrt(4 * Math.pow(5 * l, .707106781186548) + 25),
            Math.min(200, Math.max(3, 5 * (l - 5) + 1)));
            if (c = this.$a,
            this.xb = .025 * (5 + .9 * l),
            this.$a = Math.floor(g),
            this.gi = g - this.$a,
            0 < c && c < this.$a)
                for (var l = this.Vb[2 * c - 2], g = this.Vb[2 * c - 1], m = this.Za[2 * c - 2], y = this.Za[2 * c - 1], v = this.Y[2 * c - 2], w = this.Y[2 * c - 1]; c < this.$a; c++)
                    this.Vb[2 * c] = l,
                    this.Vb[2 * c + 1] = g,
                    this.Za[2 * c] = m,
                    this.Za[2 * c + 1] = y,
                    this.Y[2 * c] = v,
                    this.Y[2 * c + 1] = w
        }
        ,
        Qe.prototype.bp = function(c, l) {
            for (this.$a = l,
            l = 0; l < this.$a; l++)
                this.Vb[2 * l] = this.Za[2 * l] = this.Y[2 * l] = c(),
                this.Vb[2 * l + 1] = this.Za[2 * l + 1] = this.Y[2 * l + 1] = c()
        }
        ,
        Qe.prototype.zk = function(c, l, g) {
            for (this.xf = g,
            g = 0; g < this.$a; g++)
                this.Vb[2 * g] = this.Za[2 * g],
                this.Vb[2 * g + 1] = this.Za[2 * g + 1];
            this.Tl(c - this.Za[0], l - this.Za[1], this.$a, this.Za)
        }
        ,
        Qe.prototype.Tl = function(c, l, g, m) {
            var y = I.jh(c, l);
            if (!(y <= 0)) {
                var v = m[0];
                m[0] += c,
                c = m[1],
                m[1] += l;
                for (var w = 1 - 2 * (l = this.xb / (this.xb + y)), R = 1, G = g - 1; R < G; R++) {
                    var U = m[2 * R];
                    m[2 * R] = m[2 * R - 2] * w + (U + v) * l,
                    v = U,
                    m[2 * R + 1] = m[2 * R - 1] * w + ((U = m[2 * R + 1]) + c) * l,
                    c = U
                }
                l = this.gi * this.xb / (this.gi * this.xb + y),
                m[2 * g - 2] = m[2 * g - 4] * (w = 1 - 2 * l) + (m[2 * g - 2] + v) * l,
                m[2 * g - 1] = m[2 * g - 3] * w + (m[2 * g - 1] + c) * l
            }
        }
        ,
        Qe.prototype.Ne = function() {
            return {
                mb: this.Y[0],
                nb: this.Y[1]
            }
        }
        ,
        Qe.prototype.Ch = function(c, l) {
            for (var g = 1e6, m = c, y = l, v = 0; v < this.$a; v++) {
                var w = this.Y[2 * v]
                  , R = this.Y[2 * v + 1]
                  , G = I.jh(c - w, l - R);
                G < g && (g = G,
                m = w,
                y = R)
            }
            return {
                mb: m,
                nb: y,
                qg: g
            }
        }
        ,
        Qe.prototype.hk = function(c) {
            this.ql = c
        }
        ,
        Qe.prototype.Pf = function(c, l) {
            this.Wa = I.Q(this.Wa, this.pd ? this.xf ? .9 + .1 * Math.cos(c / 400 * 3.141592653589793) : 1 : 0, l, .00125),
            this.Ng = I.Q(this.Ng, !this.pd || this.xf ? 1 : 0, l, .0025),
            this.Ga != null && (this.Ga.oa.alpha = this.Wa),
            this.ma != null && (this.ma.alpha = this.Wa)
        }
        ,
        Qe.prototype.Uf = function(c, l, g, m) {
            if (this.rb && this.pd)
                for (var y = Math.pow(.11112, l / 95), v = 0; v < this.$a; v++) {
                    var w = I.Sf(this.Vb[2 * v + 1], this.Za[2 * v + 1], g);
                    this.Y[2 * v] = I.Sf(I.Sf(this.Vb[2 * v], this.Za[2 * v], g), this.Y[2 * v], y),
                    this.Y[2 * v + 1] = I.Sf(w, this.Y[2 * v + 1], y)
                }
            if (this.Ga != null && this.rb && this.Ga.Vl(this, c, l, m),
            this.ma != null && (this.ma.Oe.x = this.Y[0],
            this.ma.Oe.y = this.Y[1] - 3 * this.xb),
            this.ca != null && D["1s"]) {
                for (var R in this.ca.x = this.ma.position.x,
                this.ca.y = this.ma.position.y + 1,
                this.ca.of)
                    this.sa[R] != null && this.sa[R].Aa || (this.ca.removeChild(this.ca.of[R]),
                    delete this.ca.of[R]);
                for (var G in c = 0,
                this.sa)
                    (l = this.sa[G]) && l.Aa && (g = this.ca.of[G],
                    g || (l = E.B.W().kh(l.ha).Oa,
                    this.ca.of[G] = new we(l.og()),
                    g = this.ca.of[G],
                    g.width = 30,
                    g.height = 30,
                    this.ca.addChild(g)),
                    g.x = c,
                    c += 35);
                this.ca[n("62034d030983")].x = .5 * this.ca.width,
                this.ca[n("1253bd5379d3")].y = this.ca.height
            }
        }
        ,
        Qe.prototype.Ei = function(c) {
            this.rb ? c || this.Yl() : (this.Ga != null && I.Ta(this.Ga.oa),
            this.ma != null && I.Ta(this.ma),
            this.ca != null && I.Ta(this.ca))
        }
        ,
        Qe.prototype.Yl = function() {
            this.Ga == null ? this.Ga = new b.hh : I.Ta(this.Ga.oa),
            this.Ga.$d(E.l.I.td, E.B.W().Kf(this.S.qi), E.B.W().Fe(this.S.ka), E.B.W().zj(this.S.pc), E.B.W().Bj(this.S.Xb), E.B.W().Gj(this.S.rc), E.B.W().gh(this.S.pb), "#ffffff"),
            this.ma == null ? (this.ma = new Oe({
                text: "",
                style: {
                    fontFamily: "PTSans"
                }
            }),
            this.ma.Oe = {
                x: 0,
                y: 0
            },
            this.ma.anchor.set(.5, 0)) : I.Ta(this.ma),
            this.ca == null ? (this.ca = new he,
            this.ca.of = {}) : I.Ta(this.ca),
            this.ma.style.fontSize = D["1w"],
            E.B.W().Fe(this.S.ka),
            this.ma.style.fill = D["1v"],
            this.ma.text = this.S.kb,
            this.ql.Qn(this.S.T, this.Ga, this.ma, this.ca)
        }
        ,
        Qe.Yf = function() {
            this.T = 0,
            this.qi = b.ee.ef,
            this.pb = this.rc = this.Xb = this.pc = this.ka = 0,
            this.kb = ""
        }
        ,
        Qe),
        b.mj = (kt.prototype.jm = function(c) {
            return new kt(c,this.Ib,this.Mb,this.wb,this.Ob)
        }
        ,
        kt.prototype.pm = function(c) {
            return new kt(this.Ja,c,this.Mb,this.wb,this.Ob)
        }
        ,
        kt.prototype.vm = function(c) {
            return new kt(this.Ja,this.Ib,c,this.wb,this.Ob)
        }
        ,
        kt.prototype.Cm = function(c) {
            return new kt(this.Ja,this.Ib,this.Mb,c,this.Ob)
        }
        ,
        kt.prototype.Hm = function(c) {
            return new kt(this.Ja,this.Ib,this.Mb,this.wb,c)
        }
        ,
        kt),
        b.Pi = (O = new b.mj(0,0,0,0,0),
        Ut.prototype.ld = function() {
            return this.H.oa
        }
        ,
        Ut.prototype.Ri = function(c) {
            if (this.aa = c,
            this.H.aa !== c) {
                for (var l = c; l < this.H.s.length; l++)
                    this.H.s[l].za();
                for (; this.H.aa > c; )
                    --this.H.aa,
                    (l = this.H.s[this.H.aa]).id.Cd(),
                    l.P.Cd();
                for (; this.H.aa < c; )
                    l = this.H.s[this.H.aa],
                    this.H.aa += 1,
                    this.H.oa[n("140432835b81330778")](l.P.L),
                    this.H.oa[n("39cbdf08fec6561c25")](l.id.L),
                    l.P.Sa(this.Xg),
                    l.id.Sa(this.Zg);
                for (c = 0; c < this.H.R.ud.length; c++)
                    this.H.R.ud[c].Sa(this.bh);
                for (c = 0; c < this.H.R.wd.length; c++)
                    this.H.R.wd[c].Sa(this.eh);
                for (c = 0; c < this.H.R.Uc.length; c++)
                    this.H.R.Uc[c].Sa(this.fh);
                for (c = 0; c < this.H.R.xd.length; c++)
                    this.H.R.xd[c].Sa(this.ih)
            }
        }
        ,
        Ut.prototype.Gc = function(c) {
            this.dd = c,
            this.Ug = n("ff153341e552e310615e"),
            this.nh()
        }
        ,
        Ut.prototype.Km = function(c) {
            this.dd = O,
            this.Ug = c,
            this.nh()
        }
        ,
        Ut.prototype.nh = function() {
            this.H.$d(b.Qc.sk, null, E.B.W().Fe(this.dd.Ja), E.B.W().zj(this.dd.Ib), E.B.W().Bj(this.dd.Mb), E.B.W().Gj(this.dd.Ob), E.B.W().gh(this.dd.wb), this.Ug)
        }
        ,
        Ut.prototype.Ui = function(c) {
            this.zd = c
        }
        ,
        Ut.prototype.zl = function(c, l) {
            for (this.Xg = c,
            this.Zg = l,
            c = 0; c < this.aa; c++)
                (l = this.H.s[c]).P.Sa(this.Xg),
                l.id.Sa(this.Zg)
        }
        ,
        Ut.prototype.Zn = function(c, l, g, m) {
            for (this.bh = c,
            this.eh = l,
            this.fh = g,
            this.ih = m,
            c = 0; c < this.H.R.ud.length; c++)
                this.H.R.ud[c].Sa(this.bh);
            for (c = 0; c < this.H.R.wd.length; c++)
                this.H.R.wd[c].Sa(this.eh);
            for (c = 0; c < this.H.R.Uc.length; c++)
                this.H.R.Uc[c].Sa(this.fh);
            for (c = 0; c < this.H.R.xd.length; c++)
                this.H.R.xd[c].Sa(this.ih)
        }
        ,
        Ut.prototype.Fa = function() {
            var c, l, g, m = 2 * this.zd, y = 3 * this.zd;
            for (0 < this.aa && (c = this.ed[0],
            l = this.ed[1],
            g = this.ed[2],
            this.H.s[0].la(c, l, m, y, g),
            this.H.R.la(c, l, m, g)),
            c = 1; c < this.aa; c++)
                this.H.s[c].la(this.ed[3 * c], this.ed[3 * c + 1], m, y, this.ed[3 * c + 2])
        }
        ,
        Ut.prototype.mo = function(c) {
            c.render({
                container: this.H.oa
            })
        }
        ,
        Ut),
        b.i = (He.ec = $(n("ae1a4272d0a217aed135173cd4af51aedf21f630b1")),
        He.ic = $(n("c593754b3aceb919b9dd27ad33adab")),
        He.jc = $(n("0236f62675f8abf06b77e17f7beba4ce7c50")),
        He.lc = $(n("df35d3610e75173d9268c42d197d1d")),
        He.nc = $(n("499ff94faadf22e57cb4bae1a2")),
        He.Jb = $(n("9a8e6e9eec4a1344cec71798d05e0d4e")),
        He.qc = $(n("e094100089544fd9c5d44f55991058d695b6")),
        He.Yb = $(n("1f7513a1d33bd5e357755ff3ce2b")),
        He.sc = $(n("53216775a367b8392f692f63a9798425")),
        He.tc = $(n("ce7aa252be8cf581bf09ff44ac82f99a")),
        He.uc = $(n("e0941000965055c39ad0494f895903c999a445")),
        He.vc = $(n("6b395f6d8a52830d01091207834d8e0b02011e01915e6411f75dea182a4e601ffc")),
        He.wc = $(n("d642aa5abf99ee82ac42c7108f9689968919c61c898fc5928052c6e89774")),
        He.prototype.C = function() {}
        ,
        He.prototype.eb = function() {}
        ,
        He.prototype.fa = function() {}
        ,
        He.prototype.ge = function() {}
        ,
        He.prototype.qa = function() {}
        ,
        He.prototype.Ya = function() {}
        ,
        He),
        b.bm = (F = $(n("2f450391d50ddbc75b455acbcb18d4c151")),
        k = $(n("5480a4143e40f4ca3080fd400e45cbdd11d0")),
        V = $(n("61f7d1a786b909ff1bbb9fefc0bc08")),
        L = $(n("06b2faaa7f75a02b79f5e4c26847b81d22c8e1cb")),
        X = $(n("681c98880ad4c05e1c6cdfa607b6d7201d")),
        se = $(n("e3b1d7e501f107bb87b19ebd00d214")),
        ce = $(n("c8bc3828aa7460febc8c624fb54673")),
        Z = $(n("984ce8d8fa84b00ecc5c809cc58782")),
        q = $(n("1be92f3df8b1cc770eb74478d1b9da")),
        (Q = I.ga(b.i, function() {
            b.i.call(this, b.cb.od);
            var c = this
              , l = q.get()[0];
            F.text(I.N(n("f10b1d40101ed94f98071e020f0b8c456d06ad40ec026b5d"))),
            k.text(I.N(n("fd8711d4e48a2dd3649be296fb9f78c9618aa1a3fe6c67ad7b73f2"))),
            k.click(function() {
                E.h.K(E.h.ra)
            }),
            ke.Ki = () => {
                C.gf = !C.gf
            }
            ,
            ke.Hh = () => {
                var m, y = E.l.V, v = D["1ag"];
                v.length && y.Ga && (m = v.indexOf(y.S.ka),
                y.Ga.qj(m === -1 ? v[0] : v[(m + 1) % v.length]))
            }
            ,
            ke.Eo = () => {
                var m, y = E.l.V, v = D["1ah"][n("8d364e14")];
                v && v.length && (m = v.indexOf(y.S.pb),
                y.Ga.uo(m === -1 ? v[0] : v[(m + 1) % v.length]))
            }
            ,
            ke.kd = () => {
                C.uf && ji && ji(C.uf, C.lg)
            }
            ,
            ke.r1 = () => {
                ga(1)
            }
            ,
            ke.sl = () => {
                var m, y;
                C.yb && (m = Object.keys(Da)).length && (y = m.indexOf(D["1b"]),
                D["1b"] = y === -1 ? m[0] : m[(y + 1) % m.length],
                C.Zh())
            }
            ,
            ke.Vk = () => {
                if (C.yb) {
                    D["1af"] && (ar.pause(),
                    ar.play());
                    try {
                        C.Ha && C.Ha.send(La(JSON.stringify({
                            [n("0a7a")]: 2
                        })))
                    } catch {}
                }
            }
            ;
            let g = [xa, ci];
            $(n("6cd5da521c")).keydown(function(m) {
                m.keyCode === 32 && (c.Pb = !0)
            }).keyup(function(m) {
                var y;
                m.target.type !== n("dc597bd794") && ((y = m.code) === n("3f3b24cb92") ? ke.Ki() : y === n("009a272a42") ? ke.Hh() : y === n("9ca6bb16e8") && C.yb ? ke.Vk() : y === n("041e23ae4f") ? ke.Eo() : y === n("7c86db36d2") ? ke.kd() : y === n("1268b15c4c") ? ke.r1() : y === n("c45e63ee8b") ? ke.sl() : y === n("5228711c1c") ? C.rf = !C.rf : y === n("33af505ffb") ? C.tf = !C.tf : y === n("e47e43cea6") ? (E.h.D.F.$.Lc = !E.h.D.F.$.Lc,
                E.h.D.F.hb.visible = E.h.D.F.$.Lc,
                E.h.D.F.$.Fa(E.h.D.F.$.of)) : y === n("c0df777eb47462d6acfd") ? ga(C.cc + D["1i"]) : y === n("1c232b825090062051171285499a1e") && ga(C.cc - D["1i"]),
                m.keyCode === 32) && (c.Pb = !1)
            }),
            l.addEventListener(n("42246c3023bb"), m => {
                C.Ah && (m.deltaY < 0 ? ga(C.cc + D["1i"]) : ga(C.cc - D["1i"]))
            }
            , {
                capture: !0,
                passive: !0
            }),
            l.addEventListener(n("a0058d86c79d8b18de1c"), function(m) {
                var y, v;
                m && D["1f"] === 0 && !C.gf && (m = m.touches[0],
                y = .5 * l.offsetWidth,
                v = .5 * l.offsetHeight,
                n("0c2820bb75873b0d7101") != typeof m.clientX ? c.zc = Math.atan2(m.clientY - v, m.clientX - y) : c.zc = Math.atan2(m.pageY - v, m.pageX - y),
                m = Math.min(Math.sqrt((y - m.pageX) * (y - m.pageX) + (v - m.pageY) * (v - m.pageY)), 110),
                et.position.x = y + m * Math.cos(c.zc),
                et.position.y = v + m * Math.sin(c.zc))
            }, {
                capture: !0,
                passive: !0
            }),
            l.addEventListener(n("f6f3d7fc9963cf799ffdb4"), function(m) {
                m.preventDefault(),
                D["1f"] !== 2 && D["1f"] !== 3 && m && (c.Pb = 2 <= m.touches.length)
            }, !0),
            l.addEventListener(n("23a04a63c4b0cc744f"), function(m) {
                D["1f"] !== 2 && D["1f"] !== 3 && m && (c.Pb = 2 <= m.touches.length)
            }, {
                capture: !0,
                passive: !0
            }),
            l.addEventListener(n("9e420f44d1d609dad052"), function(m) {
                !m || C.gf || m.shiftKey || (c.zc = Math.atan2(m.clientY - .5 * l.offsetHeight, m.clientX - .5 * l.offsetWidth))
            }, !0),
            l.addEventListener(n("b0ec9d76c76092e8cfe7"), function() {
                c.Pb = !0
            }, !0),
            l.addEventListener(n("21ffcc21d6f35228"), function() {
                c.Pb = !1
            }, !0),
            l.addEventListener(n("66874790040f490f03904664"), function(m) {
                var y, v;
                ri && m.pointerId === jh ? (ri.ji = !0,
                ri.parent[n("9adf33e1f14c015d")]({
                    x: m.clientX,
                    y: m.clientY
                }, null, ri.position)) : ii.any && (Ct && m.pointerId === Ko && (y = Ct.height / 2,
                v = Math.max(y, Math.min(Ct.parent[n("d613f725b588fd81")]({
                    x: m.clientX,
                    y: m.clientY
                }).y, Ct.parent.height - y)),
                Ct.parent.Di((Ct.parent.height - Ct.height - (v - y)) / (Ct.parent.height - Ct.height), 1)),
                J.zg || m.pointerId !== J.E || J.fp(m))
            }, {
                capture: !0,
                passive: !0
            }),
            l.addEventListener(n("64c5c95e064dcfc919cd"), function(m) {
                ri = null,
                ii.any && (Ct = null,
                Ko = -1,
                et.E === m.pointerId && (et.E = -1,
                et.alpha = .25),
                J.zg || m.pointerId !== J.E || (J.visible = J.Mg,
                J.ep(),
                J.E = -1))
            }, {
                capture: !0,
                passive: !0
            }),
            ii.any && (C.Lh = c,
            l.addEventListener(n("b1525c8d5b52d29add454c82"), function(m) {
                if (et.E === -1 && (et.E = m.pointerId,
                et.alpha = 1),
                !J.zg) {
                    for (var y of g)
                        if (m.clientX >= y.x && m.clientX <= y.x + y.width && m.clientY >= y.y && m.clientY <= y.y + y.height)
                            return;
                    J.yg || J.E !== -1 || (J.E = m.pointerId,
                    J.x = m.clientX,
                    J.y = m.clientY,
                    J.visible = !0,
                    J.Mk())
                }
            }, {
                capture: !0,
                passive: !0
            }))
        })).prototype.C = function() {}
        ,
        Q.prototype.eb = function() {
            M.g(b.i.ec, 50),
            M.g(b.i.ic, 1),
            M.g(b.i.jc, 50),
            M.g(b.i.lc, 50),
            M.A(b.i.nc, 500),
            this.Ka === re.af ? M.g(b.i.Jb, 1) : M.A(b.i.Jb, 500),
            M.g(b.i.qc, 50),
            M.g(b.i.Yb, 50),
            M.g(b.i.sc, 50),
            M.g(b.i.tc, 50),
            M.g(b.i.uc, 50),
            M.g(b.i.vc, 50),
            M.g(b.i.wc, 50)
        }
        ,
        Q.prototype.af = function() {
            return this.Ka = re.af,
            this
        }
        ,
        Q.prototype.Th = function() {
            return M.g(V, 1),
            I.ja(function() {
                M.A(V, 500)
            }, 3e3),
            M.g(L, 1),
            I.ja(function() {
                M.A(L, 500)
            }, 500),
            this.Ka = re.Th,
            this
        }
        ,
        Q.prototype.fa = function() {
            this.Pb = !1,
            this.F.qa()
        }
        ,
        Q.prototype.qa = function() {
            this.F.qa()
        }
        ,
        Q.prototype.Ya = function(c, l) {
            this.F.Ya(c, l)
        }
        ,
        Q.prototype.Yo = function(c, l, g) {
            var m;
            1 <= l && l <= 10 ? (l = I.N(n("766e566d1ff312ea1f62253ff0f637e0ea636669e6fa2ff8a076") + l),
            m = I.N(n("9fb9cf7646ac0b71c6b5cc3459b95e6bc3949f525f855643fe86fb455a9e59")),
            I.N(n("64dcc8530d4184dc0dd0cb11032ed1aa15a998341028c8ae2ea8cd3aec25ecbee1a6b510e736ae")).replace(n("9b69aacc2f7516d6"), g).replace(n("ef05c62042014222"), c).replace(n("67bd5e98d9b9da9a"), l)) : (l = "",
            m = I.N(n("d761b72e3e747329be7d847c117116238b6cc72e196525379b")),
            I.N(n("835deb126240271dea51e8507c2f72ebf228bbf57f296befc929eefb73240fffc627d6d8482a44")).replace(n("cb59fafc7fa56686"), g).replace(n("4fa56680e2a1e282"), c)),
            X.html(I.N(n("a97345b848668187d04f56ca4743c49dd55e1595525bcd"))),
            se.html(c),
            ce.html(l),
            Z.html(m)
        }
        ,
        Q.prototype.ua = async function() {
            this.F = new b.mp,
            await this.F.ua(q),
            this.Ka = re.af,
            this.zc = 0,
            this.Pb = !1
        }
        ,
        re = {
            af: 0,
            Th: 1
        },
        Q),
        b.eo = (te = $(n("84f0f464e436abbfe5b3a972e013bd84e680a514b50ab585e8")),
        Ge = $(n("fdcb4d83ed9d62d06c98e095f98864db7f9bfcb3bc6072b6")),
        Tt = $(n("afc583115f8b5442de86de074b9e5249cd95b2416e80204eb3")),
        (Q = I.ga(b.i, function() {
            b.i.call(this, b.cb.od),
            this.$h = -1,
            this.kf = ""
        })).prototype.C = function() {}
        ,
        Q.prototype.eb = function() {
            M.A(b.i.ec, 500),
            M.A(b.i.ic, 1),
            M.g(b.i.jc, 50),
            M.g(b.i.lc, 50),
            M.g(b.i.nc, 50),
            M.g(b.i.Jb, 50),
            M.g(b.i.qc, 50),
            M.g(b.i.Yb, 50),
            M.g(b.i.sc, 50),
            M.A(b.i.tc, 500),
            M.g(b.i.uc, 50),
            M.g(b.i.vc, 50),
            M.g(b.i.wc, 50)
        }
        ,
        Q.prototype.fa = function() {}
        ,
        Q.prototype.ge = function() {}
        ,
        Q.prototype.up = function() {
            this.pf("", 0),
            M.A(te, 100)
        }
        ,
        Q.prototype.el = function() {
            M.g(te, 100)
        }
        ,
        Q.prototype.pf = function(c, l) {
            this.kf !== c && (this.kf = c),
            c = I.Jd(Math.floor(100 * l), 0, 100),
            this.$h !== c && (Ge.css(n("1f2748f6d73c"), c + n("b10701d1")),
            Tt.html(c + n("94c0e457bd5bef")))
        }
        ,
        Q),
        b.im = (ne = $(n("6c989c0c1d2c9faf1dabd36a0c26ca")),
        $(n("ddeb6da30cbfcef88cb802b50abf85e888ac")),
        $(n("dc082c9c8ddc0f5f8d5b439a8ad65e4f8350")),
        de = $(n("f46004f495a4172993394aa06dfc2026702129b97b")),
        Hi = $(n("daceaedeb3028d1c879dd1d88518c60d")),
        Ae = $(n("887cf8e8e1b0e333ff00b68afa82")),
        Ot = $(n("6b395f6d824ddc0e1c45110f994fd41a09431a1c9a43725fe155f7")),
        ya = $(n("cafebeeea332bd0dbd82f08cb800b519a884fb9fbb1cd35c9696dc81")),
        $(n("43d17705aa95e45f3d99234ae274b43a27")),
        ia = $(n("9dab2d634cff8e27ceff49754afbc52a")),
        va = $(n("afc583115e891855dc81d7074b9e5858")),
        zi = $(n("a2965686cb5a454ac1d20290c05a0835")),
        Yt = $(n("daceaedeb3028d02899acad88901cd0b")),
        Ta = $(n("633157658a75c42900750373805694105e4600128347974717450e1a")),
        Sa = $(n("adbb1d535ccf9e14d4d456054a87d505dec551112cd7")),
        Na = $(n("cd9b7db33caffef4b4b436e52ae7bcedb0ab72fd0eb686")),
        wa = $(n("c672ba6aa7b6a1bcad2bf90ebccee489b71e")),
        Aa = $(n("6c989c0c1d2c9fa217b1df281664ddbe19beca")),
        ja = $(n("29bf996fc0f3020152d6da0bdb8b5b075ec3d5")),
        It = $(n("d1676137382bfa78b52b22692f63b67e873d")),
        Gt = $(n("d2c6a6d6bb0ab51aae84ee88")),
        Bt = $(n("dba9effd32fd4cbe86f581b315eb")),
        Ft = $(n("43d17705aa95e4492e883957a167a2")),
        Vi = $(n("4513f5cba457669f2257a173fc203c7c")),
        di = $(n("0236f6266bfae5e9667ab5787cb2b1d77357b557")),
        fi = $(n("f381c7d51ac5549a97cd848b0d9df48166c66b97eadd")),
        Zo = $(n("5c88ac1c0d5c8fd00bdcc844454fcbd7")),
        Qo = $(n("2a1ede0e43d2ddb15e228d2044ea9db14a669e2c4c")),
        Jo = $(n("d642aa5ab786b19db20ed91490dec18d965ade1886")),
        ec = $(n("05d3b58be49726cc619ff6a5e32f7fa16363fb")),
        (Q = I.ga(b.i, function() {
            b.i.call(this, b.cb.ff)
        })).prototype.ua = async function() {
            this.$h = -1,
            this.kf = "",
            this.oe = new b.Yg,
            await this.oe.ua(ia),
            Na.click(function() {}),
            ia.click(function() {
                E.m.v && E.h.K(E.h.Vf)
            }),
            va.click(function() {
                E.u.ok()
            }),
            zi.click(function() {
                E.u.Xo()
            }),
            Sa.keypress(function(l) {
                l.keyCode === 13 && E.mi()
            }),
            wa.click(function() {
                E.mi()
            }),
            Aa.click(function() {
                E.mi()
            }),
            ja.click(function() {
                E.h.K(E.h.Dj)
            }),
            Ft.click(function() {
                E.h.K(E.h.Ef)
            }),
            It.click(function() {
                E.m.v && E.h.K(E.h.vj)
            }),
            Bt.click(function() {
                E.m.v && E.h.K(E.h.oj)
            }),
            Gt.click(function() {
                E.m.v && E.h.K(E.h.Qj)
            }),
            Vi.click(function() {
                E.m.v && E.h.K(E.h.Ff)
            }),
            this.Zp();
            var c = b.J.hc(b.J.nj);
            c !== n("f242e640b8c6") && c !== n("8360c0374a0a") && (c = n("d46444e296e8")),
            Na.val(c)
        }
        ,
        Q.prototype.C = function() {
            var c = this;
            E.m.Jh(function() {
                E.m.v ? (E.u.ea(E.m.En(), b.o.X),
                E.u.ea(E.m.In(), b.o.xa),
                E.u.ea(E.m.yl(), b.o.Ca),
                E.u.ea(E.m.Mn(), b.o.Ea),
                E.u.ea(E.m.Rn(), b.o.Da)) : (E.u.ea(E.Il(), b.o.X),
                E.u.ea(0, b.o.xa),
                E.u.ea(0, b.o.Ca),
                E.u.ea(0, b.o.Ea),
                E.u.ea(0, b.o.Da))
            }),
            E.m.Jh(function() {
                wa.toggle(E.m.v),
                ja.toggle(!E.m.v),
                Aa.toggle(!E.m.v),
                Bt.toggle(E.m.v),
                Gt.toggle(E.m.v),
                Vi.toggle(E.m.v),
                It.toggle(!0),
                Ft.toggle(!0),
                E.m.v ? (Yt.hide(),
                fi.html(E.m.wj()),
                di.attr(n("97bbeb69"), E.m.Ej()),
                Zo.html(E.m.Pd()),
                Qo.width(100 * E.m.Xf() / E.m.Zf() + n("374d0b9f")),
                Jo.html(E.m.Xf() + n("13e12736b2fadf2f29fc") + E.m.Zf()),
                ec.html(E.m.Wf()),
                Sa.val(E.m.Kd())) : (Yt.toggle(!E.Ig()),
                fi.html(fi.data(n("29fdde39deea"))),
                di.attr(n("86643a7a"), kh),
                Zo.html(n("edef5f")),
                Qo.width(n("2e8f")),
                Jo.html(""),
                ec.html(1),
                Sa.val(b.J.hc(b.J.rj)))
            }),
            E.u.Ih(function() {
                c.oe.Gc(E.u.Gh())
            })
        }
        ,
        Q.prototype.eb = function() {
            M.A(b.i.ec, 500),
            M.A(b.i.ic, 1),
            M.A(b.i.jc, 500),
            M.A(b.i.lc, 500),
            M.g(b.i.nc, 50),
            M.g(b.i.Jb, 50),
            M.A(b.i.qc, 500),
            M.g(b.i.Yb, 50),
            M.g(b.i.sc, 50),
            M.g(b.i.tc, 50),
            M.g(b.i.uc, 50),
            M.g(b.i.vc, 50),
            M.g(b.i.wc, 50)
        }
        ,
        Q.prototype.Fi = function() {
            M.A(ne, 500),
            M.A(de, 500),
            M.A(Hi, 500),
            M.g(Ae, 100)
        }
        ,
        Q.prototype.Ul = function() {
            M.g(ne, 100),
            M.g(de, 100),
            M.g(Hi, 100),
            M.A(Ae, 500)
        }
        ,
        Q.prototype.pf = function(c, l) {
            this.kf !== c && (this.kf = c),
            c = I.Jd(Math.floor(100 * l), 0, 100),
            this.$h !== c && (Ot.css(n("82e42df1f27f"), c + n("9361a7b3")),
            ya.html(c + n("b420c4b79dbbcf")))
        }
        ,
        Q.prototype.fa = function() {
            this.oe.vd(!0)
        }
        ,
        Q.prototype.ge = function() {
            this.oe.vd(!1)
        }
        ,
        Q.prototype.qa = function() {
            this.oe.qa()
        }
        ,
        Q.prototype.Ya = function() {
            this.oe.Ya()
        }
        ,
        Q.prototype.Kd = function() {
            return Sa.val()
        }
        ,
        Q.prototype.Mi = function() {
            return Na.val()
        }
        ,
        Q.prototype.Zp = function() {
            var c, l;
            E.Ig() || (Yt.show(),
            c = I.N(n("cdd721e434bafde3b4ab32a634abb2e2f3a33afe14fc96fa89b904f33ab182f29ef01cc8109096")),
            l = encodeURIComponent(I.N(n("16ceb6cd7f53f24a7fc2859f4f528d5b08da8dd75f15995342d093aa61289d2b45e99ba6572ebd235a9f6cb03b"))),
            Ta.append($('<a class="mm-skin-over-button" id="mm-skin-over-fb" target="_blank" href="https://www.facebook.com/dialog/share?app_id=861926850619051&display=popup&href=https%3A%2F%2Fwormate.io&redirect_uri=https%3A%2F%2Fwormate.io&hashtag=%23wormateio&quote=' + l + '"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeD0iMCIgeT0iMCIgdmlld0JveD0iMCAwIDQ1NiA0NTYiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxwYXRoIGQ9Ik0yNDQuMyA0NTZWMjc5LjdoLTU5LjN2LTcxLjloNTkuM3YtNjAuNGMwLTQzLjkgMzUuNi03OS41IDc5LjUtNzkuNWg2MnY2NC42aC00NC40Yy0xMy45IDAtMjUuMyAxMS4zLTI1LjMgMjUuM3Y1MGg2OC41bC05LjUgNzEuOWgtNTkuMVY0NTZ6IiBmaWxsPSIjZmZmIi8+PC9zdmc+"/>' + n("5eca13b21103451b43c46d") + c + n("2d3b9ca3941075974547d9cd8a6f1edf7e0b8db6a01770b1")).click(function() {
                E.dm(),
                I.ja(function() {
                    Yt.hide()
                }, 3e3)
            })))
        }
        ,
        Q),
        b.Lo = ((Q = I.ga(b.i, function() {
            b.i.call(this, b.cb.od)
        })).prototype.C = function() {}
        ,
        Q.prototype.eb = function() {
            M.g(b.i.ec, 50),
            M.g(b.i.ic, 1),
            M.g(b.i.jc, 50),
            M.g(b.i.lc, 50),
            M.g(b.i.nc, 50),
            M.g(b.i.Jb, 50),
            M.g(b.i.qc, 50),
            M.g(b.i.Yb, 50),
            M.g(b.i.sc, 50),
            M.g(b.i.tc, 50),
            M.g(b.i.uc, 50),
            M.g(b.i.vc, 50),
            M.g(b.i.wc, 50)
        }
        ,
        Q),
        b.Ln = ((Q = I.ga(b.i, function() {
            b.i.call(this, b.cb.od)
        })).prototype.C = function() {}
        ,
        Q.prototype.eb = function() {
            M.A(b.i.ec, 500),
            M.A(b.i.ic, 1),
            M.g(b.i.jc, 50),
            M.g(b.i.lc, 50),
            M.g(b.i.nc, 50),
            M.g(b.i.Jb, 50),
            M.g(b.i.qc, 50),
            M.g(b.i.Yb, 50),
            M.g(b.i.sc, 50),
            M.g(b.i.tc, 50),
            M.A(b.i.uc, 500),
            M.g(b.i.vc, 50),
            M.g(b.i.wc, 50)
        }
        ,
        Q.prototype.fa = function() {}
        ,
        Q),
        b.Xn = (Hh = $(n("7d4bcd03751de247f11375157a0eea5fe6")),
        (Q = I.ga(b.i, function() {
            b.i.call(this, b.cb.od),
            this.ye = [],
            this.Ae = null
        })).prototype.C = function() {}
        ,
        Q.prototype.eb = function() {
            M.A(b.i.ec, 500),
            M.A(b.i.ic, 1),
            M.g(b.i.jc, 50),
            M.A(b.i.lc, 500),
            M.g(b.i.nc, 50),
            M.g(b.i.Jb, 50),
            M.g(b.i.qc, 50),
            M.g(b.i.Yb, 50),
            M.A(b.i.sc, 500),
            M.g(b.i.tc, 50),
            M.g(b.i.uc, 50),
            M.g(b.i.vc, 50),
            M.g(b.i.wc, 50)
        }
        ,
        Q.prototype.fa = function() {
            this.Yi()
        }
        ,
        Q.prototype.Ep = function() {
            return this.Ae != null || 0 < this.ye.length
        }
        ,
        Q.prototype.Pg = function(c) {
            this.ye.unshift(c),
            I.ja(function() {
                E.h.bi()
            }, 0)
        }
        ,
        Q.prototype.Lk = function(c) {
            this.ye.push(c),
            I.ja(function() {
                E.h.bi()
            }, 0)
        }
        ,
        Q.prototype.Yi = function() {
            var c, l, g = this;
            this.Ae == null && (this.ye.length === 0 ? E.h.ie() : (c = this.ye.shift(),
            l = (this.Ae = c).ld(),
            M.A(l, 300),
            Hh.append(l),
            c.Ce = function() {
                l.fadeOut(300),
                I.ja(function() {
                    l.remove()
                }, 300),
                g.Ae === c && (g.Ae = null),
                g.Yi()
            }
            ,
            c.fa()))
        }
        ,
        Q),
        b.cb = {
            od: 0,
            ff: 1
        },
        b.j = (zh = $(n("879dbbc97bd37d8bffedfc677db1386af6aafc66")),
        tc = $(n("3ca84c3c307ef2e634b8eb72266ca7f823f4e06c7d43fddb")),
        ac = $(n("2f450391c30bc5d3474554cfd51990cd50192fc1ee02a4da")),
        $(n("277d1ba9db33ddeb5f4d5cc7dd1198c4560b52")).click(function() {
            E.h.ie()
        }),
        tc.click(function() {
            E.m.v && E.h.K(E.h.Ff)
        }),
        (Xe = I.ga(b.i, function(c, l) {
            b.i.call(this, b.cb.ff),
            this.kb = c,
            this.Om = l,
            this.Jf = []
        })).prototype.C = function() {
            Xe.parent.prototype.C.call(this),
            Xe.Xm || (Xe.Xm = !0,
            E.m.Jh(function() {
                E.m.v ? ac.html(E.m.Pd()) : ac.html(n("d3b4"))
            })),
            M.g(b.j.$g, 100)
        }
        ,
        Xe.zb = $(n("61f7d1a786b90ef61af79df588a9")),
        Xe.Ab = $(n("b7cd8b1957895c4ada82b21f359d2041")),
        Xe.Cb = $(n("3d0b8dc3b1402c922c5aa2d5bf532e8b")),
        Xe.Db = $(n("72a606b61a685f6014a64ae41b78")),
        Xe.Eb = $(n("cb59ff8d3ce525b6baeab2b57afe30afac")),
        Xe.Fb = $(n("51e7e1b7a6ad3ee62ae7ade5b8b9")),
        Xe.Gb = $(n("79cfc99f8e9a10c2e4df75dd6081")),
        Xe.Hb = $(n("d642aa5aad8efd9ff319c91495")),
        Xe.Kb = $(n("34a044344f600ee358ff1f786d72edfd37f0e863656fe3fe3b")),
        Xe.Nb = $(n("76220a3a1eee50e80a6a6d70e1f02be0e863656fe3fe3b")),
        Xe.$g = $(n("11a7a177e5ea72296aefb63bfce76b7d57fbc623")),
        Xe.prototype.eb = function() {
            M.A(b.i.ec, 1),
            M.A(b.i.ic, 500),
            M.A(b.i.jc, 200),
            M.A(b.i.lc, 200),
            M.g(b.i.nc, 200),
            M.g(b.i.Jb, 200),
            M.g(b.i.qc, 200),
            M.A(b.i.Yb, 200),
            M.g(b.i.sc, 200),
            M.g(b.i.tc, 200),
            M.g(b.i.uc, 200),
            M.g(b.i.vc, 200),
            M.g(b.i.wc, 200),
            zh.html(this.kb),
            tc.toggle(this.Om),
            this.gb()
        }
        ,
        Xe.prototype.gb = function() {}
        ,
        Xe.prototype.Re = function(c) {
            var l = this
              , g = 2147483647 & I.oo();
            return this.Jf.push(g),
            M.A(b.j.$g, 100),
            I.ja(function() {
                l.Yj(g)
            }, c),
            new O5(this,g)
        }
        ,
        Xe.prototype.Yj = function(c) {
            (c = this.Jf.indexOf(c)) < 0 || (this.Jf.splice(c, 1),
            this.Jf.length === 0 && M.g(b.j.$g, 100))
        }
        ,
        Xe),
        kl.prototype.dp = function() {
            this.$n.Yj(this.ho)
        }
        ;
        var Yh, $h, Kh, qh, Zh, Qh, Zi, lc, uc, bc, pc, gc, mc, _c, bi, Jh, Qi, el, tl, al, il, sl, rl, nl, ol, cl, dl, fl, hl, Ji, nr, or, cr, ll, ul, bl, pl, dr, pi, gl, ml, xc, fr, yc, es, _l, hr, xl, yl, at, vl, Tl, Sl, wl, ts, Al, El, lr, vc, as, Pl, Tc, Sc, wc, Ac, is, Rl, Ml, nt, ss, Cl, Ol, rs, ht, ur, Il, Ha, Gl, Bl, Q, Ec, Pa, Fl, Dl, O5 = kl;
        function kl(c, l) {
            this.$n = c,
            this.ho = l
        }
        function ns(c, l) {
            this.ze = c,
            this.bd = 0,
            this.Zb = l
        }
        function na(c, l, g) {
            this.ze = c,
            this.ha = l,
            this.rd = g,
            this.Bf = {},
            this.bb = [[]],
            this.ag = this.Ud = -10
        }
        function Pc() {
            this.Ce = function() {}
        }
        function Ul() {
            var v = Ec[n("0581eedcfd92")]()
              , c = Ec[n("ce37f508b58be0")]()
              , l = Pa[n("11ede630f0f440217dfef3")]()
              , g = Pa[n("e13d16600024af7d803d0368")]()
              , m = Fl[n("a8169f8fc98fa61ad9e69a77")]()
              , y = Dl[n("d3eba0b232fa11afb2ebb5ba")]()
              , v = Math.min(1, Math.min((c - y - m) / g, v / l));
            v = n("dc596cce8ec24e5290500e9add890f09d9181cfcd5f3026ec17513f5cde01f79cc3e5dae6cb46a").concat(v, n("9cc4")),
            Pa[n("b0e28170")](n("ef0d8607114f1c12da5c8b0b155f1b018d5d"), v),
            Pa[n("4d5dbc73")](n("df3d8c3d1939112486769a3c046e00"), v),
            Pa[n("f74b8a19")](n("44b8eb64656df8fa22eee870224c"), v),
            Pa[n("42307726")](n("de42cf5c9681c59b9511c70b87"), v),
            Pa[n("1240a756")](n("df6493330d6703399575"), v),
            E.qa(),
            b.kc[n("e12100660a3a8b4c86")](0, 1)
        }
        b.Nm = (Yh = $(n("d96f693f2e3ab062847f01611c7b8477803418435c6cda10c152")),
        $h = $(n("05d3b58bfa8e64ce68d3edb5e82f70ab7c68e497ac3a2bfc2d")),
        Kh = $(n("8abe7eaefd6b3f53f78e36d0ef0a3b46f3c52ff2af19500192")),
        qh = $(n("acd8dc4cc3f59d71d12894f2c1a49964d5638dd0f7a13223")),
        Zh = $(n("9a8e6e9eed5b0f43c79e06c0df1a0b56c3d51fe29d0d4571")),
        Qh = $(n("7d4bcd037206ec46e05b654d7057e853e4107c1f20b0a674")),
        (Zi = I.ga(b.j, function() {
            b.j.call(this, I.N(n("0f297fe6f63cbbe176257ca4eb23edfb6f7e4cf7cd218bf5483147e98528ccfc")), !1),
            Yh.click(function() {
                n("bdcd50192fc19c45f783774879")
            }),
            $h.click(function() {
                n("3b8f5247d1839e0773c47506")
            }),
            Kh.click(function() {
                n("ac9e8116def2ad328235c6b7")
            }),
            qh.click(function() {
                n("798994c5939d2087b1c233")
            }),
            Zh.click(function() {
                n("cddd20e93fb18cb7e7f367")
            }),
            Qh.click(function() {
                n("c79ba653258f120ffd35e1")
            })
        })).prototype.C = function() {
            Zi.parent.prototype.C.call(this)
        }
        ,
        Zi.prototype.gb = function() {
            M.A(b.j.zb, 200),
            M.g(b.j.Ab, 50),
            M.g(b.j.Cb, 50),
            M.g(b.j.Db, 50),
            M.g(b.j.Eb, 50),
            M.g(b.j.Fb, 50),
            M.g(b.j.Gb, 50),
            M.g(b.j.Hb, 50),
            M.g(b.j.Kb, 50),
            M.g(b.j.Nb, 50)
        }
        ,
        Zi.prototype.fa = function() {}
        ,
        Zi),
        b.Wm = (lc = $(n("4a7e3e6e26b6778921007b1733ca6c88380779")),
        uc = $(n("a5b3156b45ffca38c8ec5c4d53d7c710dac81a045cdcde00")),
        bc = $(n("b90f09df514bde94a44030d92743b38ca65466942459a773b22d2161")),
        pc = $(n("31878157d9c3560c5cd8c841dfdb4b042edcee1facda2b0b")),
        gc = n("edbc16ec149496c8"),
        mc = n("6fc208aa9ac39db514c70b8f"),
        _c = n("d4476fecb1c576589d437ae785d046608c5a52c4"),
        (bi = I.ga(b.j, function() {
            b.j.call(this, I.N(n("1ec68ed5474bca5247da8d975a549c485e919da45c36da2953a69cac4838d2395fad")), !0);
            var c = this;
            this.xh = {},
            this.Rc = {
                Dh: {
                    rd: uc,
                    Kh: gc
                },
                Ro: {
                    rd: bc,
                    Kh: mc
                },
                Uo: {
                    rd: pc,
                    Kh: _c
                }
            },
            uc.click(function() {
                c.cf(c.Rc.Dh)
            }),
            bc.click(function() {
                c.cf(c.Rc.Ro)
            }),
            pc.click(function() {
                c.cf(c.Rc.Uo)
            })
        })).prototype.C = function() {
            bi.parent.prototype.C.call(this)
        }
        ,
        bi.prototype.gb = function() {
            M.g(b.j.zb, 50),
            M.A(b.j.Ab, 200),
            M.g(b.j.Cb, 50),
            M.g(b.j.Db, 50),
            M.g(b.j.Eb, 50),
            M.g(b.j.Fb, 50),
            M.g(b.j.Gb, 50),
            M.g(b.j.Hb, 50),
            M.g(b.j.Kb, 50),
            M.g(b.j.Nb, 50)
        }
        ,
        bi.prototype.fa = function() {
            var c = this
              , l = this.Re(5e3)
              , g = aa + n("f5c345ee099f9989cfa813d5e09666c676");
            I.yc(g, function() {
                c.xh = {
                    [gc]: [],
                    [mc]: [],
                    [_c]: []
                },
                c.cf(c.xg ?? c.Rc.Dh),
                l.dp()
            }, function(m) {
                c.xh = m,
                c.cf(c.xg ?? c.Rc.Dh),
                l.dp()
            })
        }
        ,
        bi.prototype.cf = function(c) {
            for (var l in this.xg = c,
            this.Rc)
                this.Rc.hasOwnProperty(l) && this.Rc[l].rd.removeClass(n("1576e5adea797ea8"));
            this.xg.rd.addClass(n("f59605cd0a999ec8")),
            c = this.xh[this.xg.Kh];
            for (var l = "", g = 0; g < c.length; g++) {
                var m = c[g];
                l += '<div class="table-row"><span>'.concat(g + 1, '</span><span><img src="').concat(m[n("b0e08462c06484d2cae5")], '"/></span><span>').concat(m[n("61a790f197b806f50c")], n("a93f189f082ce993c1435dc1066392dbfa594b8d530b8cb5")).concat(m[n("dc417bd985dd")], n("d88c2968f91f58dc90d04c16d7700384abca5a5a82181dfa")).concat(m[n("69b282fb858d0ccf0387")], n("580ca9e8799fd85c1050cc9657f083042b4adada02989d7a")).concat(m[n("4eb7758036307c0a2294")], n("4d1bfd30f47015216776")).concat(m[n("a1794ab84965")], n("57ad6a89febe9bbd2ff10ff7d0d1c0e524bd5b9c8ff59bfb5ce5"))
            }
            lc.empty(),
            lc.append(l)
        }
        ,
        bi),
        b.kn = (Jh = $(n("67bd5be99bf39dab1f8d1d8d94cd9bcb10cf")),
        $(n("7f95b3c173db7583f795e5956cd563d3e9a2")).remove(),
        (Qi = I.ga(b.j, function() {
            var c = this;
            b.j.call(this, I.N(n("0f297fe6f63cbbe176257ca4eb23edfb6f7e4cf7cd218bfa483f40f48528ccfc")), !1),
            Jh.click(function() {
                var l = c.Re(1e4);
                I.ja(function() {
                    E.m.Np(function() {
                        l.dp()
                    })
                }, 500)
            })
        })).prototype.C = function() {
            Qi.parent.prototype.C.call(this)
        }
        ,
        Qi.prototype.gb = function() {
            M.g(b.j.zb, 50),
            M.g(b.j.Ab, 50),
            M.g(b.j.Cb, 50),
            M.A(b.j.Db, 200),
            M.g(b.j.Eb, 50),
            M.g(b.j.Fb, 50),
            M.g(b.j.Gb, 50),
            M.g(b.j.Hb, 50),
            M.g(b.j.Kb, 50),
            M.g(b.j.Nb, 50)
        }
        ,
        Qi.prototype.fa = function() {}
        ,
        Qi),
        b.dn = (el = $(n("fa2e8e3e8efdaff76b7fa13867e1a9ed6b69")),
        tl = $(n("786c88f80cbfd129e93da7fef1a6a325e638a7be")),
        al = $(n("2c585ccc40731de55de9132a5d710aee4ee41b612374aff125e7")),
        il = $(n("d0842010a45779c1b1c57f06b9556eca92d8475d87500bc189d5")),
        sl = $(n("0a3efe2e7eedbfc77b4fb1087ac2aecc76")),
        rl = $(n("524626562695778f330779402d9b41854f1b4d120ea44b96181e")),
        nl = $(n("3f557381b306aad02e142c97b808acca62e234b1a7d7a0b421e12fabb7d8b4a33a")),
        ol = $(n("7ce88c7cf023adb5edb9a37afb2dabafa1b6a733fc12")),
        cl = $(n("e0941000944749d181d54f169f494fcbdda9572290365ea88cba")),
        dl = $(n("1523a5fbe97874aa7462fafdd26642a00871c6b5cc697bb04c67ca84")),
        fl = $(n("c7ddfb093b8e2258a66cb46f20703432fa7cb63e3a600927b275b222067a11")),
        hl = $(n("13e12735e7baf66c72a07823eca4c0660ea64071ceabdd684aa84471c1a4d05656")),
        (Ji = I.ga(b.j, function() {
            b.j.call(this, I.N(n("568e768d3f13320a3f8245df121c540016d9459c040e020d1c9056681ee61af11765")), !0)
        })).prototype.C = function() {
            Ji.parent.prototype.C.call(this)
        }
        ,
        Ji.prototype.gb = function() {
            M.g(b.j.zb, 50),
            M.g(b.j.Ab, 50),
            M.A(b.j.Cb, 200),
            M.g(b.j.Db, 50),
            M.g(b.j.Eb, 50),
            M.g(b.j.Fb, 50),
            M.g(b.j.Gb, 50),
            M.g(b.j.Hb, 50),
            M.g(b.j.Kb, 50),
            M.g(b.j.Nb, 50)
        }
        ,
        Ji.prototype.fa = function() {
            var c = E.m.Ho()
              , c = window.moment([c.year, c.month - 1, c.day]).format(n("54e9da"));
            tl.html(E.m.wj()),
            el.attr(n("5cdeec4c"), E.m.Ej()),
            al.width(100 * E.m.Xf() / E.m.Zf() + n("7aae0eb8")),
            il.html(E.m.Xf() + n("7b094f5eda024757b104") + E.m.Zf()),
            sl.html(E.m.Wf()),
            rl.html(E.m.Yn()),
            nl.html(I.Vi(E.m.fo())),
            ol.html(E.m.lo()),
            cl.html(E.m.so()),
            dl.html(E.m.yo()),
            fl.html(I.Vi(E.m.Co())),
            hl.html(c)
        }
        ,
        Ji),
        b.mn = (nr = $(n("13e12735e4aded7e72a27a7db2bdd4614ab70873c9b9cb764eb8006dd889c5415b")),
        or = $(n("b2e646f6c5220c3dd3a51bbe933ce629efb6eab4a43bed3de7a8fbb4ba3cf8")),
        cr = $(n("786c88f80fa8ca3be93fa5a0a9a6ae38ff74a4bae1b8bd72e316bb97f78d")),
        ll = $(n("6a5e1e4e1e90407402ae58ea11684d7d")),
        ul = $(n("b0a4c030c46a86f2c8a49664db628bfbedf26d7db0746ff9adeb")),
        bl = $(n("acd8dc4cc0ee8276c42892e2d4ec8e6e916c9decafe46c67")),
        pl = $(n("19afa97fede16f2551bfc731c9f3533d04fbc83fc2eb41141cc1dc0ac1c75e065cd8")),
        dr = $(n("245054c458961a0e5c501996446916f155f25b64576709ee52f9")),
        (pi = I.ga(b.j, function() {
            b.j.call(this, I.N(n("fc2450ab65a96c34653823f978b63a2e7c7323ba7e947c107111228e768e2945680c3c")), !1);
            var c = this;
            nr.click(function() {
                var l = !!nr.prop(n("69b983f98eb50ac4"));
                b.J.Bb(b.J.bj, l)
            }),
            or.click(function() {
                var l = !!or.prop(n("d0c27a46b74e73c3"));
                b.J.Bb(b.J.gj, l)
            }),
            cr.click(function() {}),
            ll.click(function() {
                c.Re(500),
                E.m.di()
            }),
            bl.click(function() {
                E.m.v && E.h.K(E.h.$i)
            }),
            dr.click(function() {
                E.yd() && E.h.K(E.h.Ti)
            })
        })).prototype.C = function() {
            var c;
            pi.parent.prototype.C.call(this),
            c = b.J.hc(b.J.bj) !== n("916472a86663"),
            nr.prop(n("8032aab6e7bea333"), c),
            c = b.J.hc(b.J.gj) !== n("56817985290e"),
            or.prop(n("7b4f150b9c5b6416"), c),
            c = b.J.hc(b.J.Zi) !== n("34e3176b4b6c"),
            cr.prop(n("21f1cb31c6fd423c"), c),
            E.m.uk(function() {
                ul.toggle(E.m.v),
                pl.toggle(E.m.v)
            })
        }
        ,
        pi.prototype.gb = function() {
            M.g(b.j.zb, 50),
            M.g(b.j.Ab, 50),
            M.g(b.j.Cb, 50),
            M.g(b.j.Db, 50),
            M.A(b.j.Eb, 200),
            M.g(b.j.Fb, 50),
            M.g(b.j.Gb, 50),
            M.g(b.j.Hb, 50),
            M.g(b.j.Kb, 50),
            M.g(b.j.Nb, 50)
        }
        ,
        pi.prototype.fa = function() {
            E.yd() ? dr.show() : dr.hide()
        }
        ,
        pi.prototype.cj = function() {
            return cr.prop(n("188a320e7f063b8b"))
        }
        ,
        pi),
        b.un = (gl = $(n("63315765946c86280e311b378a57dc01124a03")),
        ml = $(n("4034b0a037feef79657defe82fefe76f2448fdcd79d1f35f2c")),
        xc = $(n("302440b047ee1f69156e08e449fd536b2562e1e12de5f27e2777a7ef29e5fa")),
        fr = $(n("3266c67645b397bb5f6690225da465b56f316527")),
        yc = $(n("245054c45b8d050949500290536a17e719e71775157d1ff348")),
        es = $(n("580ca8982fd9f15d051cc0c61d98c4421c4dc5d5")),
        _l = $(n("cc383caca3d57d51b1087fd3bdc4375bae447dca")),
        hr = $(n("97edab3968b8727cfafdc6604ca15565")),
        xl = $(n("3ca84c3c3365ede121b8f07e2d6ea7eb3ef8f8")),
        yl = $(n("a2965686d543074bcf961ad4cb485d2fd7bb00")),
        (at = I.ga(b.j, function() {
            b.j.call(this, I.N(n("0d97e1a4f47a3da3746bf2e6e9656bb96d20f2b5cf670da74e7fc9ab876e4abe")), !0)
        })).prototype.ua = async function() {
            var c = this;
            this.Vc = null,
            this.Wc = [],
            this.Xk = {},
            this.Ua = new b.Yg,
            await this.Ua.ua(gl),
            es.click(function() {
                c.zp()
            }),
            xl.click(function() {
                c.Vc.Fp()
            }),
            yl.click(function() {
                c.Vc.Jp()
            })
        }
        ,
        at.prototype.C = function() {
            at.parent.prototype.C.call(this);
            var c = this;
            E.B.Lg(function() {
                var l = E.B.Na.fb;
                c.Wc = [];
                for (var g = 0; g < l[n("074b6213e57bff117a3050f0e125ecc27e2b6d")].length; g++)
                    c.Wc.push(new vl(c,l[n("585af1c232eaec401541e3c116d4df73015ade")][g]));
                for (c.Xk = {},
                g = 0; g < l[n("be3ceb38ac92f6a7a72ecc30a9af")].length; g++) {
                    var m = l[n("72f05fec18464a7b1bf278e41d7b")][g];
                    c.Xk[m[n("7028d6")]] = m
                }
                c.kl()
            }),
            this.Dc(!1),
            E.u.Ih(function() {
                c.Dc(!1)
            })
        }
        ,
        at.prototype.gb = function() {
            M.g(b.j.zb, 50),
            M.g(b.j.Ab, 50),
            M.g(b.j.Cb, 50),
            M.g(b.j.Db, 50),
            M.g(b.j.Eb, 50),
            M.A(b.j.Fb, 200),
            M.g(b.j.Gb, 50),
            M.g(b.j.Hb, 50),
            M.g(b.j.Kb, 50),
            M.g(b.j.Nb, 50)
        }
        ,
        at.prototype.fa = function() {
            this.kl(),
            this.Ua.vd(!0)
        }
        ,
        at.prototype.ge = function() {
            this.Ua.vd(!1)
        }
        ,
        at.prototype.qa = function() {
            this.Ua.qa()
        }
        ,
        at.prototype.Ya = function() {
            this.Ua.Ya()
        }
        ,
        at.prototype.kl = function() {
            var c = this
              , l = this;
            hr.empty();
            for (var g = 0; g < this.Wc.length; g++)
                (R => {
                    var G = c.Wc[R]
                      , U = (R = b.d.createElement(n("2ed399")),
                    hr.append(R),
                    R = $(R),
                    G.Zb.img);
                    U ? R.html('<img src="' + U + '" height="40">') : R.html(G.Vp()),
                    R.click(function() {
                        l.si(G)
                    }),
                    G.yi = R
                }
                )(g);
            if (0 < this.Wc.length) {
                for (var g = E.u.ta(b.o.X), m = 0; m < this.Wc.length; m++)
                    for (var y = this.Wc[m], v = y.Zb.list, w = 0; w < v.length; w++)
                        if (v[w] === g)
                            return y.bd = w,
                            void this.si(y);
                this.si(this.Wc[0])
            }
        }
        ,
        at.prototype.si = function(c) {
            this.Vc !== c && (this.Vc = c,
            hr.children().removeClass(n("c8e9787ebf6e6bfb")),
            this.Vc.yi && this.Vc.yi.addClass(n("13b46763e4bbfc6e")),
            xc.html(""),
            c.Zb != null && (c = E.B.Na.fb[n("e3e080ae13dc00b99f")][c.Zb[n("a5f2422b4ae8c22cd9f7400e")]]) != null && xc.html(I.Dm(I.ve(c))),
            this.Dc(!0))
        }
        ,
        at.prototype.Ii = function() {
            return this.Vc == null ? b.ad.Jg() : this.Vc.Kg()
        }
        ,
        at.prototype.zp = function() {
            var c = this.Ii();
            c.zf() && this.em(c.ac())
        }
        ,
        at.prototype.em = function(c) {
            var l, g, m, y, v, w, R = E.u.jf(c, b.o.X);
            R == null || (R = R.$e,
            E.m.Pd() < R) || (l = E.u.ta(b.o.X),
            g = E.u.ta(b.o.xa),
            m = E.u.ta(b.o.Ca),
            y = E.u.ta(b.o.Ea),
            v = E.u.ta(b.o.Da),
            w = this.Re(5e3),
            E.m.Wk(c, b.o.X, function() {
                w.dp(),
                E.h.K(E.h.qb)
            }, function() {
                E.m.Ph(function() {
                    E.u.ea(l, b.o.X),
                    E.u.ea(g, b.o.xa),
                    E.u.ea(m, b.o.Ca),
                    E.u.ea(y, b.o.Ea),
                    E.u.ea(v, b.o.Da),
                    E.u.ea(c, b.o.X),
                    w.dp()
                })
            }))
        }
        ,
        at.prototype.Dc = function(c) {
            var l, g, m, y = E.u.Gh(), v = this.Ii();
            v.zf() && (v = v.ac(),
            l = E.u.jf(v, b.o.X),
            m = g = !1,
            E.u.ub(v, b.o.X) ? (fr.hide(),
            es.hide()) : l == null || l.bf ? (g = !0,
            fr.show(),
            es.hide(),
            yc.text(I.N(n("fa62d2699bf7eef6637ea13b76f8b8ec7a35a17860eafed2664ca64038cbb7ca714eb8"))),
            l != null && l.bf && (l = E.B.Na.fb[n("3d5ada88b5762a9731")][l.Ik]) != null && yc.text(I.ve(l))) : (m = !0,
            fr.hide(),
            es.show(),
            _l.html(l.$e)),
            (l = H[n("c2a2f1b0b42edb3ca6beefa9a12d")](n("8cf3bd34f90fb387f0"))) && (l[n("9481b713f91abf9f")][n("59a3bf")] = v,
            g || m ? l[n("26c49cc0465e")][n("6693418a1a174d04")] = n("669947970f") : l[n("cc6e7ae6bcc4")][n("f0a55b30842957be")] = n("ec5f42d093aa"),
            D["1ag"].includes(v) ? (l[n("2c090b8744421ded40e01873")] = n("a306c0fb482e4c"),
            l[n("fa68d06c8dfc8cf87167")][n("29fbcf38")](n("e5a402f506ac8e"))) : (l[n("3f0424cab737aad8331d27ce")] = n("c0d06677"),
            l[n("899967dd7e8dc3a9e276")][n("bab919a0d139e5")](n("486beff623ebeb")))),
            ml.html(n("3cc43a2a7350a7a174") + v),
            this.Ua.Gc(y.jm(v)),
            this.Ua.to(g),
            c) && E.u.ea(v, b.o.X)
        }
        ,
        ns.prototype.Fp = function() {
            --this.bd < 0 && (this.bd = this.Zb.list.length - 1),
            this.ze.Dc(!0)
        }
        ,
        ns.prototype.Jp = function() {
            ++this.bd >= this.Zb.list.length && (this.bd = 0),
            this.ze.Dc(!0)
        }
        ,
        ns.prototype.Vp = function() {
            return I.ve(this.Zb.name)
        }
        ,
        ns.prototype.Kg = function() {
            return this.bd >= this.Zb.list.length ? b.ad.Jg() : b.ad.Oi(this.Zb.list[this.bd])
        }
        ,
        vl = ns,
        at),
        b.Bn = (Tl = $(n("ee5a82b28177db7793aadfe6d768d36490fcedf37767b07a68")),
        Sl = $(n("cd9b7db322b6bcf6b0eb30e774b9b0e5b3bd72f214a697fb8b")),
        wl = $(n("56c22ada291f731f3bc2479e4f04411414da4a8c1e0f4313")),
        (ts = I.ga(b.j, function() {
            b.j.call(this, I.N(n("1ec68ed5474bca5247da8d975a549c485e919da45c36da3642a88aac143f9d2f")), !0),
            Tl.click(function() {
                E.h.K(E.h.Ff)
            }),
            Sl.click(function() {
                E.h.K(E.h.Vf)
            }),
            wl.click(function() {
                E.h.K(E.h.ph)
            })
        })).prototype.C = function() {
            ts.parent.prototype.C.call(this)
        }
        ,
        ts.prototype.gb = function() {
            M.g(b.j.zb, 50),
            M.g(b.j.Ab, 50),
            M.g(b.j.Cb, 50),
            M.g(b.j.Db, 50),
            M.g(b.j.Eb, 50),
            M.g(b.j.Fb, 50),
            M.A(b.j.Gb, 200),
            M.g(b.j.Hb, 50),
            M.g(b.j.Kb, 50),
            M.g(b.j.Nb, 50)
        }
        ,
        ts.prototype.fa = function() {}
        ,
        ts),
        b.Hn = (Al = $(n("7e2a7222f5f625e7ab61217cfdb62ffce069")),
        El = $(n("047074e47fbc2b2921392bac73933b13600c3989359d3f1368")),
        lr = $(n("9ff5932154b144648ab4c67940b94933cd81c3")),
        vc = $(n("2a1ede0e59da91b31f2f9b265da29ce4582a8e604aaa78a5")),
        as = $(n("4fa563f1a4e1b4b47aea2cb3f6eea8ba2bff0f")),
        Pl = $(n("18cc68586b083f9d0d98161649581685419a0f")),
        Tc = $(n("d16761372223b67af42f22692e63bd6595260c7a")),
        Sc = $(n("18cc68586b083f9d0d9c0d06501d15da4a8c1e0f4313")),
        wc = $(n("3a6ece7e49aa61a36f34683435a46daa673979293ab07e")),
        Ac = $(n("33c10715c08dd85816845c5accdda34737802a58")),
        is = $(n("f8ec08788b285fbd2da52b3d707825bf67b6393e7e")),
        Rl = $(n("912721f76263f6bab47c72a96a23efa2c464")),
        Ml = $(n("0b993fcdf8a5f0703eb27c63e0e5f76f63b8")),
        (nt = I.ga(b.j, function() {
            b.j.call(this, I.N(n("10883c07711d788079843f456c022e9a50df0f164a0048804d981855581c0c")), !0)
        })).prototype.ua = async function() {
            var c = this
              , l = this;
            this.Fd = [],
            this.xa = new ss(this,b.o.xa,Tc),
            this.Ca = new ss(this,b.o.Ca,Sc),
            this.Ea = new ss(this,b.o.Ea,wc),
            this.Da = new ss(this,b.o.Da,Ac),
            this.pj = this.lj = this.ij = this.dj = this.aj = this.bc = null,
            this.Ua = new b.Yg,
            await this.Ua.ua(Al),
            as.click(function() {
                l.Ym()
            }),
            Rl.click(function() {
                l.bc.an()
            }),
            Ml.click(function() {
                l.bc.en()
            }),
            Tc.click(function() {
                l.Le(c.xa)
            }),
            Sc.click(function() {
                l.Le(c.Ca)
            }),
            wc.click(function() {
                l.Le(c.Ea)
            }),
            Ac.click(function() {
                l.Le(c.Da)
            }),
            this.Fd.push(this.xa),
            this.Fd.push(this.Ca),
            this.Fd.push(this.Ea),
            this.Fd.push(this.Da)
        }
        ,
        nt.prototype.C = function() {
            nt.parent.prototype.C.call(this);
            var c = this;
            E.B.Lg(function() {
                var l = E.B.Na.fb;
                c.aj = l[n("8afe35f8fd5b3942e6")],
                c.dj = l[n("225e8b4052dfacd0494f")],
                c.ij = l[n("be28ec30b1a0e1a6823eeb2d")],
                c.lj = l[n("e770882e2f750e2a")],
                c.pj = l[n("e8da4557834f6ad693b5")],
                c.xa.Of(l[n("7aee45e80d592163ebf22ae1c7653a78f3")]),
                c.xa.Rf(c.aj),
                c.Ca.Of(l[n("be22ef24b6bbd2b4b43ee937be9afeafaf26")]),
                c.Ca.Rf(c.dj),
                c.Ea.Of(l[n("669044981908490e389e426813ed40c404755970")]),
                c.Ea.Rf(c.ij),
                c.Da.Of(l[n("64ddc7433e58d8d20dd3da7e0233d3ba")]),
                c.Da.Rf(c.lj)
            }),
            this.Dc(!1),
            E.u.Ih(function() {
                c.Dc(!1)
            })
        }
        ,
        nt.prototype.gb = function() {
            M.g(b.j.zb, 50),
            M.g(b.j.Ab, 50),
            M.g(b.j.Cb, 50),
            M.g(b.j.Db, 50),
            M.g(b.j.Eb, 50),
            M.g(b.j.Fb, 50),
            M.g(b.j.Gb, 50),
            M.A(b.j.Hb, 200),
            M.g(b.j.Kb, 50),
            M.g(b.j.Nb, 50)
        }
        ,
        nt.prototype.fa = function() {
            this.Le(this.bc ?? this.xa),
            this.Ua.vd(!0)
        }
        ,
        nt.prototype.ge = function() {
            this.Ua.vd(!1)
        }
        ,
        nt.prototype.qa = function() {
            this.Ua.qa()
        }
        ,
        nt.prototype.Ya = function() {
            this.Ua.Ya()
        }
        ,
        nt.prototype.Le = function(c) {
            for (this.bc = c,
            c = 0; c < this.Fd.length; c++)
                this.Fd[c].rd.removeClass(n("6ccddc5a0332d7a7"));
            this.bc.rd.addClass(n("dc5d6cca93c24757")),
            this.bc.eb()
        }
        ,
        nt.prototype.Mj = function() {
            return this.bc == null ? b.ad.Jg() : b.ad.Oi({
                T: this.bc.Kg(),
                ha: this.bc.ha
            })
        }
        ,
        nt.prototype.Ym = function() {
            var c = this.Mj();
            c.zf() && (c = c.ac(),
            this.vn(c.T, c.ha))
        }
        ,
        nt.prototype.vn = function(c, l) {
            var g, m, y, v, w, R, G = E.u.jf(c, l);
            G == null || (G = G.$e,
            E.m.Pd() < G) || (g = E.u.ta(b.o.X),
            m = E.u.ta(b.o.xa),
            y = E.u.ta(b.o.Ca),
            v = E.u.ta(b.o.Ea),
            w = E.u.ta(b.o.Da),
            R = this.Re(5e3),
            E.m.Wk(c, l, function() {
                R.dp(),
                E.h.K(E.h.qb)
            }, function() {
                E.m.Ph(function() {
                    E.u.ea(g, b.o.X),
                    E.u.ea(m, b.o.xa),
                    E.u.ea(y, b.o.Ca),
                    E.u.ea(v, b.o.Ea),
                    E.u.ea(w, b.o.Da),
                    E.u.ea(c, l),
                    R.dp()
                })
            }))
        }
        ,
        nt.prototype.Dc = function(c) {
            var l = E.u.Gh();
            if ((g = this.Mj()).zf()) {
                var g = g.ac()
                  , m = E.u.jf(g.T, g.ha)
                  , y = !1
                  , v = !1;
                switch (E.u.ub(g.T, g.ha) ? (lr.hide(),
                as.hide()) : m == null || m.bf ? (y = !0,
                lr.show(),
                as.hide(),
                vc.text(I.N(n("ea92c2998b079ee6936ed12b86e8c8fc8a25d16890faeee2767cb67028fba7fa617ea8"))),
                m != null && m.bf && (m = E.B.Na.fb[n("c2a7e1adb213e13abe")][m.Ik]) != null && vc.text(I.ve(m))) : (v = !0,
                lr.hide(),
                as.show(),
                Pl.html(m.$e)),
                (m = H[n("c789bc5f39851e5ba365b2363c76")](n("56c96f8c3b197d093a"))) && (m[n("6cd9cf4b1132d7b7")][n("9fb9c5")] = g.T,
                m[n("06f3a9ed6b68a969")][n("21e6da24c0")] = g.ha,
                y || v ? m[n("57fb2db3b7e9")][n("0116ea47f51a6641")] = n("8faefe6c76") : m[n("2240904c4ad2")][n("71869ad7858a16d1")] = n("20930e1c471e"),
                D["1ah"][g.ha] || (D["1ah"][g.ha] = []),
                D["1ah"][g.ha].includes(g.T) ? (m[n("babf19b5ca0cef3fb6b6eaa1")] = n("171a7ce7f43af8"),
                m[n("1ecc8cd05140a85c55c3")][n("f8a85e2f")](n("f9181e4112189a"))) : (m[n("c5c222003df9a412b9db21f4")] = n("e2b2c091"),
                m[n("0270a87475e484f0796f")][n("8fb2f46f7cb270")](n("99787ea17278fa")))),
                El.html("ID: " + g.T + " TYPE: " + g.ha),
                v = this.Ua,
                g.ha) {
                case b.o.xa:
                    v.Gc(l.pm(g.T)),
                    v.Do(y);
                    break;
                case b.o.Ca:
                    v.Gc(l.vm(g.T)),
                    v.Io(y);
                    break;
                case b.o.Ea:
                    v.Gc(l.Hm(g.T)),
                    v.Qo(y);
                    break;
                case b.o.Da:
                    v.Gc(l.Cm(g.T)),
                    v.Mo(y)
                }
                c && E.u.ea(g.T, g.ha)
            }
        }
        ,
        na.prototype.Of = function(c) {
            this.bb = c
        }
        ,
        na.prototype.Rf = function(c) {
            this.Bf = c
        }
        ,
        na.prototype.eb = function() {
            for (var c = E.u.ta(this.ha), l = 0; l < this.bb.length; l++)
                for (var g = 0; g < this.bb[l].length; g++)
                    if (this.bb[l][g] === c)
                        return this.bg(l),
                        void this.se(g);
            this.bg(0),
            this.se(0)
        }
        ,
        na.prototype.an = function() {
            var c = this.Ud - 1;
            c < 0 && (c = this.bb.length - 1),
            this.bg(c),
            this.se(this.ag % this.bb[c].length)
        }
        ,
        na.prototype.en = function() {
            var c = this.Ud + 1;
            c >= this.bb.length && (c = 0),
            this.bg(c),
            this.se(this.ag % this.bb[c].length)
        }
        ,
        na.prototype.bg = function(c) {
            var l = this;
            if (!(c < 0 || c >= this.bb.length)) {
                this.Ud = c,
                is.empty();
                var g = this.bb[this.Ud];
                if (1 < g.length)
                    for (c = 0; c < g.length; c++)
                        (m => {
                            var y = l.Bf[g[m]]
                              , y = n("59efe9bf") + l.ze.pj[y[n("46a77ab0273e")]];
                            (y = $('<div style="border-color:' + y + '"></div>')).click(function() {
                                l.se(m)
                            }),
                            is.append(y)
                        }
                        )(c)
            }
        }
        ,
        na.prototype.se = function(c) {
            c < 0 || c >= this.bb[this.Ud].length || (this.ag = c,
            is.children().css(n("b8eb9b68d76a8ce0b5ff663ea77a6af8ba"), n("9c99ac0ece029292d6908803")),
            (c = is.children(n("9361a6c7793c71a7f824f4e27b78") + (1 + c) + n("e973"))).css(n("aad90ddec558022ec7ad10e8d5281426c8"), c.css(n("2574c8aacd7f59f14e71c38fc3"))),
            this.ze.Dc(!0))
        }
        ,
        na.prototype.Kg = function() {
            return this.bb[this.Ud][this.ag]
        }
        ,
        ss = na,
        nt),
        b.tm = (Cl = $(n("7301475580418d021f5e1c19d2536e1cf051eb022a416c09")),
        Ol = $(n("bd8b0d4336dbb71ca1c4260f64d9a412bedb21f47cacbc")),
        (rs = I.ga(b.j, function() {
            b.j.call(this, I.N(n("ee16dee5977b9a6297eadda78a64cc788ea1adf46c66ea7669f9bbfc646fe2696ffd")), !1),
            Cl.click(function() {
                E.yd() ? (E.h.K(E.h.ra),
                E.sh(!1, !0),
                E.h.Oc.Pg(new b.uh)) : E.h.ie()
            }),
            Ol.click(function() {
                E.h.ie()
            })
        })).prototype.C = function() {
            rs.parent.prototype.C.call(this)
        }
        ,
        rs.prototype.gb = function() {
            M.g(b.j.zb, 50),
            M.g(b.j.Ab, 50),
            M.g(b.j.Cb, 50),
            M.g(b.j.Db, 50),
            M.g(b.j.Eb, 50),
            M.g(b.j.Fb, 50),
            M.g(b.j.Gb, 50),
            M.g(b.j.Hb, 50),
            M.A(b.j.Kb, 200),
            M.g(b.j.Nb, 50)
        }
        ,
        rs.prototype.fa = function() {}
        ,
        rs),
        b.Gm = (ht = $(n("c11771c72153ab9dbd5f669d2e5da075bf367e703c2bb27a")),
        ur = $(n("84f0f464ec3ca6bef8b8e33ef302bd96fa91fb1efd1a")),
        Il = $(n("3266c67652a294ac4e2ed12c5dac6fa42c27293b29")),
        (Ha = I.ga(b.j, function() {
            b.j.call(this, I.N(n("9800b48ff995f008c11c87ddd49a9602d857879ec288c01bd5ed9777d12b82e6da")), !1),
            ur.click(function() {
                E.m.v ? (E.m.Pl(),
                E.m.di()) : E.h.ie()
            }),
            Il.click(function() {
                E.h.ie()
            }),
            this.fg = []
        })).prototype.C = function() {
            Ha.parent.prototype.C.call(this)
        }
        ,
        Ha.prototype.gb = function() {
            M.g(b.j.zb, 50),
            M.g(b.j.Ab, 50),
            M.g(b.j.Cb, 50),
            M.g(b.j.Db, 50),
            M.g(b.j.Eb, 50),
            M.g(b.j.Fb, 50),
            M.g(b.j.Gb, 50),
            M.g(b.j.Hb, 50),
            M.g(b.j.Kb, 50),
            M.A(b.j.Nb, 200)
        }
        ,
        Ha.prototype.fa = function() {
            M.g(ur, 1),
            M.A(ht, 1),
            ht.text(n("5a4532486cdf11c14741145b48")),
            this.io(),
            this.dq(function() {
                ht.text(n("be61ae74f0e3bdf0f467a677"))
            }, 1e3),
            this.dq(function() {
                ht.text(n("bae552e88c7fb874f0e3aafb"))
            }, 2e3),
            this.dq(function() {
                ht.text(n("3d0091d5f30274d17706e9d6"))
            }, 3e3),
            this.dq(function() {
                ht.text(n("1d20b1f5932215f1172689f6"))
            }, 4e3),
            this.dq(function() {
                ht.text(n("2a15c2181c8fc5e40073da6b"))
            }, 5e3),
            this.dq(function() {
                ht.text(n("1e81ce941003d0101487c697"))
            }, 6e3),
            this.dq(function() {
                ht.text(n("6a5502585ccf032440b31aab"))
            }, 7e3),
            this.dq(function() {
                ht.text(n("cd9061a563f2e1a1e7f679a6"))
            }, 8e3),
            this.dq(function() {
                ht.text(n("1689f68c281bed082c9fce9f"))
            }, 9e3),
            this.dq(function() {
                M.A(ur, 300),
                M.g(ht, 1)
            }, 1e4)
        }
        ,
        Ha.prototype.dq = function(c, l) {
            c = I.ja(c, l),
            this.fg.push(c)
        }
        ,
        Ha.prototype.io = function() {
            for (var c = 0; c < this.fg.length; c++)
                I.lm(this.fg[c]);
            this.fg = []
        }
        ,
        Ha),
        b.de = (Pc.prototype.ld = function() {}
        ,
        Pc.prototype.fa = function() {}
        ,
        Pc),
        b.np = ((Q = I.ga(b.de, function(c) {
            b.de.call(this);
            var l = I.Rb() + n("41ed") + Math.floor(1e3 + 8999 * Math.random())
              , g = (this.Sc = $('<div id="'.concat(l, '" class="toaster toaster-coins"><img class="toaster-coins-img" alt="Wormate Coin" src="/images/coin_320.png" /><div class="toaster-coins-val">').concat(c, '</div><div class="toaster-coins-close">').concat(I.N(n("f3cd9b8212d0578d9ac198c00bdfe08177d177d8e4d7e78e62d2789b")), n("0ddbbc83b43055a07c70b2fbdc2f288f383cd9b4c86406e760"))),
            this);
            this.Sc.find(n("f9440f431c1d8b55735fe05bec1874156a16e44fe8")).click(function() {
                g.Ce()
            })
        })).prototype.ld = function() {
            return this.Sc
        }
        ,
        Q.prototype.fa = function() {}
        ,
        Q),
        b.ip = ((Q = I.ga(b.de, function(c) {
            b.de.call(this);
            var l = I.Rb() + n("adc1") + Math.floor(1e3 + 8999 * Math.random())
              , g = (this.Sc = $('<div id="'.concat(l, '" class="toaster toaster-levelup"><img class="toaster-levelup-img" alt="Wormate Level Up Star" src="/images/level-star.svg" /><div class="toaster-levelup-val">').concat(c, '</div><div class="toaster-levelup-text">').concat(I.N(n("13ad7b62f2b0b76d7aa17820ebbfc06157b15738cbbddf7f47a95d")), '</div><div class="toaster-levelup-close">').concat(I.N(n("124aba4173dff6ce7b46b9036ac081c25656961b45d886cd43559958")), n("63315615c22aaf3e026a486daa05c221561633029e5edc593e"))),
            this);
            this.Sc.find(n("f6a9cce69b78c8688ca2acf47476a86076baabf56568a9")).click(function() {
                g.Ce()
            })
        })).prototype.ld = function() {
            return this.Sc
        }
        ,
        Q.prototype.fa = function() {}
        ,
        Q),
        b.uh = ((Q = I.ga(b.de, function() {
            b.de.call(this);
            var c = this
              , l = I.Rb() + n("71bd") + Math.floor(1e3 + 8999 * Math.random());
            this.Sc = $('<div id="' + l + '" class="toaster toaster-consent-accepted">    <img class="toaster-consent-accepted-logo" src="' + w5 + '" alt="Wormate.io logo"/>    <div class="toaster-consent-accepted-container">        <span class="toaster-consent-accepted-text">' + I.N(n("31cbdd00d0de190f58c7de42c9c15e0335d7b15aa6d9290b2cd4bf52b9db37f4")).replaceAll(n("21b79164"), n("19afa97af3ec6c2004a1e1")).replaceAll("", n("1a0eef6e7cddc5836416d770")) + n("2216d7760385aeca5a5a82181dfa") + '        <a class="toaster-consent-accepted-link" href="/privacy-policy">' + I.N(n("257fc9bccc6205bb4c73cacec54d52974143c5c6da45559f5840cbdead5b2d9f")) + n("3ca84d4c6523c4f261a6c3") + n("b7cd8b1a1ede0d0b8dc0e40073d17675e2ca8f5e228a680d8a") + '    <div class="toaster-consent-close">' + I.N(n("653f897c8c22457b0c338a0e850d1257010385069a05155f18008b1e6833e057e00673")) + n("36e2cb8a1f79ba2957b925e207") + n("fdcb4cf3a4c045d06c80a28bcc")),
            this.Eh = this.Sc.find(n("1689acc67b58a8486c8283de4c40815b529a8bd5454889")),
            this.Eh.hide(),
            this.Eh.click(function() {
                E.yd() && E.sh(!0, !0),
                c.Ce()
            })
        })).prototype.ld = function() {
            return this.Sc
        }
        ,
        Q.prototype.fa = function() {
            var c = this;
            E.yd() && !E.Qf() ? I.ja(function() {
                c.Eh.fadeIn(300)
            }, 2e3) : I.ja(function() {
                c.Ce()
            }, 0)
        }
        ,
        Q),
        b.ro = (Gl = $(n("0236f62663e5baf67836ab7c7afaa7c06b0eb74a78c9bdca6e42b34333dd85c5504a")),
        (Q = I.ga(b.i, function() {
            b.i.call(this, b.cb.od),
            Gl.click(function() {
                E.h.Kc.el(),
                E.h.K(E.h.Kc),
                I.ja(function() {
                    var c = aa + n("79cfc9ea8d9b1d95b3b46bd1649af3d0ca926edf66dbbd86e16b7da3");
                    I.yc(c, function() {
                        E.h.K(E.h.qb)
                    }, function() {
                        E.h.Kc.up(),
                        E.B.Vh(function() {
                            E.h.K(E.h.ra)
                        }, function() {
                            E.h.K(E.h.qb)
                        }, function(l, g) {
                            E.h.Kc.pf(l, g)
                        })
                    })
                }, 2e3)
            })
        })).prototype.C = function() {}
        ,
        Q.prototype.eb = function() {
            M.A(b.i.ec, 500),
            M.A(b.i.ic, 1),
            M.g(b.i.jc, 50),
            M.g(b.i.lc, 50),
            M.g(b.i.nc, 50),
            M.g(b.i.Jb, 50),
            M.g(b.i.qc, 50),
            M.g(b.i.Yb, 50),
            M.g(b.i.sc, 50),
            M.g(b.i.tc, 50),
            M.g(b.i.uc, 50),
            M.A(b.i.vc, 500),
            M.g(b.i.wc, 50)
        }
        ,
        Q.prototype.fa = function() {}
        ,
        Q),
        b.Bo = (Bl = $(n("b420c4b4ddfb8864ce2099eeadf42f70ab7b68f2abed6374a2307cfaa4d36b")),
        (Q = I.ga(b.i, function() {
            b.i.call(this, b.cb.od),
            Bl.click(function() {
                E.h.K(E.h.ra)
            })
        })).prototype.C = function() {}
        ,
        Q.prototype.eb = function() {
            M.A(b.i.ec, 500),
            M.A(b.i.ic, 1),
            M.g(b.i.jc, 50),
            M.g(b.i.lc, 50),
            M.g(b.i.nc, 50),
            M.g(b.i.Jb, 50),
            M.g(b.i.qc, 50),
            M.g(b.i.Yb, 50),
            M.g(b.i.sc, 50),
            M.g(b.i.tc, 50),
            M.g(b.i.uc, 50),
            M.g(b.i.vc, 50),
            M.A(b.i.wc, 500)
        }
        ,
        Q.prototype.fa = function() {}
        ,
        Q),
        I.Oo = function() {
            return (c = {
                yk: !1
            }).Bk = I.Rb(),
            c.he = 0,
            c.Xh = 0,
            c.ke = null,
            c.rq = Uh,
            c.sq = tr,
            c.l = null,
            c.B = null,
            c.Se = null,
            c.Dk = null,
            c.h = null,
            c.u = null,
            c.m = null,
            c.C = async function() {
                c.l = new b.pp,
                c.l.mf = new b.Op(c.l),
                c.B = new b.La,
                await c.B.ua(),
                c.Se = new b.Gl,
                await c.Se.ua(),
                c.Dk = new b.Lm,
                c.h = new b.Sl,
                await c.h.ua(),
                c.u = new b.An,
                c.m = new b.Mp,
                c.l.cl = function() {
                    c.h.K(c.h.nk)
                }
                ,
                c.l.fl = function() {
                    c.h.ra.Mi(),
                    c.h.K(c.h.D.af())
                }
                ,
                c.l.jl = function() {
                    var l, g;
                    $(n("8d1c602468"))[n("c0f9677aa37d72")](),
                    c.B.Vh(null, null, null),
                    l = Math.floor(c.l.V.Ub),
                    g = c.l.Bg,
                    c.m.v ? c.m.Ph(function() {
                        c.ol(l, g)
                    }) : c.ol(l, g)
                }
                ,
                c.l.rl = function(l) {
                    l(c.h.D.zc, c.h.D.Pb)
                }
                ,
                c.m.uk(function() {
                    var l = c.h.Ip();
                    l != null && l.ha === b.cb.ff && c.h.K(c.h.ra),
                    c.m.v && c.m.Wg(),
                    c.yd() && c.m.v && !c.m.Qf() ? (c.sh(!1, !1),
                    c.h.Oc.Pg(new b.uh)) : c.ti(!0)
                }),
                c.l.C(),
                c.h.C(),
                c.u.C(),
                c.B.C(),
                c.h.ra.Ul(),
                c.h.K(c.h.ra),
                c.Se.C(function() {
                    c.Dk.C(),
                    c.m.C(),
                    c.B.Vh(function() {
                        c.h.ra.Fi(),
                        c.h.K(c.h.ra)
                    }, function() {
                        c.h.ra.Fi(),
                        c.h.K(c.h.qb)
                    }, function(l, g) {
                        c.h.Kc.pf(l, g),
                        c.h.ra.pf(l, g)
                    }),
                    c.yd() && !c.Qf() ? c.h.Oc.Pg(new b.uh) : c.ti(!0)
                })
            }
            ,
            c.Jl = function(l) {
                var g;
                c.m.v && (g = c.m.$c,
                l = aa + n("56c22aaf2a1e7e486ca957840b17014720") + g + n("ce7aa227b18cfa96b309ec4ce8adff85bf01c714") + n("3bc90e68c991ad4726d17672") + encodeURIComponent(l),
                I.yc(l, function() {}, function() {}))
            }
            ,
            c.mi = function() {
                c.Ji()
            }
            ,
            c.Ji = function(l, g) {
                var m, y, v;
                ga(1),
                C.Lb && (C.Lb.d = performance.now()),
                ma.Ni(),
                c.l.Zl() && (c.h.Kc.el(),
                c.h.K(c.h.Kc),
                m = c.h.ra.Mi(),
                b.J.Bb(b.J.nj, m),
                y = c.h.Ef.cj(),
                b.J.Bb(b.J.Zi, y),
                y = 0,
                c.ke != null && (y = c.ke[n("653588779b3e18")][n("18853b1f75192b8b45")],
                v = c.ke[n("9fb3ce7d51b056")][n("819e6cda629ff3cded9f")],
                y = Math.max(0, Math.min(32767, (y + 90) / 180 * 32768)) << 1 | 1 | Math.max(0, Math.min(65535, (v + 180) / 360 * 65536)) << 16),
                c.m.v ? (C.lg = g,
                c.fm(m, y, l)) : (l = c.h.ra.Kd(),
                b.J.Bb(b.J.rj, l),
                b.J.Bb(b.J.uj, c.u.ta(b.o.X)),
                c.km(m, y)))
            }
            ,
            ji = function(l, g) {
                c.Ji(l, g)
            }
            ,
            c.fm = function(l, g, m=null) {
                var y = c.m.$c
                  , j = c.h.ra.Kd()
                  , v = (C.Aj = j,
                c.u.ta(b.o.X))
                  , w = c.u.ta(b.o.xa)
                  , R = c.u.ta(b.o.Ca)
                  , G = c.u.ta(b.o.Ea)
                  , U = c.u.ta(b.o.Da)
                  , j = j.substring(0, 24);
                j = (j = (j = (j = (j = (j = (j += "\uFFFF") + String.fromCharCode(v)) + String.fromCharCode(U)) + String.fromCharCode(w)) + String.fromCharCode(R)) + String.fromCharCode(G)) + String.fromCharCode(D["1y"]),
                C.Si(0),
                C.Qi(0),
                l = aa + n("afc583644391570385aece5f5288181cf9") + y + n("1d2bad96d26642a651") + n("1523a48efe6b76a95061fbb5842167") + encodeURIComponent(l) + n("0ddbbdf6f66a36f751") + g + n("681c988d02d4cd541e20dfa651f6f2") + encodeURIComponent(j) + n("d642aa5fa980f583970b8542a6") + encodeURIComponent(v) + n("350385dedc535e9f744a9ac385") + encodeURIComponent(w) + n("4034b0a529faf3632050eebe7fd9") + encodeURIComponent(R) + n("08fc786d6b312fac6384212a704065a3") + encodeURIComponent(G) + n("71c7c1929d8703e11dcfc8e8") + encodeURIComponent(U),
                I.yc(l, function() {
                    c.h.K(c.h.qb)
                }, function(Y) {
                    Y[n("c1512c9020")] === 1460 ? c.h.K(c.h.Hg) : Y[n("59a9b4e8b8")] !== 1200 ? c.h.K(c.h.qb) : (C.ci = !0,
                    C.uf = m || Y[n("06e4adeb7c7ebe427bedbc")],
                    c.l.qm(C.uf, y))
                })
            }
            ,
            c.km = function(l, g) {
                var m = c.h.ra.Kd()
                  , y = c.u.ta(b.o.X);
                l = aa + n("a29656f3d6420a1c98fd1bc8c75b5573f4") + n("e93d1e791e2a") + n("e6529a3f998fcd8f9a") + n("e2d697b38116c51ca794c898cb4cf4") + encodeURIComponent(l) + n("44b0b4212f71afa808") + g + n("08fc786d62342db47e803f06315612") + encodeURIComponent(m) + n("706480f507aedf29312d9ff838") + encodeURIComponent(y),
                I.yc(l, function() {
                    c.h.K(c.h.qb)
                }, function(v) {
                    v[n("8674277def")] === 1460 ? c.h.K(c.h.Hg) : v[n("67fb06be8e")] !== 1200 ? c.h.K(c.h.qb) : (v = v[n("1a58b95f68ca92ee574188")],
                    c.l.wm(v, m, y))
                })
            }
            ,
            c.ol = function(l, g) {
                var m = c.h.ra.Kd();
                c.h.D.Yo(l, g, m),
                c.h.K(c.h.D.Th())
            }
            ,
            c.Il = function() {
                var l;
                return c.Ig() && (l = parseInt(b.J.hc(b.J.uj))) != null && c.u.ub(l, b.o.X) ? l : c.u.Ak()
            }
            ,
            c.dm = function() {
                b.J.Bb(b.J.Cj, n("e44154c28d"))
            }
            ,
            c.Ig = function() {
                return b.J.hc(b.J.Cj) === n("6e8b427417")
            }
            ,
            c.ti = function(l) {
                l !== c.yk && (c.yk = l,
                n("851568567a1fe548e81a"),
                n("3d49db80b3712c9a3653a98c"))
            }
            ,
            c.sh = function(l, g) {
                b.J.Bb(b.J.Wi, n(l ? "5b782f3bba" : "6fc6108e80c1")),
                g && c.Jl(l),
                c.ti(l)
            }
            ,
            c.Qf = function() {
                return b.J.hc(b.J.Wi) === n("34f104725d")
            }
            ,
            c.yd = function() {
                try {
                    return !!b.kc[n("b0e8814ae44c98c2fdc8")] || c.ke != null && !!E5.sn(c.ke[n("95e578276beee8")][n("ab30ccea461444c6d6")], c.ke[n("5525b867ab2e28")][n("0ef3bfcf754aa05072c2")])
                } catch {
                    return !0
                }
            }
            ,
            c.Ya = function() {
                c.he = I.Rb(),
                c.Xh = c.he - c.Bk,
                c.l.Qe(c.he, c.Xh),
                c.h.Qe(c.he, c.Xh),
                c.Bk = c.he
            }
            ,
            c.qa = function() {
                c.h.qa()
            }
            ,
            c;
            var c
        }
        ,
        b.pp = function() {
            n("f8bc492ed97f0ebc74a32b3070");
            var c = {
                Tm: 30,
                gd: new Float32Array(100),
                xj: 0,
                Ie: 0,
                Me: 0,
                jd: 0,
                Nd: 0,
                rn: 0,
                Ka: 0,
                Ba: null,
                Pj: 300,
                yj: 0,
                fl: function() {},
                jl: function() {},
                rl: function() {},
                cl: function() {},
                I: new b.ee,
                mf: null,
                V: null,
                Yc: {},
                vb: {},
                Hk: 12.5,
                Ld: 40,
                Pe: 1,
                Sj: -1,
                Tj: 1,
                wi: 1,
                Zj: -1,
                bk: -1,
                dk: 1,
                ik: 1,
                lk: -1,
                Bg: 500,
                wk: 500
            };
            return c.I.Tb = 500,
            c.V = new b.$f(c.I),
            c.C = function() {
                c.V.hk(E.h.D.F),
                setInterval(function() {
                    var l;
                    D["1y"] != 0 && C.Ha && C.Ha.readyState === WebSocket.OPEN && 1e3 < (l = performance.now()) - C.tj && (C.tj = l,
                    C.Ha.send(La(JSON.stringify({
                        [n("92c2")]: 1,
                        [n("bf92")]: c.V.Y[0],
                        [n("67fb")]: c.V.Y[1],
                        [n("46b3")]: c.V.I.Tb
                    })))),
                    c.rl(function(g, m) {
                        c.zo(g, m)
                    })
                }, 10)
            }
            ,
            c.pn = function(l, g, m, y) {
                c.Sj = l,
                c.Tj = g,
                c.wi = m,
                c.Zj = y,
                c.qk()
            }
            ,
            c.Jo = function(l) {
                c.Pe = l,
                c.qk()
            }
            ,
            c.qk = function() {
                c.bk = c.Sj - c.Pe,
                c.dk = c.Tj + c.Pe,
                c.ik = c.wi - c.Pe,
                c.lk = c.Zj + c.Pe
            }
            ,
            c.Qe = function(l, g) {
                c.Me += g,
                c.Ie -= .2 * c.xj * g,
                c.mf.Ol(),
                c.Ba == null || c.Ka !== 2 && c.Ka !== 3 || (c.Po(l, g),
                c.Ld = 4 + c.Hk * c.V.xb),
                l = 1e3 / Math.max(1, g);
                for (var m = g = 0; m < c.gd.length - 1; m++)
                    g += c.gd[m],
                    c.gd[m] = c.gd[m + 1];
                c.gd[c.gd.length - 1] = l,
                c.Tm = (g + l) / c.gd.length
            }
            ,
            c.sg = function(l, g) {
                return c.bk < l && l < c.dk && c.ik < g && g < c.lk
            }
            ,
            c.Po = function(l, g) {
                var m, y, v = (c.Me + c.Ie - c.jd) / (c.Nd - c.jd), w = (c.V.Pf(l, g),
                c.V.Uf(l, g, v, c.sg),
                0);
                for (m in c.vb) {
                    var R = c.vb[m];
                    R.Pf(l, g),
                    R.Uf(l, g, v, c.sg),
                    R.rb && R.xb > w && (w = R.xb),
                    R.pd || !(R.Wa < .005) && R.rb || (R.Te(),
                    delete c.vb[R.S.T])
                }
                for (y in c.Jo(3 * w),
                c.Yc)
                    v = c.Yc[y],
                    v.Pf(l, g),
                    v.Uf(l, g, c.sg),
                    v.ki && (v.Wa < .005 || !c.sg(v.Og, v.Qg)) && (v.Te(),
                    delete c.Yc[v.S.T])
            }
            ,
            c.zn = function(l, g) {
                c.Ka === 1 && (c.Ka = 2,
                c.fl());
                var m = E.he;
                (c.rn = l) === 0 ? (c.jd = m - 95,
                c.Nd = m,
                c.Me = c.jd,
                c.Ie = 0) : (c.jd = c.Nd,
                c.Nd += g),
                c.xj = (c.Me + c.Ie - c.jd) / (c.Nd - c.jd)
            }
            ,
            c.Tp = function() {
                var l;
                c.Ka !== 1 && c.Ka !== 2 || (c.Ka = 3,
                l = c.Ba,
                I.ja(function() {
                    c.Ka === 3 && (c.Ka = 0),
                    l != null && l === c.Ba && (c.Ba[n("899967d37e9b")](),
                    c.Ba = null)
                }, 5e3),
                c.jl())
            }
            ,
            c.Zl = function() {
                return c.Ka = 1,
                c.mf.Bi(),
                c.Yc = {},
                c.vb = {},
                c.V.Ci(),
                c.Ba != null && (c.Ba[n("adfd430f42c7")](),
                c.Ba = null),
                !0
            }
            ,
            c.Nh = function() {
                c.Ba = null,
                c.mf.Bi(),
                c.Ka !== 3 && c.cl(),
                c.Ka = 0
            }
            ,
            c.qm = function(l, g) {
                c.Ck(l, function() {
                    var m = Math.min(2048, g.length)
                      , y = new b.ni(6 + 2 * m)
                      , v = new b.Qh(new b.Cg(y));
                    v.Yd(129),
                    v.Zd(2800),
                    v.Yd(1),
                    v.Zd(m);
                    for (var w = 0; w < m; w++)
                        v.Zd(g.charCodeAt(w));
                    c.Uh(y)
                })
            }
            ,
            c.wm = function(l, g, m) {
                c.Ck(l, function() {
                    var y = Math.min(32, g.length)
                      , v = new b.ni(7 + 2 * y)
                      , w = new b.Qh(new b.Cg(v));
                    w.Yd(129),
                    w.Zd(2800),
                    w.Yd(0),
                    w.Zd(m),
                    w.Yd(y);
                    for (var R = 0; R < y; R++)
                        w.Zd(g.charCodeAt(R));
                    c.Uh(v)
                })
            }
            ,
            c.Uh = function(l) {
                try {
                    c.Ba != null && c.Ba.readyState === WebSocket.OPEN && c.Ba.send(l)
                } catch {
                    c.Nh()
                }
            }
            ,
            c.zo = function(l, g) {
                l = 255 & ((g ? 128 : 0) | I.no(l) / 6.283185307179586 * 128 & 127),
                g = performance.now(),
                (c.Pj !== l || 1e3 < g - c.yj) && (c.yj = g,
                g = new b.ni(1),
                new b.Qh(new b.Cg(g)).Yd(l),
                c.Uh(g),
                c.Pj = l)
            }
            ,
            c.Ck = function(l, g) {
                C.Ha = new WebSocket(C.Cn + La(JSON.stringify({
                    [n("77c9")]: l,
                    [n("d76a")]: C.Ec,
                    [n("a171")]: C.Aj,
                    [n("f267")]: D["1y"],
                    [n("2256")]: 2,
                    [n("46b1")]: D["1ae"]
                }))),
                C.Ha[n("5846f4c42cc8f0")] = function() {
                    this.lh = setInterval( () => {
                        this.send(n("84e5"))
                    }
                    , 1e4)
                }
                ,
                C.Ha[n("34ea1864546609ee")] = function() {
                    this.lh && (clearInterval(this.lh),
                    this.lh = 0),
                    this === C.Ha && (C.Ha = null)
                }
                ,
                C.Ha[n("c15d2d992045b499ae5f")] = function(v) {
                    try {
                        var w = JSON.parse(n(v.data));
                        if (w[n("4ebe")] === 0 && (ni.Gf(w[n("5ff2")]),
                        oi.Gf(w[n("ff53")])),
                        w[n("7b4d")] === 1) {
                            let Kt = w.b;
                            Kt == 3333 && 0 < C.Sd.length && (Kt = C.Sd[Math.floor(Math.random() * C.Sd.length)]),
                            C.Sd.includes(Kt) && E.l.V.Ga.qj(Kt)
                        }
                        if (w[n("8193")] === 2 && ke.kd(),
                        w[n("1567")] === 3) {
                            var R = w[n("5d2d")];
                            if (R) {
                                C.jj = R;
                                var G = w[n("ebfe")];
                                if (G) {
                                    try {
                                        delete G[C.jj]
                                    } catch {}
                                    for (var U in C.z) {
                                        var j, Y, N, W, z = G[U], ue = C.z[U];
                                        z ? (j = z[n("5365")],
                                        Y = z[n("0437")],
                                        N = z[n("2250")],
                                        (W = z[n("84b0")]) != ue.fd && (D["1af"] && W && (ar.pause(),
                                        ar.play()),
                                        ue.fd = W),
                                        ue.position.x = j / N * E.h.D.F.O.pa,
                                        ue.position.y = Y / N * E.h.D.F.O.pa) : (E.h.D.F.O.removeChild(ue),
                                        delete C.z[U])
                                    }
                                    for (var oe in G) {
                                        var Re, Lt, ot, me, fe, Me = G[oe];
                                        C.z[oe] || (Re = Me[n("5b6d")],
                                        Lt = Me[n("7988")],
                                        ot = Me[n("39c9")],
                                        me = Me[n("edbb")],
                                        C.z[oe] = new Ve,
                                        (fe = C.z[oe])[n("ab26e4f04b0549")] = 1,
                                        fe[n("3b8d515ed791")] = .9,
                                        fe.clear(),
                                        fe.circle(0, 0, .06 * E.h.D.F.O.pa),
                                        fe.stroke({
                                            width: 2,
                                            color: 0
                                        }),
                                        fe.fill(Me[n("e5b2")]),
                                        fe.ap = Me[n("ab38")],
                                        fe.fd = me,
                                        fe.position.x = Re / ot * E.h.D.F.O.pa,
                                        fe.position.y = Lt / ot * E.h.D.F.O.pa,
                                        E.h.D.F.O.addChild(fe))
                                    }
                                }
                            }
                        }
                        w[n("b626")] === 4 && (w[n("4ebd")] === 0 ? ma.Ni() : ma.Pm(w[n("d76a")], w[n("ab3f")], w[n("ef44")])),
                        w[n("5e8e")] === 5 && (Wt.text = w[n("4fe2")],
                        Wt.visible = 1,
                        Wt.Kj && clearTimeout(Wt.Kj),
                        Wt.Kj = setTimeout( () => {
                            Wt.visible = 0
                        }
                        , 6e4))
                    } catch {}
                }
                ;
                var m = c.Ba = new WebSocket(l);
                let y = C.Ha;
                m[n("e0d34b5d85475fe391c94f")] = n("54c4e4553950f8de3acbfb5d"),
                m[n("e29cca9a9612c6")] = function() {
                    for (var v in C.cg = !0,
                    C.z)
                        E.h.D.F.O.removeChild(C.z[v]),
                        delete C.z[v];
                    c.Ba === m && g()
                }
                ,
                m[n("6698469a06145f18")] = function() {
                    new Date > C.Fj && location.reload(),
                    C.cg = !1,
                    y && y.close(),
                    c.Ba === m && c.Nh()
                }
                ,
                m[n("9648364ce8d933df")] = function() {
                    C.cg = !1,
                    c.Ba === m && c.Nh()
                }
                ,
                m[n("ee10deec9770c76491e2")] = function(v) {
                    c.Ba === m && c.mf.El(v.data)
                }
            }
            ,
            c
        }
        ,
        window.addEventListener(n("81916cda7193ffcce49f65c9"), function(c) {
            return c.preventDefault(),
            c.stopPropagation(),
            !1
        }),
        I.ej(n("5fb55394c6a6a3b717f11af48cf382b903c55f819cc9d0d431c20acfc9ea9c9e1695b2b360d86c93e9cca79078"), null, function() {
            window.gapi[n("2f0c5ec3d7")](n("33854052dfda"), function() {
                var c = window.gapi[n("c315b0c22f4a")]
                  , l = c[n("f8a0542288")]
                  , g = {};
                g[n("899967d56890fb9ff866")] = n("2e86c5f80671c1740ff5c9fa02668d274ffd33bd7b36343a2eef64be2e69653e20bd7c933005760937952c88680d320c2e9f53df051c4b120a925d8a0f094f12008b556f06ad57ea1b"),
                vt = l.call(c, g)
            })
        }),
        I.ej(n("a4d0d4318d4bac9adc949d51d7ee9d64d860d8e4d7e4df39fa678daaf2d7727fa56160f8baf42471bf")),
        await (E = I.Oo()).C(),
        function c() {
            requestAnimationFrame(c),
            E.Ya()
        }(),
        Ec = $(n("cddc20e428")),
        Pa = $(n("1682ea9a695fae486acc889c405c9c")),
        Fl = $(n("b420c4b4d5e88860c97dd3e7a5f06676b6")),
        Dl = $(n("21b79167c8f755335cea863ac2f15b0543")),
        Ul(),
        $(b.kc)[n("719096d79c9c12")](Ul)
    });
}
)();
